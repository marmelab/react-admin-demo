{"version":3,"sources":["../../../packages/ra-core/esm/actions/listActions.js","../../../packages/ra-core/esm/actions/clearActions.js","../../../packages/ra-core/esm/dataProvider/useQueryWithStore.js","../../../packages/ra-core/esm/dataProvider/defaultDataProvider.js","../../../packages/ra-core/esm/auth/useLogoutIfAccessDenied.js","../../../packages/ra-core/esm/dataProvider/useDataProvider.js","../../../packages/ra-core/esm/dataProvider/getFetchType.js","../../../packages/ra-core/esm/reducer/admin/references/oneToMany.js","../../../packages/ra-core/esm/auth/useLogout.js","../../../packages/ra-core/esm/util/resolveRedirectTo.js","../../../packages/ra-language-english/index.js","../../../packages/ra-core/esm/util/linkToRecord.js","../../../packages/ra-core/esm/util/warning.js","../../../packages/ra-core/esm/actions/dataActions/crudGetManyReference.js","../../../packages/ra-core/esm/dataProvider/DataProviderContext.js","../../../packages/ra-core/esm/dataProvider/undoableEventEmitter.js","../../../packages/ra-core/esm/core/dataFetchActions.js","../../../packages/ra-core/esm/actions/fetchActions.js","../../../packages/ra-core/esm/sideEffect/useNotify.js","../../../packages/ra-core/esm/auth/AuthContext.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMany.js","../../../packages/ra-core/esm/actions/notificationActions.js","../../../packages/ra-core/esm/auth/useAuthProvider.js","../../../packages/ra-core/esm/util/hooks.js","../../../packages/ra-core/esm/actions/uiActions.js","../../../packages/ra-core/esm/reducer/admin/resource/list/ids.js","../../../packages/ra-core/esm/util/getFetchedAt.js","../../../packages/ra-core/esm/reducer/admin/resource/data.js","../../../packages/ra-core/esm/actions/dataActions/crudGetList.js","../../../packages/ra-core/esm/actions/dataActions/crudGetOne.js","../../../packages/ra-core/esm/actions/dataActions/crudCreate.js","../../../packages/ra-core/esm/reducer/admin/resource/list/loadedOnce.js","../../../packages/ra-core/esm/reducer/admin/resource/list/params.js","../../../packages/ra-core/esm/actions/dataActions/crudDelete.js","../../../packages/ra-core/esm/reducer/admin/resource/list/selectedIds.js","../../../packages/ra-core/esm/reducer/admin/resource/list/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/index.js","../../../packages/ra-core/esm/reducer/admin/resource/index.js","../../../packages/ra-core/esm/reducer/admin/loading.js","../../../packages/ra-core/esm/reducer/admin/notifications.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMatching.js","../../../packages/ra-core/esm/reducer/admin/references/possibleValues.js","../../../packages/ra-core/esm/reducer/admin/references/index.js","../../../packages/ra-core/esm/reducer/admin/ui.js","../../../packages/ra-core/esm/reducer/admin/customQueries.js","../../../packages/ra-core/esm/reducer/admin/index.js","../../../packages/ra-core/esm/actions/resourcesActions.js","../../../packages/ra-core/esm/reducer/index.js","../../../packages/ra-core/esm/sideEffect/auth.js","../../../packages/ra-core/esm/actions/authActions.js","../../../packages/ra-core/esm/sideEffect/callback.js","../../../packages/ra-core/esm/sideEffect/fetch.js","../../../packages/ra-core/esm/sideEffect/notification.js","../../../packages/ra-core/esm/sideEffect/redirection.js","../../../packages/ra-core/esm/sideEffect/accumulate.js","../../../packages/ra-core/esm/sideEffect/refresh.js","../../../packages/ra-core/esm/sideEffect/undo.js","../../../packages/ra-core/esm/sideEffect/admin.js","../../../packages/ra-core/esm/core/createAdminStore.js","../../../packages/ra-core/esm/i18n/TranslationContext.js","../../../packages/ra-core/esm/i18n/TranslationProvider.js","../../../packages/ra-core/esm/core/CoreAdminContext.js","../../../packages/ra-core/esm/auth/convertLegacyAuthProvider.js","../../../packages/ra-core/esm/auth/types.js","../../../packages/ra-i18n-polyglot/esm/index.js","../../../packages/react-admin/esm/defaultI18nProvider.js","../../../packages/react-admin/esm/AdminContext.js","../../../packages/ra-core/esm/auth/useCheckAuth.js","../../../packages/ra-core/esm/auth/useAuthenticated.js","../../../packages/ra-core/esm/auth/useGetPermissions.js","../../../packages/ra-core/esm/auth/usePermissions.js","../../../packages/ra-core/esm/auth/WithPermissions.js","../../../packages/ra-core/esm/core/RoutesWithLayout.js","../../../packages/ra-core/esm/auth/useAuthState.js","../../../packages/ra-core/esm/core/CoreAdminRouter.js","../../../packages/ra-core/esm/core/CoreAdminUI.js","../../../packages/ra-core/esm/i18n/useTranslate.js","../../../packages/ra-ui-materialui/esm/button/RefreshIconButton.js","../../../packages/ra-ui-materialui/esm/layout/LoadingIndicator.js","../../../packages/ra-ui-materialui/esm/layout/UserMenu.js","../../../packages/ra-ui-materialui/esm/layout/HideOnScroll.js","../../../packages/ra-ui-materialui/esm/layout/AppBar.js","../../../packages/ra-ui-materialui/esm/layout/Sidebar.js","../../../packages/ra-ui-materialui/esm/layout/MenuItemLink.js","../../../packages/ra-ui-materialui/esm/layout/DashboardMenuItem.js","../../../packages/ra-ui-materialui/esm/layout/Menu.js","../../../packages/ra-ui-materialui/esm/layout/Notification.js","../../../packages/ra-ui-materialui/esm/layout/Title.js","../../../packages/ra-ui-materialui/esm/layout/Error.js","../../../packages/ra-ui-materialui/esm/defaultTheme.js","../../../packages/ra-core/esm/util/ComponentPropType.js","../../../packages/ra-ui-materialui/esm/layout/Layout.js","../../../packages/ra-core/esm/auth/Authenticated.js","../../../packages/ra-ui-materialui/esm/layout/NotFound.js","../../../packages/ra-ui-materialui/esm/layout/Loading.js","../../../packages/ra-core/esm/auth/useLogin.js","../../../packages/ra-ui-materialui/esm/auth/LoginForm.js","../../../packages/ra-ui-materialui/esm/auth/Login.js","../../../packages/ra-ui-materialui/esm/auth/Logout.js","../../../packages/react-admin/esm/AdminUI.js","../../../packages/react-admin/esm/Admin.js","../../../packages/ra-core/esm/core/Resource.js","authProvider.ts","configuration/actions.ts","themeReducer.js","layout/Logo.tsx","layout/AppBar.tsx","../../../packages/ra-core/esm/controller/checkMinimumRequiredProps.js","../../../packages/ra-core/esm/reducer/admin/resource/list/queryReducer.js","../../../packages/ra-core/esm/util/removeEmpty.js","../../../packages/ra-core/esm/util/removeKey.js","../../../packages/ra-core/esm/controller/useListParams.js","../../../packages/ra-core/esm/controller/useRecordSelection.js","../../../packages/ra-core/esm/controller/useVersion.js","../../../packages/ra-core/esm/controller/useListController.js","../../../packages/ra-ui-materialui/esm/list/FilterFormInput.js","../../../packages/ra-ui-materialui/esm/list/FilterForm.js","../../../packages/ra-core/esm/util/FieldTitle.js","../../../packages/ra-core/esm/util/getFieldLabelTranslationArgs.js","../../../packages/ra-ui-materialui/esm/list/FilterButtonMenuItem.js","../../../packages/ra-ui-materialui/esm/button/Button.js","../../../packages/ra-ui-materialui/esm/list/FilterButton.js","../../../packages/ra-ui-materialui/esm/list/Filter.js","../../../packages/ra-core/esm/form/validate.js","../../../packages/ra-core/esm/form/isRequired.js","../../../packages/ra-core/esm/form/useInput.js","../../../packages/ra-ui-materialui/esm/input/ResettableTextField.js","../../../packages/ra-core/esm/form/ValidationError.js","../../../packages/ra-ui-materialui/esm/input/InputHelperText.js","../../../packages/ra-ui-materialui/esm/input/sanitizeRestProps.js","../../../packages/ra-ui-materialui/esm/input/TextInput.js","../../../packages/ra-ui-materialui/esm/input/SearchInput.js","../../../packages/ra-ui-materialui/esm/input/DateInput.js","../../../packages/ra-ui-materialui/esm/input/NullableBooleanInput.js","../../../packages/ra-core/esm/export/defaultExporter.js","../../../packages/ra-core/esm/export/downloadCSV.js","../../../packages/ra-core/esm/export/ExporterContext.js","../../../packages/ra-ui-materialui/esm/list/ListToolbar.js","../../../packages/ra-ui-materialui/esm/list/PaginationActions.js","../../../packages/ra-ui-materialui/esm/list/PaginationLimit.js","../../../packages/ra-ui-materialui/esm/list/Pagination.js","../../../packages/ra-core/esm/actions/dataActions/crudDeleteMany.js","../../../packages/ra-ui-materialui/esm/layout/Confirm.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteButton.js","../../../packages/ra-ui-materialui/esm/layout/TopToolbar.js","../../../packages/ra-ui-materialui/esm/list/BulkActionsToolbar.js","../../../packages/ra-ui-materialui/esm/button/CreateButton.js","../../../packages/ra-core/esm/export/fetchRelatedRecords.js","../../../packages/ra-ui-materialui/esm/button/ExportButton.js","../../../packages/ra-ui-materialui/esm/list/ListActions.js","../../../packages/ra-ui-materialui/esm/list/List.js","../../../packages/ra-ui-materialui/esm/list/DatagridHeaderCell.js","../../../packages/ra-ui-materialui/esm/list/DatagridLoading.js","../../../packages/ra-ui-materialui/esm/list/DatagridCell.js","../../../packages/ra-ui-materialui/esm/list/ExpandRowButton.js","../../../packages/ra-ui-materialui/esm/list/DatagridRow.js","../../../packages/ra-ui-materialui/esm/list/DatagridBody.js","../../../packages/ra-ui-materialui/esm/list/Datagrid.js","../../../packages/ra-ui-materialui/esm/field/sanitizeRestProps.js","../../../packages/ra-ui-materialui/esm/field/types.js","../../../packages/ra-ui-materialui/esm/field/DateField.js","../../../packages/ra-ui-materialui/esm/field/NumberField.js","../../../packages/ra-ui-materialui/esm/field/BooleanField.js","segments/data.js","visitors/SegmentsField.tsx","../../../packages/ra-core/esm/form/useChoices.js","../../../packages/ra-ui-materialui/esm/input/SelectInput.js","visitors/SegmentInput.tsx","../../../packages/ra-ui-materialui/esm/Link.js","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","../../../packages/ra-ui-materialui/esm/button/EditButton.js","visitors/MobileGrid.tsx","visitors/VisitorList.tsx","../../../packages/ra-core/esm/controller/useCreateController.js","../../../packages/ra-ui-materialui/esm/layout/TitleForRecord.js","../../../packages/ra-ui-materialui/esm/detail/Create.js","../../../packages/ra-core/esm/form/useInitializeFormWithRecord.js","../../../packages/ra-core/esm/form/sanitizeEmptyValues.js","../../../packages/ra-core/esm/form/getFormInitialValues.js","../../../packages/ra-core/esm/form/FormWithRedirect.js","../../../packages/ra-ui-materialui/esm/input/Labeled.js","../../../packages/ra-ui-materialui/esm/form/FormInput.js","../../../packages/ra-ui-materialui/esm/button/SaveButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteButton.js","../../../packages/ra-ui-materialui/esm/form/Toolbar.js","../../../packages/ra-ui-materialui/esm/layout/CardContentInner.js","../../../packages/ra-ui-materialui/esm/form/SimpleForm.js","../../../packages/ra-ui-materialui/esm/input/PasswordInput.js","visitors/VisitorCreate.tsx","../../../packages/ra-core/esm/actions/dataActions/crudUpdate.js","../../../packages/ra-core/esm/controller/useEditController.js","../../../packages/ra-ui-materialui/esm/button/ShowButton.js","../../../packages/ra-ui-materialui/esm/detail/EditActions.js","../../../packages/ra-ui-materialui/esm/detail/Edit.js","../../../packages/ra-ui-materialui/esm/field/TextField.js","../../../packages/ra-core/esm/controller/input/referenceDataStatus.js","../../../packages/ra-core/esm/controller/useReference.js","../../../packages/ra-core/esm/actions/accumulateActions.js","../../../packages/ra-core/esm/controller/input/useGetMatchingReferences.js","../../../packages/ra-core/esm/controller/usePaginationState.js","../../../packages/ra-core/esm/controller/useSortState.js","../../../packages/ra-core/esm/controller/useFilterState.js","../../../packages/ra-core/esm/controller/input/useReferenceInputController.js","../../../packages/ra-ui-materialui/esm/layout/LinearProgress.js","../../../packages/ra-ui-materialui/esm/input/ReferenceError.js","../../../packages/ra-ui-materialui/esm/input/ReferenceInput.js","../../../packages/ra-core/esm/form/useSuggestions.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionList.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionItem.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInput.js","../../../packages/ra-ui-materialui/esm/field/FunctionField.js","orders/NbItemsField.js","../../../packages/ra-core/esm/controller/field/getResourceLinkPath.js","../../../packages/ra-ui-materialui/esm/field/ReferenceField.js","visitors/CustomerReferenceField.tsx","orders/MobileGrid.js","orders/OrderList.js","../../../packages/ra-ui-materialui/esm/input/InputPropTypes.js","../../../packages/ra-ui-materialui/esm/input/BooleanInput.js","orders/Basket.tsx","orders/OrderEdit.js","orders/index.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdateMany.js","reviews/BulkAcceptButton.js","reviews/BulkRejectButton.js","reviews/ReviewListMobile.js","products/ProductReferenceField.js","reviews/StarRatingField.tsx","reviews/rowStyle.js","reviews/ReviewListDesktop.js","reviews/ReviewFilter.js","reviews/AcceptButton.js","reviews/RejectButton.js","reviews/ReviewEditToolbar.js","reviews/ReviewEdit.js","reviews/ReviewList.js","reviews/index.js","visitors/Aside.js","../../../packages/ra-ui-materialui/esm/input/SelectArrayInput.js","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","visitors/AddressField.tsx","../../../packages/ra-core/esm/controller/useShowController.js","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","../../../packages/ra-ui-materialui/esm/input/NumberInput.js","products/GridList.js","products/ProductList.js","../../../packages/ra-core/esm/util/escapePath.js","../../../packages/ra-ui-materialui/esm/form/TabbedFormTabs.js","../../../packages/ra-ui-materialui/esm/form/TabbedForm.js","../../../packages/ra-ui-materialui/esm/form/FormTab.js","../../../packages/ra-core/esm/controller/field/useReferenceManyFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceManyField.js","../../../packages/ra-input-rich-text/esm/QuillSnowStylesheet.js","../../../packages/ra-input-rich-text/esm/index.js","../../../packages/ra-input-rich-text/esm/styles.js","products/Poster.js","products/ProductCreate.js","products/ProductEdit.js","products/index.js","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/Welcome.js","dashboard/CardIcon.js","dashboard/MonthlyRevenue.js","dashboard/NbNewOrders.js","dashboard/PendingOrders.js","dashboard/PendingReviews.js","dashboard/NewCustomers.js","dashboard/Dashboard.js","dashboard/index.js","../../../packages/ra-core/esm/i18n/useLocale.js","../../../packages/ra-core/esm/i18n/useSetLocale.js","../../../packages/ra-core/esm/loading/useUpdateLoading.js","configuration/Configuration.tsx","segments/LinkToRelatedCustomers.js","segments/Segments.js","routes.js","i18n/en.js","dataProvider/index.js","fakeServer/index.js","App.tsx","index.tsx","../../../packages/ra-core/esm/dataProvider/useDeleteMany.js","../../../packages/ra-core/esm/dataProvider/useCreate.js","../../../packages/ra-core/esm/dataProvider/useDelete.js","../../../packages/ra-core/esm/dataProvider/useGetMany.js","../../../packages/ra-core/esm/dataProvider/useGetOne.js","../../../packages/ra-core/esm/dataProvider/useUpdate.js","../../../packages/ra-core/esm/dataProvider/useUpdateMany.js","../../../packages/ra-core/esm/dataProvider/useGetList.js","../../../packages/ra-core/esm/dataProvider/useGetManyReference.js","../../../packages/ra-core/esm/dataProvider/convertLegacyDataProvider.js","../../../packages/ra-core/esm/actions/undoActions.js","../../../packages/ra-core/esm/sideEffect/useUnselectAll.js","../../../packages/ra-core/esm/sideEffect/useRefresh.js","../../../packages/ra-core/esm/sideEffect/useRedirect.js","../../../packages/ra-core/esm/dataProvider/useDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useMutation.js"],"names":["CRUD_CHANGE_LIST_PARAMS","changeListParams","resource","params","type","payload","meta","SET_LIST_SELECTED_IDS","setListSelectedIds","ids","TOGGLE_LIST_ITEM","toggleListItem","id","CLEAR_STATE","clearState","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","isEmptyList","data","Array","isArray","keys","defaultTotalSelector","query","options","dataSelector","totalSelector","action","state","key","JSON","stringify","admin","customQueries","undefined","defaultDataSelector","total","_a","error","loading","loaded","setState","isNaN","console","dataProvider","prevState","then","catch","create","Promise","resolve","delete","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","logoutIfAccessDeniedWithoutProvider","authProvider","useAuthProvider","logout","useLogout","notify","useNotify","logoutIfAccessDenied","checkError","e","redirectTo","redirectto","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","rest","onSuccess","onFailure","dispatch","window","addEventListener","warnBeforeClosingWindow","fetch","getFetchType","optimistic","undoableEventEmitter","once","isUndo","removeEventListener","response","requestPayload","fetchResponse","fetchStatus","loggedOut","message","body","event","preventDefault","returnValue","DataProviderContext","defaultDataProvider","isOptimistic","ui","Proxy","get","target","name","toString","_b","_c","undoable","_d","_e","Error","actionType","initialState","getIds","relatedTo","references","oneToMany","getTotal","getReferences","reference","resources","map","filter","r","reduce","prev","record","getRelatedReferences","previousState","includes","removeDeletedReferences","removedIds","idsToKeep","nameRelatedTo","join","history","loginUrl","redirectToFromProvider","push","pathname","nextPathname","location","logoutWithoutProvider","_","basePath","module","exports","ra","add_filter","add","back","bulk_actions","cancel","clear_input_value","clone","confirm","edit","export","list","refresh","remove_filter","remove","save","search","show","sort","undo","expand","close","boolean","true","false","null","page","dashboard","not_found","input","file","upload_several","upload_single","image","all_missing","many_missing","single_missing","password","toggle_visible","toggle_hidden","about","are_you_sure","bulk_delete_content","bulk_delete_title","delete_content","delete_title","details","invalid_form","no","yes","navigation","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","page_rows_per_page","next","auth","auth_check_error","user_menu","username","sign_in","sign_in_error","notification","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","validation","required","minLength","maxLength","minValue","maxValue","number","email","oneOf","regex","linkType","link","encodeURIComponent","condition","CRUD_GET_MANY_REFERENCE","CRUD_GET_MANY_REFERENCE_SUCCESS","displayName","GET_LIST","GET_ONE","GET_MANY","GET_MANY_REFERENCE","CREATE","UPDATE","UPDATE_MANY","DELETE","DELETE_MANY","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","il","k","a","j","jl","__spreadArrays","fetchActionsWithTotalResponse","sanitizeFetchType","fetchType","FETCH_START","fetchStart","FETCH_END","fetchEnd","FETCH_ERROR","FETCH_CANCEL","messageArgs","defaultProvider","login","checkAuth","getPermissions","AuthContext","crudGetMany","CRUD_GET_MANY","level","SHOW_NOTIFICATION","showNotification","notificationOptions","HIDE_NOTIFICATION","hideNotification","defaultAuthParams","afterLoginUrl","useSafeSetState","mountedRef","current","args","useDeepCompareEffect","callback","inputs","cleanupRef","previousInputs","value","ref","usePrevious","useTimeout","ms","ready","setReady","timer","setTimeout","clearTimeout","TOGGLE_SIDEBAR","toggleSidebar","SET_SIDEBAR_VISIBILITY","setSidebarVisibility","isOpen","REFRESH_VIEW","refreshView","getFetchedAtCallback","newRecordIds","oldRecordFetchedAt","now","cacheDuration","Date","newFetchedAt","forEach","recordId","latestValidDate","setTime","getTime","stillValidFetchedAt","date","hideFetchedAt","records","defineProperty","enumerable","configurable","writable","newRecords","oldRecords","newRecordsById","fetchedAt","removeRecords","removedRecordIds","entries","obj","val","updatedRecord","updatedRecords","CRUD_GET_LIST","CRUD_GET_ONE","CRUD_CREATE","addRecordIds","oldRecordIds","recordIds","concat","index","el","newState","slice","defaultState","order","perPage","CRUD_DELETE","unselectAll","defaultReducer","loadedOnce","selectedIds","Math","max","notifications","getNotification","CRUD_GET_MATCHING","possibleValues","referenceState","from","some","unshift","sidebarOpen","viewVersion","resourceState","props","acc","__generator","thisArg","f","y","g","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","done","pop","step","nextPathnameSelector","locationState","router","currentPathnameSelector","getErrorMessage","defaultMessage","authPayload","e_1","errorMessage","pathName","error_1","handleCallback","handleFetch","fetchMeta","restType","successSideEffects","failureSideEffects","Function","takeFetchAction","handleNotification","handleRedirection","resolveRedirectTo","addIds","oldIds","oldIdsSet","Set","tasks","accumulations","actionCreator","accumulatedValue","finalize","accumulateValues","accumulateKey","accumulate","handleRefresh","handleUndoRace","undoableAction","metaWithoutSideEffects","complete","watchUndoable","redirection","customReducers","customSagas","appReducer","sagaMiddleware","composeEnhancers","store","run","TranslationContext","locale","setLocale","i18nProvider","translate","x","changeLocale","getLocale","children","newLocale","createElement","Provider","only","reduxIsAlreadyInitialized","finalAuthProvider","_i","legacyAuthProvider","convertLegacyAuthProvider","finalDataProvider","convertLegacyDataProvider","finalHistory","renderCore","createAdminStore","initialLocale","polyglotOptions","messages","getMessages","polyglot","phrases","_translate","bind","newPolyglot","AdminContext","defaultProps","defaultI18nProvider","checkAuthWithoutAuthProvider","logoutOnFailure","emptyParams","getPermissionsWithoutProvider","permissions","count","authParams","render","component","staticContext","useAuthenticated","catchAll","customRoutes","title","childrenAsArray","Children","toArray","firstChild","route","child","path","intent","exact","routeProps","to","authenticated","__awaiter","_arguments","P","generator","reject","fulfilled","rejected","result","doLogout","oneSecondHasPassed","computedChildren","setComputedChildren","initializeResources","resolveChildren","childrenFuncResult","resolvedChildren","layout","menu","theme","childrenToRender","noLayout","renderCustomRoutesWithoutLayout","Fragment","Noop","_f","loginPage","_g","identity","icon","defaultIcon","onClick","className","handleClick","Tooltip","IconButton","color","propTypes","string","element","useStyles","makeStyles","loader","margin","classesOverride","classes","CircularProgress","size","thickness","object","width","anchorEl","setAnchorEl","open","Boolean","handleClose","currentTarget","anchorOrigin","vertical","horizontal","transformOrigin","onClose","menuItem","node","isRequired","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","toolbar","paddingRight","menuButton","marginLeft","marginRight","menuButtonIconClosed","transition","transitions","easing","sharp","duration","leavingScreen","transform","menuButtonIconOpen","flex","textOverflow","whiteSpace","overflow","logo","userMenu","isXSmall","useMediaQuery","breakpoints","down","disableGutters","variant","root","Typography","bool","drawerPaper","position","height","overflowX","backgroundColor","marginTop","borderRight","palette","background","default","up","border","closedSize","isSmall","isDesktop","Drawer","PaperProps","onMenuClick","dense","NavLinkRef","forwardRef","innerRef","text","secondary","active","primary","minWidth","spacing","MenuItemLink","primaryText","leftIcon","sidebarIsOpen","handleMenuTap","renderMenuItem","MenuItem","activeClassName","ListItemIcon","titleAccess","placement","func","oneOfType","main","display","flexDirection","justifyContent","smart_count","humanize","pluralize","hasDashboard","hasList","dark","contrastText","warning","light","autoHideDuration","setOpen","styles","handleRequestClose","handleExited","emit","handleUndo","Snackbar","disableWindowBlurListener","onExited","ContentProps","defaultTitle","container","document","getElementById","titleElement","TitlePropType","alignItems","padding","fontFamily","opacity","panel","panelDetails","goBack","go","errorInfo","role","typography","fontWeight","sidebar","closedWidth","overrides","MuiFilledInput","propName","componentName","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","_super","Layout","_this","hasError","listen","componentDidCatch","appBar","match","appFrame","contentWithSidebar","content","ComponentPropType","array","EnhancedLayout","withStyles","createStyles","zIndex","minHeight","flexGrow","flexBasis","paddingTop","paddingLeft","themeOverride","themeProp","createMuiTheme","setTheme","ThemeProvider","defaultTheme","textAlign","loadingPrimary","loadingSecondary","nextPathName","ret","loginWithoutProvider","form","button","touched","inputProps","helperText","fullWidth","setLoading","onSubmit","values","validate","errors","handleSubmit","noValidate","autoFocus","disabled","autoComplete","CardActions","backgroundRepeat","backgroundSize","card","avatar","backgroundImage","containerRef","muiTheme","backgroundImageLoaded","updateBackgroundImage","style","img","Image","onload","src","lazyLoadBackgroundImage","Card","Avatar","LogoutWithRef","AdminUI","appLayout","logoutButton","warn","defaultOptions","hasEdit","hasShow","hasCreate","isRegistered","decodeURIComponent","localStorage","setItem","removeItem","getItem","changeTheme","Logo","viewBox","aria-label","lineHeight","fontSize","letterSpacing","wordSpacing","strokeWidth","fill","spacer","ConfigurationMenu","useTranslate","CustomUserMenu","CustomAppBar","useCheckMinimumRequiredProps","requiredProps","propNames","missingProps","prop","removeEmpty","removeKey","deepRemoveKey","paths","split","deepKey","deep","emptyObject","defaultSort","field","validQueryParams","getQuery","filterDefaultValues","queryFromLocation","parse","err","hasCustomParams","getNumberOrDefault","possibleNumber","defaultValue","parseInt","debounce","displayedFilters","setDisplayedFilters","reduxState","requestSignature","changeParams","newParams","setSort","newSort","setPage","newPage","setPerPage","newPerPage","filterValues","debouncedSetFilters","newFilters","setFilters","filters","hideFilter","filterName","previousFilters","showFilter","select","newIds","toggle","clearSelection","injectedProps","sanitizeListRestProps","version","queryModifiers","useRecordSelection","selectionModifiers","useQueryWithStore","pagination","currentSort","resourceName","onSelect","onToggleItem","onUnselectItems","emptyRecord","hideButton","filterElement","handleHide","source","alwaysOn","cloneElement","allowEmpty","flexWrap","clearFix","clear","initialValues","dataset","anyTouched","asyncValidate","asyncValidating","autofill","blur","change","clearAsyncError","clearFields","clearSubmit","clearSubmitErrors","destroy","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialize","initialized","invalid","modified","pristine","pure","reset","resetSection","setFilter","submit","submitAsSideEffect","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touch","triggerSubmit","untouch","valid","validating","visited","__versions","arrayOf","handleFinalFormSubmit","FormSpySubscription","mergedInitialValuesWithDefaultValues","mutators","formProps","subscription","onChange","getFieldLabelTranslationArgs","FilterButtonMenuItem","onShow","handleShow","alignIcon","labelRightIcon","smallIcon","mediumIcon","largeIcon","hiddenFilters","handleClickButton","context","renderButton","renderForm","EMAIL_REGEX","getMessage","fn","min","Number","pattern","test","oneOfTypeMessage","it","customOnBlur","onBlur","customOnChange","customOnFocus","onFocus","finalName","sanitizedValidate","validators","validator","composeValidators","initialValue","handleBlur","handleChange","handleFocus","clearIcon","visibleClearIcon","clearButton","selectAdornment","right","inputAdornedEnd","handleMouseDownClearButton","ResettableTextField","clearAlwaysVisible","InputProps","resettable","handleClickClearButton","visibleClearButton","restClasses","endAdornment","InputPropsWithoutEndAdornment","adornedEnd","InputAdornment","disableRipple","onMouseDown","getEndAdornment","any","formClassName","initializeForm","limitChoicesToValue","optionText","optionValue","translateChoice","format","hiddenLabel","placeholder","convertDateToString","getDate","yyyy","getFullYear","MM","getMonth","dd","dateRegex","getStringFromDate","InputLabelProps","shrink","getBooleanFromString","getStringFromBoolean","csv","fakeLink","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","filename","setAttribute","URL","createObjectURL","click","downloadCSV","ExporterContext","paper","actions","defaultClasses","permanentFilter","exporter","memo","flexShrink","hellip","PaginationActions","rowsPerPage","onChangePage","getNbPages","ceil","gotoPage","nbPages","range","pageNum","backIconButtonProps","nextIconButtonProps","CardContent","emptyArray","rowsPerPageOptions","limit","handlePageChange","stopPropagation","handlePerPageChange","labelDisplayedRows","offsetBegin","offsetEnd","TablePagination","onChangeRowsPerPage","ActionsComponent","labelRowsPerPage","CRUD_DELETE_MANY","contentText","confirmPrimary","confirmWarning","iconPaddingStyle","confirmColor","ConfirmIcon","CancelIcon","onConfirm","translateOptions","handleConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","elementType","deleteButton","confirmTitle","confirmContent","crudDeleteMany","useUnselectAll","useRefresh","useDeleteMany","inflect","startUndoable","dispatchCrudDeleteMany","paddingBottom","buttons","collapsed","overflowY","Fab","floating","getContrastText","top","bottom","left","floatingLink","getRelatedIds","post","defaultFilter","maxResults","useDataProvider","aside","bulkActionButtons","shape","Content","controllerProps","getListControllerProps","bulkActionsDisplayed","hasBulkActions","boxShadow","noResults","crudGetList","setSelectedIds","toggleItem","updateSort","isSorting","TableCell","headerClassName","align","sortable","sortBy","enterDelay","TableSortLabel","nextProps","grey","times","nbChildren","nbFakeLines","Table","table","TableHead","TableRow","row","expandHeader","expandIconCell","Checkbox","checked","headerCell","TableBody","key1","expandIcon","key2","rowCell","cellClassName","expanded","expandContentId","tabIndex","hover","rowClick","selected","selectable","setExpanded","nbColumns","setNbColumns","newNbColumns","handleToggleExpand","handleToggleSelection","effect","persist","linkToRecord","checkbox","colSpan","String","PureDatagridRow","prevProps","prevPropsWithoutChildren","nextPropsWithoutChildren","rowStyle","isRowSelectable","rowIndex","rowEven","rowOdd","clickableRow","muiName","PureDatagridBody","tableLayout","thead","tbody","headerRow","cursor","shortest","Datagrid","optimized","handleSelectAll","all_1","all","every","fieldPropTypes","addLabel","toLocaleStringSupportsLocales","toLocaleString","RangeError","EnhancedDateField","locales","showTime","dateString","toLocaleDateString","hasNumberFormat","Intl","NumberFormat","EnhancedNumberField","EnhancedBooleanField","valueLabelTrue","valueLabelFalse","ariaLabel","marginBottom","chip","SegmentsField","groups","segmentId","segment","segments","find","Chip","getChoiceText","choice","choiceName","getChoiceValue","choices","disableValue","emptyText","emptyValue","renderEmptyItemOption","isValidElement","renderMenuItemOption","crudGetMatching","crudGetOne","filterToQuery","setPagination","SegmentInput","textDecoration","AvatarField","sizes","PureFullNameField","first_name","last_name","CustomerLinkField","ColoredNumberField","WrappedComponent","Colored","colored","NumberField","cardTitleContent","cardContent","body1","MobileGrid","CardHeader","nb_commands","currency","VisitorFilter","VisitorList","isXsmall","successMessage","redirect","useRedirect","recordToUse","useCreate","saving","newRecord","singularize","getDefaultRedirectRoute","searchParams","noActions","crudCreate","registeredFields","getRegisteredFields","batch","resetFieldState","sanitizeEmptyValues","initialValuesWithEmptyFields","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","defaultSubscription","setRedirect","handleSubmitWithRedirect","debug","decorators","initialValuesEqual","keepDirtyOnReinitialize","getOwnPropertyDescriptors","defineProperties","validateOnBlur","newRedirect","finalInitialValues","getFormInitialValues","finalRedirect","finalValues","boxSizing","verticalAlign","name_1","restProps","FormControl","InputLabel","htmlFor","labelStyle","submitOnEnter","displayedLabel","useDelete","deleteOne","handleDelete","_h","desktopToolbar","mobileToolbar","defaultToolbar","valueOrDefault","withWidth","initialWidth","asyncBlurFields","_reduxForm","initiallyVisible","visible","setVisible","address","maxWidth","zipcode","city","comment","confirm_password","validatePasswords","requiredValidate","SectionTitle","gutterBottom","Separator","Box","pt","VisitorCreate","multiline","CRUD_UPDATE","useGetOne","useUpdate","EnhancedTextField","isMatchingReferencesError","matchingReferences","useGetMany","referenceRecord","defaultReferenceSource","referenceSource","getMatchingReferences","referenceResource","paginationReducer","nextState","defaultPagination","initialPagination","isFirstRender","initialSort","setSortField","setSortOrder","defaultFilterToQuery","q","emptyFilter","sortOverride","usePaginationState","useSortState","debounceTime","permanentFilterProp","latestValue","setFilterValue","useFilterState","filterValue","dataStatus","matchingReferencesError","selectedReferenceError","waiting","useGetMatchingReferences","searchText","finalMeta","allowDuplicates","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","suggestion","suggestionText","RegExp","replace","suggestions","removeAlreadySelectedSuggestions","limitSuggestions","selectedItems","selectedValues","isInteger","newSuggestions","emptySuggestion","suggestionsContainer","suggestionsPaper","maxHeight","menuProps","inputEl","suggestionsContainerProps","Popper","modifiers","Paper","square","clientWidth","highlightedSuggestionText","matches","parts","highlightedIndex","isSelected","getSuggestionText","isHighlighted","part","highlight","idOverride","inputOverride","isRequiredOverride","metaOverride","labelProps","shouldRenderSuggestionsOverride","shouldRenderSuggestions","_j","_k","_l","_m","getSuggestionFromValue","_o","handleFilterChange","eventOrValue","item","storeInputRef","inputPosition","getBoundingClientRect","anchorPosition","updateAnchorEl","openMenu","inputValue","itemToString","getInputProps","getItemProps","getLabelProps","getMenuProps","isMenuOpen","_onChange","inputRef","suppressRefError","EnhancedFunctionField","basket","NbItemsField","sourceId","rootPath","getResourceLinkPath","linkTo","resourceLinkPath","PureReferenceFieldView","CustomerReferenceField","useListStyles","cardContentRow","OrderFilter","useDatagridStyles","TabbedDatagrid","tabs","ordered","delivered","cancelled","status","Tabs","centered","indicatorColor","Tab","Divider","React","Component","StyledTabbedDatagrid","OrderList","InputPropTypes","finalFormOnChange","FormGroup","FormControlLabel","control","Switch","FormHelperText","rightAlignedCell","boldCell","Basket","product_id","productId","products","elevation","price","quantity","total_ex_taxes","delivery_fees","tax_rate","classnames","OrderTitle","useEditStyles","OrderIcon","CRUD_UPDATE_MANY","BulkAcceptButton","useUpdateMany","approve","BulkRejectButton","inline","ReviewMobileList","ListItem","ListItemAvatar","ListItemText","secondaryTypographyProps","noWrap","ProductReferenceField","large","small","haight","StarRatingField","rating","defaultStyle","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","ReviewListDesktop","useFilterStyles","ReviewFilter","AcceptButton","RejectButton","ReviewEditToolbar","inlineField","ReviewEdit","onCancel","useEditController","rowsMax","ReviewsBulkActionButtons","enteringScreen","listWithDrawer","ReviewList","useHistory","useCallback","isMatch","ReviewListMobile","anchor","ReviewIcon","useAsideStyles","EventList","useGetList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","m","mb","mr","eventsFromOrders","eventsFromReviews","e1","e2","useEventStyles","cardHeader","clamp","Order","subheader","Review","EditButton","Link","Aside","chips","classNamInputWithOptionsPropse","componenInputWithOptionsPropst","crudGetMInputWithOptionsPropsatching","crudGetOInputWithOptionsPropsne","Select","autoWidth","multiple","FilledInput","renderValue","SegmentsInput","addField","VisitorTitle","VisitorForm","md","lg","xs","sm","ml","mt","VisitorIcon","AddressField","CustomerField","InvoiceShow","useShowController","Grid","alignContent","invoices","ListFilters","InvoiceIcon","convertStringToNumber","_float","parseFloat","overrideInputProps","gridList","tileBar","getColsForWidth","LoadingGridList","nbItems","cellHeight","cols","GridListTile","LoadedGridList","thumbnail","alt","GridListTileBar","subtitle","useQuickFilterStyles","QuickFilter","ProductFilter","ProductList","url","getTabFullPath","tab","baseUrl","tabsWithErrors","validTabPaths","tabValue","tabPath","errorTabButton","defaultRedirect","getState","escapePath","hidden","hiddenStyle","contentClassName","referenceId","useGetManyReference","referenceBasePath","initialPerPage","visibility","pointerEvents","outline","tabSize","wordWrap","counterReset","listStyleType","counterIncrement","fontStyle","float","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","fillRule","borderLeft","borderRadius","borderColor","borderTop","QuillSnowStylesheet","configureQuill","quillInstance","divRef","editor","lastValueChange","onTextChange","innerHTML","modules","clipboard","matchVisual","setContents","convert","querySelector","on","off","selection","getSelection","hasFocus","setSelection","handlers","Poster","stock","widthFormGroup","heightFormGroup","ProductCreate","startAdornment","ProductTitle","ProductIcon","LinkToRelatedProducts","category_id","CategoryList","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","sidebarIsClosed","SubMenu","handleToggle","header","Collapse","timeout","unmountOnExit","disablePadding","Menu","useState","menuCatalog","menuSales","menuCustomers","useSelector","categories","darkTheme","lightTheme","CustomSidebar","AppBar","hint","renderInput","Form","withTypes","Login","useLogin","LoginWithTheme","media","mediaUrl","random","Welcome","CardMedia","href","CardIcon","Icon","bgColor","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","nb_items","customer_name","ListItemSecondaryAction","titleLink","listItemText","WebkitLineClamp","WebkitBoxOrient","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","useMemo","setDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","toISOString","visitors","CustomerIcon","flexColumn","leftCol","rightCol","singleCol","Dashboard","useVersion","fetchOrders","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","review","pendingReviewsCustomers","useEffect","startLoading","stopLoading","useUpdateLoading","Configuration","useLocale","useSetLocale","useDispatch","LinkToRelatedCustomers","Segments","englishMessages","pos","configuration","language","monthly_revenue","new_orders","pending_reviews","new_customers","pending_orders","items","welcome","aor_button","demo_button","sales","catalog","fields","commands","first_seen","last_seen","last_seen_gte","total_spent","fieldGroups","change_password","password_mismatch","amount","delivery","sum","unit_price","date_lte","total_gte","returned","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","relative_to_poster","detail","accept","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","factory","provider","polyglotI18nProvider","App","setDataProvider","restoreFetch","fakeServerFactory","process","dataProviderFactory","fetchDataProvider","themeReducer","ReactDOM","previousData","queriesToCall","DataProviderOptions","makeGetManySelector","callQueries","queries","accumulatedIds","unstable_batchedUpdates","datum","selectMany","referencingResource","selectIds","selectTotal","selectData","fetchMap","legacyDataProvider","UNDOABLE","UNDO","COMPLETE","START_OPTIMISTIC_MODE","startOptimisticMode","STOP_OPTIMISTIC_MODE","stopOptimisticMode","resource1","resource2","doRefresh","convertToFunctionSideEffect","sideEffects","needRefresh","needUnselectAll","getSideEffects","callTimeQuery","callTimeOptions","Event","sanitizeOptions","hasDeclarativeSideEffectsSupport","withDeclarativeSideEffectsSupport","dataProviderWithDeclarativeSideEffects","errorFromResponse"],"mappings":"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","file":"static/js/main.c76078d4.chunk.js","sourcesContent":["export var CRUD_CHANGE_LIST_PARAMS = 'RA/CRUD_CHANGE_LIST_PARAMS';\nexport var changeListParams = function changeListParams(resource, params) {\n  return {\n    type: CRUD_CHANGE_LIST_PARAMS,\n    payload: params,\n    meta: {\n      resource: resource\n    }\n  };\n};\nexport var SET_LIST_SELECTED_IDS = 'RA/SET_LIST_SELECTED_IDS';\nexport var setListSelectedIds = function setListSelectedIds(resource, ids) {\n  return {\n    type: SET_LIST_SELECTED_IDS,\n    payload: ids,\n    meta: {\n      resource: resource\n    }\n  };\n};\nexport var TOGGLE_LIST_ITEM = 'RA/TOGGLE_LIST_ITEM';\nexport var toggleListItem = function toggleListItem(resource, id) {\n  return {\n    type: TOGGLE_LIST_ITEM,\n    payload: id,\n    meta: {\n      resource: resource\n    }\n  };\n};","export var CLEAR_STATE = 'RA/CLEAR_STATE'; // The CLEAR_STATE action will completely reset the react-admin redux state to its initial value.\n// This should only be called once the user has been redirected to a page which do not use the\n// state such as the login page.\n\nexport var clearState = function clearState() {\n  return {\n    type: CLEAR_STATE\n  };\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport useDataProvider from './useDataProvider';\nimport getFetchType from './getFetchType';\nimport { useSafeSetState } from '../util/hooks';\n/**\n * Lists of records are initialized to a particular object,\n * so detecting if the list is empty requires some work.\n *\n * @see src/reducer/admin/data.ts\n */\n\nvar isEmptyList = function isEmptyList(data) {\n  return Array.isArray(data) ? data.length === 0 : data && Object.keys(data).length === 0 && data.hasOwnProperty('fetchedAt');\n};\n/**\n * Default cache selector. Allows to cache responses by default.\n *\n * By default, custom queries are dispatched as a CUSTOM_QUERY Redux action.\n * The useDataProvider hookdispatches a CUSTOM_QUERY_SUCCESS when the response\n * comes, and the customQueries reducer stores the result in the store.\n * This selector reads the customQueries store and acts as a response cache.\n */\n\n\nvar defaultDataSelector = function defaultDataSelector(query) {\n  return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), {\n      type: getFetchType(query.type)\n    }));\n    return state.admin.customQueries[key] ? state.admin.customQueries[key].data : undefined;\n  };\n};\n\nvar defaultTotalSelector = function defaultTotalSelector() {\n  return null;\n};\n/**\n * Fetch the data provider through Redux, return the value from the store.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {Object} query\n * @param {string} query.type The verb passed to th data provider, e.g. 'getList', 'getOne'\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * @param {function} dataSelector Redux selector to get the result. Required.\n * @param {function} totalSelector Redux selector to get the total (optional, only for LIST queries)\n *\n * @returns The current request state. Destructure as { data, total, error, loading, loaded }.\n *\n * @example\n *\n * import { useQueryWithStore } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useQueryWithStore(\n *         {\n *             type: 'getOne',\n *             resource: 'users',\n *             payload: { id: record.id }\n *         },\n *         {},\n *         state => state.admin.resources.users.data[record.id]\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\n\n\nvar useQueryWithStore = function useQueryWithStore(query, options, dataSelector, totalSelector) {\n  if (options === void 0) {\n    options = {\n      action: 'CUSTOM_QUERY'\n    };\n  }\n\n  if (dataSelector === void 0) {\n    dataSelector = defaultDataSelector(query);\n  }\n\n  if (totalSelector === void 0) {\n    totalSelector = defaultTotalSelector;\n  }\n\n  var type = query.type,\n      resource = query.resource,\n      payload = query.payload;\n  var data = useSelector(dataSelector);\n  var total = useSelector(totalSelector);\n\n  var _a = useSafeSetState({\n    data: data,\n    total: total,\n    error: null,\n    loading: true,\n    loaded: data !== undefined && !isEmptyList(data)\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  if (!isEqual(state.data, data) || state.total !== total) {\n    if (isNaN(total)) {\n      console.error('Total from response is not a number. Please check your dataProvider or the API.');\n    } else {\n      setState(__assign(__assign({}, state), {\n        data: data,\n        total: total,\n        loaded: true\n      }));\n    }\n  }\n\n  var dataProvider = useDataProvider();\n  useEffect(function () {\n    setState(function (prevState) {\n      return __assign(__assign({}, prevState), {\n        loading: true\n      });\n    });\n    dataProvider[type](resource, payload, options).then(function () {\n      // We don't care about the dataProvider response here, because\n      // it was already passed to SUCCESS reducers by the dataProvider\n      // hook, and the result is available from the Redux store\n      // through the data and total selectors.\n      // In addition, if the query is optimistic, the response\n      // will be empty, so it should not be used at all.\n      setState(function (prevState) {\n        return __assign(__assign({}, prevState), {\n          error: null,\n          loading: false,\n          loaded: true\n        });\n      });\n    }).catch(function (error) {\n      setState({\n        error: error,\n        loading: false,\n        loaded: false\n      });\n    }); // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n  }, [JSON.stringify({\n    query: query,\n    options: options\n  })]); // eslint-disable-line\n\n  return state;\n};\n\nexport default useQueryWithStore;","export default {\n  create: function create() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  delete: function _delete() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  deleteMany: function deleteMany() {\n    return Promise.resolve({\n      data: []\n    });\n  },\n  getList: function getList() {\n    return Promise.resolve({\n      data: [],\n      total: 0\n    });\n  },\n  getMany: function getMany() {\n    return Promise.resolve({\n      data: []\n    });\n  },\n  getManyReference: function getManyReference() {\n    return Promise.resolve({\n      data: [],\n      total: 0\n    });\n  },\n  getOne: function getOne() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  update: function update() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  updateMany: function updateMany() {\n    return Promise.resolve({\n      data: []\n    });\n  }\n};","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../sideEffect';\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfaccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\n\nvar useLogoutIfAccessDenied = function useLogoutIfAccessDenied() {\n  var authProvider = useAuthProvider();\n  var logout = useLogout();\n  var notify = useNotify();\n  var logoutIfAccessDenied = useCallback(function (error) {\n    return authProvider.checkError(error).then(function () {\n      return false;\n    }).catch(function (e) {\n      var redirectTo = e && e.redirectTo ? e.redirectTo : error && error.redirectTo ? error.redirectto : undefined;\n      logout({}, redirectTo);\n      notify('ra.notification.logged_out', 'warning');\n      return true;\n    });\n  }, [authProvider, logout, notify]);\n  return authProvider ? logoutIfAccessDenied : logoutIfAccessDeniedWithoutProvider;\n};\n\nvar logoutIfAccessDeniedWithoutProvider = function logoutIfAccessDeniedWithoutProvider() {\n  return Promise.resolve(false);\n};\n\nexport default useLogoutIfAccessDenied;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useContext, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport DataProviderContext from './DataProviderContext';\nimport validateResponseFormat from './validateResponseFormat';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport getFetchType from './getFetchType';\nimport defaultDataProvider from './defaultDataProvider';\nimport { startOptimisticMode, stopOptimisticMode } from '../actions/undoActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START } from '../actions/fetchActions';\nimport { showNotification } from '../actions/notificationActions';\nimport { refreshView } from '../actions/uiActions';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object, which\n * dispatches Redux actions along the process. The benefit is that react-admin\n * tracks the loading state when using this hook, and stores results in the\n * Redux store for future use.\n *\n * In addition to the 2 usual parameters of the dataProvider methods (resource,\n * payload), the Proxy supports a third parameter for every call. It's an\n * object literal which may contain side effects, or make the action optimistic\n * (with undoable: true).\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import React, { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     }\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n *\n * @example Action customization\n *\n * dataProvider.getOne('users', { id: 123 });\n * // will dispatch the following actions:\n * // - CUSTOM_FETCH\n * // - CUSTOM_FETCH_LOADING\n * // - FETCH_START\n * // - CUSTOM_FETCH_SUCCESS\n * // - FETCH_END\n *\n * dataProvider.getOne('users', { id: 123 }, { action: CRUD_GET_ONE });\n * // will dispatch the following actions:\n * // - CRUD_GET_ONE\n * // - CRUD_GET_ONE_LOADING\n * // - FETCH_START\n * // - CRUD_GET_ONE_SUCCESS\n * // - FETCH_END\n */\n\nvar useDataProvider = function useDataProvider() {\n  var dispatch = useDispatch();\n  var dataProvider = useContext(DataProviderContext) || defaultDataProvider;\n  var isOptimistic = useSelector(function (state) {\n    return state.admin.ui.optimistic;\n  });\n  var logoutIfAccessDenied = useLogoutIfAccessDenied();\n  var dataProviderProxy = useMemo(function () {\n    return new Proxy(dataProvider, {\n      get: function get(target, name) {\n        return function (resource, payload, options) {\n          var type = name.toString();\n\n          var _a = options || {},\n              _b = _a.action,\n              action = _b === void 0 ? 'CUSTOM_FETCH' : _b,\n              _c = _a.undoable,\n              undoable = _c === void 0 ? false : _c,\n              _d = _a.onSuccess,\n              onSuccess = _d === void 0 ? undefined : _d,\n              _e = _a.onFailure,\n              onFailure = _e === void 0 ? undefined : _e,\n              rest = __rest(_a, [\"action\", \"undoable\", \"onSuccess\", \"onFailure\"]);\n\n          if (typeof dataProvider[type] !== 'function') {\n            throw new Error(\"Unknown dataProvider function: \" + type);\n          }\n\n          if (onSuccess && typeof onSuccess !== 'function') {\n            throw new Error('The onSuccess option must be a function');\n          }\n\n          if (onFailure && typeof onFailure !== 'function') {\n            throw new Error('The onFailure option must be a function');\n          }\n\n          if (undoable && !onSuccess) {\n            throw new Error('You must pass an onSuccess callback calling notify() to use the undoable mode');\n          }\n\n          if (isOptimistic) {\n            // in optimistic mode, all fetch actions are canceled,\n            // so the admin uses the store without synchronization\n            return Promise.resolve();\n          }\n\n          var params = {\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied\n          };\n          return undoable ? performUndoableQuery(params) : performQuery(params);\n        };\n      }\n    });\n  }, [dataProvider, dispatch, isOptimistic, logoutIfAccessDenied]);\n  return dataProviderProxy;\n};\n/**\n * In undoable mode, the hook dispatches an optimistic action and executes\n * the success side effects right away. Then it waits for a few seconds to\n * actually call the dataProvider - unless the user dispatches an Undo action.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\n\n\nvar performUndoableQuery = function performUndoableQuery(_a) {\n  var type = _a.type,\n      payload = _a.payload,\n      resource = _a.resource,\n      action = _a.action,\n      rest = _a.rest,\n      onSuccess = _a.onSuccess,\n      onFailure = _a.onFailure,\n      dataProvider = _a.dataProvider,\n      dispatch = _a.dispatch,\n      logoutIfAccessDenied = _a.logoutIfAccessDenied;\n  dispatch(startOptimisticMode());\n\n  if (window) {\n    window.addEventListener('beforeunload', warnBeforeClosingWindow);\n  }\n\n  dispatch({\n    type: action,\n    payload: payload,\n    meta: __assign({\n      resource: resource\n    }, rest)\n  });\n  dispatch({\n    type: action + \"_OPTIMISTIC\",\n    payload: payload,\n    meta: {\n      resource: resource,\n      fetch: getFetchType(type),\n      optimistic: true\n    }\n  });\n  onSuccess && onSuccess({});\n  undoableEventEmitter.once('end', function (_a) {\n    var isUndo = _a.isUndo;\n    dispatch(stopOptimisticMode());\n\n    if (isUndo) {\n      dispatch(showNotification('ra.notification.canceled'));\n      dispatch(refreshView());\n\n      if (window) {\n        window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n      }\n\n      return;\n    }\n\n    dispatch({\n      type: action + \"_LOADING\",\n      payload: payload,\n      meta: __assign({\n        resource: resource\n      }, rest)\n    });\n    dispatch({\n      type: FETCH_START\n    });\n    dataProvider[type](resource, payload).then(function (response) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateResponseFormat(response, type);\n      }\n\n      dispatch({\n        type: action + \"_SUCCESS\",\n        payload: response,\n        requestPayload: payload,\n        meta: __assign(__assign({}, rest), {\n          resource: resource,\n          fetchResponse: getFetchType(type),\n          fetchStatus: FETCH_END\n        })\n      });\n      dispatch({\n        type: FETCH_END\n      });\n\n      if (window) {\n        window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n      }\n\n      dispatch(refreshView());\n    }).catch(function (error) {\n      if (window) {\n        window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(error);\n      }\n\n      return logoutIfAccessDenied(error).then(function (loggedOut) {\n        if (loggedOut) return;\n        dispatch({\n          type: action + \"_FAILURE\",\n          error: error.message ? error.message : error,\n          payload: error.body ? error.body : null,\n          requestPayload: payload,\n          meta: __assign(__assign({}, rest), {\n            resource: resource,\n            fetchResponse: getFetchType(type),\n            fetchStatus: FETCH_ERROR\n          })\n        });\n        dispatch({\n          type: FETCH_ERROR,\n          error: error\n        });\n        onFailure && onFailure(error);\n        throw error;\n      });\n    });\n  });\n  return Promise.resolve({});\n}; // event listener added as window.onbeforeunload when starting optimistic mode, and removed when it ends\n\n\nvar warnBeforeClosingWindow = function warnBeforeClosingWindow(event) {\n  event.preventDefault(); // standard\n\n  event.returnValue = ''; // Chrome\n\n  return 'Your latest modifications are not yet sent to the server. Are you sure?'; // Old IE\n};\n/**\n * In normal mode, the hook calls the dataProvider. When a successful response\n * arrives, the hook dispatches a SUCCESS action, executes success side effects\n * and returns the response. If the response is an error, the hook dispatches\n * a FAILURE action, executes failure side effects, and throws an error.\n */\n\n\nvar performQuery = function performQuery(_a) {\n  var type = _a.type,\n      payload = _a.payload,\n      resource = _a.resource,\n      action = _a.action,\n      rest = _a.rest,\n      onSuccess = _a.onSuccess,\n      onFailure = _a.onFailure,\n      dataProvider = _a.dataProvider,\n      dispatch = _a.dispatch,\n      logoutIfAccessDenied = _a.logoutIfAccessDenied;\n  dispatch({\n    type: action,\n    payload: payload,\n    meta: __assign({\n      resource: resource\n    }, rest)\n  });\n  dispatch({\n    type: action + \"_LOADING\",\n    payload: payload,\n    meta: __assign({\n      resource: resource\n    }, rest)\n  });\n  dispatch({\n    type: FETCH_START\n  });\n  return dataProvider[type](resource, payload).then(function (response) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateResponseFormat(response, type);\n    }\n\n    dispatch({\n      type: action + \"_SUCCESS\",\n      payload: response,\n      requestPayload: payload,\n      meta: __assign(__assign({}, rest), {\n        resource: resource,\n        fetchResponse: getFetchType(type),\n        fetchStatus: FETCH_END\n      })\n    });\n    dispatch({\n      type: FETCH_END\n    });\n    onSuccess && onSuccess(response);\n    return response;\n  }).catch(function (error) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error(error);\n    }\n\n    return logoutIfAccessDenied(error).then(function (loggedOut) {\n      if (loggedOut) return;\n      dispatch({\n        type: action + \"_FAILURE\",\n        error: error.message ? error.message : error,\n        payload: error.body ? error.body : null,\n        requestPayload: payload,\n        meta: __assign(__assign({}, rest), {\n          resource: resource,\n          fetchResponse: getFetchType(type),\n          fetchStatus: FETCH_ERROR\n        })\n      });\n      dispatch({\n        type: FETCH_ERROR,\n        error: error\n      });\n      onFailure && onFailure(error);\n      throw error;\n    });\n  });\n};\n\nexport default useDataProvider;","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY } from '../core';\n/**\n * Get a fetch type for a data provider verb.\n *\n * The fetch type is used in reducers.\n *\n * @example getFetchType('getMany'); // 'GET_MANY'\n */\n\nexport default (function (actionType) {\n  switch (actionType) {\n    case 'getList':\n      return GET_LIST;\n\n    case 'getOne':\n      return GET_ONE;\n\n    case 'getMany':\n      return GET_MANY;\n\n    case 'getManyReference':\n      return GET_MANY_REFERENCE;\n\n    case 'create':\n      return CREATE;\n\n    case 'update':\n      return UPDATE;\n\n    case 'updateMany':\n      return UPDATE_MANY;\n\n    case 'delete':\n      return DELETE;\n\n    case 'deleteMany':\n      return DELETE_MANY;\n\n    default:\n      return actionType;\n  }\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { CRUD_GET_MANY_REFERENCE_SUCCESS } from '../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../core';\nvar initialState = {};\n\nvar oneToManyReducer = function oneToManyReducer(previousState, action) {\n  var _a;\n\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    var relatedTo = getRelatedReferences(previousState, action.meta.resource);\n\n    if (action.meta.fetch === DELETE) {\n      return relatedTo.reduce(removeDeletedReferences([action.payload.id]), previousState);\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      return relatedTo.reduce(removeDeletedReferences(action.payload.ids), previousState);\n    }\n  }\n\n  switch (action.type) {\n    case CRUD_GET_MANY_REFERENCE_SUCCESS:\n      return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = {\n        ids: action.payload.data.map(function (record) {\n          return record.id;\n        }),\n        total: action.payload.total\n      }, _a));\n\n    default:\n      return previousState;\n  }\n};\n\nexport var getIds = function getIds(state, relatedTo) {\n  return state.admin.references.oneToMany[relatedTo] && state.admin.references.oneToMany[relatedTo].ids;\n};\nexport var getTotal = function getTotal(state, relatedTo) {\n  return state.admin.references.oneToMany[relatedTo] && state.admin.references.oneToMany[relatedTo].total;\n};\nexport var getReferences = function getReferences(state, reference, relatedTo) {\n  var ids = getIds(state, relatedTo);\n\n  if (typeof ids === 'undefined') {\n    return undefined;\n  }\n\n  if (!state.admin.resources[reference]) {\n    // eslint-disable-next-line no-console\n    console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" + (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") + 'but it has not been declared.\\n' + \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField and ReferenceManyField.\", {\n      ids: ids\n    });\n  }\n\n  return ids.map(function (id) {\n    var resource = state.admin.resources[reference];\n\n    if (!resource) {\n      return undefined;\n    }\n\n    return resource.data[id];\n  }).filter(function (r) {\n    return typeof r !== 'undefined';\n  }).reduce(function (prev, record) {\n    prev[record.id] = record; // eslint-disable-line no-param-reassign\n\n    return prev;\n  }, {});\n};\nexport var getReferencesByIds = function getReferencesByIds(state, reference, ids) {\n  if (ids.length === 0) {\n    return {};\n  }\n\n  if (!state.admin.resources[reference]) {\n    // eslint-disable-next-line no-console\n    console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" + (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") + 'but it has not been declared.\\n' + \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField.\", {\n      ids: ids\n    });\n  }\n\n  var references = ids.map(function (id) {\n    var resource = state.admin.resources[reference];\n\n    if (!resource) {\n      return undefined;\n    }\n\n    return resource.data[id];\n  }).filter(function (r) {\n    return typeof r !== 'undefined';\n  }).reduce(function (prev, record) {\n    prev[record.id] = record; // eslint-disable-line no-param-reassign\n\n    return prev;\n  }, {});\n  return Object.keys(references).length > 0 ? references : null;\n};\n\nvar getRelatedReferences = function getRelatedReferences(previousState, resource) {\n  return Object.keys(previousState).filter(function (key) {\n    return key.includes(resource);\n  });\n};\n\nvar removeDeletedReferences = function removeDeletedReferences(removedIds) {\n  return function (previousState, key) {\n    var _a;\n\n    var idsToKeep = previousState[key].ids.filter(function (id) {\n      return !removedIds.includes(id);\n    });\n\n    if (idsToKeep.length === previousState[key].ids.length) {\n      return previousState;\n    }\n\n    return __assign(__assign({}, previousState), (_a = {}, _a[key] = {\n      ids: idsToKeep,\n      total: idsToKeep.length\n    }, _a));\n  };\n};\n\nexport var nameRelatedTo = function nameRelatedTo(reference, id, resource, target, filter) {\n  if (filter === void 0) {\n    filter = {};\n  }\n\n  var keys = Object.keys(filter);\n\n  if (!keys.length) {\n    return resource + \"_\" + reference + \"@\" + target + \"_\" + id;\n  }\n\n  return resource + \"_\" + reference + \"@\" + target + \"_\" + id + \"?\" + keys.map(function (key) {\n    return key + \"=\" + JSON.stringify(filter[key]);\n  }).join('&');\n};\nexport default oneToManyReducer;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { clearState } from '../actions/clearActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the Redux state.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\n\nvar useLogout = function useLogout() {\n  var authProvider = useAuthProvider();\n  var dispatch = useDispatch();\n  /**\n   * We need the current location to pass in the router state\n   * so that the login hook knows where to redirect to as next route after login.\n   *\n   * But if we used useLocation to get it, the logout function\n   * would be rebuilt each time the user changes location. Consequently, that\n   * would force a rerender of all components using this hook upon navigation\n   * (CoreAdminRouter for example).\n   *\n   * To avoid that, we read the location directly from history which is mutable.\n   * See: https://reacttraining.com/react-router/web/api/history/history-is-mutable\n   */\n\n  var history = useHistory();\n  var logout = useCallback(function (params, redirectTo) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (redirectTo === void 0) {\n      redirectTo = defaultAuthParams.loginUrl;\n    }\n\n    return authProvider.logout(params).then(function (redirectToFromProvider) {\n      dispatch(clearState());\n      history.push({\n        pathname: redirectToFromProvider || redirectTo,\n        state: {\n          nextPathname: history.location && history.location.pathname\n        }\n      });\n      return redirectToFromProvider;\n    });\n  }, [authProvider, history, dispatch]);\n  var logoutWithoutProvider = useCallback(function (_) {\n    history.push({\n      pathname: defaultAuthParams.loginUrl,\n      state: {\n        nextPathname: history.location && history.location.pathname\n      }\n    });\n    dispatch(clearState());\n    return Promise.resolve();\n  }, [dispatch, history]);\n  return authProvider ? logout : logoutWithoutProvider;\n};\n\nexport default useLogout;","import linkToRecord from './linkToRecord';\nexport default (function (redirectTo, basePath, id, data) {\n  if (typeof redirectTo === 'function') {\n    return redirectTo(basePath, id, data);\n  }\n\n  switch (redirectTo) {\n    case 'list':\n      return basePath;\n\n    case 'create':\n      return basePath + \"/create\";\n\n    case 'edit':\n      return linkToRecord(basePath, id);\n\n    case 'show':\n      return linkToRecord(basePath, id) + \"/show\";\n\n    default:\n      return redirectTo;\n  }\n});","module.exports = {\n  ra: {\n    action: {\n      add_filter: 'Add filter',\n      add: 'Add',\n      back: 'Go Back',\n      bulk_actions: '1 item selected |||| %{smart_count} items selected',\n      cancel: 'Cancel',\n      clear_input_value: 'Clear value',\n      clone: 'Clone',\n      confirm: 'Confirm',\n      create: 'Create',\n      delete: 'Delete',\n      edit: 'Edit',\n      export: 'Export',\n      list: 'List',\n      refresh: 'Refresh',\n      remove_filter: 'Remove this filter',\n      remove: 'Remove',\n      save: 'Save',\n      search: 'Search',\n      show: 'Show',\n      sort: 'Sort',\n      undo: 'Undo',\n      expand: 'Expand',\n      close: 'Close'\n    },\n    boolean: {\n      true: 'Yes',\n      false: 'No',\n      null: ''\n    },\n    page: {\n      create: 'Create %{name}',\n      dashboard: 'Dashboard',\n      edit: '%{name} #%{id}',\n      error: 'Something went wrong',\n      list: '%{name}',\n      loading: 'Loading',\n      not_found: 'Not Found',\n      show: '%{name} #%{id}'\n    },\n    input: {\n      file: {\n        upload_several: 'Drop some files to upload, or click to select one.',\n        upload_single: 'Drop a file to upload, or click to select it.'\n      },\n      image: {\n        upload_several: 'Drop some pictures to upload, or click to select one.',\n        upload_single: 'Drop a picture to upload, or click to select it.'\n      },\n      references: {\n        all_missing: 'Unable to find references data.',\n        many_missing: 'At least one of the associated references no longer appears to be available.',\n        single_missing: 'Associated reference no longer appears to be available.'\n      },\n      password: {\n        toggle_visible: 'Hide password',\n        toggle_hidden: 'Show password'\n      }\n    },\n    message: {\n      about: 'About',\n      are_you_sure: 'Are you sure?',\n      bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n      bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n      delete_content: 'Are you sure you want to delete this item?',\n      delete_title: 'Delete %{name} #%{id}',\n      details: 'Details',\n      error: \"A client error occurred and your request couldn't be completed.\",\n      invalid_form: 'The form is not valid. Please check for errors',\n      loading: 'The page is loading, just a moment please',\n      no: 'No',\n      not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n      yes: 'Yes'\n    },\n    navigation: {\n      no_results: 'No results found',\n      no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n      page_out_of_boundaries: 'Page number %{page} out of boundaries',\n      page_out_from_end: 'Cannot go after last page',\n      page_out_from_begin: 'Cannot go before page 1',\n      page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n      page_rows_per_page: 'Rows per page:',\n      next: 'Next',\n      prev: 'Prev'\n    },\n    auth: {\n      auth_check_error: 'Please login to continue',\n      user_menu: 'Profile',\n      username: 'Username',\n      password: 'Password',\n      sign_in: 'Sign in',\n      sign_in_error: 'Authentication failed, please retry',\n      logout: 'Logout'\n    },\n    notification: {\n      updated: 'Element updated |||| %{smart_count} elements updated',\n      created: 'Element created',\n      deleted: 'Element deleted |||| %{smart_count} elements deleted',\n      bad_item: 'Incorrect element',\n      item_doesnt_exist: 'Element does not exist',\n      http_error: 'Server communication error',\n      data_provider_error: 'dataProvider error. Check the console for details.',\n      i18n_error: 'Cannot load the translations for the specified language',\n      canceled: 'Action cancelled',\n      logged_out: 'Your session has ended, please reconnect.'\n    },\n    validation: {\n      required: 'Required',\n      minLength: 'Must be %{min} characters at least',\n      maxLength: 'Must be %{max} characters or less',\n      minValue: 'Must be at least %{min}',\n      maxValue: 'Must be %{max} or less',\n      number: 'Must be a number',\n      email: 'Must be a valid email',\n      oneOf: 'Must be one of: %{options}',\n      regex: 'Must match a specific format (regexp): %{pattern}'\n    }\n  }\n};","export default (function (basePath, id, linkType) {\n  if (linkType === void 0) {\n    linkType = 'edit';\n  }\n\n  var link = basePath + \"/\" + encodeURIComponent(id);\n\n  if (linkType === 'show') {\n    return link + \"/show\";\n  }\n\n  return link;\n});","export default (function (condition, message) {\n  if (condition && process.env.NODE_ENV !== 'production') {\n    console.warn(message); // eslint-disable-line\n  }\n});","import { GET_MANY_REFERENCE } from '../../core';\nexport var crudGetManyReference = function crudGetManyReference(reference, target, id, relatedTo, pagination, sort, filter, source) {\n  return {\n    type: CRUD_GET_MANY_REFERENCE,\n    payload: {\n      target: target,\n      id: id,\n      pagination: pagination,\n      sort: sort,\n      filter: filter,\n      source: source\n    },\n    meta: {\n      resource: reference,\n      relatedTo: relatedTo,\n      fetch: GET_MANY_REFERENCE,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_MANY_REFERENCE = 'RA/CRUD_GET_MANY_REFERENCE';\nexport var CRUD_GET_MANY_REFERENCE_LOADING = 'RA/CRUD_GET_MANY_REFERENCE_LOADING';\nexport var CRUD_GET_MANY_REFERENCE_FAILURE = 'RA/CRUD_GET_MANY_REFERENCE_FAILURE';\nexport var CRUD_GET_MANY_REFERENCE_SUCCESS = 'RA/CRUD_GET_MANY_REFERENCE_SUCCESS';","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;","import EventEmitter from 'eventemitter3';\nexport default new EventEmitter();","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nexport var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = [GET_ONE, CREATE, UPDATE];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [GET_LIST, GET_MANY, GET_MANY_REFERENCE];\nexport var fetchActionsWithArrayOfRecordsResponse = __spreadArrays(fetchActionsWithArrayOfIdentifiedRecordsResponse, [UPDATE_MANY, DELETE_MANY]);\nexport var fetchActionsWithTotalResponse = [GET_LIST, GET_MANY_REFERENCE];\nexport var sanitizeFetchType = function sanitizeFetchType(fetchType) {\n  switch (fetchType) {\n    case GET_LIST:\n      return 'getList';\n\n    case GET_ONE:\n      return 'getOne';\n\n    case GET_MANY:\n      return 'getMany';\n\n    case GET_MANY_REFERENCE:\n      return 'getManyReference';\n\n    case CREATE:\n      return 'create';\n\n    case UPDATE:\n      return 'update';\n\n    case UPDATE_MANY:\n      return 'updateMany';\n\n    case DELETE:\n      return 'delete';\n\n    case DELETE_MANY:\n      return 'deleteMany';\n\n    default:\n      return fetchType;\n  }\n};","export var FETCH_START = 'RA/FETCH_START';\nexport var fetchStart = function fetchStart() {\n  return {\n    type: FETCH_START\n  };\n};\nexport var FETCH_END = 'RA/FETCH_END';\nexport var fetchEnd = function fetchEnd() {\n  return {\n    type: FETCH_END\n  };\n};\nexport var FETCH_ERROR = 'RA/FETCH_ERROR';\nexport var fetchError = function fetchError() {\n  return {\n    type: FETCH_ERROR\n  };\n};\nexport var FETCH_CANCEL = 'RA/FETCH_CANCEL';\nexport var fetchCancel = function fetchCancel() {\n  return {\n    type: FETCH_CANCEL\n  };\n};","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { showNotification } from '../actions/notificationActions';\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', 'warning')\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', 'info', { smart_count: 23 })\n * // show the action as undoable in the notification\n * notify('Post renamed', 'info', {}, true)\n */\n\nvar useNotify = function useNotify() {\n  var dispatch = useDispatch();\n  return useCallback(function (message, type, messageArgs, undoable) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (messageArgs === void 0) {\n      messageArgs = {};\n    }\n\n    if (undoable === void 0) {\n      undoable = false;\n    }\n\n    dispatch(showNotification(message, type, {\n      messageArgs: messageArgs,\n      undoable: undoable\n    }));\n  }, [dispatch]);\n};\n\nexport default useNotify;","import { createContext } from 'react';\nvar defaultProvider = {\n  login: function login() {\n    return Promise.resolve();\n  },\n  logout: function logout() {\n    return Promise.resolve();\n  },\n  checkAuth: function checkAuth() {\n    return Promise.resolve();\n  },\n  checkError: function checkError() {\n    return Promise.resolve();\n  },\n  getPermissions: function getPermissions() {\n    return Promise.resolve();\n  }\n};\nvar AuthContext = createContext(defaultProvider);\nAuthContext.displayName = 'AuthContext';\nexport default AuthContext;","import { GET_MANY } from '../../core';\nexport var crudGetMany = function crudGetMany(resource, ids) {\n  return {\n    type: CRUD_GET_MANY,\n    payload: {\n      ids: ids\n    },\n    meta: {\n      resource: resource,\n      fetch: GET_MANY,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_MANY = 'RA/CRUD_GET_MANY';\nexport var CRUD_GET_MANY_LOADING = 'RA/CRUD_GET_MANY_LOADING';\nexport var CRUD_GET_MANY_FAILURE = 'RA/CRUD_GET_MANY_FAILURE';\nexport var CRUD_GET_MANY_SUCCESS = 'RA/CRUD_GET_MANY_SUCCESS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var SHOW_NOTIFICATION = 'RA/SHOW_NOTIFICATION';\n/**\n * Shows a snackbar/toast notification on the screen\n *\n * @see {@link https://material-ui.com/api/snackbar/|Material ui snackbar component}\n * @see {@link https://material.io/guidelines/components/snackbars-toasts.html|Material ui reference document on snackbar}\n */\n\nexport var showNotification = function showNotification( // A translatable label or text to display on notification\nmessage, // The type of the notification\ntype, // Specify additional parameters of notification\nnotificationOptions) {\n  if (type === void 0) {\n    type = 'info';\n  }\n\n  return {\n    type: SHOW_NOTIFICATION,\n    payload: __assign(__assign({}, notificationOptions), {\n      type: type,\n      message: message\n    })\n  };\n};\nexport var HIDE_NOTIFICATION = 'RA/HIDE_NOTIFICATION';\nexport var hideNotification = function hideNotification() {\n  return {\n    type: HIDE_NOTIFICATION\n  };\n};","import { useContext } from 'react';\nimport AuthContext from './AuthContext';\nexport var defaultAuthParams = {\n  loginUrl: '/login',\n  afterLoginUrl: '/'\n};\n/**\n * Get the authProvider stored in the context\n */\n\nvar useAuthProvider = function useAuthProvider() {\n  return useContext(AuthContext);\n};\n\nexport default useAuthProvider;","import { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual'; // thanks Kent C Dodds for the following helpers\n\nexport function useSafeSetState(initialState) {\n  var _a = useState(initialState),\n      state = _a[0],\n      setState = _a[1];\n\n  var mountedRef = useRef(false);\n  useEffect(function () {\n    mountedRef.current = true;\n    return function () {\n      return mountedRef.current = false;\n    };\n  }, []);\n  var safeSetState = useCallback(function (args) {\n    return mountedRef.current && setState(args);\n  }, [mountedRef, setState]);\n  return [state, safeSetState];\n}\nexport function usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n  var cleanupRef = useRef();\n  useEffect(function () {\n    if (!isEqual(previousInputs, inputs)) {\n      cleanupRef.current = callback();\n    }\n\n    return cleanupRef.current;\n  });\n  var previousInputs = usePrevious(inputs);\n}\nexport function useTimeout(ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  var _a = useState(false),\n      ready = _a[0],\n      setReady = _a[1];\n\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      setReady(true);\n    }, ms);\n    return function () {\n      clearTimeout(timer);\n    };\n  }, [ms]);\n  return ready;\n}","export var TOGGLE_SIDEBAR = 'RA/TOGGLE_SIDEBAR';\nexport var toggleSidebar = function toggleSidebar() {\n  return {\n    type: TOGGLE_SIDEBAR\n  };\n};\nexport var SET_SIDEBAR_VISIBILITY = 'RA/SET_SIDEBAR_VISIBILITY';\nexport var setSidebarVisibility = function setSidebarVisibility(isOpen) {\n  return {\n    type: SET_SIDEBAR_VISIBILITY,\n    payload: isOpen\n  };\n};\nexport var REFRESH_VIEW = 'RA/REFRESH_VIEW';\nexport var refreshView = function refreshView() {\n  return {\n    type: REFRESH_VIEW\n  };\n};","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport uniq from 'lodash/uniq';\nimport { CRUD_GET_LIST_SUCCESS, CRUD_GET_ONE_SUCCESS, CRUD_CREATE_SUCCESS } from '../../../../actions';\nimport getFetchedAt from '../../../../util/getFetchedAt';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nexport var addRecordIdsFactory = function addRecordIdsFactory(getFetchedAtCallback) {\n  return function (newRecordIds, oldRecordIds) {\n    if (newRecordIds === void 0) {\n      newRecordIds = [];\n    }\n\n    var newFetchedAt = getFetchedAtCallback(newRecordIds, oldRecordIds.fetchedAt);\n    var recordIds = uniq(oldRecordIds.filter(function (id) {\n      return !!newFetchedAt[id];\n    }).concat(newRecordIds));\n    Object.defineProperty(recordIds, 'fetchedAt', {\n      value: newFetchedAt\n    }); // non enumerable by default\n\n    return recordIds;\n  };\n};\nvar addRecordIds = addRecordIdsFactory(getFetchedAt);\n\nvar idsReducer = function idsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = [];\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    if (action.meta.fetch === DELETE) {\n      var index = previousState.map(function (el) {\n        return el === action.payload.id;\n      }) // eslint-disable-line eqeqeq\n      .indexOf(true);\n\n      if (index === -1) {\n        return previousState;\n      }\n\n      var newState = __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n\n      Object.defineProperty(newState, 'fetchedAt', {\n        value: previousState.fetchedAt\n      });\n      return newState;\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      var newState = previousState.filter(function (el) {\n        return !action.payload.ids.includes(el);\n      });\n      Object.defineProperty(newState, 'fetchedAt', {\n        value: previousState.fetchedAt\n      });\n      return newState;\n    }\n  }\n\n  switch (action.type) {\n    case CRUD_GET_LIST_SUCCESS:\n      return addRecordIds(action.payload.data.map(function (_a) {\n        var id = _a.id;\n        return id;\n      }), []);\n\n    case CRUD_GET_ONE_SUCCESS:\n    case CRUD_CREATE_SUCCESS:\n      return addRecordIds([action.payload.data.id], previousState);\n\n    default:\n      return previousState;\n  }\n};\n\nexport default idsReducer;\nexport var getIds = function getIds(state) {\n  return state;\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport pickBy from 'lodash/pickBy';\nvar defaultCacheDuration = 10 * 60 * 1000; // ten minutes\n\n/**\n * Returns a list of fetch dates by record id\n *\n * Given a list of new record ids and a previous list of fetch dates by record id,\n * add the new record ids at the current date,\n * and removes those among the old record ids that are stale.\n *\n * @param newRecordIds an array of record identifiers, e.g. [34, 56]\n * @param oldRecordFetchedAt the fetch dates of old records, e.g. { 12: new Date('12 minutes ago), 34: new Date('5 minutes ago') }\n * @param now Current time (useful for tests)\n * @param cacheDuration How long until an old record is removed from the list\n */\n\nvar getFetchedAt = function getFetchedAt(newRecordIds, oldRecordFetchedAt, now, cacheDuration) {\n  if (newRecordIds === void 0) {\n    newRecordIds = [];\n  }\n\n  if (oldRecordFetchedAt === void 0) {\n    oldRecordFetchedAt = {};\n  }\n\n  if (now === void 0) {\n    now = new Date();\n  }\n\n  if (cacheDuration === void 0) {\n    cacheDuration = defaultCacheDuration;\n  } // prepare new records and timestamp them\n\n\n  var newFetchedAt = {};\n  newRecordIds.forEach(function (recordId) {\n    return newFetchedAt[recordId] = now;\n  }); // remove outdated entry\n\n  var latestValidDate = new Date();\n  latestValidDate.setTime(latestValidDate.getTime() - cacheDuration);\n  var stillValidFetchedAt = pickBy(oldRecordFetchedAt, function (date) {\n    return date > latestValidDate;\n  });\n  return __assign(__assign({}, stillValidFetchedAt), newFetchedAt);\n};\n\nexport default getFetchedAt;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport isEqual from 'lodash/isEqual';\nimport { FETCH_END } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY } from '../../../core';\nimport getFetchedAt from '../../../util/getFetchedAt';\n/**\n * Make the fetchedAt property non enumerable\n */\n\nexport var hideFetchedAt = function hideFetchedAt(records) {\n  Object.defineProperty(records, 'fetchedAt', {\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n  return records;\n};\n/**\n * Add new records to the pool, and remove outdated ones.\n *\n * This is the equivalent of a stale-while-revalidate caching strategy:\n * The cached data is displayed before fetching, and stale data is removed\n * only once fresh data is fetched.\n */\n\nexport var addRecords = function addRecords(newRecords, oldRecords) {\n  if (newRecords === void 0) {\n    newRecords = [];\n  }\n\n  var newRecordsById = {};\n  newRecords.forEach(function (record) {\n    return newRecordsById[record.id] = record;\n  });\n  var newFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n    var id = _a.id;\n    return id;\n  }), oldRecords.fetchedAt);\n  var records = {\n    fetchedAt: newFetchedAt\n  };\n  Object.keys(newFetchedAt).forEach(function (id) {\n    return records[id] = newRecordsById[id] ? isEqual(newRecordsById[id], oldRecords[id]) ? oldRecords[id] // do not change the record to avoid a redraw\n    : newRecordsById[id] : oldRecords[id];\n  });\n  return hideFetchedAt(records);\n};\n/**\n * Remove records from the pool\n */\n\nvar removeRecords = function removeRecords(removedRecordIds, oldRecords) {\n  if (removedRecordIds === void 0) {\n    removedRecordIds = [];\n  }\n\n  var records = Object.entries(oldRecords).filter(function (_a) {\n    var key = _a[0];\n    return !removedRecordIds.includes(key);\n  }).reduce(function (obj, _a) {\n    var _b;\n\n    var key = _a[0],\n        val = _a[1];\n    return __assign(__assign({}, obj), (_b = {}, _b[key] = val, _b));\n  }, {\n    fetchedAt: {}\n  });\n  records.fetchedAt = Object.entries(oldRecords.fetchedAt).filter(function (_a) {\n    var key = _a[0];\n    return !removedRecordIds.includes(key);\n  }).reduce(function (obj, _a) {\n    var _b;\n\n    var key = _a[0],\n        val = _a[1];\n    return __assign(__assign({}, obj), (_b = {}, _b[key] = val, _b));\n  }, {});\n  return hideFetchedAt(records);\n};\n\nvar initialState = hideFetchedAt({\n  fetchedAt: {}\n});\n\nvar dataReducer = function dataReducer(previousState, _a) {\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  var payload = _a.payload,\n      meta = _a.meta;\n\n  if (meta && meta.optimistic) {\n    if (meta.fetch === UPDATE) {\n      var updatedRecord = __assign(__assign({}, previousState[payload.id]), payload.data);\n\n      return addRecords([updatedRecord], previousState);\n    }\n\n    if (meta.fetch === UPDATE_MANY) {\n      var updatedRecords = payload.ids.map(function (id) {\n        return __assign(__assign({}, previousState[id]), payload.data);\n      });\n      return addRecords(updatedRecords, previousState);\n    }\n\n    if (meta.fetch === DELETE) {\n      return removeRecords([payload.id], previousState);\n    }\n\n    if (meta.fetch === DELETE_MANY) {\n      return removeRecords(payload.ids, previousState);\n    }\n  }\n\n  if (!meta || !meta.fetchResponse || meta.fetchStatus !== FETCH_END) {\n    return previousState;\n  }\n\n  switch (meta.fetchResponse) {\n    case GET_LIST:\n    case GET_MANY:\n    case GET_MANY_REFERENCE:\n      return addRecords(payload.data, previousState);\n\n    case GET_ONE:\n    case UPDATE:\n    case CREATE:\n      return addRecords([payload.data], previousState);\n\n    default:\n      return previousState;\n  }\n};\n\nexport var getRecord = function getRecord(state, id) {\n  return state[id];\n};\nexport default dataReducer;","import { GET_LIST } from '../../core';\nexport var crudGetList = function crudGetList(resource, pagination, sort, filter) {\n  return {\n    type: CRUD_GET_LIST,\n    payload: {\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    },\n    meta: {\n      resource: resource,\n      fetch: GET_LIST,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_LIST = 'RA/CRUD_GET_LIST';\nexport var CRUD_GET_LIST_LOADING = 'RA/CRUD_GET_LIST_LOADING';\nexport var CRUD_GET_LIST_FAILURE = 'RA/CRUD_GET_LIST_FAILURE';\nexport var CRUD_GET_LIST_SUCCESS = 'RA/CRUD_GET_LIST_SUCCESS';","import { GET_ONE } from '../../core';\nexport var crudGetOne = function crudGetOne(resource, id, basePath, refresh) {\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_GET_ONE,\n    payload: {\n      id: id\n    },\n    meta: {\n      resource: resource,\n      fetch: GET_ONE,\n      basePath: basePath,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.item_doesnt_exist',\n          level: 'warning'\n        },\n        redirectTo: 'list',\n        refresh: refresh\n      }\n    }\n  };\n};\nexport var CRUD_GET_ONE = 'RA/CRUD_GET_ONE';\nexport var CRUD_GET_ONE_LOADING = 'RA/CRUD_GET_ONE_LOADING';\nexport var CRUD_GET_ONE_FAILURE = 'RA/CRUD_GET_ONE_FAILURE';\nexport var CRUD_GET_ONE_SUCCESS = 'RA/CRUD_GET_ONE_SUCCESS';","import { CREATE } from '../../core';\nexport var crudCreate = function crudCreate(resource, data, basePath, redirectTo) {\n  if (redirectTo === void 0) {\n    redirectTo = 'edit';\n  }\n\n  return {\n    type: CRUD_CREATE,\n    payload: {\n      data: data\n    },\n    meta: {\n      resource: resource,\n      fetch: CREATE,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.created',\n          level: 'info',\n          messageArgs: {\n            smart_count: 1\n          }\n        },\n        redirectTo: redirectTo,\n        basePath: basePath\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_CREATE = 'RA/CRUD_CREATE';\nexport var CRUD_CREATE_LOADING = 'RA/CRUD_CREATE_LOADING';\nexport var CRUD_CREATE_FAILURE = 'RA/CRUD_CREATE_FAILURE';\nexport var CRUD_CREATE_SUCCESS = 'RA/CRUD_CREATE_SUCCESS';","import { CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\n/**\n * This resource reducer is false until the list loads successfully\n */\n\nvar loadedOnce = function loadedOnce(previousState, _a) {\n  if (previousState === void 0) {\n    previousState = false;\n  }\n\n  var type = _a.type; // early return\n\n  if (previousState === true) {\n    return previousState;\n  }\n\n  if (type === CRUD_GET_LIST_SUCCESS) {\n    return true;\n  }\n\n  return previousState;\n};\n\nexport default loadedOnce;","import { CRUD_CHANGE_LIST_PARAMS } from '../../../../actions/listActions';\nvar defaultState = {\n  sort: null,\n  order: null,\n  page: 1,\n  perPage: null,\n  filter: {}\n};\n\nvar paramsReducer = function paramsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = defaultState;\n  }\n\n  switch (action.type) {\n    case CRUD_CHANGE_LIST_PARAMS:\n      return action.payload;\n\n    default:\n      return previousState;\n  }\n};\n\nexport default paramsReducer;","import { DELETE } from '../../core';\nexport var crudDelete = function crudDelete(resource, id, previousData, basePath, redirectTo, refresh) {\n  if (redirectTo === void 0) {\n    redirectTo = 'list';\n  }\n\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_DELETE,\n    payload: {\n      id: id,\n      previousData: previousData\n    },\n    meta: {\n      resource: resource,\n      fetch: DELETE,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.deleted',\n          level: 'info',\n          messageArgs: {\n            smart_count: 1\n          }\n        },\n        refresh: refresh,\n        redirectTo: redirectTo,\n        basePath: basePath\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_DELETE = 'RA/CRUD_DELETE';\nexport var CRUD_DELETE_LOADING = 'RA/CRUD_DELETE_LOADING';\nexport var CRUD_DELETE_FAILURE = 'RA/CRUD_DELETE_FAILURE';\nexport var CRUD_DELETE_SUCCESS = 'RA/CRUD_DELETE_SUCCESS';","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { SET_LIST_SELECTED_IDS, TOGGLE_LIST_ITEM, CRUD_DELETE_SUCCESS } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\n\nvar selectedIdsReducer = function selectedIdsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  if (action.type === SET_LIST_SELECTED_IDS) {\n    return action.payload;\n  }\n\n  if (action.type === TOGGLE_LIST_ITEM) {\n    var index = previousState.indexOf(action.payload);\n\n    if (index > -1) {\n      return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n    } else {\n      return __spreadArrays(previousState, [action.payload]);\n    }\n  }\n\n  if (action.type === CRUD_DELETE_SUCCESS) {\n    var index = previousState.indexOf(action.payload.data.id);\n\n    if (index > -1) {\n      return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n    }\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    if (action.meta.fetch === DELETE) {\n      var index = previousState.indexOf(action.payload.id);\n\n      if (index === -1) {\n        return previousState;\n      }\n\n      return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      return previousState.filter(function (id) {\n        return !action.payload.ids.includes(id);\n      });\n    }\n  }\n\n  return action.meta && action.meta.unselectAll ? initialState : previousState;\n};\n\nexport default selectedIdsReducer;","import { CRUD_GET_ONE_SUCCESS, CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\n\nvar totalReducer = function totalReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = 0;\n  }\n\n  if (action.type === CRUD_GET_ONE_SUCCESS) {\n    return previousState === 0 ? 1 : previousState;\n  }\n\n  if (action.type === CRUD_GET_LIST_SUCCESS) {\n    return action.payload.total;\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    if (action.meta.fetch === DELETE) {\n      return previousState - 1;\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      return previousState - action.payload.ids.length;\n    }\n  }\n\n  return previousState;\n};\n\nexport default totalReducer;","import { combineReducers } from 'redux';\nimport ids from './ids';\nimport loadedOnce from './loadedOnce';\nimport params from './params';\nimport selectedIds from './selectedIds';\nimport total from './total';\n\nvar defaultReducer = function defaultReducer() {\n  return null;\n};\n\nexport default combineReducers({\n  /**\n   * ts-jest does some aggressive module mocking when unit testing reducers individually.\n   * To avoid 'No reducer provided for key \"...\"' warnings,\n   * we pass default reducers. Sorry for legibility.\n   *\n   * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n   */\n  ids: ids || defaultReducer,\n  loadedOnce: loadedOnce || defaultReducer,\n  params: params || defaultReducer,\n  selectedIds: selectedIds || defaultReducer,\n  total: total || defaultReducer\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { REGISTER_RESOURCE, UNREGISTER_RESOURCE } from '../../../actions';\nimport data from './data';\nimport list from './list';\nvar initialState = {};\nexport default (function (previousState, action) {\n  var _a;\n\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  if (action.type === REGISTER_RESOURCE) {\n    var resourceState = {\n      props: action.payload,\n      data: data(undefined, action),\n      list: list(undefined, action)\n    };\n    return __assign(__assign({}, previousState), (_a = {}, _a[action.payload.name] = resourceState, _a));\n  }\n\n  if (action.type === UNREGISTER_RESOURCE) {\n    return Object.keys(previousState).reduce(function (acc, key) {\n      var _a;\n\n      if (key === action.payload) {\n        return acc;\n      }\n\n      return __assign(__assign({}, acc), (_a = {}, _a[key] = previousState[key], _a));\n    }, {});\n  }\n\n  if (!action.meta || !action.meta.resource) {\n    return previousState;\n  }\n\n  var resources = Object.keys(previousState);\n  var newState = resources.reduce(function (acc, resource) {\n    var _a;\n\n    return __assign(__assign({}, acc), (_a = {}, _a[resource] = action.meta.resource === resource ? {\n      props: previousState[resource].props,\n      data: data(previousState[resource].data, action),\n      list: list(previousState[resource].list, action)\n    } : previousState[resource], _a));\n  }, {});\n  return newState;\n});\nexport var getResources = function getResources(state) {\n  return Object.keys(state).map(function (key) {\n    return state[key].props;\n  });\n};\nexport var getReferenceResource = function getReferenceResource(state, props) {\n  return state[props.reference];\n};","import { FETCH_START, FETCH_END, FETCH_ERROR, FETCH_CANCEL } from '../../actions/fetchActions';\n\nvar loadingReducer = function loadingReducer(previousState, _a) {\n  if (previousState === void 0) {\n    previousState = 0;\n  }\n\n  var type = _a.type;\n\n  switch (type) {\n    case FETCH_START:\n      return previousState + 1;\n\n    case FETCH_END:\n    case FETCH_ERROR:\n    case FETCH_CANCEL:\n      return Math.max(previousState - 1, 0);\n\n    default:\n      return previousState;\n  }\n};\n\nexport default loadingReducer;","import { SHOW_NOTIFICATION, HIDE_NOTIFICATION } from '../../actions/notificationActions';\nimport { UNDO } from '../../actions/undoActions';\n\nvar notificationsReducer = function notificationsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = [];\n  }\n\n  switch (action.type) {\n    case SHOW_NOTIFICATION:\n      return previousState.concat(action.payload);\n\n    case HIDE_NOTIFICATION:\n    case UNDO:\n      return previousState.slice(1);\n\n    default:\n      return previousState;\n  }\n};\n\nexport default notificationsReducer;\n/**\n * Returns the first available notification to show\n * @param {Object} state - Redux state\n */\n\nexport var getNotification = function getNotification(state) {\n  return state.admin.notifications[0];\n};","import { GET_LIST } from '../../core';\nexport var crudGetMatching = function crudGetMatching(reference, relatedTo, pagination, sort, filter) {\n  return {\n    type: CRUD_GET_MATCHING,\n    payload: {\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    },\n    meta: {\n      resource: reference,\n      relatedTo: relatedTo,\n      fetch: GET_LIST,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_MATCHING = 'RA/CRUD_GET_MATCHING';\nexport var CRUD_GET_MATCHING_LOADING = 'RA/CRUD_GET_MATCHING_LOADING';\nexport var CRUD_GET_MATCHING_FAILURE = 'RA/CRUD_GET_MATCHING_FAILURE';\nexport var CRUD_GET_MATCHING_SUCCESS = 'RA/CRUD_GET_MATCHING_SUCCESS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { CRUD_GET_MATCHING_SUCCESS, CRUD_GET_MATCHING_FAILURE } from '../../../actions/dataActions';\nvar initialState = {};\n\nvar possibleValuesreducer = function possibleValuesreducer(previousState, action) {\n  var _a, _b;\n\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  switch (action.type) {\n    case CRUD_GET_MATCHING_SUCCESS:\n      return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = action.payload.data.map(function (record) {\n        return record.id;\n      }), _a));\n\n    case CRUD_GET_MATCHING_FAILURE:\n      return __assign(__assign({}, previousState), (_b = {}, _b[action.meta.relatedTo] = {\n        error: action.error\n      }, _b));\n\n    default:\n      return previousState;\n  }\n};\n\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return state[props.referenceSource(props.resource, props.source)];\n};\nexport var getPossibleReferences = function getPossibleReferences(referenceState, possibleValues, selectedIds) {\n  if (selectedIds === void 0) {\n    selectedIds = [];\n  }\n\n  if (!possibleValues) {\n    return null;\n  }\n\n  if (possibleValues.error) {\n    return possibleValues;\n  }\n\n  possibleValues = Array.from(possibleValues);\n  selectedIds.forEach(function (id) {\n    return possibleValues.some(function (value) {\n      return value === id;\n    }) || possibleValues.unshift(id);\n  });\n  return possibleValues.map(function (id) {\n    return referenceState.data[id];\n  }).filter(function (r) {\n    return typeof r !== 'undefined';\n  });\n};\nexport default possibleValuesreducer;","import { combineReducers } from 'redux';\nimport oneToMany from './oneToMany';\nimport possibleValues, { getPossibleReferences as pvGetPossibleReferences, getPossibleReferenceValues as pvGetPossibleReferenceValues } from './possibleValues';\n\nvar defaultReducer = function defaultReducer() {\n  return null;\n};\n\nexport default combineReducers({\n  /**\n   * ts-jest does some aggressive module mocking when unit testing reducers individually.\n   * To avoid 'No reducer provided for key \"...\"' warnings,\n   * we pass default reducers. Sorry for legibility.\n   *\n   * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n   */\n  oneToMany: oneToMany || defaultReducer,\n  possibleValues: possibleValues || defaultReducer\n});\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return pvGetPossibleReferenceValues(state.possibleValues, props);\n};\nexport var getPossibleReferences = pvGetPossibleReferences;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { TOGGLE_SIDEBAR, SET_SIDEBAR_VISIBILITY, REFRESH_VIEW, START_OPTIMISTIC_MODE, STOP_OPTIMISTIC_MODE } from '../../actions';\nvar defaultState = {\n  sidebarOpen: false,\n  optimistic: false,\n  viewVersion: 0\n};\n\nvar uiReducer = function uiReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = defaultState;\n  }\n\n  switch (action.type) {\n    case TOGGLE_SIDEBAR:\n      return __assign(__assign({}, previousState), {\n        sidebarOpen: !previousState.sidebarOpen\n      });\n\n    case SET_SIDEBAR_VISIBILITY:\n      return __assign(__assign({}, previousState), {\n        sidebarOpen: action.payload\n      });\n\n    case REFRESH_VIEW:\n      return __assign(__assign({}, previousState), {\n        viewVersion: previousState.viewVersion + 1\n      });\n\n    case START_OPTIMISTIC_MODE:\n      return __assign(__assign({}, previousState), {\n        optimistic: true\n      });\n\n    case STOP_OPTIMISTIC_MODE:\n      return __assign(__assign({}, previousState), {\n        optimistic: false\n      });\n\n    default:\n      return previousState;\n  }\n};\n\nexport default uiReducer;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n}; // reducer for queries called via useQueryWithStore and without a custom action name\n\n\nvar customQueriesReducer = function customQueriesReducer(previousState, _a) {\n  var _b;\n\n  if (previousState === void 0) {\n    previousState = {};\n  }\n\n  var type = _a.type,\n      requestPayload = _a.requestPayload,\n      payload = _a.payload,\n      meta = _a.meta;\n\n  if (type !== 'CUSTOM_QUERY_SUCCESS') {\n    return previousState;\n  }\n\n  var key = JSON.stringify({\n    type: meta.fetchResponse,\n    resource: meta.resource,\n    payload: requestPayload\n  });\n  return __assign(__assign({}, previousState), (_b = {}, _b[key] = payload, _b));\n};\n\nexport default customQueriesReducer;","import { combineReducers } from 'redux';\nimport resources, { getResources as resourceGetResources, getReferenceResource as resourceGetReferenceResource } from './resource';\nimport loading from './loading';\nimport notifications from './notifications';\nimport references, { getPossibleReferenceValues as referencesGetPossibleReferenceValues } from './references';\nimport ui from './ui';\nimport customQueries from './customQueries';\n\nvar defaultReducer = function defaultReducer() {\n  return null;\n};\n\nexport default combineReducers({\n  /**\n   * ts-jest does some aggressive module mocking when unit testing reducers individually.\n   * To avoid 'No reducer provided for key \"...\"' warnings,\n   * we pass default reducers. Sorry for legibility.\n   *\n   * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n   */\n  resources: resources || defaultReducer,\n  customQueries: customQueries || defaultReducer,\n  loading: loading || defaultReducer,\n  notifications: notifications || defaultReducer,\n  references: references || defaultReducer,\n  ui: ui || defaultReducer\n});\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return referencesGetPossibleReferenceValues(state.references, props);\n};\nexport var getResources = function getResources(state) {\n  return resourceGetResources(state.resources);\n};\nexport var getReferenceResource = function getReferenceResource(state, props) {\n  return resourceGetReferenceResource(state.resources, props);\n};\nexport { getPossibleReferences } from './references';","export var REGISTER_RESOURCE = 'RA/REGISTER_RESOURCE';\nexport var registerResource = function registerResource(resource) {\n  return {\n    type: REGISTER_RESOURCE,\n    payload: resource\n  };\n};\nexport var UNREGISTER_RESOURCE = 'RA/UNREGISTER_RESOURCE';\nexport var unregisterResource = function unregisterResource(resourceName) {\n  return {\n    type: UNREGISTER_RESOURCE,\n    payload: resourceName\n  };\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport admin, { getResources as adminGetResources, getReferenceResource as adminGetReferenceResource, getPossibleReferenceValues as adminGetPossibleReferenceValues } from './admin';\nexport { getNotification } from './admin/notifications';\nexport default (function (customReducers, history) {\n  return combineReducers(__assign({\n    admin: admin,\n    router: connectRouter(history)\n  }, customReducers));\n});\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return adminGetPossibleReferenceValues(state.admin, props);\n};\nexport var getResources = function getResources(state) {\n  return adminGetResources(state.admin);\n};\nexport var getReferenceResource = function getReferenceResource(state, props) {\n  return adminGetReferenceResource(state.admin, props);\n};\nexport { getPossibleReferences } from './admin';","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { all, put, call, select, takeLatest, takeEvery } from 'redux-saga/effects';\nimport { push, replace } from 'connected-react-router';\nimport { showNotification, hideNotification } from '../actions/notificationActions';\nimport { USER_LOGIN, USER_LOGIN_LOADING, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_CHECK, USER_LOGOUT } from '../actions/authActions';\nimport { FETCH_ERROR } from '../actions/fetchActions';\nimport { clearState } from '../actions/clearActions';\nexport default (function (authProvider) {\n  if (!authProvider) {\n    return function () {\n      return null;\n    };\n  }\n\n  return function watchAuthActions() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all([takeEvery(USER_LOGIN, handleLogin(authProvider)), takeEvery(USER_CHECK, handleCheck(authProvider)), takeEvery(USER_LOGOUT, handleLogout(authProvider)), takeLatest(FETCH_ERROR, handleFetchError(authProvider))])];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n});\n\nvar nextPathnameSelector = function nextPathnameSelector(state) {\n  var locationState = state.router.location.state;\n  return locationState && locationState.nextPathname;\n};\n\nvar currentPathnameSelector = function currentPathnameSelector(state) {\n  return state.router.location;\n};\n\nvar getErrorMessage = function getErrorMessage(error, defaultMessage) {\n  return typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? defaultMessage : error.message;\n};\n\nexport var handleLogin = function handleLogin(authProvider) {\n  return function (action) {\n    var payload, meta, authPayload, redirectTo, e_1, errorMessage;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          payload = action.payload, meta = action.meta;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 7,, 10]);\n\n          return [4\n          /*yield*/\n          , put({\n            type: USER_LOGIN_LOADING\n          })];\n\n        case 2:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , call([authProvider, 'login'], payload)];\n\n        case 3:\n          authPayload = _a.sent();\n          return [4\n          /*yield*/\n          , put({\n            type: USER_LOGIN_SUCCESS,\n            payload: authPayload\n          })];\n\n        case 4:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , meta.pathName || select(nextPathnameSelector)];\n\n        case 5:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(push(redirectTo || '/'))];\n\n        case 6:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 7:\n          e_1 = _a.sent();\n          return [4\n          /*yield*/\n          , put({\n            type: USER_LOGIN_FAILURE,\n            error: e_1,\n            meta: {\n              auth: true\n            }\n          })];\n\n        case 8:\n          _a.sent();\n\n          errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');\n          return [4\n          /*yield*/\n          , put(showNotification(errorMessage, 'warning'))];\n\n        case 9:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport var handleCheck = function handleCheck(authProvider) {\n  return function (action) {\n    var payload, meta, error_1, redirectTo, errorMessage;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          payload = action.payload, meta = action.meta;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 8]);\n\n          return [4\n          /*yield*/\n          , call([authProvider, 'checkAuth'], payload)];\n\n        case 2:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 8];\n\n        case 3:\n          error_1 = _a.sent();\n          return [4\n          /*yield*/\n          , call([authProvider, 'logout'], undefined)];\n\n        case 4:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(replace({\n            pathname: error_1 && error_1.redirectTo || redirectTo || '/login',\n            state: {\n              nextPathname: meta.pathName\n            }\n          }))];\n\n        case 5:\n          _a.sent(); // Clear the state before showing a notification as it would be dismissed immediately otherwise\n\n\n          return [4\n          /*yield*/\n          , put(clearState())];\n\n        case 6:\n          // Clear the state before showing a notification as it would be dismissed immediately otherwise\n          _a.sent();\n\n          errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');\n          return [4\n          /*yield*/\n          , put(showNotification(errorMessage, 'warning'))];\n\n        case 7:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 8];\n\n        case 8:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport var handleLogout = function handleLogout(authProvider) {\n  return function (action) {\n    var payload, redirectTo;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          payload = action.payload;\n          return [4\n          /*yield*/\n          , call([authProvider, 'logout'], undefined)];\n\n        case 1:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(push(payload && payload.redirectTo || redirectTo || '/login'))];\n\n        case 2:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , put(clearState())];\n\n        case 3:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport var handleFetchError = function handleFetchError(authProvider) {\n  return function (action) {\n    var error, e_2, nextPathname, redirectTo;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          error = action.error;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 10]);\n\n          return [4\n          /*yield*/\n          , call([authProvider, 'checkError'], error)];\n\n        case 2:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 3:\n          e_2 = _a.sent();\n          return [4\n          /*yield*/\n          , select(currentPathnameSelector)];\n\n        case 4:\n          nextPathname = _a.sent();\n          return [4\n          /*yield*/\n          , call([authProvider, 'logout'], undefined)];\n\n        case 5:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(push({\n            pathname: redirectTo || '/login',\n            state: {\n              nextPathname: nextPathname\n            }\n          }))];\n\n        case 6:\n          _a.sent(); // Clear the state before showing a notification as it would be dismissed immediately otherwise\n\n\n          return [4\n          /*yield*/\n          , put(clearState())];\n\n        case 7:\n          // Clear the state before showing a notification as it would be dismissed immediately otherwise\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , put(hideNotification())];\n\n        case 8:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , put(showNotification('ra.notification.logged_out', 'warning'))];\n\n        case 9:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var USER_LOGIN = 'RA/USER_LOGIN';\nexport var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';\nexport var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';\nexport var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';\nexport var userLogin = function userLogin(payload, pathName) {\n  return {\n    type: USER_LOGIN,\n    payload: payload,\n    meta: {\n      auth: true,\n      pathName: pathName\n    }\n  };\n};\nexport var USER_CHECK = 'RA/USER_CHECK';\nexport var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';\nexport var userCheck = function userCheck(payload, pathName, routeParams) {\n  if (routeParams === void 0) {\n    routeParams = {};\n  }\n\n  return {\n    type: USER_CHECK,\n    payload: __assign(__assign({}, payload), {\n      routeParams: routeParams\n    }),\n    meta: {\n      auth: true,\n      pathName: pathName\n    }\n  };\n};\nexport var USER_LOGOUT = 'RA/USER_LOGOUT';\n/**\n * Action to trigger logout of the current user. The entire redux state will be cleared\n * thanks to the resettableAppReducer in Admin.\n * @see: Admin.js\n * @param redirectTo Path to direct to after logout\n * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}\n */\n\nexport var userLogout = function userLogout(redirectTo) {\n  return {\n    type: USER_LOGOUT,\n    payload: {\n      redirectTo: redirectTo\n    },\n    meta: {\n      auth: true\n    }\n  };\n};","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { call, takeEvery } from 'redux-saga/effects';\n/**\n * Callback Side Effects\n */\n\nfunction handleCallback(_a) {\n  var payload = _a.payload,\n      requestPayload = _a.requestPayload,\n      error = _a.error,\n      callback = _a.meta.callback;\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , call(callback, {\n          payload: payload,\n          requestPayload: requestPayload,\n          error: error\n        })];\n\n      case 1:\n        _b.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\n\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery(function (action) {\n          return action.meta && action.meta.callback;\n        }, handleCallback)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { all, call, cancelled, put, select, takeEvery } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType } from '../core';\n\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n  if (logger === void 0) {\n    logger = console.error;\n  }\n\n  if (!response.hasOwnProperty('data')) {\n    logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithArrayOfRecordsResponse.includes(type) && !Array.isArray(response.data)) {\n    logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) && Array.isArray(response.data) && response.data.length > 0 && response.data.some(function (d) {\n    return !d.hasOwnProperty('id');\n  })) {\n    logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithRecordResponse.includes(type) && !response.data.hasOwnProperty('id')) {\n    logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithTotalResponse.includes(type) && !response.hasOwnProperty('total')) {\n    logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n}\n\nexport function handleFetch(dataProvider, action) {\n  var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n        restType = fetchMeta;\n        successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n        failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n        _b.label = 1;\n\n      case 1:\n        _b.trys.push([1, 7, 10, 14]);\n\n        return [4\n        /*yield*/\n        , select(function (state) {\n          return state.admin.ui.optimistic;\n        })];\n\n      case 2:\n        isOptimistic = _b.sent();\n\n        if (isOptimistic) {\n          // in optimistic mode, all fetch actions are canceled,\n          // so the admin uses the store without synchronization\n          return [2\n          /*return*/\n          ];\n        }\n\n        return [4\n        /*yield*/\n        , all([put({\n          type: type + \"_LOADING\",\n          payload: payload,\n          meta: meta\n        }), put({\n          type: FETCH_START\n        })])];\n\n      case 3:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n\n      case 4:\n        response = _b.sent();\n\n        if (process.env.NODE_ENV !== 'production') {\n          validateResponseFormat(response, restType);\n        }\n\n        return [4\n        /*yield*/\n        , put({\n          type: type + \"_SUCCESS\",\n          payload: response,\n          requestPayload: payload,\n          meta: __assign(__assign(__assign({}, meta), successSideEffects), {\n            fetchResponse: restType,\n            fetchStatus: FETCH_END\n          })\n        })];\n\n      case 5:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put({\n          type: FETCH_END\n        })];\n\n      case 6:\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 14];\n\n      case 7:\n        error_1 = _b.sent();\n        return [4\n        /*yield*/\n        , put({\n          type: type + \"_FAILURE\",\n          error: error_1.message ? error_1.message : error_1,\n          payload: error_1.body ? error_1.body : null,\n          requestPayload: payload,\n          meta: __assign(__assign(__assign({}, meta), failureSideEffects), {\n            fetchResponse: restType,\n            fetchStatus: FETCH_ERROR\n          })\n        })];\n\n      case 8:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put({\n          type: FETCH_ERROR,\n          error: error_1\n        })];\n\n      case 9:\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 14];\n\n      case 10:\n        return [4\n        /*yield*/\n        , cancelled()];\n\n      case 11:\n        if (!_b.sent()) return [3\n        /*break*/\n        , 13];\n        return [4\n        /*yield*/\n        , put({\n          type: FETCH_CANCEL\n        })];\n\n      case 12:\n        _b.sent();\n\n        return [2\n        /*return*/\n        ];\n\n      case 13:\n        return [7\n        /*endfinally*/\n        ];\n\n      case 14:\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport var takeFetchAction = function takeFetchAction(action) {\n  return action.meta && action.meta.fetch;\n};\n\nvar fetch = function fetch(dataProvider) {\n  return function watchFetch() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , takeEvery(takeFetchAction, handleFetch, dataProvider)];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\n\nexport default fetch;","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\n/**\n * Notification Side Effects\n */\n\nfunction handleNotification(_a) {\n  var body, level, _b, messageArgs;\n\n  var error = _a.error,\n      _c = _a.meta,\n      notification = _c.notification,\n      optimistic = _c.optimistic;\n  return __generator(this, function (_d) {\n    switch (_d.label) {\n      case 0:\n        body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;\n        if (!error) return [3\n        /*break*/\n        , 2];\n        return [4\n        /*yield*/\n        , put(showNotification(typeof error === 'string' ? error : error.message || body, level || 'warning', {\n          messageArgs: messageArgs,\n          undoable: false\n        }))];\n\n      case 1:\n        return [2\n        /*return*/\n        , _d.sent()];\n\n      case 2:\n        return [4\n        /*yield*/\n        , put(showNotification(body, level || 'info', {\n          messageArgs: messageArgs,\n          undoable: optimistic\n        }))];\n\n      case 3:\n        _d.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\n\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery( // @ts-ignore\n        function (action) {\n          return action.meta && action.meta.notification;\n        }, handleNotification)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Redirection Side Effects\n */\n\nexport function handleRedirection(_a) {\n  var payload = _a.payload,\n      requestPayload = _a.requestPayload,\n      _b = _a.meta,\n      basePath = _b.basePath,\n      redirectTo = _b.redirectTo;\n  return __generator(this, function (_c) {\n    switch (_c.label) {\n      case 0:\n        if (!!redirectTo) return [3\n        /*break*/\n        , 2];\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 1:\n        _c.sent();\n\n        return [2\n        /*return*/\n        ];\n\n      case 2:\n        return [4\n        /*yield*/\n        , put(push(resolveRedirectTo(redirectTo, basePath, payload ? payload.id || (payload.data ? payload.data.id : null) : requestPayload ? requestPayload.id : null, payload && payload.data ? payload.data : requestPayload && requestPayload.data ? requestPayload.data : null)))];\n\n      case 3:\n        _c.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery( // @ts-ignore\n        function (action) {\n          return action.meta && typeof action.meta.redirectTo !== 'undefined';\n        }, handleRedirection)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { cancel, delay, fork, put, takeEvery } from 'redux-saga/effects';\n/**\n * Distinct reducer on ids\n *\n * @example\n * addIds([1, 2, 3], { payload: { ids: [3, 4] } })\n *   => [1, 2, 3, 4]\n */\n\nvar addIds = function addIds(oldIds, _a) {\n  var ids = _a.payload.ids; // Using a Set ensure we only keep distinct values\n\n  var oldIdsSet = new Set(oldIds);\n  ids.forEach(function (id) {\n    return oldIdsSet.add(id);\n  });\n  return Array.from(oldIdsSet);\n}; // We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\n\n\nexport var finalizeFactory = function finalizeFactory(tasks, accumulations) {\n  /**\n   * Fetch the accumulated value after a delay\n   *\n   * As this gets canceled by subsequent calls to accumulate(), only the last\n   * call to finalize() will not be canceled. The delay acts as a\n   * debounce.\n   *\n   * @see https://redux-saga.js.org/docs/recipes/#debouncing\n   */\n  return function finalize(key, actionCreator) {\n    var accumulatedValue, action;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          // combined with cancel(), this debounces the calls\n          return [4\n          /*yield*/\n          , delay(50)];\n\n        case 1:\n          // combined with cancel(), this debounces the calls\n          _a.sent();\n\n          accumulatedValue = accumulations[key]; // Remove the latest accumulated value so that they do not interfere with later calls\n\n          delete accumulations[key];\n          action = actionCreator(key, accumulatedValue);\n          return [4\n          /*yield*/\n          , put(action)];\n\n        case 2:\n          _a.sent();\n\n          delete tasks[key];\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n}; // We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\n\nexport var accumulateFactory = function accumulateFactory(tasks, accumulations, finalize) {\n  /**\n   * Accumulate actions and eventually redispatch an action with the accumulated payload\n   *\n   * @example\n   * accumulate({\n   *    type: CRUD_GET_MANY_ACCUMULATE,\n   *    payload: { ids: [1, 2, 3], resource: 'posts' },\n   *    meta: { accumulate: crudGetMany }\n   * });\n   * accumulate({\n   *    type: CRUD_GET_MANY_ACCUMULATE,\n   *    payload: { ids: [4, 5], resource: 'posts' },\n   *    meta: { accumulate: crudGetMany }\n   * });\n   *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })\n   *\n   * @example\n   * accumulate({\n   *    type: CRUD_GET_MATCHING_ACCUMULATE,\n   *    meta: {\n   *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n   *      accumulateValues: () => true,\n   *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n   *    }\n   * });\n   * accumulate({\n   *    type: CRUD_GET_MATCHING_ACCUMULATE,\n   *    meta: {\n   *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n   *      accumulateValues: () => true,\n   *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n   *    }\n   * });\n   *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})\n   */\n  return function accumulate(action) {\n    var key, accumulateValues, _a, _b;\n\n    return __generator(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          key = action.meta.accumulateKey || action.payload.resource;\n          if (!tasks[key]) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , cancel(tasks[key])];\n\n        case 1:\n          _c.sent();\n\n          _c.label = 2;\n\n        case 2:\n          accumulateValues = action.meta.accumulateValues || addIds; // accumulateValues is a reducer function, it receives the previous accumulatedValues for\n          // the provided key, and must return the updated accumulatedValues\n\n          accumulations[key] = accumulateValues(accumulations[key], action);\n          _a = tasks;\n          _b = key;\n          return [4\n          /*yield*/\n          , fork(finalize, key, action.meta.accumulate)];\n\n        case 3:\n          _a[_b] = _c.sent();\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport default function () {\n  var accumulations, tasks;\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        accumulations = {};\n        tasks = {};\n        return [4\n        /*yield*/\n        , takeEvery(function (action) {\n          return action.meta && action.meta.accumulate;\n        }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Refresh Side Effects\n */\n\nfunction handleRefresh() {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\n\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery(function (action) {\n          return action.meta && action.meta.refresh;\n        }, handleRefresh)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n  var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        action = undoableAction.payload.action;\n        _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n        return [4\n        /*yield*/\n        , put(startOptimisticMode())];\n\n      case 1:\n        _b.sent(); // dispatch action in optimistic mode (no fetch), with success side effects\n\n\n        return [4\n        /*yield*/\n        , put(__assign(__assign({}, action), {\n          type: action.type + \"_OPTIMISTIC\",\n          meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), {\n            optimistic: true\n          })\n        }))];\n\n      case 2:\n        // dispatch action in optimistic mode (no fetch), with success side effects\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , race({\n          undo: take(UNDO),\n          complete: take(COMPLETE)\n        })];\n\n      case 3:\n        complete = _b.sent().complete;\n        return [4\n        /*yield*/\n        , put(stopOptimisticMode())];\n\n      case 4:\n        _b.sent();\n\n        if (!complete) return [3\n        /*break*/\n        , 6]; // if not cancelled, redispatch the action, this time immediate, and without success side effect\n\n        return [4\n        /*yield*/\n        , put(__assign(__assign({}, action), {\n          meta: __assign(__assign({}, metaWithoutSideEffects), {\n            onSuccess: {\n              refresh: true\n            },\n            onFailure: __assign(__assign({}, onFailure), {\n              refresh: true\n            })\n          })\n        }))];\n\n      case 5:\n        // if not cancelled, redispatch the action, this time immediate, and without success side effect\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 9];\n\n      case 6:\n        return [4\n        /*yield*/\n        , put(showNotification('ra.notification.canceled'))];\n\n      case 7:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 8:\n        _b.sent();\n\n        _b.label = 9;\n\n      case 9:\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport default function watchUndoable() {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        // @ts-ignore\n        return [4\n        /*yield*/\n        , takeEvery(UNDOABLE, handleUndoRace)];\n\n      case 1:\n        // @ts-ignore\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { all } from 'redux-saga/effects';\nimport auth from './auth';\nimport callback from './callback';\nimport fetch from './fetch';\nimport notification from './notification';\nimport redirection from './redirection';\nimport accumulate from './accumulate';\nimport refresh from './refresh';\nimport undo from './undo';\n/**\n * @param {Object} dataProvider A Data Provider function\n * @param {Function} authProvider An Authentication Provider object\n */\n\nexport default (function (dataProvider, authProvider) {\n  return function admin() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all([auth(authProvider)(), undo(), fetch(dataProvider)(), accumulate(), redirection(), refresh(), notification(), callback()])];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n  var dataProvider = _a.dataProvider,\n      history = _a.history,\n      _b = _a.customReducers,\n      customReducers = _b === void 0 ? {} : _b,\n      _c = _a.authProvider,\n      authProvider = _c === void 0 ? null : _c,\n      _d = _a.customSagas,\n      customSagas = _d === void 0 ? [] : _d,\n      initialState = _a.initialState;\n  var appReducer = createAppReducer(customReducers, history);\n\n  var resettableAppReducer = function resettableAppReducer(state, action) {\n    return appReducer(action.type !== CLEAR_STATE ? state : // Erase data from the store but keep location, notifications, ui prefs, etc.\n    __assign(__assign({}, state), {\n      admin: __assign(__assign({}, state.admin), {\n        resources: {},\n        customQueries: {},\n        references: {\n          oneToMany: {},\n          possibleValues: {}\n        }\n      })\n    }), action);\n  };\n\n  var saga = function rootSaga() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all(__spreadArrays([adminSaga(dataProvider, authProvider)], customSagas).map(fork))];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n\n  var sagaMiddleware = createSagaMiddleware();\n  var typedWindow = window;\n  var composeEnhancers = process.env.NODE_ENV === 'development' && typeof typedWindow !== 'undefined' && typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    trace: true,\n    traceLimit: 25\n  }) || compose;\n  var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n  sagaMiddleware.run(saga);\n  return store;\n});","import { createContext } from 'react';\nvar TranslationContext = createContext({\n  locale: 'en',\n  setLocale: function setLocale() {\n    return Promise.resolve();\n  },\n  i18nProvider: {\n    translate: function translate(x) {\n      return x;\n    },\n    changeLocale: function changeLocale() {\n      return Promise.resolve();\n    },\n    getLocale: function getLocale() {\n      return 'en';\n    }\n  }\n});\nTranslationContext.displayName = 'TranslationContext';\nexport { TranslationContext };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useCallback, useMemo, Children } from 'react';\nimport { useSafeSetState } from '../util/hooks';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Creates a translation context, available to its children\n *\n * @example\n *     const MyApp = () => (\n *         <Provider store={store}>\n *             <TranslationProvider i18nProvider={i18nProvider}>\n *                 <!-- Child components go here -->\n *             </TranslationProvider>\n *         </Provider>\n *     );\n */\n\nvar TranslationProvider = function TranslationProvider(props) {\n  var i18nProvider = props.i18nProvider,\n      children = props.children;\n\n  var _a = useSafeSetState({\n    locale: i18nProvider ? i18nProvider.getLocale() : 'en',\n    i18nProvider: i18nProvider\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var setLocale = useCallback(function (newLocale) {\n    return setState({\n      locale: newLocale,\n      i18nProvider: i18nProvider\n    });\n  }, [i18nProvider, setState]); // Allow locale modification by including setLocale in the context\n  // This can't be done in the initial state because setState doesn't exist yet\n\n  var value = useMemo(function () {\n    return __assign(__assign({}, state), {\n      setLocale: setLocale\n    });\n  }, [setLocale, state]);\n  return React.createElement(TranslationContext.Provider, {\n    value: value\n  }, Children.only(children));\n};\n\nexport default TranslationProvider;","import React, { useContext } from 'react';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { createHashHistory } from 'history';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider } from '../dataProvider';\nimport createAdminStore from './createAdminStore';\nimport TranslationProvider from '../i18n/TranslationProvider';\n\nvar CoreAdminContext = function CoreAdminContext(_a) {\n  var authProvider = _a.authProvider,\n      dataProvider = _a.dataProvider,\n      i18nProvider = _a.i18nProvider,\n      children = _a.children,\n      history = _a.history,\n      customReducers = _a.customReducers,\n      customSagas = _a.customSagas,\n      initialState = _a.initialState;\n  var reduxIsAlreadyInitialized = !!useContext(ReactReduxContext);\n\n  if (!dataProvider) {\n    throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n  }\n\n  var finalAuthProvider = authProvider instanceof Function ? convertLegacyAuthProvider(authProvider) : authProvider;\n  var finalDataProvider = dataProvider instanceof Function ? convertLegacyDataProvider(dataProvider) : dataProvider;\n  var finalHistory = history || createHashHistory();\n\n  var renderCore = function renderCore() {\n    return React.createElement(AuthContext.Provider, {\n      value: finalAuthProvider\n    }, React.createElement(DataProviderContext.Provider, {\n      value: finalDataProvider\n    }, React.createElement(TranslationProvider, {\n      i18nProvider: i18nProvider\n    }, React.createElement(ConnectedRouter, {\n      history: finalHistory\n    }, children))));\n  };\n\n  if (reduxIsAlreadyInitialized) {\n    if (!history) {\n      throw new Error(\"Missing history prop.\\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\\nReact-admin uses this history for its own ConnectedRouter.\");\n    }\n\n    return renderCore();\n  } else {\n    return React.createElement(Provider, {\n      store: createAdminStore({\n        authProvider: finalAuthProvider,\n        customReducers: customReducers,\n        customSagas: customSagas,\n        dataProvider: finalDataProvider,\n        initialState: initialState,\n        history: finalHistory\n      })\n    }, renderCore());\n  }\n};\n\nexport default CoreAdminContext;","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS } from './types';\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\n\nexport default (function (legacyAuthProvider) {\n  var authProvider = function authProvider() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return legacyAuthProvider.apply(null, args);\n  };\n\n  authProvider.login = function (params) {\n    return legacyAuthProvider(AUTH_LOGIN, params);\n  };\n\n  authProvider.logout = function (params) {\n    return legacyAuthProvider(AUTH_LOGOUT, params);\n  };\n\n  authProvider.checkAuth = function (params) {\n    return legacyAuthProvider(AUTH_CHECK, params);\n  };\n\n  authProvider.checkError = function (error) {\n    return legacyAuthProvider(AUTH_ERROR, error);\n  };\n\n  authProvider.getPermissions = function (params) {\n    return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n  };\n\n  return authProvider;\n});","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource, polyglotI18nProvider } from 'react-admin';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(locale => messages[locale])\n */\n\nexport default (function (getMessages, initialLocale, polyglotOptions) {\n  if (initialLocale === void 0) {\n    initialLocale = 'en';\n  }\n\n  if (polyglotOptions === void 0) {\n    polyglotOptions = {};\n  }\n\n  var locale = initialLocale;\n  var messages = getMessages(initialLocale);\n\n  if (messages instanceof Promise) {\n    throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\" + initialLocale + \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\");\n  }\n\n  var polyglot = new Polyglot(__assign({\n    locale: locale,\n    phrases: __assign({\n      '': ''\n    }, messages)\n  }, polyglotOptions));\n\n  var _translate = polyglot.t.bind(polyglot);\n\n  return {\n    translate: function translate(key, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      return _translate(key, options);\n    },\n    changeLocale: function changeLocale(newLocale) {\n      return new Promise(function (resolve) {\n        // so we systematically return a Promise for the messages\n        // i18nProvider may return a Promise for language changes,\n        return resolve(getMessages(newLocale));\n      }).then(function (messages) {\n        locale = newLocale;\n        var newPolyglot = new Polyglot(__assign({\n          locale: newLocale,\n          phrases: __assign({\n            '': ''\n          }, messages)\n        }, polyglotOptions));\n        _translate = newPolyglot.t.bind(newPolyglot);\n      });\n    },\n    getLocale: function getLocale() {\n      return locale;\n    }\n  };\n});","import defaultMessages from 'ra-language-english';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nexport default polyglotI18nProvider(function () {\n  return defaultMessages;\n});","import { CoreAdminContext } from 'ra-core';\nimport defaultI18nProvider from './defaultI18nProvider';\nvar AdminContext = CoreAdminContext;\nAdminContext.defaultProps = {\n  i18nProvider: defaultI18nProvider\n};\nAdminContext.displayName = 'AdminContext';\nexport default AdminContext;","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport useNotify from '../sideEffect/useNotify';\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useAuthCheck.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\n\nvar useCheckAuth = function useCheckAuth() {\n  var authProvider = useAuthProvider();\n  var notify = useNotify();\n  var logout = useLogout();\n  var checkAuth = useCallback(function (params, logoutOnFailure, redirectTo) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (logoutOnFailure === void 0) {\n      logoutOnFailure = true;\n    }\n\n    if (redirectTo === void 0) {\n      redirectTo = defaultAuthParams.loginUrl;\n    }\n\n    return authProvider.checkAuth(params).catch(function (error) {\n      if (logoutOnFailure) {\n        logout({}, error && error.redirectTo ? error.redirectTo : redirectTo);\n        notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');\n      }\n\n      throw error;\n    });\n  }, [authProvider, logout, notify]);\n  return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\n\nvar checkAuthWithoutAuthProvider = function checkAuthWithoutAuthProvider() {\n  return Promise.resolve();\n};\n\nvar getErrorMessage = function getErrorMessage(error, defaultMessage) {\n  return typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? defaultMessage : error.message;\n};\n\nexport default useCheckAuth;","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nvar emptyParams = {};\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\nexport default (function (params) {\n  if (params === void 0) {\n    params = emptyParams;\n  }\n\n  var checkAuth = useCheckAuth();\n  useEffect(function () {\n    checkAuth(params).catch(function () {});\n  }, [checkAuth, params]);\n});","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\n\nvar useGetPermissions = function useGetPermissions() {\n  var authProvider = useAuthProvider();\n  var getPermissions = useCallback(function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    return authProvider.getPermissions(params);\n  }, [authProvider]);\n  return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\n\nvar getPermissionsWithoutProvider = function getPermissionsWithoutProvider() {\n  return Promise.resolve([]);\n};\n\nexport default useGetPermissions;","import { useEffect } from 'react';\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting user permissions\n *\n * Calls the authProvider.getPrmissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { permissions: [any], loading: false, loaded: true }\n * - error: { error: [error from provider], loading: false, loaded: true }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error, loading, loaded }.\n *\n * @example\n *     import { usePermissions } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { loaded, permissions } = usePermissions();\n *         if (loaded && permissions == 'editor') {\n *             return <PostEdit {...props} />\n *         } else {\n *             return <PostShow {...props} />\n *         }\n *     };\n */\n\nvar usePermissions = function usePermissions(params) {\n  if (params === void 0) {\n    params = emptyParams;\n  }\n\n  var _a = useSafeSetState({\n    loading: true,\n    loaded: false\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var getPermissions = useGetPermissions();\n  useEffect(function () {\n    getPermissions(params).then(function (permissions) {\n      setState({\n        loading: false,\n        loaded: true,\n        permissions: permissions\n      });\n    }).catch(function (error) {\n      setState({\n        loading: false,\n        loaded: true,\n        error: error\n      });\n    });\n  }, [getPermissions, params, setState]);\n  return state;\n};\n\nexport default usePermissions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Children, createElement } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissions from './usePermissions';\n\nvar isEmptyChildren = function isEmptyChildren(children) {\n  return Children.count(children) === 0;\n};\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\n\nvar WithPermissions = function WithPermissions(_a) {\n  var authParams = _a.authParams,\n      children = _a.children,\n      render = _a.render,\n      component = _a.component,\n      staticContext = _a.staticContext,\n      props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n\n  warning(render && children && !isEmptyChildren(children) || render && component || component && children && !isEmptyChildren(children), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n  useAuthenticated(authParams);\n  var permissions = usePermissions(authParams).permissions; // render even though the usePermissions() call isn't finished (optimistic rendering)\n\n  if (component) {\n    return createElement(component, __assign({\n      permissions: permissions\n    }, props));\n  } // @deprecated\n\n\n  if (render) {\n    return render(__assign({\n      permissions: permissions\n    }, props));\n  } // @deprecated\n\n\n  if (children) {\n    return children(__assign({\n      permissions: permissions\n    }, props));\n  }\n};\n\nexport default WithPermissions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Children, cloneElement, createElement } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\n\nvar RoutesWithLayout = function RoutesWithLayout(_a) {\n  var catchAll = _a.catchAll,\n      children = _a.children,\n      customRoutes = _a.customRoutes,\n      dashboard = _a.dashboard,\n      title = _a.title;\n  var childrenAsArray = React.Children.toArray(children);\n  var firstChild = childrenAsArray.length > 0 ? childrenAsArray[0] : null;\n  return React.createElement(Switch, null, customRoutes && customRoutes.map(function (route, key) {\n    return cloneElement(route, {\n      key: key\n    });\n  }), Children.map(children, function (child) {\n    return React.createElement(Route, {\n      key: child.props.name,\n      path: \"/\" + child.props.name,\n      render: function render(props) {\n        return cloneElement(child, __assign({\n          // The context prop instruct the Resource component to\n          // render itself as a standard component\n          intent: 'route'\n        }, props));\n      }\n    });\n  }), dashboard ? React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function render(routeProps) {\n      return React.createElement(WithPermissions, __assign({\n        authParams: {\n          route: 'dashboard'\n        },\n        component: dashboard\n      }, routeProps));\n    }\n  }) : firstChild ? React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function render() {\n      return React.createElement(Redirect, {\n        to: \"/\" + firstChild.props.name\n      });\n    }\n  }) : null, React.createElement(Route, {\n    render: function render(routeProps) {\n      return createElement(catchAll, __assign(__assign({}, routeProps), {\n        title: title\n      }));\n    }\n  }));\n};\n\nexport default RoutesWithLayout;","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status and restricting access to authenticated users\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n * If the authProvider returns a rejected promise, logs the user out.\n *\n * The return value updates according to the authProvider request state:\n *\n * - start:   { authenticated: false, loading: true, loaded: false }\n * - success: { authenticated: true,  loading: false, loaded: true }\n * - error:   { authenticated: false, loading: false, loaded: true }\n *\n * Useful in custom page components that can work both for connected and\n * anonymous users. For pages that can only work for connected users,\n * prefer the useAuthenticated() hook.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.\n *\n * @example\n *     import { useAuthState } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/bar\" render={() => {\n *              const { authenticated } = useAuthState({ myContext: 'foobar' });\n *              return authenticated ? <Bar /> : <BarNotAuthenticated />;\n *          }} />,\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\nvar useAuthState = function useAuthState(params) {\n  if (params === void 0) {\n    params = emptyParams;\n  }\n\n  var _a = useSafeSetState({\n    loading: true,\n    loaded: false,\n    authenticated: true\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var checkAuth = useCheckAuth();\n  useEffect(function () {\n    checkAuth(params, false).then(function () {\n      return setState({\n        loading: false,\n        loaded: true,\n        authenticated: true\n      });\n    }).catch(function () {\n      return setState({\n        loading: false,\n        loaded: true,\n        authenticated: false\n      });\n    });\n  }, [checkAuth, params, setState]);\n  return state;\n};\n\nexport default useAuthState;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport React, { Children, useEffect, cloneElement, createElement } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport RoutesWithLayout from './RoutesWithLayout';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { Ready, useTimeout, useSafeSetState } from '../util';\n\nvar CoreAdminRouter = function CoreAdminRouter(props) {\n  var getPermissions = useGetPermissions();\n  var doLogout = useLogout();\n  var authenticated = useAuthState().authenticated;\n  var oneSecondHasPassed = useTimeout(1000);\n\n  var _a = useSafeSetState([]),\n      computedChildren = _a[0],\n      setComputedChildren = _a[1];\n\n  useEffect(function () {\n    if (typeof props.children === 'function') {\n      initializeResources();\n    }\n  }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var initializeResources = function initializeResources() {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var permissions, resolveChildren, childrenFuncResult, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , getPermissions()];\n\n          case 1:\n            permissions = _a.sent();\n            resolveChildren = props.children;\n            childrenFuncResult = resolveChildren(permissions);\n\n            if (childrenFuncResult.then) {\n              childrenFuncResult.then(function (resolvedChildren) {\n                return setComputedChildren(resolvedChildren.filter(function (child) {\n                  return child;\n                }).map(function (child) {\n                  return __assign(__assign({}, child), {\n                    props: __assign(__assign({}, child.props), {\n                      key: child.props.name\n                    })\n                  });\n                }));\n              });\n            } else {\n              setComputedChildren(childrenFuncResult.filter(function (child) {\n                return child;\n              }));\n            }\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            error_1 = _a.sent();\n            console.error(error_1);\n            doLogout();\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  var renderCustomRoutesWithoutLayout = function renderCustomRoutesWithoutLayout(route, routeProps) {\n    if (route.props.render) {\n      return route.props.render(__assign(__assign({}, routeProps), {\n        title: props.title\n      }));\n    }\n\n    if (route.props.component) {\n      return createElement(route.props.component, __assign(__assign({}, routeProps), {\n        title: props.title\n      }));\n    }\n  };\n\n  var layout = props.layout,\n      catchAll = props.catchAll,\n      children = props.children,\n      customRoutes = props.customRoutes,\n      dashboard = props.dashboard,\n      loading = props.loading,\n      logout = props.logout,\n      menu = props.menu,\n      theme = props.theme,\n      title = props.title;\n\n  if (process.env.NODE_ENV !== 'production' && typeof children !== 'function' && !children) {\n    return React.createElement(Ready, null);\n  }\n\n  if (typeof children === 'function' && (!computedChildren || computedChildren.length === 0)) {\n    if (oneSecondHasPassed) {\n      return React.createElement(Route, {\n        path: \"/\",\n        key: \"loading\",\n        component: loading\n      });\n    } else {\n      return null;\n    }\n  }\n\n  var childrenToRender = typeof children === 'function' ? computedChildren : children;\n  return React.createElement(\"div\", null, // as we need all of them and not just the one rendered\n  Children.map(childrenToRender, function (child) {\n    return cloneElement(child, {\n      key: child.props.name,\n      // The context prop instructs the Resource component to not render anything\n      // but simply to register itself as a known resource\n      intent: 'registration'\n    });\n  }), React.createElement(Switch, null, customRoutes.filter(function (route) {\n    return route.props.noLayout;\n  }).map(function (route, key) {\n    return cloneElement(route, {\n      key: key,\n      render: function render(routeProps) {\n        return renderCustomRoutesWithoutLayout(route, routeProps);\n      }\n    });\n  }), React.createElement(Route, {\n    path: \"/\",\n    render: function render() {\n      return createElement(layout, {\n        dashboard: dashboard,\n        logout: logout,\n        menu: menu,\n        theme: theme,\n        title: title\n      }, React.createElement(RoutesWithLayout, {\n        catchAll: catchAll,\n        customRoutes: customRoutes.filter(function (route) {\n          return !route.props.noLayout;\n        }),\n        dashboard: dashboard,\n        title: title\n      }, Children.map(childrenToRender, function (child) {\n        return cloneElement(child, {\n          key: child.props.name,\n          intent: 'route'\n        });\n      })));\n    }\n  })));\n};\n\nCoreAdminRouter.defaultProps = {\n  customRoutes: []\n};\nexport default CoreAdminRouter;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { createElement } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CoreAdminRouter from './CoreAdminRouter';\n\nvar DefaultLayout = function DefaultLayout(_a) {\n  var children = _a.children;\n  return React.createElement(React.Fragment, null, children);\n};\n\nvar CoreAdminUI = function CoreAdminUI(_a) {\n  var _b = _a.catchAll,\n      catchAll = _b === void 0 ? Noop : _b,\n      children = _a.children,\n      _c = _a.customRoutes,\n      customRoutes = _c === void 0 ? [] : _c,\n      dashboard = _a.dashboard,\n      _d = _a.layout,\n      layout = _d === void 0 ? DefaultLayout : _d,\n      _e = _a.loading,\n      loading = _e === void 0 ? Noop : _e,\n      _f = _a.loginPage,\n      loginPage = _f === void 0 ? false : _f,\n      logout = _a.logout,\n      menu = _a.menu,\n      // deprecated, use a custom layout instead\n  theme = _a.theme,\n      _g = _a.title,\n      title = _g === void 0 ? 'React Admin' : _g;\n  return React.createElement(Switch, null, loginPage !== false && loginPage !== true ? React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: function render(props) {\n      return createElement(loginPage, __assign(__assign({}, props), {\n        title: title,\n        theme: theme\n      }));\n    }\n  }) : null, React.createElement(Route, {\n    path: \"/\",\n    render: function render(props) {\n      return React.createElement(CoreAdminRouter, __assign({\n        catchAll: catchAll,\n        customRoutes: customRoutes,\n        dashboard: dashboard,\n        layout: layout,\n        loading: loading,\n        logout: logout && createElement(logout),\n        menu: menu,\n        theme: theme,\n        title: title\n      }, props), children);\n    }\n  }));\n};\n\nvar Noop = function Noop() {\n  return null;\n};\n\nexport default CoreAdminUI;","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\n\nvar useTranslate = function useTranslate() {\n  var _a = useContext(TranslationContext),\n      i18nProvider = _a.i18nProvider,\n      locale = _a.locale;\n\n  var translate = useCallback(function (key, options) {\n    return i18nProvider.translate(key, options);\n  }, // update the hook each time the locale changes\n  [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  return i18nProvider ? translate : identity;\n};\n\nvar identity = function identity(key) {\n  return key;\n};\n\nexport default useTranslate;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport NavigationRefresh from '@material-ui/icons/Refresh';\nimport { refreshView, useTranslate } from 'ra-core';\n\nvar RefreshIconButton = function RefreshIconButton(_a) {\n  var _b = _a.label,\n      label = _b === void 0 ? 'ra.action.refresh' : _b,\n      _c = _a.icon,\n      icon = _c === void 0 ? defaultIcon : _c,\n      onClick = _a.onClick,\n      className = _a.className,\n      rest = __rest(_a, [\"label\", \"icon\", \"onClick\", \"className\"]);\n\n  var dispatch = useDispatch();\n  var translate = useTranslate();\n  var handleClick = useCallback(function (event) {\n    event.preventDefault();\n    dispatch(refreshView());\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [dispatch, onClick]);\n  return React.createElement(Tooltip, {\n    title: label && translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, __assign({\n    \"aria-label\": label && translate(label, {\n      _: label\n    }),\n    className: className,\n    color: \"inherit\",\n    onClick: handleClick\n  }, rest), icon));\n};\n\nvar defaultIcon = React.createElement(NavigationRefresh, null);\nRefreshIconButton.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.string,\n  icon: PropTypes.element\n};\nexport default RefreshIconButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport RefreshIconButton from '../button/RefreshIconButton';\nvar useStyles = makeStyles({\n  loader: {\n    margin: 14\n  }\n}, {\n  name: 'RaLoadingIndicator'\n});\nexport var LoadingIndicator = function LoadingIndicator(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      rest = __rest(_a, [\"classes\", \"className\"]);\n\n  var loading = useSelector(function (state) {\n    return state.admin.loading > 0;\n  });\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return loading ? React.createElement(CircularProgress, __assign({\n    className: classNames('app-loader', classes.loader, className),\n    color: \"inherit\",\n    size: 18,\n    thickness: 5\n  }, rest)) : React.createElement(RefreshIconButton, null);\n};\nLoadingIndicator.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  width: PropTypes.string\n};\nexport default LoadingIndicator;","import React, { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate } from 'ra-core';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nvar UserMenu = function UserMenu(props) {\n  var _a = useState(null),\n      anchorEl = _a[0],\n      setAnchorEl = _a[1];\n\n  var translate = useTranslate();\n  var children = props.children,\n      label = props.label,\n      icon = props.icon,\n      logout = props.logout;\n  if (!logout && !children) return null;\n  var open = Boolean(anchorEl);\n\n  var handleMenu = function handleMenu(event) {\n    return setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    return setAnchorEl(null);\n  };\n\n  return React.createElement(\"div\", null, React.createElement(Tooltip, {\n    title: label && translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, {\n    \"aria-label\": label && translate(label, {\n      _: label\n    }),\n    \"aria-owns\": open ? 'menu-appbar' : null,\n    \"aria-haspopup\": true,\n    color: \"inherit\",\n    onClick: handleMenu\n  }, icon)), React.createElement(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: open,\n    onClose: handleClose\n  }, Children.map(children, function (menuItem) {\n    return isValidElement(menuItem) ? cloneElement(menuItem, {\n      onClick: handleClose\n    }) : null;\n  }), logout));\n};\n\nUserMenu.propTypes = {\n  children: PropTypes.node,\n  label: PropTypes.string.isRequired,\n  logout: PropTypes.element,\n  icon: PropTypes.node\n};\nUserMenu.defaultProps = {\n  label: 'ra.auth.user_menu',\n  icon: React.createElement(AccountCircle, null)\n};\nexport default UserMenu;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\n\nfunction HideOnScroll(props) {\n  var children = props.children;\n  var trigger = useScrollTrigger();\n  return React.createElement(Slide, {\n    appear: false,\n    direction: \"down\",\n    in: !trigger\n  }, children);\n}\n\nHideOnScroll.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default HideOnScroll;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport classNames from 'classnames';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { toggleSidebar } from 'ra-core';\nimport LoadingIndicator from './LoadingIndicator';\nimport DefaultUserMenu from './UserMenu';\nimport HideOnScroll from './HideOnScroll';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    toolbar: {\n      paddingRight: 24\n    },\n    menuButton: {\n      marginLeft: '0.5em',\n      marginRight: '0.5em'\n    },\n    menuButtonIconClosed: {\n      transition: theme.transitions.create(['transform'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      transform: 'rotate(0deg)'\n    },\n    menuButtonIconOpen: {\n      transition: theme.transitions.create(['transform'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      transform: 'rotate(180deg)'\n    },\n    title: {\n      flex: 1,\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden'\n    }\n  };\n}, {\n  name: 'RaAppBar'\n});\n\nvar AppBar = function AppBar(_a) {\n  var children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      logo = _a.logo,\n      logout = _a.logout,\n      open = _a.open,\n      title = _a.title,\n      userMenu = _a.userMenu,\n      rest = __rest(_a, [\"children\", \"classes\", \"className\", \"logo\", \"logout\", \"open\", \"title\", \"userMenu\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var dispatch = useDispatch();\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  return React.createElement(HideOnScroll, null, React.createElement(MuiAppBar, __assign({\n    className: className,\n    color: \"secondary\"\n  }, rest), React.createElement(Toolbar, {\n    disableGutters: true,\n    variant: isXSmall ? 'regular' : 'dense',\n    className: classes.toolbar\n  }, React.createElement(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: function onClick() {\n      return dispatch(toggleSidebar());\n    },\n    className: classNames(classes.menuButton)\n  }, React.createElement(MenuIcon, {\n    classes: {\n      root: open ? classes.menuButtonIconOpen : classes.menuButtonIconClosed\n    }\n  })), Children.count(children) === 0 ? React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    className: classes.title,\n    id: \"react-admin-title\"\n  }) : children, React.createElement(LoadingIndicator, null), cloneElement(userMenu, {\n    logout: logout\n  }))));\n};\n\nAppBar.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  logout: PropTypes.element,\n  open: PropTypes.bool,\n  userMenu: PropTypes.element\n};\nAppBar.defaultProps = {\n  userMenu: React.createElement(DefaultUserMenu, null)\n};\nexport default AppBar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Drawer, makeStyles, useMediaQuery } from '@material-ui/core';\nimport lodashGet from 'lodash/get';\nimport { setSidebarVisibility } from 'ra-core';\nexport var DRAWER_WIDTH = 240;\nexport var CLOSED_DRAWER_WIDTH = 55;\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    drawerPaper: (_a = {\n      position: 'relative',\n      height: 'auto',\n      overflowX: 'hidden',\n      width: function width(props) {\n        return props.open ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH) : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH);\n      },\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      backgroundColor: 'transparent',\n      marginTop: '0.5em',\n      borderRight: 'none'\n    }, _a[theme.breakpoints.only('xs')] = {\n      marginTop: 0,\n      height: '100vh',\n      position: 'inherit',\n      backgroundColor: theme.palette.background.default\n    }, _a[theme.breakpoints.up('md')] = {\n      border: 'none',\n      marginTop: '1.5em'\n    }, _a)\n  };\n}, {\n  name: 'RaSidebar'\n});\n\nvar Sidebar = function Sidebar(_a) {\n  var children = _a.children,\n      closedSize = _a.closedSize,\n      size = _a.size,\n      classesOverride = _a.classes,\n      rest = __rest(_a, [\"children\", \"closedSize\", \"size\", \"classes\"]);\n\n  var dispatch = useDispatch();\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('sm');\n  }); // FIXME negating isXSmall and isSmall should be enough, but unfortunately\n  // mui media queries use a two pass system and are always false at first\n  // see https://github.com/mui-org/material-ui/issues/14336\n\n  var isDesktop = useMediaQuery(function (theme) {\n    return theme.breakpoints.up('md');\n  });\n  useEffect(function () {\n    if (isDesktop) {\n      dispatch(setSidebarVisibility(true)); // FIXME renders with a closed sidebar at first\n    }\n  }, [isDesktop, dispatch]);\n  var open = useSelector(function (state) {\n    return state.admin.ui.sidebarOpen;\n  });\n  useSelector(function (state) {\n    return state.locale;\n  }); // force redraw on locale change\n\n  var handleClose = function handleClose() {\n    return dispatch(setSidebarVisibility(false));\n  };\n\n  var toggleSidebar = function toggleSidebar() {\n    return dispatch(setSidebarVisibility(!open));\n  };\n\n  var classes = useStyles({\n    classes: classesOverride,\n    open: open\n  });\n  return isXSmall ? React.createElement(Drawer, __assign({\n    variant: \"temporary\",\n    open: open,\n    PaperProps: {\n      className: classes.drawerPaper\n    },\n    onClose: toggleSidebar\n  }, rest), cloneElement(Children.only(children), {\n    onMenuClick: handleClose\n  })) : isSmall ? React.createElement(Drawer, __assign({\n    variant: \"permanent\",\n    open: open,\n    PaperProps: {\n      className: classes.drawerPaper\n    },\n    onClose: toggleSidebar\n  }, rest), cloneElement(Children.only(children), {\n    dense: true,\n    onMenuClick: handleClose\n  })) : React.createElement(Drawer, __assign({\n    variant: \"permanent\",\n    open: open,\n    PaperProps: {\n      className: classes.drawerPaper\n    },\n    onClose: toggleSidebar\n  }, rest), cloneElement(Children.only(children), {\n    dense: true\n  }));\n};\n\nSidebar.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default Sidebar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { forwardRef, cloneElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nvar NavLinkRef = React.forwardRef(function (props, ref) {\n  return React.createElement(NavLink, __assign({\n    innerRef: ref\n  }, props));\n});\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      color: theme.palette.text.secondary\n    },\n    active: {\n      color: theme.palette.text.primary\n    },\n    icon: {\n      minWidth: theme.spacing(5)\n    }\n  };\n}, {\n  name: 'RaMenuItemLink'\n});\nvar MenuItemLink = forwardRef(function (_a, ref) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      primaryText = _a.primaryText,\n      leftIcon = _a.leftIcon,\n      onClick = _a.onClick,\n      sidebarIsOpen = _a.sidebarIsOpen,\n      props = __rest(_a, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"onClick\", \"sidebarIsOpen\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var handleMenuTap = useCallback(function (e) {\n    onClick && onClick(e);\n  }, [onClick]);\n\n  var renderMenuItem = function renderMenuItem() {\n    return React.createElement(MenuItem, __assign({\n      className: classnames(classes.root, className),\n      activeClassName: classes.active,\n      component: NavLinkRef,\n      ref: ref\n    }, props, {\n      onClick: handleMenuTap\n    }), leftIcon && React.createElement(ListItemIcon, {\n      className: classes.icon\n    }, cloneElement(leftIcon, {\n      titleAccess: primaryText\n    })), primaryText);\n  };\n\n  if (sidebarIsOpen) {\n    return renderMenuItem();\n  }\n\n  return React.createElement(Tooltip, {\n    title: primaryText,\n    placement: \"right\"\n  }, renderMenuItem());\n});\nMenuItemLink.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  leftIcon: PropTypes.element,\n  onClick: PropTypes.func,\n  primaryText: PropTypes.node,\n  staticContext: PropTypes.object,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nexport default MenuItemLink;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { useTranslate } from 'ra-core';\nimport MenuItemLink from './MenuItemLink';\n\nvar DashboardMenuItem = function DashboardMenuItem(_a) {\n  var locale = _a.locale,\n      onClick = _a.onClick,\n      props = __rest(_a, [\"locale\", \"onClick\"]);\n\n  var translate = useTranslate();\n  return React.createElement(MenuItemLink, __assign({\n    onClick: onClick,\n    to: \"/\",\n    primaryText: translate('ra.page.dashboard'),\n    leftIcon: React.createElement(DashboardIcon, null),\n    exact: true,\n    dense: true\n  }, props));\n};\n\nDashboardMenuItem.propTypes = {\n  classes: PropTypes.object,\n  locale: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport default DashboardMenuItem;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport inflection from 'inflection';\nimport { makeStyles, useMediaQuery } from '@material-ui/core';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate } from 'ra-core';\nimport DashboardMenuItem from './DashboardMenuItem';\nimport MenuItemLink from './MenuItemLink';\nvar useStyles = makeStyles({\n  main: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start'\n  }\n}, {\n  name: 'RaMenu'\n});\n\nvar translatedResourceName = function translatedResourceName(resource, translate) {\n  return translate(\"resources.\" + resource.name + \".name\", {\n    smart_count: 2,\n    _: resource.options && resource.options.label ? translate(resource.options.label, {\n      smart_count: 2,\n      _: resource.options.label\n    }) : inflection.humanize(inflection.pluralize(resource.name))\n  });\n};\n\nvar Menu = function Menu(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      dense = _a.dense,\n      hasDashboard = _a.hasDashboard,\n      onMenuClick = _a.onMenuClick,\n      logout = _a.logout,\n      rest = __rest(_a, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  var open = useSelector(function (state) {\n    return state.admin.ui.sidebarOpen;\n  });\n  var resources = useSelector(getResources, shallowEqual);\n  useSelector(function (state) {\n    return state.router.location.pathname;\n  }); // used to force redraw on navigation\n\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest), hasDashboard && React.createElement(DashboardMenuItem, {\n    onClick: onMenuClick,\n    sidebarIsOpen: open\n  }), resources.filter(function (r) {\n    return r.hasList;\n  }).map(function (resource) {\n    return React.createElement(MenuItemLink, {\n      key: resource.name,\n      to: \"/\" + resource.name,\n      primaryText: translatedResourceName(resource, translate),\n      leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null),\n      onClick: onMenuClick,\n      dense: dense,\n      sidebarIsOpen: open\n    });\n  }), isXSmall && logout);\n};\n\nMenu.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  dense: PropTypes.bool,\n  hasDashboard: PropTypes.bool,\n  logout: PropTypes.element,\n  onMenuClick: PropTypes.func\n};\nMenu.defaultProps = {\n  onMenuClick: function onMenuClick() {\n    return null;\n  }\n};\nexport default Menu;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { hideNotification, getNotification, undo, complete, undoableEventEmitter, useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    error: {\n      backgroundColor: theme.palette.error.dark,\n      color: theme.palette.error.contrastText\n    },\n    warning: {\n      backgroundColor: theme.palette.error.light,\n      color: theme.palette.error.contrastText\n    },\n    undo: {\n      color: theme.palette.primary.light\n    }\n  };\n}, {\n  name: 'RaNotification'\n});\n\nvar Notification = function Notification(_a) {\n  var type = _a.type,\n      className = _a.className,\n      autoHideDuration = _a.autoHideDuration,\n      rest = __rest(_a, [\"type\", \"className\", \"autoHideDuration\"]);\n\n  var _b = useState(false),\n      open = _b[0],\n      setOpen = _b[1];\n\n  var notification = useSelector(getNotification);\n  var dispatch = useDispatch();\n  var translate = useTranslate();\n  var styles = useStyles({});\n  useEffect(function () {\n    setOpen(!!notification);\n  }, [notification]);\n  var handleRequestClose = useCallback(function () {\n    setOpen(false);\n  }, [setOpen]);\n  var handleExited = useCallback(function () {\n    if (notification && notification.undoable) {\n      dispatch(complete());\n      undoableEventEmitter.emit('end', {\n        isUndo: false\n      });\n    }\n\n    dispatch(hideNotification());\n  }, [dispatch, notification]);\n  var handleUndo = useCallback(function () {\n    dispatch(undo());\n    undoableEventEmitter.emit('end', {\n      isUndo: true\n    });\n  }, [dispatch]);\n  return React.createElement(Snackbar, __assign({\n    open: open,\n    message: notification && notification.message && translate(notification.message, notification.messageArgs),\n    autoHideDuration: notification && notification.autoHideDuration || autoHideDuration,\n    disableWindowBlurListener: notification && notification.undoable,\n    onExited: handleExited,\n    onClose: handleRequestClose,\n    ContentProps: {\n      className: classnames(styles[notification && notification.type || type], className)\n    },\n    action: notification && notification.undoable ? React.createElement(Button, {\n      color: \"primary\",\n      className: styles.undo,\n      size: \"small\",\n      onClick: handleUndo\n    }, translate('ra.action.undo')) : null\n  }, rest));\n};\n\nNotification.propTypes = {\n  type: PropTypes.string\n};\nNotification.defaultProps = {\n  type: 'info',\n  autoHideDuration: 4000\n};\nexport default Notification;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTranslate, warning } from 'ra-core';\n\nvar Title = function Title(_a) {\n  var className = _a.className,\n      defaultTitle = _a.defaultTitle,\n      locale = _a.locale,\n      record = _a.record,\n      title = _a.title,\n      rest = __rest(_a, [\"className\", \"defaultTitle\", \"locale\", \"record\", \"title\"]);\n\n  var translate = useTranslate();\n  var container = document.getElementById('react-admin-title');\n  if (!container) return null;\n  warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\n  var titleElement = !title ? React.createElement(\"span\", __assign({\n    className: className\n  }, rest), defaultTitle) : typeof title === 'string' ? React.createElement(\"span\", __assign({\n    className: className\n  }, rest), translate(title, {\n    _: title\n  })) : cloneElement(title, __assign({\n    className: className,\n    record: record\n  }, rest));\n  return createPortal(titleElement, container);\n};\n\nexport var TitlePropType = PropTypes.oneOfType([PropTypes.string, PropTypes.element]);\nTitle.propTypes = {\n  defaultTitle: PropTypes.string,\n  className: PropTypes.string,\n  locale: PropTypes.string,\n  record: PropTypes.object,\n  title: TitlePropType\n};\nexport default Title;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Report';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport History from '@material-ui/icons/History';\nimport Title, { TitlePropType } from './Title';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    container: (_a = {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }, _a[theme.breakpoints.down('sm')] = {\n      padding: '1em'\n    }, _a.fontFamily = 'Roboto, sans-serif', _a.opacity = 0.5, _a),\n    title: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    icon: {\n      width: '2em',\n      height: '2em',\n      marginRight: '0.5em'\n    },\n    panel: {\n      marginTop: '1em'\n    },\n    panelDetails: {\n      whiteSpace: 'pre-wrap'\n    },\n    toolbar: {\n      marginTop: '2em'\n    }\n  };\n}, {\n  name: 'RaError'\n});\n\nfunction goBack() {\n  window.history.go(-1);\n}\n\nvar Error = function Error(_a) {\n  var error = _a.error,\n      errorInfo = _a.errorInfo,\n      classesOverride = _a.classes,\n      className = _a.className,\n      title = _a.title,\n      rest = __rest(_a, [\"error\", \"errorInfo\", \"classes\", \"className\", \"title\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(Fragment, null, React.createElement(Title, {\n    defaultTitle: title\n  }), React.createElement(\"div\", __assign({\n    className: classnames(classes.container, className)\n  }, rest), React.createElement(\"h1\", {\n    className: classes.title,\n    role: \"alert\"\n  }, React.createElement(ErrorIcon, {\n    className: classes.icon\n  }), translate('ra.page.error')), React.createElement(\"div\", null, translate('ra.message.error')), process.env.NODE_ENV !== 'production' && React.createElement(ExpansionPanel, {\n    className: classes.panel\n  }, React.createElement(ExpansionPanelSummary, {\n    expandIcon: React.createElement(ExpandMoreIcon, null)\n  }, translate('ra.message.details')), React.createElement(ExpansionPanelDetails, {\n    className: classes.panelDetails\n  }, React.createElement(\"div\", null, React.createElement(\"h2\", null, translate(error.toString())), errorInfo.componentStack))), React.createElement(\"div\", {\n    className: classes.toolbar\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    icon: React.createElement(History, null),\n    onClick: goBack\n  }, translate('ra.action.back')))));\n};\n\nError.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  error: PropTypes.object.isRequired,\n  errorInfo: PropTypes.object,\n  title: TitlePropType\n};\nexport default Error;","export default {\n  palette: {\n    secondary: {\n      light: '#6ec6ff',\n      main: '#2196f3',\n      dark: '#0069c0',\n      contrastText: '#fff'\n    }\n  },\n  typography: {\n    title: {\n      fontWeight: 400\n    }\n  },\n  sidebar: {\n    width: 240,\n    closedWidth: 55\n  },\n  overrides: {\n    MuiFilledInput: {\n      root: {\n        backgroundColor: 'rgba(0, 0, 0, 0.04)',\n        '&$disabled': {\n          backgroundColor: 'rgba(0, 0, 0, 0.04)'\n        }\n      }\n    }\n  }\n};","import { isValidElementType } from 'react-is';\nexport default (function (props, propName, componentName) {\n  if (props[propName] && !isValidElementType(props[propName])) {\n    return new Error(\"Invalid prop '\" + propName + \"' supplied to '\" + componentName + \"': the prop is not a valid React component\");\n  }\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Component, createElement, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { withRouter } from 'react-router-dom';\nimport { createMuiTheme, withStyles, createStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport compose from 'recompose/compose';\nimport DefaultAppBar from './AppBar';\nimport DefaultSidebar from './Sidebar';\nimport DefaultMenu from './Menu';\nimport DefaultNotification from './Notification';\nimport DefaultError from './Error';\nimport defaultTheme from '../defaultTheme';\nimport { ComponentPropType } from 'ra-core';\n\nvar styles = function styles(theme) {\n  var _a, _b;\n\n  return createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      zIndex: 1,\n      minHeight: '100vh',\n      backgroundColor: theme.palette.background.default,\n      position: 'relative',\n      minWidth: 'fit-content',\n      width: '100%'\n    },\n    appFrame: (_a = {\n      display: 'flex',\n      flexDirection: 'column'\n    }, _a[theme.breakpoints.up('xs')] = {\n      marginTop: theme.spacing(6)\n    }, _a[theme.breakpoints.down('xs')] = {\n      marginTop: theme.spacing(7)\n    }, _a),\n    contentWithSidebar: {\n      display: 'flex',\n      flexGrow: 1\n    },\n    content: (_b = {\n      display: 'flex',\n      flexDirection: 'column',\n      flexGrow: 1,\n      flexBasis: 0,\n      padding: theme.spacing(3),\n      paddingTop: theme.spacing(1),\n      paddingLeft: 0\n    }, _b[theme.breakpoints.up('xs')] = {\n      paddingLeft: 5\n    }, _b[theme.breakpoints.down('sm')] = {\n      padding: 0\n    }, _b)\n  });\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var staticContext = _a.staticContext,\n      history = _a.history,\n      location = _a.location,\n      match = _a.match,\n      props = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n\n  return props;\n};\n\nvar Layout =\n/** @class */\nfunction (_super) {\n  __extends(Layout, _super);\n\n  function Layout(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      hasError: false,\n      errorMessage: null,\n      errorInfo: null\n    };\n    /**\n     * Reset the error state upon navigation\n     *\n     * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n     */\n\n    props.history.listen(function () {\n      if (_this.state.hasError) {\n        _this.setState({\n          hasError: false\n        });\n      }\n    });\n    return _this;\n  }\n\n  Layout.prototype.componentDidCatch = function (errorMessage, errorInfo) {\n    this.setState({\n      hasError: true,\n      errorMessage: errorMessage,\n      errorInfo: errorInfo\n    });\n  };\n\n  Layout.prototype.render = function () {\n    var _a = this.props,\n        appBar = _a.appBar,\n        children = _a.children,\n        classes = _a.classes,\n        className = _a.className,\n        customRoutes = _a.customRoutes,\n        error = _a.error,\n        dashboard = _a.dashboard,\n        logout = _a.logout,\n        menu = _a.menu,\n        notification = _a.notification,\n        open = _a.open,\n        sidebar = _a.sidebar,\n        title = _a.title,\n        props = __rest(_a, [\"appBar\", \"children\", \"classes\", \"className\", \"customRoutes\", \"error\", \"dashboard\", \"logout\", \"menu\", \"notification\", \"open\", \"sidebar\", \"title\"]);\n\n    var _b = this.state,\n        hasError = _b.hasError,\n        errorMessage = _b.errorMessage,\n        errorInfo = _b.errorInfo;\n    return React.createElement(\"div\", __assign({\n      className: classnames('layout', classes.root, className)\n    }, sanitizeRestProps(props)), React.createElement(\"div\", {\n      className: classes.appFrame\n    }, createElement(appBar, {\n      title: title,\n      open: open,\n      logout: logout\n    }), React.createElement(\"main\", {\n      className: classes.contentWithSidebar\n    }, createElement(sidebar, {\n      children: createElement(menu, {\n        logout: logout,\n        hasDashboard: !!dashboard\n      })\n    }), React.createElement(\"div\", {\n      className: classes.content\n    }, hasError ? createElement(error, {\n      error: errorMessage,\n      errorInfo: errorInfo,\n      title: title\n    }) : children)), createElement(notification)));\n  };\n\n  return Layout;\n}(Component);\n\nLayout.propTypes = {\n  appBar: ComponentPropType,\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  customRoutes: PropTypes.array,\n  dashboard: ComponentPropType,\n  error: ComponentPropType,\n  history: PropTypes.object.isRequired,\n  logout: PropTypes.element,\n  menu: ComponentPropType,\n  notification: ComponentPropType,\n  open: PropTypes.bool,\n  sidebar: ComponentPropType,\n  title: PropTypes.node.isRequired\n};\nLayout.defaultProps = {\n  appBar: DefaultAppBar,\n  error: DefaultError,\n  menu: DefaultMenu,\n  notification: DefaultNotification,\n  sidebar: DefaultSidebar\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    open: state.admin.ui.sidebarOpen\n  };\n};\n\nvar EnhancedLayout = compose(connect(mapStateToProps, {} // Avoid connect passing dispatch in props\n), withRouter, withStyles(styles))(Layout);\n\nvar LayoutWithTheme = function LayoutWithTheme(_a) {\n  var themeOverride = _a.theme,\n      props = __rest(_a, [\"theme\"]);\n\n  var themeProp = useRef(themeOverride);\n\n  var _b = useState(createMuiTheme(themeOverride)),\n      theme = _b[0],\n      setTheme = _b[1];\n\n  useEffect(function () {\n    if (themeProp.current !== themeOverride) {\n      themeProp.current = themeOverride;\n      setTheme(createMuiTheme(themeOverride));\n    }\n  }, [themeOverride, themeProp, theme, setTheme]);\n  return React.createElement(ThemeProvider, {\n    theme: theme\n  }, React.createElement(EnhancedLayout, __assign({}, props)));\n};\n\nLayoutWithTheme.propTypes = {\n  theme: PropTypes.object\n};\nLayoutWithTheme.defaultProps = {\n  theme: defaultTheme\n};\nexport default LayoutWithTheme;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { cloneElement } from 'react';\nimport useAuthenticated from './useAuthenticated';\n/**\n * Restrict access to children to authenticated users.\n * Redirects anonymous users to the login page.\n *\n * Use it to decorate your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @see useAuthenticated\n *\n * @example\n *     import { Authenticated } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <Authenticated authParams={{ foo: 'bar' }}>\n *                 <Foo />\n *             </Authenticated>\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\nvar Authenticated = function Authenticated(_a) {\n  var authParams = _a.authParams,\n      children = _a.children,\n      location = _a.location,\n      // kept for backwards compatibility, unused\n  rest = __rest(_a, [\"authParams\", \"children\", \"location\"]);\n\n  useAuthenticated(authParams); // render the child even though the useAuthenticated() call isn't finished (optimistic rendering)\n  // the above hook will log out if the authProvider doesn't validate that the user is authenticated\n\n  return cloneElement(children, rest);\n};\n\nexport default Authenticated;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HotTub from '@material-ui/icons/HotTub';\nimport History from '@material-ui/icons/History';\nimport classnames from 'classnames';\nimport { useTranslate, Authenticated } from 'ra-core';\nimport Title from './Title';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    container: (_a = {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    }, _a[theme.breakpoints.up('md')] = {\n      height: '100%'\n    }, _a[theme.breakpoints.down('sm')] = {\n      height: '100vh',\n      marginTop: '-3em'\n    }, _a),\n    icon: {\n      width: '9em',\n      height: '9em'\n    },\n    message: {\n      textAlign: 'center',\n      fontFamily: 'Roboto, sans-serif',\n      opacity: 0.5,\n      margin: '0 1em'\n    },\n    toolbar: {\n      textAlign: 'center',\n      marginTop: '2em'\n    }\n  };\n}, {\n  name: 'RaNotFound'\n});\n\nfunction goBack() {\n  window.history.go(-1);\n}\n\nvar NotFound = function NotFound(_a) {\n  var className = _a.className,\n      classesOverride = _a.classes,\n      title = _a.title,\n      location = _a.location,\n      rest = __rest(_a, [\"className\", \"classes\", \"title\", \"location\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(Authenticated, {\n    location: location\n  }, React.createElement(\"div\", __assign({\n    className: classnames(classes.container, className)\n  }, rest), React.createElement(Title, {\n    defaultTitle: title\n  }), React.createElement(\"div\", {\n    className: classes.message\n  }, React.createElement(HotTub, {\n    className: classes.icon\n  }), React.createElement(\"h1\", null, translate('ra.page.not_found')), React.createElement(\"div\", null, translate('ra.message.not_found'), \".\")), React.createElement(\"div\", {\n    className: classes.toolbar\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    icon: React.createElement(History, null),\n    onClick: goBack\n  }, translate('ra.action.back')))));\n};\n\nNotFound.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  title: PropTypes.string,\n  location: PropTypes.object\n};\nexport default NotFound;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    container: (_a = {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    }, _a[theme.breakpoints.up('md')] = {\n      height: '100%'\n    }, _a[theme.breakpoints.down('sm')] = {\n      height: '100vh',\n      marginTop: '-3em'\n    }, _a),\n    icon: {\n      width: '9em',\n      height: '9em'\n    },\n    message: {\n      textAlign: 'center',\n      fontFamily: 'Roboto, sans-serif',\n      opacity: 0.5,\n      margin: '0 1em'\n    }\n  };\n}, {\n  name: 'RaLoading'\n});\n\nvar Loading = function Loading(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      _b = _a.loadingPrimary,\n      loadingPrimary = _b === void 0 ? 'ra.page.loading' : _b,\n      _c = _a.loadingSecondary,\n      loadingSecondary = _c === void 0 ? 'ra.message.loading' : _c;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(\"div\", {\n    className: classnames(classes.container, className)\n  }, React.createElement(\"div\", {\n    className: classes.message\n  }, React.createElement(CircularProgress, {\n    className: classes.icon,\n    color: \"primary\"\n  }), React.createElement(\"h1\", null, translate(loadingPrimary)), React.createElement(\"div\", null, translate(loadingSecondary), \".\")));\n};\n\nLoading.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  loadingPrimary: PropTypes.string,\n  loadingSecondary: PropTypes.string\n};\nLoading.defaultProps = {\n  loadingPrimary: 'ra.page.loading',\n  loadingSecondary: 'ra.message.loading'\n};\nexport default Loading;","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { useLocation, useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\n\nvar useLogin = function useLogin() {\n  var authProvider = useAuthProvider();\n  var location = useLocation();\n  var history = useHistory();\n  var nextPathName = location.state && location.state.nextPathname;\n  var login = useCallback(function (params, pathName) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (pathName === void 0) {\n      pathName = defaultAuthParams.afterLoginUrl;\n    }\n\n    return authProvider.login(params).then(function (ret) {\n      history.push(nextPathName || pathName);\n      return ret;\n    });\n  }, [authProvider, history, nextPathName]);\n  var loginWithoutProvider = useCallback(function (_, __) {\n    history.push(defaultAuthParams.afterLoginUrl);\n    return Promise.resolve();\n  }, [history]);\n  return authProvider ? login : loginWithoutProvider;\n};\n\nexport default useLogin;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    form: {\n      padding: '0 1em 1em 1em'\n    },\n    input: {\n      marginTop: '1em'\n    },\n    button: {\n      width: '100%'\n    },\n    icon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n}, {\n  name: 'RaLoginForm'\n});\n\nvar Input = function Input(_a) {\n  var _b = _a.meta,\n      touched = _b.touched,\n      error = _b.error,\n      // eslint-disable-line react/prop-types\n  inputProps = _a.input,\n      // eslint-disable-line react/prop-types\n  props = __rest(_a, [\"meta\", \"input\"]);\n\n  return React.createElement(TextField, __assign({\n    error: !!(touched && error),\n    helperText: touched && error\n  }, inputProps, props, {\n    fullWidth: true\n  }));\n};\n\nvar LoginForm = function LoginForm(_a) {\n  var redirectTo = _a.redirectTo;\n\n  var _b = useSafeSetState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var login = useLogin();\n  var translate = useTranslate();\n  var notify = useNotify();\n  var classes = useStyles({});\n\n  var validate = function validate(values) {\n    var errors = {\n      username: undefined,\n      password: undefined\n    };\n\n    if (!values.username) {\n      errors.username = translate('ra.validation.required');\n    }\n\n    if (!values.password) {\n      errors.password = translate('ra.validation.required');\n    }\n\n    return errors;\n  };\n\n  var submit = function submit(values) {\n    setLoading(true);\n    login(values, redirectTo).then(function () {\n      setLoading(false);\n    }).catch(function (error) {\n      setLoading(false);\n      notify(typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? 'ra.auth.sign_in_error' : error.message, 'warning');\n    });\n  };\n\n  return React.createElement(Form, {\n    onSubmit: submit,\n    validate: validate,\n    render: function render(_a) {\n      var handleSubmit = _a.handleSubmit;\n      return React.createElement(\"form\", {\n        onSubmit: handleSubmit,\n        noValidate: true\n      }, React.createElement(\"div\", {\n        className: classes.form\n      }, React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        autoFocus: true,\n        id: \"username\",\n        name: \"username\",\n        component: Input,\n        label: translate('ra.auth.username'),\n        disabled: loading\n      })), React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        id: \"password\",\n        name: \"password\",\n        component: Input,\n        label: translate('ra.auth.password'),\n        type: \"password\",\n        disabled: loading,\n        autoComplete: \"current-password\"\n      }))), React.createElement(CardActions, null, React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        color: \"primary\",\n        disabled: loading,\n        className: classes.button\n      }, loading && React.createElement(CircularProgress, {\n        className: classes.icon,\n        size: 18,\n        thickness: 2\n      }), translate('ra.auth.sign_in'))));\n    }\n  });\n};\n\nLoginForm.propTypes = {\n  redirectTo: PropTypes.string\n};\nexport default LoginForm;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar, createMuiTheme, makeStyles } from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport Notification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    main: {\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100vh',\n      height: '1px',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover'\n    },\n    card: {\n      minWidth: 300,\n      marginTop: '6em'\n    },\n    avatar: {\n      margin: '1em',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    icon: {\n      backgroundColor: theme.palette.secondary[500]\n    }\n  };\n}, {\n  name: 'RaLogin'\n});\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\n\nvar Login = function Login(_a) {\n  var theme = _a.theme,\n      classesOverride = _a.classes,\n      className = _a.className,\n      children = _a.children,\n      staticContext = _a.staticContext,\n      backgroundImage = _a.backgroundImage,\n      rest = __rest(_a, [\"theme\", \"classes\", \"className\", \"children\", \"staticContext\", \"backgroundImage\"]);\n\n  var containerRef = useRef();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var muiTheme = useMemo(function () {\n    return createMuiTheme(theme);\n  }, [theme]);\n  var backgroundImageLoaded = false;\n  var checkAuth = useCheckAuth();\n  var history = useHistory();\n  useEffect(function () {\n    checkAuth({}, false).then(function () {\n      // already authenticated, redirect to the home page\n      history.push('/');\n    }).catch(function () {// not authenticated, stay on the login page\n    });\n  }, [checkAuth, history]);\n\n  var updateBackgroundImage = function updateBackgroundImage() {\n    if (!backgroundImageLoaded && containerRef.current) {\n      containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n      backgroundImageLoaded = true;\n    }\n  }; // Load background image asynchronously to speed up time to interactive\n\n\n  var lazyLoadBackgroundImage = function lazyLoadBackgroundImage() {\n    if (backgroundImage) {\n      var img = new Image();\n      img.onload = updateBackgroundImage;\n      img.src = backgroundImage;\n    }\n  };\n\n  useEffect(function () {\n    if (!backgroundImageLoaded) {\n      lazyLoadBackgroundImage();\n    }\n  });\n  return React.createElement(ThemeProvider, {\n    theme: muiTheme\n  }, React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest, {\n    ref: containerRef\n  }), React.createElement(Card, {\n    className: classes.card\n  }, React.createElement(\"div\", {\n    className: classes.avatar\n  }, React.createElement(Avatar, {\n    className: classes.icon\n  }, React.createElement(LockIcon, null))), children), React.createElement(Notification, null)));\n};\n\nLogin.propTypes = {\n  backgroundImage: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  theme: PropTypes.object,\n  staticContext: PropTypes.object\n};\nLogin.defaultProps = {\n  backgroundImage: 'https://source.unsplash.com/random/1600x900/daily',\n  theme: defaultTheme,\n  children: React.createElement(DefaultLoginForm, null)\n};\nexport default Login;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItemIcon, MenuItem, makeStyles } from '@material-ui/core';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\nimport classnames from 'classnames';\nimport { useTranslate, useLogout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    menuItem: {\n      color: theme.palette.text.secondary\n    },\n    icon: {\n      minWidth: theme.spacing(5)\n    }\n  };\n}, {\n  name: 'RaLogout'\n});\n/**\n * Logout button component, to be passed to the Admin component\n *\n * Used for the Logout Menu item in the sidebar\n */\n\nvar LogoutWithRef = React.forwardRef(function Logout(props, ref) {\n  var className = props.className,\n      redirectTo = props.redirectTo,\n      rest = __rest(props, [\"className\", \"redirectTo\"]);\n\n  var classes = useStyles({}); // the empty {} is a temp fix for https://github.com/mui-org/material-ui/issues/15942\n\n  var translate = useTranslate();\n  var logout = useLogout(); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  var handleClick = useCallback(function () {\n    return logout(redirectTo);\n  }, [redirectTo, logout]);\n  return React.createElement(MenuItem, __assign({\n    className: classnames('logout', classes.menuItem, className),\n    onClick: handleClick,\n    ref: ref\n  }, rest), React.createElement(ListItemIcon, {\n    className: classes.icon\n  }, React.createElement(ExitIcon, null)), translate('ra.auth.logout'));\n});\nLogoutWithRef.propTypes = {\n  className: PropTypes.string,\n  redirectTo: PropTypes.string\n};\nexport default LogoutWithRef;","import { CoreAdminUI } from 'ra-core';\nimport { Layout as DefaultLayout, Loading, Login, Logout, NotFound } from 'ra-ui-materialui';\nvar AdminUI = CoreAdminUI;\nAdminUI.defaultProps = {\n  layout: DefaultLayout,\n  catchAll: NotFound,\n  loading: Loading,\n  loginPage: Login,\n  logout: Logout\n};\nAdminUI.displayName = 'AdminUI';\nexport default AdminUI;","import React from 'react';\nimport AdminContext from './AdminContext';\nimport AdminUI from './AdminUI';\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, redux, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </Admin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <Admin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import React, { useEffect, useState } from 'react';\n * import {\n *     AdminContext,\n *     AdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <AdminContext dataProvider={myDataProvider}>\n *         <Resources />\n *     </AdminContext>\n * );\n *\n * const Resources = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <AdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </AdminUI>\n *     );\n * };\n */\n\nvar Admin = function Admin(_a) {\n  var appLayout = _a.appLayout,\n      authProvider = _a.authProvider,\n      catchAll = _a.catchAll,\n      children = _a.children,\n      customReducers = _a.customReducers,\n      _b = _a.customRoutes,\n      customRoutes = _b === void 0 ? [] : _b,\n      customSagas = _a.customSagas,\n      dashboard = _a.dashboard,\n      dataProvider = _a.dataProvider,\n      history = _a.history,\n      i18nProvider = _a.i18nProvider,\n      initialState = _a.initialState,\n      layout = _a.layout,\n      loading = _a.loading,\n      locale = _a.locale,\n      loginPage = _a.loginPage,\n      logoutButton = _a.logoutButton,\n      menu = _a.menu,\n      // deprecated, use a custom layout instead\n  theme = _a.theme,\n      _c = _a.title,\n      title = _c === void 0 ? 'React Admin' : _c;\n\n  if (appLayout) {\n    console.warn('You are using deprecated prop \"appLayout\", it was replaced by \"layout\", see https://github.com/marmelab/react-admin/issues/2918');\n  }\n\n  if (loginPage === true && process.env.NODE_ENV !== 'production') {\n    console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');\n  }\n\n  if (locale) {\n    console.warn('You are using deprecated prop \"locale\". You must now pass the initial locale to your i18nProvider');\n  }\n\n  return React.createElement(AdminContext, {\n    authProvider: authProvider,\n    dataProvider: dataProvider,\n    i18nProvider: i18nProvider,\n    history: history,\n    customReducers: customReducers,\n    customSagas: customSagas,\n    initialState: initialState\n  }, React.createElement(AdminUI, {\n    layout: appLayout || layout,\n    customRoutes: customRoutes,\n    dashboard: dashboard,\n    menu: menu,\n    catchAll: catchAll,\n    theme: theme,\n    title: title,\n    loading: loading,\n    loginPage: loginPage,\n    logout: authProvider ? logoutButton : undefined\n  }, children));\n};\n\nexport default Admin;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nimport { registerResource, unregisterResource } from '../actions';\nvar defaultOptions = {};\n\nvar ResourceRegister = function ResourceRegister(_a) {\n  var name = _a.name,\n      list = _a.list,\n      create = _a.create,\n      edit = _a.edit,\n      show = _a.show,\n      icon = _a.icon,\n      _b = _a.options,\n      options = _b === void 0 ? defaultOptions : _b;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(registerResource({\n      name: name,\n      options: options,\n      hasList: !!list,\n      hasEdit: !!edit,\n      hasShow: !!show,\n      hasCreate: !!create,\n      icon: icon\n    }));\n    return function () {\n      return dispatch(unregisterResource(name));\n    };\n  }, [dispatch, name, create, edit, icon, list, show, options]);\n  return null;\n};\n\nvar ResourceRoutes = function ResourceRoutes(_a) {\n  var name = _a.name,\n      match = _a.match,\n      list = _a.list,\n      create = _a.create,\n      edit = _a.edit,\n      show = _a.show,\n      _b = _a.options,\n      options = _b === void 0 ? defaultOptions : _b;\n  var isRegistered = useSelector(function (state) {\n    return state.admin.resources[name] ? true : false;\n  });\n  var basePath = match ? match.path : ''; // match tends to change even on the same route ; using memo to avoid an extra render\n\n  return useMemo(function () {\n    // if the registration hasn't finished, no need to render\n    if (!isRegistered) {\n      return null;\n    }\n\n    var props = {\n      resource: name,\n      options: options,\n      hasList: !!list,\n      hasEdit: !!edit,\n      hasShow: !!show,\n      hasCreate: !!create\n    };\n    return React.createElement(Switch, null, create && React.createElement(Route, {\n      path: basePath + \"/create\",\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: create,\n          basePath: basePath\n        }, routeProps, props));\n      }\n    }), show && React.createElement(Route, {\n      path: basePath + \"/:id/show\",\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: show,\n          basePath: basePath,\n          id: decodeURIComponent(routeProps.match.params.id)\n        }, routeProps, props));\n      }\n    }), edit && React.createElement(Route, {\n      path: basePath + \"/:id\",\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: edit,\n          basePath: basePath,\n          id: decodeURIComponent(routeProps.match.params.id)\n        }, routeProps, props));\n      }\n    }), list && React.createElement(Route, {\n      path: \"\" + basePath,\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: list,\n          basePath: basePath\n        }, routeProps, props));\n      }\n    }));\n  }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nvar Resource = function Resource(_a) {\n  var _b = _a.intent,\n      intent = _b === void 0 ? 'route' : _b,\n      props = __rest(_a, [\"intent\"]);\n\n  return intent === 'registration' ? React.createElement(ResourceRegister, __assign({}, props)) : React.createElement(ResourceRoutes, __assign({}, props));\n};\n\nexport default Resource;","import { AuthProvider } from 'ra-core';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { CHANGE_THEME } from './configuration/actions';\n\nexport default (previousState = 'light', { type, payload }) => {\n    if (type === CHANGE_THEME) {\n        return payload;\n    }\n    return previousState;\n};\n","import React, { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#fff\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import React, { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\n\nvar checkMinimumRequiredProps = function checkMinimumRequiredProps(displayName, requiredProps) {\n  return function (WrappedComponent) {\n    return function (props) {\n      useCheckMinimumRequiredProps(displayName, requiredProps, props);\n      return React.createElement(WrappedComponent, __assign({}, props));\n    };\n  };\n};\n\nexport default checkMinimumRequiredProps; // Not a hook but named that way to avoid conflicts with the old one\n\nexport var useCheckMinimumRequiredProps = function useCheckMinimumRequiredProps(displayName, requiredProps, props) {\n  var propNames = Object.keys(props);\n  var missingProps = requiredProps.filter(function (prop) {\n    return !propNames.includes(prop);\n  });\n\n  if (missingProps.length > 0) {\n    throw new Error(\"<\" + displayName + \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\" + displayName + \" = props => (\\n    <\" + displayName + \" {...props}></\" + displayName + \">\\n);\\n\\nThe missing props are: \" + missingProps.join(', '));\n  }\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\n\nvar oppositeOrder = function oppositeOrder(direction) {\n  return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\n\n\nvar queryReducer = function queryReducer(previousState, _a) {\n  var type = _a.type,\n      payload = _a.payload;\n\n  switch (type) {\n    case SET_SORT:\n      if (payload.sort === previousState.sort) {\n        return __assign(__assign({}, previousState), {\n          order: oppositeOrder(previousState.order),\n          page: 1\n        });\n      }\n\n      return __assign(__assign({}, previousState), {\n        sort: payload.sort,\n        order: payload.order || SORT_ASC,\n        page: 1\n      });\n\n    case SET_PAGE:\n      return __assign(__assign({}, previousState), {\n        page: payload\n      });\n\n    case SET_PER_PAGE:\n      return __assign(__assign({}, previousState), {\n        page: 1,\n        perPage: payload\n      });\n\n    case SET_FILTER:\n      {\n        return __assign(__assign({}, previousState), {\n          page: 1,\n          filter: payload\n        });\n      }\n\n    default:\n      return previousState;\n  }\n};\n\nexport default queryReducer;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { shallowEqual } from 'recompose';\n\nvar isObject = function isObject(obj) {\n  return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nvar isEmpty = function isEmpty(obj) {\n  return obj instanceof Date ? false : obj === '' || obj === null || shallowEqual(obj, {});\n};\n\nvar removeEmpty = function removeEmpty(object) {\n  return Object.keys(object).reduce(function (acc, key) {\n    var _a;\n\n    var child = object[key];\n\n    if (isObject(object[key])) {\n      child = removeEmpty(object[key]);\n    }\n\n    return isEmpty(child) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = child, _a));\n  }, {});\n};\n\nexport default removeEmpty;","var removeKey = function removeKey(target, path) {\n  return Object.keys(target).reduce(function (acc, key) {\n    var _a;\n\n    if (key !== path) {\n      return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n    }\n\n    return acc;\n  }, {});\n};\n\nvar deepRemoveKey = function deepRemoveKey(target, path) {\n  var _a;\n\n  var paths = path.split('.');\n\n  if (paths.length === 1) {\n    return removeKey(target, path);\n  }\n\n  var deepKey = paths[0];\n  var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n\n  if (Object.keys(deep).length === 0) {\n    return removeKey(target, deepKey);\n  }\n\n  return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\n\nexport default deepRemoveKey;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useCallback, useState, useMemo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport queryReducer, { SET_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nimport removeKey from '../util/removeKey';\nimport { useHistory } from 'react-router-dom';\nvar emptyObject = {};\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\n\nvar useListParams = function useListParams(_a) {\n  var resource = _a.resource,\n      location = _a.location,\n      filterDefaultValues = _a.filterDefaultValues,\n      _b = _a.sort,\n      sort = _b === void 0 ? defaultSort : _b,\n      _c = _a.perPage,\n      perPage = _c === void 0 ? 10 : _c,\n      _d = _a.debounce,\n      debounce = _d === void 0 ? 500 : _d;\n\n  var _e = useState({}),\n      displayedFilters = _e[0],\n      setDisplayedFilters = _e[1];\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var params = useSelector(function (reduxState) {\n    return reduxState.admin.resources[resource].list;\n  }, shallowEqual).params;\n  var requestSignature = [location.search, resource, params, filterDefaultValues, JSON.stringify(sort), perPage];\n  var query = useMemo(function () {\n    return getQuery({\n      location: location,\n      params: params,\n      filterDefaultValues: filterDefaultValues,\n      sort: sort,\n      perPage: perPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var changeParams = useCallback(function (action) {\n    var newParams = queryReducer(query, action);\n    history.push({\n      search: \"?\" + stringify(__assign(__assign({}, newParams), {\n        filter: JSON.stringify(newParams.filter)\n      }))\n    });\n    dispatch(changeListParams(resource, newParams));\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var setSort = useCallback(function (newSort) {\n    return changeParams({\n      type: SET_SORT,\n      payload: {\n        sort: newSort\n      }\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var setPage = useCallback(function (newPage) {\n    return changeParams({\n      type: SET_PAGE,\n      payload: newPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var setPerPage = useCallback(function (newPerPage) {\n    return changeParams({\n      type: SET_PER_PAGE,\n      payload: newPerPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var filterValues = query.filter || emptyObject;\n  var debouncedSetFilters = lodashDebounce(function (newFilters) {\n    return changeParams({\n      type: SET_FILTER,\n      payload: removeEmpty(newFilters)\n    });\n  }, debounce);\n  var setFilters = useCallback(function (filters) {\n    return debouncedSetFilters(filters);\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var hideFilter = useCallback(function (filterName) {\n    setDisplayedFilters(function (previousFilters) {\n      var _a;\n\n      return __assign(__assign({}, previousFilters), (_a = {}, _a[filterName] = false, _a));\n    });\n    var newFilters = removeKey(filterValues, filterName);\n    setFilters(newFilters);\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    var _a;\n\n    setDisplayedFilters(function (previousFilters) {\n      var _a;\n\n      return __assign(__assign({}, previousFilters), (_a = {}, _a[filterName] = true, _a));\n    });\n\n    if (typeof defaultValue !== 'undefined') {\n      setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[filterName] = defaultValue, _a)));\n    }\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return [__assign({\n    displayedFilters: displayedFilters,\n    filterValues: filterValues,\n    requestSignature: requestSignature\n  }, query), {\n    changeParams: changeParams,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    setFilters: setFilters,\n    hideFilter: hideFilter,\n    showFilter: showFilter\n  }];\n};\n\nexport var validQueryParams = ['page', 'perPage', 'sort', 'order', 'filter'];\nexport var parseQueryFromLocation = function parseQueryFromLocation(_a) {\n  var search = _a.search;\n  var query = pickBy(parse(search), function (v, k) {\n    return validQueryParams.indexOf(k) !== -1;\n  });\n\n  if (query.filter && typeof query.filter === 'string') {\n    try {\n      query.filter = JSON.parse(query.filter);\n    } catch (err) {\n      delete query.filter;\n    }\n  }\n\n  return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {object} params\n */\n\nexport var hasCustomParams = function hasCustomParams(params) {\n  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\n\nexport var getQuery = function getQuery(_a) {\n  var location = _a.location,\n      params = _a.params,\n      filterDefaultValues = _a.filterDefaultValues,\n      sort = _a.sort,\n      perPage = _a.perPage;\n  var queryFromLocation = parseQueryFromLocation(location);\n  var query = Object.keys(queryFromLocation).length > 0 ? queryFromLocation : hasCustomParams(params) ? __assign({}, params) : {\n    filter: filterDefaultValues || {}\n  };\n\n  if (!query.sort) {\n    query.sort = sort.field;\n    query.order = sort.order;\n  }\n\n  if (!query.perPage) {\n    query.perPage = perPage;\n  }\n\n  if (!query.page) {\n    query.page = 1;\n  }\n\n  return __assign(__assign({}, query), {\n    page: getNumberOrDefault(query.page, 1),\n    perPage: getNumberOrDefault(query.perPage, 10)\n  });\n};\nexport var getNumberOrDefault = function getNumberOrDefault(possibleNumber, defaultValue) {\n  return (typeof possibleNumber === 'string' ? parseInt(possibleNumber, 10) : possibleNumber) || defaultValue;\n};\nexport default useListParams;","import { useCallback } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { setListSelectedIds, toggleListItem } from '../actions/listActions';\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\n\nvar useSelectItems = function useSelectItems(resource) {\n  var dispatch = useDispatch();\n  var selectedIds = useSelector(function (reduxState) {\n    return reduxState.admin.resources[resource].list.selectedIds;\n  }, shallowEqual);\n  var selectionModifiers = {\n    select: useCallback(function (newIds) {\n      dispatch(setListSelectedIds(resource, newIds));\n    }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n    ),\n    toggle: useCallback(function (id) {\n      dispatch(toggleListItem(resource, id));\n    }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n    ),\n    clearSelection: useCallback(function () {\n      dispatch(setListSelectedIds(resource, []));\n    }, [resource])\n  };\n  return [selectedIds, selectionModifiers];\n};\n\nexport default useSelectItems;","import { useSelector } from 'react-redux';\n/**\n * Get the UI version from the store\n *\n * The UI version is an integer incremented by the refresh button;\n * it serves to force running fetch hooks again.\n */\n\nvar useVersion = function useVersion() {\n  return useSelector(function (reduxState) {\n    return reduxState.admin.ui.viewVersion;\n  });\n};\n\nexport default useVersion;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { isValidElement, useEffect, useMemo } from 'react';\nimport inflection from 'inflection';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport useListParams from './useListParams';\nimport useRecordSelection from './useRecordSelection';\nimport useVersion from './useVersion';\nimport { useTranslate } from '../i18n';\nimport { SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { CRUD_GET_LIST } from '../actions';\nimport { useNotify } from '../sideEffect';\nimport useQueryWithStore from '../dataProvider/useQueryWithStore';\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\n\nvar useListController = function useListController(props) {\n  useCheckMinimumRequiredProps('List', ['basePath', 'location', 'resource'], props);\n  var basePath = props.basePath,\n      resource = props.resource,\n      hasCreate = props.hasCreate,\n      location = props.location,\n      filterDefaultValues = props.filterDefaultValues,\n      _a = props.sort,\n      sort = _a === void 0 ? defaultSort : _a,\n      _b = props.perPage,\n      perPage = _b === void 0 ? 10 : _b,\n      filter = props.filter,\n      _c = props.debounce,\n      debounce = _c === void 0 ? 500 : _c;\n\n  if (filter && isValidElement(filter)) {\n    throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n  }\n\n  var translate = useTranslate();\n  var notify = useNotify();\n  var version = useVersion();\n\n  var _d = useListParams({\n    resource: resource,\n    location: location,\n    filterDefaultValues: filterDefaultValues,\n    sort: sort,\n    perPage: perPage,\n    debounce: debounce\n  }),\n      query = _d[0],\n      queryModifiers = _d[1];\n\n  var _e = useRecordSelection(resource),\n      selectedIds = _e[0],\n      selectionModifiers = _e[1];\n  /**\n   * We don't use useGetList() here because we want the list of ids to be\n   * always available for optimistic rendering, and therefore we need a\n   * custom action (CRUD_GET_LIST), a custom reducer for ids and total\n   * (admin.resources.[resource].list.ids and admin.resources.[resource].list.total)\n   * and a custom selector for these reducers.\n   * Also we don't want that calls to useGetList() in userland change\n   * the list of ids in the main List view.\n   */\n\n\n  var _f = useQueryWithStore({\n    type: 'getList',\n    resource: resource,\n    payload: {\n      pagination: {\n        page: query.page,\n        perPage: query.perPage\n      },\n      sort: {\n        field: query.sort,\n        order: query.order\n      },\n      filter: __assign(__assign({}, query.filter), filter)\n    }\n  }, {\n    action: CRUD_GET_LIST,\n    version: version,\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    }\n  }, function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].list.ids : null;\n  }, function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].list.total : null;\n  }),\n      ids = _f.data,\n      total = _f.total,\n      loading = _f.loading,\n      loaded = _f.loaded;\n\n  var data = useSelector(function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].data : null;\n  }, shallowEqual);\n  useEffect(function () {\n    if (query.page <= 0 || !loading && query.page > 1 && (ids || []).length === 0) {\n      // query for a page that doesn't exist, set page to 1\n      queryModifiers.setPage(1);\n    }\n  }, [loading, query.page, ids, queryModifiers]);\n  var currentSort = useMemo(function () {\n    return {\n      field: query.sort,\n      order: query.order\n    };\n  }, [query.sort, query.order]);\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 2,\n    _: inflection.humanize(inflection.pluralize(resource))\n  });\n  var defaultTitle = translate('ra.page.list', {\n    name: resourceName\n  });\n  return {\n    basePath: basePath,\n    currentSort: currentSort,\n    data: data,\n    defaultTitle: defaultTitle,\n    displayedFilters: query.displayedFilters,\n    filterValues: query.filterValues,\n    hasCreate: hasCreate,\n    ids: ids,\n    loading: loading,\n    loaded: loaded,\n    onSelect: selectionModifiers.select,\n    onToggleItem: selectionModifiers.toggle,\n    onUnselectItems: selectionModifiers.clearSelection,\n    page: query.page,\n    perPage: query.perPage,\n    resource: resource,\n    selectedIds: selectedIds,\n    setFilters: queryModifiers.setFilters,\n    hideFilter: queryModifiers.hideFilter,\n    showFilter: queryModifiers.showFilter,\n    setPage: queryModifiers.setPage,\n    setPerPage: queryModifiers.setPerPage,\n    setSort: queryModifiers.setSort,\n    total: total,\n    version: version\n  };\n};\n\nexport var injectedProps = ['basePath', 'currentSort', 'data', 'defaultTitle', 'displayedFilters', 'filterValues', 'hasCreate', 'hideFilter', 'ids', 'loading', 'loaded', 'onSelect', 'onToggleItem', 'onUnselectItems', 'page', 'perPage', 'refresh', 'resource', 'selectedIds', 'setFilters', 'setPage', 'setPerPage', 'setSort', 'showFilter', 'total', 'version'];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\n\nexport var getListControllerProps = function getListControllerProps(props) {\n  return injectedProps.reduce(function (acc, key) {\n    var _a;\n\n    return __assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a));\n  }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\n\nexport var sanitizeListRestProps = function sanitizeListRestProps(props) {\n  return Object.keys(props).filter(function (propName) {\n    return !injectedProps.includes(propName);\n  }).reduce(function (acc, key) {\n    var _a;\n\n    return __assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a));\n  }, {});\n};\nexport default useListController;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ActionHide from '@material-ui/icons/HighlightOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar emptyRecord = {};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    body: {\n      display: 'flex',\n      alignItems: 'flex-end'\n    },\n    spacer: {\n      width: theme.spacing(2)\n    },\n    hideButton: {}\n  };\n}, {\n  name: 'RaFilterFormInput'\n});\n\nvar FilterFormInput = function FilterFormInput(_a) {\n  var filterElement = _a.filterElement,\n      handleHide = _a.handleHide,\n      classesOverride = _a.classes,\n      resource = _a.resource,\n      variant = _a.variant,\n      margin = _a.margin;\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(\"div\", {\n    \"data-source\": filterElement.props.source,\n    className: classnames('filter-field', classes.body)\n  }, !filterElement.props.alwaysOn && React.createElement(IconButton, {\n    className: classnames('hide-filter', classes.hideButton),\n    onClick: handleHide,\n    \"data-key\": filterElement.props.source,\n    title: translate('ra.action.remove_filter')\n  }, React.createElement(ActionHide, null)), React.cloneElement(filterElement, {\n    allowEmpty: true,\n    resource: resource,\n    record: emptyRecord,\n    variant: variant,\n    margin: margin\n  }), React.createElement(\"div\", {\n    className: classes.spacer\n  }, \"\\xA0\"));\n};\n\nFilterFormInput.propTypes = {\n  filterElement: PropTypes.node,\n  handleHide: PropTypes.func,\n  classes: PropTypes.object,\n  resource: PropTypes.string\n};\nexport default FilterFormInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, FormSpy } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport FilterFormInput from './FilterFormInput';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    form: {\n      marginTop: -theme.spacing(2),\n      paddingTop: 0,\n      display: 'flex',\n      alignItems: 'flex-end',\n      flexWrap: 'wrap',\n      minHeight: theme.spacing(9.5)\n    },\n    clearFix: {\n      clear: 'right'\n    }\n  };\n}, {\n  name: 'RaFilterForm'\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var anyTouched = _a.anyTouched,\n      asyncValidate = _a.asyncValidate,\n      asyncValidating = _a.asyncValidating,\n      autofill = _a.autofill,\n      blur = _a.blur,\n      change = _a.change,\n      clearAsyncError = _a.clearAsyncError,\n      clearFields = _a.clearFields,\n      clearSubmit = _a.clearSubmit,\n      clearSubmitErrors = _a.clearSubmitErrors,\n      destroy = _a.destroy,\n      dirty = _a.dirty,\n      dirtyFields = _a.dirtyFields,\n      dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit,\n      dirtySinceLastSubmit = _a.dirtySinceLastSubmit,\n      dispatch = _a.dispatch,\n      displayedFilters = _a.displayedFilters,\n      errors = _a.errors,\n      filters = _a.filters,\n      filterValues = _a.filterValues,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      hasSubmitErrors = _a.hasSubmitErrors,\n      hasValidationErrors = _a.hasValidationErrors,\n      hideFilter = _a.hideFilter,\n      initialize = _a.initialize,\n      initialized = _a.initialized,\n      initialValues = _a.initialValues,\n      invalid = _a.invalid,\n      modified = _a.modified,\n      pristine = _a.pristine,\n      pure = _a.pure,\n      reset = _a.reset,\n      resetSection = _a.resetSection,\n      save = _a.save,\n      setFilter = _a.setFilter,\n      setFilters = _a.setFilters,\n      submit = _a.submit,\n      submitAsSideEffect = _a.submitAsSideEffect,\n      submitError = _a.submitError,\n      submitErrors = _a.submitErrors,\n      submitFailed = _a.submitFailed,\n      submitSucceeded = _a.submitSucceeded,\n      submitting = _a.submitting,\n      touch = _a.touch,\n      touched = _a.touched,\n      triggerSubmit = _a.triggerSubmit,\n      untouch = _a.untouch,\n      valid = _a.valid,\n      validate = _a.validate,\n      validating = _a.validating,\n      values = _a.values,\n      visited = _a.visited,\n      __versions = _a.__versions,\n      props = __rest(_a, [\"anyTouched\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"displayedFilters\", \"errors\", \"filters\", \"filterValues\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"hideFilter\", \"initialize\", \"initialized\", \"initialValues\", \"invalid\", \"modified\", \"pristine\", \"pure\", \"reset\", \"resetSection\", \"save\", \"setFilter\", \"setFilters\", \"submit\", \"submitAsSideEffect\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"touched\", \"triggerSubmit\", \"untouch\", \"valid\", \"validate\", \"validating\", \"values\", \"visited\", \"__versions\"]);\n\n  return props;\n};\n\nexport var FilterForm = function FilterForm(_a) {\n  var _b = _a.classes,\n      classes = _b === void 0 ? {} : _b,\n      className = _a.className,\n      resource = _a.resource,\n      margin = _a.margin,\n      variant = _a.variant,\n      filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      hideFilter = _a.hideFilter,\n      initialValues = _a.initialValues,\n      rest = __rest(_a, [\"classes\", \"className\", \"resource\", \"margin\", \"variant\", \"filters\", \"displayedFilters\", \"hideFilter\", \"initialValues\"]);\n\n  useEffect(function () {\n    filters.forEach(function (filter) {\n      if (filter.props.alwaysOn && filter.props.defaultValue) {\n        throw new Error('Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.');\n      }\n    });\n  }, [filters]);\n\n  var getShownFilters = function getShownFilters() {\n    return filters.filter(function (filterElement) {\n      return filterElement.props.alwaysOn || displayedFilters[filterElement.props.source] || typeof lodashGet(initialValues, filterElement.props.source) !== 'undefined';\n    });\n  };\n\n  var handleHide = useCallback(function (event) {\n    return hideFilter(event.currentTarget.dataset.key);\n  }, [hideFilter]);\n  return React.createElement(\"form\", __assign({\n    className: classnames(className, classes.form)\n  }, sanitizeRestProps(rest), {\n    onSubmit: handleSubmit\n  }), getShownFilters().map(function (filterElement) {\n    return React.createElement(FilterFormInput, {\n      key: filterElement.props.source,\n      filterElement: filterElement,\n      handleHide: handleHide,\n      resource: resource,\n      margin: margin,\n      variant: variant\n    });\n  }), React.createElement(\"div\", {\n    className: classes.clearFix\n  }));\n};\n\nvar handleSubmit = function handleSubmit(event) {\n  event.preventDefault();\n  return false;\n};\n\nFilterForm.propTypes = {\n  resource: PropTypes.string.isRequired,\n  filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n  displayedFilters: PropTypes.object.isRequired,\n  hideFilter: PropTypes.func.isRequired,\n  initialValues: PropTypes.object,\n  classes: PropTypes.object,\n  className: PropTypes.string\n};\nexport var mergeInitialValuesWithDefaultValues = function mergeInitialValuesWithDefaultValues(_a) {\n  var initialValues = _a.initialValues,\n      filters = _a.filters;\n  return __assign(__assign({}, filters.filter(function (filterElement) {\n    return filterElement.props.alwaysOn && filterElement.props.defaultValue;\n  }).reduce(function (acc, filterElement) {\n    return lodashSet(__assign({}, acc), filterElement.props.source, filterElement.props.defaultValue);\n  }, {})), initialValues);\n};\n\nvar EnhancedFilterForm = function EnhancedFilterForm(_a) {\n  var classesOverride = _a.classes,\n      props = __rest(_a, [\"classes\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(props);\n\n  var initialValues = props.initialValues,\n      rest = __rest(props, [\"initialValues\"]);\n\n  return React.createElement(Form, {\n    onSubmit: handleFinalFormSubmit,\n    initialValues: mergedInitialValuesWithDefaultValues,\n    mutators: __assign({}, arrayMutators),\n    render: function render(formProps) {\n      return React.createElement(React.Fragment, null, React.createElement(FormSpy, {\n        subscription: FormSpySubscription,\n        onChange: function onChange(_a) {\n          var pristine = _a.pristine,\n              values = _a.values;\n\n          if (pristine) {\n            return;\n          }\n\n          props && props.setFilters(values);\n        }\n      }), React.createElement(FilterForm, __assign({\n        classes: classes\n      }, formProps, rest)));\n    }\n  });\n};\n\nvar handleFinalFormSubmit = function handleFinalFormSubmit() {}; // Options to instruct the FormSpy that it should only listen to the values and pristine changes\n\n\nvar FormSpySubscription = {\n  values: true,\n  pristine: true\n};\nexport default EnhancedFilterForm;","import React from 'react';\nimport pure from 'recompose/pure';\nimport useTranslate from '../i18n/useTranslate';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nexport var FieldTitle = function FieldTitle(_a) {\n  var resource = _a.resource,\n      source = _a.source,\n      label = _a.label,\n      isRequired = _a.isRequired;\n  var translate = useTranslate();\n  return React.createElement(\"span\", null, translate.apply(void 0, getFieldLabelTranslationArgs({\n    label: label,\n    resource: resource,\n    source: source\n  })), isRequired && ' *');\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nFieldTitle.displayName = 'FieldTitle';\nexport default pure(FieldTitle);","import inflection from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\n\nexport default (function (options) {\n  if (!options) {\n    return [''];\n  }\n\n  var label = options.label,\n      resource = options.resource,\n      source = options.source;\n  return typeof label !== 'undefined' ? [label, {\n    _: label\n  }] : typeof source !== 'undefined' ? [\"resources.\" + resource + \".fields.\" + source, {\n    _: inflection.transform(source, ['underscore', 'humanize'])\n  }] : [''];\n});","import React, { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { FieldTitle } from 'ra-core';\nvar FilterButtonMenuItem = forwardRef(function (_a, ref) {\n  var filter = _a.filter,\n      onShow = _a.onShow,\n      resource = _a.resource;\n  var handleShow = useCallback(function () {\n    onShow({\n      source: filter.source,\n      defaultValue: filter.defaultValue\n    });\n  }, [filter.defaultValue, filter.source, onShow]);\n  return React.createElement(MenuItem, {\n    className: \"new-filter-item\",\n    \"data-key\": filter.source,\n    \"data-default-value\": filter.defaultValue,\n    key: filter.source,\n    onClick: handleShow,\n    ref: ref\n  }, React.createElement(FieldTitle, {\n    label: filter.label,\n    source: filter.source,\n    resource: resource\n  }));\n});\nFilterButtonMenuItem.propTypes = {\n  filter: PropTypes.object.isRequired,\n  onShow: PropTypes.func.isRequired,\n  resource: PropTypes.string.isRequired\n};\nexport default FilterButtonMenuItem;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button as MuiButton, Tooltip, IconButton, useMediaQuery, makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\n\nvar Button = function Button(_a) {\n  var _b;\n\n  var _c = _a.alignIcon,\n      alignIcon = _c === void 0 ? 'left' : _c,\n      children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      color = _a.color,\n      disabled = _a.disabled,\n      label = _a.label,\n      size = _a.size,\n      rest = __rest(_a, [\"alignIcon\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"label\", \"size\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  return isXSmall ? label && !disabled ? React.createElement(Tooltip, {\n    title: translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, __assign({\n    \"aria-label\": translate(label, {\n      _: label\n    }),\n    className: className,\n    color: color\n  }, rest), children)) : React.createElement(IconButton, __assign({\n    className: className,\n    color: color,\n    disabled: disabled\n  }, rest), children) : React.createElement(MuiButton, __assign({\n    className: classnames(classes.button, className),\n    color: color,\n    size: size,\n    \"aria-label\": label ? translate(label, {\n      _: label\n    }) : undefined,\n    disabled: disabled\n  }, rest), alignIcon === 'left' && children && React.cloneElement(children, {\n    className: classes[size + \"Icon\"]\n  }), label && React.createElement(\"span\", {\n    className: classnames((_b = {}, _b[classes.label] = alignIcon === 'left', _b[classes.labelRightIcon] = alignIcon !== 'left', _b))\n  }, translate(label, {\n    _: label\n  })), alignIcon === 'right' && children && React.cloneElement(children, {\n    className: classes[size + \"Icon\"]\n  }));\n};\n\nvar useStyles = makeStyles({\n  button: {\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  label: {\n    paddingLeft: '0.5em'\n  },\n  labelRightIcon: {\n    paddingRight: '0.5em'\n  },\n  smallIcon: {\n    fontSize: 20\n  },\n  mediumIcon: {\n    fontSize: 22\n  },\n  largeIcon: {\n    fontSize: 24\n  }\n}, {\n  name: 'RaButton'\n});\nButton.propTypes = {\n  alignIcon: PropTypes.oneOf(['left', 'right']),\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large'])\n};\nButton.defaultProps = {\n  color: 'primary',\n  size: 'small'\n};\nexport default Button;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport FilterButtonMenuItem from './FilterButtonMenuItem';\nimport Button from '../button/Button';\nvar useStyles = makeStyles({\n  root: {\n    display: 'inline-block'\n  }\n}, {\n  name: 'RaFilterButton'\n});\n\nvar FilterButton = function FilterButton(_a) {\n  var filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      filterValues = _a.filterValues,\n      showFilter = _a.showFilter,\n      classesOverride = _a.classes,\n      className = _a.className,\n      resource = _a.resource,\n      rest = __rest(_a, [\"filters\", \"displayedFilters\", \"filterValues\", \"showFilter\", \"classes\", \"className\", \"resource\"]);\n\n  var _b = useState(false),\n      open = _b[0],\n      setOpen = _b[1];\n\n  var anchorEl = useRef();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var hiddenFilters = filters.filter(function (filterElement) {\n    return !filterElement.props.alwaysOn && !displayedFilters[filterElement.props.source] && typeof lodashGet(filterValues, filterElement.props.source) === 'undefined';\n  });\n  var handleClickButton = useCallback(function (event) {\n    // This prevents ghost click.\n    event.preventDefault();\n    setOpen(true);\n    anchorEl.current = event.currentTarget;\n  }, [anchorEl, setOpen]);\n  var handleRequestClose = useCallback(function () {\n    setOpen(false);\n  }, [setOpen]);\n  var handleShow = useCallback(function (_a) {\n    var source = _a.source,\n        defaultValue = _a.defaultValue;\n    showFilter(source, defaultValue);\n    setOpen(false);\n  }, [showFilter, setOpen]);\n  if (hiddenFilters.length === 0) return null;\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.root, className)\n  }, rest), React.createElement(Button, {\n    className: \"add-filter\",\n    label: \"ra.action.add_filter\",\n    onClick: handleClickButton\n  }, React.createElement(ContentFilter, null)), React.createElement(Menu, {\n    open: open,\n    anchorEl: anchorEl.current,\n    onClose: handleRequestClose\n  }, hiddenFilters.map(function (filterElement) {\n    return React.createElement(FilterButtonMenuItem, {\n      key: filterElement.props.source,\n      filter: filterElement.props,\n      resource: resource,\n      onShow: handleShow\n    });\n  })));\n};\n\nFilterButton.propTypes = {\n  resource: PropTypes.string.isRequired,\n  filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n  displayedFilters: PropTypes.object.isRequired,\n  filterValues: PropTypes.object.isRequired,\n  showFilter: PropTypes.func.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string\n};\nexport default FilterButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps } from 'ra-core';\nimport FilterForm from './FilterForm';\nimport FilterButton from './FilterButton';\nvar useStyles = makeStyles({\n  button: {},\n  form: {}\n}, {\n  name: 'RaFilter'\n});\n\nvar Filter = function Filter(props) {\n  var classes = useStyles({\n    classes: props.classes\n  });\n\n  var renderButton = function renderButton() {\n    var classesOverride = props.classes,\n        context = props.context,\n        resource = props.resource,\n        children = props.children,\n        showFilter = props.showFilter,\n        hideFilter = props.hideFilter,\n        displayedFilters = props.displayedFilters,\n        filterValues = props.filterValues,\n        variant = props.variant,\n        rest = __rest(props, [\"classes\", \"context\", \"resource\", \"children\", \"showFilter\", \"hideFilter\", \"displayedFilters\", \"filterValues\", \"variant\"]);\n\n    return React.createElement(FilterButton, __assign({\n      className: classes.button,\n      resource: resource,\n      filters: React.Children.toArray(children),\n      showFilter: showFilter,\n      displayedFilters: displayedFilters,\n      filterValues: filterValues\n    }, sanitizeListRestProps(rest)));\n  };\n\n  var renderForm = function renderForm() {\n    var classesOverride = props.classes,\n        context = props.context,\n        resource = props.resource,\n        children = props.children,\n        hideFilter = props.hideFilter,\n        displayedFilters = props.displayedFilters,\n        showFilter = props.showFilter,\n        filterValues = props.filterValues,\n        setFilters = props.setFilters,\n        rest = __rest(props, [\"classes\", \"context\", \"resource\", \"children\", \"hideFilter\", \"displayedFilters\", \"showFilter\", \"filterValues\", \"setFilters\"]);\n\n    return React.createElement(FilterForm, __assign({\n      className: classes.form,\n      resource: resource,\n      filters: React.Children.toArray(children),\n      hideFilter: hideFilter,\n      displayedFilters: displayedFilters,\n      initialValues: filterValues,\n      setFilters: setFilters\n    }, sanitizeListRestProps(rest)));\n  };\n\n  return props.context === 'button' ? renderButton() : renderForm();\n};\n\nFilter.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  context: PropTypes.oneOf(['form', 'button']),\n  displayedFilters: PropTypes.object,\n  filterValues: PropTypes.object,\n  hideFilter: PropTypes.func,\n  setFilters: PropTypes.func,\n  showFilter: PropTypes.func,\n  resource: PropTypes.string.isRequired\n};\nexport default Filter;","import lodashMemoize from 'lodash/memoize';\n/* eslint-disable no-underscore-dangle */\n\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\n\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\n\nvar isEmpty = function isEmpty(value) {\n  return typeof value === 'undefined' || value === null || value === '' || Array.isArray(value) && value.length === 0;\n};\n\nvar getMessage = function getMessage(message, messageArgs, value, values) {\n  return typeof message === 'function' ? message({\n    args: messageArgs,\n    value: value,\n    values: values\n  }) : messageArgs ? {\n    message: message,\n    args: messageArgs\n  } : message;\n}; // If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\n\n\nvar memoize = function memoize(fn) {\n  return lodashMemoize(fn, function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return JSON.stringify(args);\n  });\n}; // Compose multiple validators into a single one for use with final-form\n\n\nexport var composeValidators = function composeValidators() {\n  var validators = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    validators[_i] = arguments[_i];\n  }\n\n  return function (value, values, meta) {\n    var allValidators = Array.isArray(validators[0]) ? validators[0] : validators;\n    return allValidators.reduce(function (error, validator) {\n      return error || typeof validator === 'function' && validator(value, values, meta);\n    }, undefined);\n  };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\n\nexport var required = memoize(function (message) {\n  if (message === void 0) {\n    message = 'ra.validation.required';\n  }\n\n  return Object.assign(function (value, values) {\n    return isEmpty(value) ? getMessage(message, undefined, value, values) : undefined;\n  }, {\n    isRequired: true\n  });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\n\nexport var minLength = memoize(function (min, message) {\n  if (message === void 0) {\n    message = 'ra.validation.minLength';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value.length < min ? getMessage(message, {\n      min: min\n    }, value, values) : undefined;\n  };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\n\nexport var maxLength = memoize(function (max, message) {\n  if (message === void 0) {\n    message = 'ra.validation.maxLength';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value.length > max ? getMessage(message, {\n      max: max\n    }, value, values) : undefined;\n  };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\n\nexport var minValue = memoize(function (min, message) {\n  if (message === void 0) {\n    message = 'ra.validation.minValue';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value < min ? getMessage(message, {\n      min: min\n    }, value, values) : undefined;\n  };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\n\nexport var maxValue = memoize(function (max, message) {\n  if (message === void 0) {\n    message = 'ra.validation.maxValue';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value > max ? getMessage(message, {\n      max: max\n    }, value, values) : undefined;\n  };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\n\nexport var number = memoize(function (message) {\n  if (message === void 0) {\n    message = 'ra.validation.number';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && isNaN(Number(value)) ? getMessage(message, undefined, value, values) : undefined;\n  };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\n\nexport var regex = lodashMemoize(function (pattern, message) {\n  if (message === void 0) {\n    message = 'ra.validation.regex';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && typeof value === 'string' && !pattern.test(value) ? getMessage(message, {\n      pattern: pattern\n    }, value, values) : undefined;\n  };\n}, function (pattern, message) {\n  return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\n\nexport var email = memoize(function (message) {\n  if (message === void 0) {\n    message = 'ra.validation.email';\n  }\n\n  return regex(EMAIL_REGEX, message);\n});\n\nvar oneOfTypeMessage = function oneOfTypeMessage(_a) {\n  var args = _a.args;\n  return {\n    message: 'ra.validation.oneOf',\n    args: args\n  };\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\n\n\nexport var choices = memoize(function (list, message) {\n  if (message === void 0) {\n    message = oneOfTypeMessage;\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && list.indexOf(value) === -1 ? getMessage(message, {\n      list: list\n    }, value, values) : undefined;\n  };\n});","var isRequired = function isRequired(validate) {\n  if (validate && validate.isRequired) {\n    return true;\n  }\n\n  if (Array.isArray(validate)) {\n    return validate.some(function (it) {\n      return it.isRequired;\n    });\n  }\n\n  return false;\n};\n\nexport default isRequired;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useField as useFinalFormField } from 'react-final-form';\nimport { composeValidators } from './validate';\nimport isRequired from './isRequired';\nimport { useCallback } from 'react';\n\nvar useInput = function useInput(_a) {\n  var defaultValue = _a.defaultValue,\n      id = _a.id,\n      name = _a.name,\n      source = _a.source,\n      validate = _a.validate,\n      customOnBlur = _a.onBlur,\n      customOnChange = _a.onChange,\n      customOnFocus = _a.onFocus,\n      options = __rest(_a, [\"defaultValue\", \"id\", \"name\", \"source\", \"validate\", \"onBlur\", \"onChange\", \"onFocus\"]);\n\n  var finalName = name || source;\n  var sanitizedValidate = Array.isArray(validate) ? composeValidators(validate) : validate;\n\n  var _b = useFinalFormField(finalName, __assign({\n    initialValue: defaultValue,\n    validate: sanitizedValidate\n  }, options)),\n      input = _b.input,\n      meta = _b.meta; // Extract the event handlers so that we can provide ours\n  // allowing users to provide theirs without breaking the form\n\n\n  var onBlur = input.onBlur,\n      onChange = input.onChange,\n      onFocus = input.onFocus,\n      inputProps = __rest(input, [\"onBlur\", \"onChange\", \"onFocus\"]);\n\n  var handleBlur = useCallback(function (event) {\n    onBlur(event);\n\n    if (typeof customOnBlur === 'function') {\n      customOnBlur(event);\n    }\n  }, [onBlur, customOnBlur]);\n  var handleChange = useCallback(function (event) {\n    onChange(event);\n\n    if (typeof customOnChange === 'function') {\n      customOnChange(event);\n    }\n  }, [onChange, customOnChange]);\n  var handleFocus = useCallback(function (event) {\n    onFocus(event);\n\n    if (typeof customOnFocus === 'function') {\n      customOnFocus(event);\n    }\n  }, [onFocus, customOnFocus]); // If there is an input prop, this input has already been enhanced by final-form\n  // This is required in for inputs used inside other inputs (such as the SelectInput inside a ReferenceInput)\n\n  if (options.input) {\n    return {\n      id: id || source,\n      input: options.input,\n      meta: options.meta,\n      isRequired: isRequired(validate)\n    };\n  }\n\n  return {\n    id: id || source,\n    input: __assign(__assign({}, inputProps), {\n      onBlur: handleBlur,\n      onChange: handleChange,\n      onFocus: handleFocus\n    }),\n    meta: meta,\n    isRequired: isRequired(validate)\n  };\n};\n\nexport default useInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport MuiTextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles({\n  clearIcon: {\n    height: 16,\n    width: 0\n  },\n  visibleClearIcon: {\n    width: 16\n  },\n  clearButton: {\n    height: 24,\n    width: 24,\n    padding: 0\n  },\n  selectAdornment: {\n    position: 'absolute',\n    right: 24\n  },\n  inputAdornedEnd: {\n    paddingRight: 0\n  }\n}, {\n  name: 'RaResettableTextField'\n});\n\nvar handleMouseDownClearButton = function handleMouseDownClearButton(event) {\n  event.preventDefault();\n};\n/**\n * An override of the default Material-UI TextField which is resettable\n */\n\n\nfunction ResettableTextField(_a) {\n  var classesOverride = _a.classes,\n      clearAlwaysVisible = _a.clearAlwaysVisible,\n      InputProps = _a.InputProps,\n      value = _a.value,\n      resettable = _a.resettable,\n      disabled = _a.disabled,\n      _b = _a.variant,\n      variant = _b === void 0 ? 'filled' : _b,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      props = __rest(_a, [\"classes\", \"clearAlwaysVisible\", \"InputProps\", \"value\", \"resettable\", \"disabled\", \"variant\", \"margin\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur;\n  var handleClickClearButton = useCallback(function (event) {\n    event.preventDefault();\n    onChange('');\n  }, [onChange]);\n  var handleFocus = useCallback(function (event) {\n    onFocus && onFocus(event);\n  }, [onFocus]);\n  var handleBlur = useCallback(function (event) {\n    onBlur && onBlur(event);\n  }, [onBlur]);\n\n  var clearButton = classes.clearButton,\n      clearIcon = classes.clearIcon,\n      inputAdornedEnd = classes.inputAdornedEnd,\n      selectAdornment = classes.selectAdornment,\n      visibleClearButton = classes.visibleClearButton,\n      visibleClearIcon = classes.visibleClearIcon,\n      restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornedEnd\", \"selectAdornment\", \"visibleClearButton\", \"visibleClearIcon\"]);\n\n  var _d = InputProps || {},\n      endAdornment = _d.endAdornment,\n      InputPropsWithoutEndAdornment = __rest(_d, [\"endAdornment\"]);\n\n  if (clearAlwaysVisible && endAdornment) {\n    throw new Error('ResettableTextField cannot display both an endAdornment and a clear button always visible');\n  }\n\n  var getEndAdornment = function getEndAdornment() {\n    var _a;\n\n    if (!resettable) {\n      return endAdornment;\n    } else if (!value) {\n      if (clearAlwaysVisible) {\n        // show clear button, inactive\n        return React.createElement(InputAdornment, {\n          position: \"end\",\n          classes: {\n            root: props.select ? selectAdornment : null\n          }\n        }, React.createElement(IconButton, {\n          className: clearButton,\n          \"aria-label\": translate('ra.action.clear_input_value'),\n          title: translate('ra.action.clear_input_value'),\n          disableRipple: true,\n          disabled: true\n        }, React.createElement(ClearIcon, {\n          className: classNames(clearIcon, visibleClearIcon)\n        })));\n      } else {\n        if (endAdornment) {\n          return endAdornment;\n        } else {\n          // show spacer\n          return React.createElement(InputAdornment, {\n            position: \"end\",\n            classes: {\n              root: props.select ? selectAdornment : null\n            }\n          }, React.createElement(\"span\", {\n            className: clearButton\n          }, \"\\xA0\"));\n        }\n      }\n    } else {\n      // show clear\n      return React.createElement(InputAdornment, {\n        position: \"end\",\n        classes: {\n          root: props.select ? selectAdornment : null\n        }\n      }, React.createElement(IconButton, {\n        className: clearButton,\n        \"aria-label\": translate('ra.action.clear_input_value'),\n        title: translate('ra.action.clear_input_value'),\n        disableRipple: true,\n        onClick: handleClickClearButton,\n        onMouseDown: handleMouseDownClearButton,\n        disabled: disabled\n      }, React.createElement(ClearIcon, {\n        className: classNames(clearIcon, (_a = {}, _a[visibleClearIcon] = clearAlwaysVisible || value, _a))\n      })));\n    }\n  };\n\n  return React.createElement(MuiTextField, __assign({\n    classes: restClasses,\n    value: value,\n    InputProps: __assign({\n      classes: props.select && variant === 'filled' ? {\n        adornedEnd: inputAdornedEnd\n      } : {},\n      endAdornment: getEndAdornment()\n    }, InputPropsWithoutEndAdornment),\n    disabled: disabled,\n    variant: variant,\n    margin: margin\n  }, props, {\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }));\n}\n\nResettableTextField.propTypes = {\n  classes: PropTypes.object,\n  clearAlwaysVisible: PropTypes.bool,\n  disabled: PropTypes.bool,\n  InputProps: PropTypes.object,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  resettable: PropTypes.bool,\n  value: PropTypes.any.isRequired\n};\nexport default ResettableTextField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport { useTranslate } from '../i18n';\n\nvar ValidationError = function ValidationError(_a) {\n  var error = _a.error;\n  var translate = useTranslate();\n\n  if (error.message) {\n    var _b = error,\n        message = _b.message,\n        args = _b.args;\n    return React.createElement(React.Fragment, null, translate(message, __assign({\n      _: message\n    }, args)));\n  }\n\n  return React.createElement(React.Fragment, null, translate(error, {\n    _: error\n  }));\n};\n\nexport default ValidationError;","import React from 'react';\nimport { useTranslate, ValidationError } from 'ra-core';\n\nvar InputHelperText = function InputHelperText(_a) {\n  var helperText = _a.helperText,\n      touched = _a.touched,\n      error = _a.error;\n  var translate = useTranslate();\n  return touched && error ? React.createElement(ValidationError, {\n    error: error\n  }) : helperText ? React.createElement(React.Fragment, null, translate(helperText, {\n    _: helperText\n  })) : null;\n};\n\nexport default InputHelperText;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nexport default (function (_a) {\n  var allowEmpty = _a.allowEmpty,\n      alwaysOn = _a.alwaysOn,\n      basePath = _a.basePath,\n      component = _a.component,\n      defaultValue = _a.defaultValue,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      locale = _a.locale,\n      meta = _a.meta,\n      options = _a.options,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      record = _a.record,\n      resource = _a.resource,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translate = _a.translate,\n      translateChoice = _a.translateChoice,\n      rest = __rest(_a, [\"allowEmpty\", \"alwaysOn\", \"basePath\", \"component\", \"defaultValue\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"options\", \"optionText\", \"optionValue\", \"record\", \"resource\", \"source\", \"textAlign\", \"translate\", \"translateChoice\"]);\n\n  return rest;\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeRestProps from './sanitizeRestProps';\n/**\n * An Input component for a string\n *\n * @example\n * <TextInput source=\"first_name\" />\n *\n * You can customize the `type` props (which defaults to \"text\").\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\n * @example\n * <TextInput source=\"email\" type=\"email\" />\n * <NumberInput source=\"nb_views\" />\n *\n * The object passed as `options` props is passed to the <ResettableTextField> component\n */\n\nexport var TextInput = function TextInput(_a) {\n  var label = _a.label,\n      format = _a.format,\n      helperText = _a.helperText,\n      onBlur = _a.onBlur,\n      onFocus = _a.onFocus,\n      onChange = _a.onChange,\n      options = _a.options,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      validate = _a.validate,\n      rest = __rest(_a, [\"label\", \"format\", \"helperText\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n\n  var _b = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'text',\n    validate: validate\n  }, rest)),\n      id = _b.id,\n      input = _b.input,\n      isRequired = _b.isRequired,\n      _c = _b.meta,\n      error = _c.error,\n      touched = _c.touched;\n\n  return React.createElement(ResettableTextField, __assign({\n    id: id\n  }, input, {\n    label: label !== '' && label !== false && React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null\n  }, options, sanitizeRestProps(rest)));\n};\nTextInput.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nTextInput.defaultProps = {\n  options: {}\n};\nexport default TextInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles, InputAdornment } from '@material-ui/core';\nimport { useTranslate } from 'ra-core';\nimport TextInput from './TextInput';\nvar useStyles = makeStyles({\n  input: {\n    marginTop: 32\n  }\n}, {\n  name: 'RaSearchInput'\n});\n\nvar SearchInput = function SearchInput(_a) {\n  var classesOverride = _a.classes,\n      props = __rest(_a, [\"classes\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(TextInput, __assign({\n    hiddenLabel: true,\n    label: \"\",\n    resettable: true,\n    placeholder: translate('ra.action.search'),\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\"\n      }, React.createElement(SearchIcon, {\n        color: \"disabled\"\n      }))\n    },\n    className: classes.input\n  }, props));\n};\n\nSearchInput.propTypes = {\n  classes: PropTypes.object\n};\nexport default SearchInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\n/**\n * Convert Date object to String\n *\n * @param {Date} value value to convert\n * @returns {String} A standardized date (yyyy-MM-dd), to be passed to an <input type=\"date\" />\n */\n\nvar convertDateToString = function convertDateToString(value) {\n  if (!(value instanceof Date) || isNaN(value.getDate())) return;\n  var pad = '00';\n  var yyyy = value.getFullYear().toString();\n  var MM = (value.getMonth() + 1).toString();\n  var dd = value.getDate().toString();\n  return yyyy + \"-\" + (pad + MM).slice(-2) + \"-\" + (pad + dd).slice(-2);\n};\n\nvar dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\n\nvar getStringFromDate = function getStringFromDate(value) {\n  // null, undefined and empty string values should not go through dateFormatter\n  // otherwise, it returns undefined and will make the input an uncontrolled one.\n  if (value == null || value === '') {\n    return '';\n  }\n\n  if (value instanceof Date) {\n    return convertDateToString(value);\n  } // valid dates should not be converted\n\n\n  if (dateRegex.test(value)) {\n    return value;\n  }\n\n  return convertDateToString(new Date(value));\n};\n\nexport var DateInput = function DateInput(_a) {\n  var _b = _a.format,\n      format = _b === void 0 ? getStringFromDate : _b,\n      label = _a.label,\n      options = _a.options,\n      source = _a.source,\n      resource = _a.resource,\n      helperText = _a.helperText,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      parse = _a.parse,\n      validate = _a.validate,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      rest = __rest(_a, [\"format\", \"label\", \"options\", \"source\", \"resource\", \"helperText\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\", \"variant\"]);\n\n  var _e = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _e.id,\n      input = _e.input,\n      isRequired = _e.isRequired,\n      _f = _e.meta,\n      error = _f.error,\n      touched = _f.touched;\n\n  return React.createElement(TextField, __assign({\n    id: id\n  }, input, {\n    variant: variant,\n    margin: margin,\n    type: \"date\",\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    InputLabelProps: {\n      shrink: true\n    }\n  }, options, sanitizeRestProps(rest)));\n};\nDateInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nDateInput.defaultProps = {\n  options: {}\n};\nexport default DateInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useInput, useTranslate, FieldTitle } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: {\n      width: theme.spacing(16)\n    }\n  };\n}, {\n  name: 'RaNullableBooleanInput'\n});\n\nvar getBooleanFromString = function getBooleanFromString(value) {\n  if (value === 'true') return true;\n  if (value === 'false') return false;\n  return null;\n};\n\nvar getStringFromBoolean = function getStringFromBoolean(value) {\n  if (value === true) return 'true';\n  if (value === false) return 'false';\n  return '';\n};\n\nvar NullableBooleanInput = function NullableBooleanInput(_a) {\n  var className = _a.className,\n      _b = _a.format,\n      format = _b === void 0 ? getStringFromBoolean : _b,\n      helperText = _a.helperText,\n      label = _a.label,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      _d = _a.parse,\n      parse = _d === void 0 ? getBooleanFromString : _d,\n      resource = _a.resource,\n      source = _a.source,\n      validate = _a.validate,\n      _e = _a.variant,\n      variant = _e === void 0 ? 'filled' : _e,\n      rest = __rest(_a, [\"className\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"parse\", \"resource\", \"source\", \"validate\", \"variant\"]);\n\n  var classes = useStyles({});\n  var translate = useTranslate();\n\n  var _f = useInput({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'checkbox',\n    validate: validate\n  }),\n      id = _f.id,\n      input = _f.input,\n      isRequired = _f.isRequired,\n      _g = _f.meta,\n      error = _g.error,\n      touched = _g.touched;\n\n  return React.createElement(TextField, __assign({\n    id: id\n  }, input, {\n    select: true,\n    margin: margin,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null,\n    className: classnames(classes.input, className),\n    variant: variant\n  }, options, sanitizeRestProps(rest)), React.createElement(MenuItem, {\n    value: \"\"\n  }, translate('ra.boolean.null')), React.createElement(MenuItem, {\n    value: \"false\"\n  }, translate('ra.boolean.false')), React.createElement(MenuItem, {\n    value: \"true\"\n  }, translate('ra.boolean.true')));\n};\n\nNullableBooleanInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nexport default NullableBooleanInput;","import jsonExport from 'jsonexport/dist';\nimport downloadCSV from './downloadCSV';\n\nvar defaultExporter = function defaultExporter(data, _, __, resource) {\n  return jsonExport(data, function (err, csv) {\n    return downloadCSV(csv, resource);\n  });\n};\n\nexport default defaultExporter;","export default (function (csv, filename) {\n  var fakeLink = document.createElement('a');\n  fakeLink.style.display = 'none';\n  document.body.appendChild(fakeLink);\n  var blob = new Blob([csv], {\n    type: 'text/csv'\n  });\n\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n    // Manage IE11+ & Edge\n    window.navigator.msSaveOrOpenBlob(blob, filename + \".csv\");\n  } else {\n    fakeLink.setAttribute('href', URL.createObjectURL(blob));\n    fakeLink.setAttribute('download', filename + \".csv\");\n    fakeLink.click();\n  }\n});","import { createContext } from 'react';\nimport defaultExporter from './defaultExporter';\nvar ExporterContext = createContext(defaultExporter);\nExporterContext.displayName = 'ExporterContext';\nexport default ExporterContext;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  var _a, _b;\n\n  return {\n    toolbar: (_a = {\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n      paddingRight: 0\n    }, _a[theme.breakpoints.up('xs')] = {\n      paddingLeft: 0\n    }, _a[theme.breakpoints.down('xs')] = {\n      paddingLeft: theme.spacing(2),\n      backgroundColor: theme.palette.background.paper\n    }, _a),\n    actions: (_b = {\n      paddingTop: theme.spacing(3),\n      minHeight: theme.spacing(5)\n    }, _b[theme.breakpoints.down('xs')] = {\n      padding: theme.spacing(1),\n      backgroundColor: theme.palette.background.paper\n    }, _b)\n  };\n}, {\n  name: 'RaListToolbar'\n});\nvar defaultClasses = {}; // avoid needless updates\n\nvar ListToolbar = function ListToolbar(_a) {\n  var _b = _a.classes,\n      classes = _b === void 0 ? defaultClasses : _b,\n      filters = _a.filters,\n      filterValues = _a.filterValues,\n      // dynamically set via the UI by the user\n  permanentFilter = _a.permanentFilter,\n      // set in the List component by the developer\n  actions = _a.actions,\n      exporter = _a.exporter,\n      rest = __rest(_a, [\"classes\", \"filters\", \"filterValues\", \"permanentFilter\", \"actions\", \"exporter\"]);\n\n  var styles = useStyles({\n    classes: classes\n  });\n  return React.createElement(Toolbar, {\n    className: styles.toolbar\n  }, filters && React.cloneElement(filters, __assign(__assign({}, rest), {\n    filterValues: filterValues,\n    context: 'form'\n  })), React.createElement(\"span\", null), actions && React.cloneElement(actions, __assign(__assign(__assign({}, rest), {\n    className: styles.actions,\n    exporter: exporter,\n    filters: filters,\n    filterValues: filterValues,\n    permanentFilter: permanentFilter\n  }), actions.props)));\n};\n\nListToolbar.propTypes = {\n  classes: PropTypes.object,\n  filters: PropTypes.element,\n  permanentFilter: PropTypes.object,\n  actions: PropTypes.element,\n  exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool])\n};\nexport default React.memo(ListToolbar);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    actions: {\n      flexShrink: 0,\n      color: theme.palette.text.secondary,\n      marginLeft: 20\n    },\n    hellip: {\n      padding: '1.2em'\n    }\n  };\n}, {\n  name: 'RaPaginationActions'\n});\n\nfunction PaginationActions(_a) {\n  var classesOverride = _a.classes,\n      page = _a.page,\n      rowsPerPage = _a.rowsPerPage,\n      count = _a.count,\n      onChangePage = _a.onChangePage,\n      color = _a.color,\n      size = _a.size;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  /**\n   * Warning: material-ui's page is 0-based\n   */\n\n  var range = function range() {\n    var nbPages = Math.ceil(count / rowsPerPage) || 1;\n\n    if (isNaN(page) || nbPages === 1) {\n      return [];\n    }\n\n    var input = []; // display page links around the current page\n\n    if (page > 1) {\n      input.push(1);\n    }\n\n    if (page === 3) {\n      input.push(2);\n    }\n\n    if (page > 3) {\n      input.push('.');\n    }\n\n    if (page > 0) {\n      input.push(page);\n    }\n\n    input.push(page + 1);\n\n    if (page < nbPages - 1) {\n      input.push(page + 2);\n    }\n\n    if (page === nbPages - 4) {\n      input.push(nbPages - 1);\n    }\n\n    if (page < nbPages - 4) {\n      input.push('.');\n    }\n\n    if (page < nbPages - 2) {\n      input.push(nbPages);\n    }\n\n    return input;\n  };\n\n  var getNbPages = function getNbPages() {\n    return Math.ceil(count / rowsPerPage) || 1;\n  };\n\n  var prevPage = function prevPage(event) {\n    if (page === 0) {\n      throw new Error(translate('ra.navigation.page_out_from_begin'));\n    }\n\n    onChangePage(event, page - 1);\n  };\n\n  var nextPage = function nextPage(event) {\n    if (page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_from_end'));\n    }\n\n    onChangePage(event, page + 1);\n  };\n\n  var gotoPage = function gotoPage(event) {\n    var page = parseInt(event.currentTarget.dataset.page, 10);\n\n    if (page < 0 || page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n        page: page + 1\n      }));\n    }\n\n    onChangePage(event, page);\n  };\n\n  var renderPageNums = function renderPageNums() {\n    return range().map(function (pageNum, index) {\n      return pageNum === '.' ? React.createElement(\"span\", {\n        key: \"hyphen_\" + index,\n        className: classes.hellip\n      }, \"\\u2026\") : React.createElement(Button, {\n        size: size,\n        className: \"page-number\",\n        color: pageNum === page + 1 ? 'default' : color,\n        key: pageNum,\n        \"data-page\": pageNum - 1,\n        onClick: gotoPage\n      }, pageNum);\n    });\n  };\n\n  var nbPages = getNbPages();\n\n  if (nbPages === 1) {\n    return React.createElement(\"div\", {\n      className: classes.actions\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.actions\n  }, page > 0 && React.createElement(Button, {\n    color: color,\n    size: size,\n    key: \"prev\",\n    onClick: prevPage,\n    className: \"previous-page\"\n  }, React.createElement(ChevronLeft, null), translate('ra.navigation.prev')), renderPageNums(), page !== nbPages - 1 && React.createElement(Button, {\n    color: color,\n    size: size,\n    key: \"next\",\n    onClick: nextPage,\n    className: \"next-page\"\n  }, translate('ra.navigation.next'), React.createElement(ChevronRight, null)));\n}\n/**\n * PaginationActions propTypes are copied over from material-uis\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\n\n\nPaginationActions.propTypes = {\n  backIconButtonProps: PropTypes.object,\n  count: PropTypes.number.isRequired,\n  classes: PropTypes.object,\n  nextIconButtonProps: PropTypes.object,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n  color: PropTypes.oneOf(['primary', 'secondary']),\n  size: PropTypes.oneOf(['small', 'medium', 'large'])\n};\nPaginationActions.defaultProps = {\n  color: 'primary',\n  size: 'small'\n};\nexport default React.memo(PaginationActions);","import React from 'react';\nimport pure from 'recompose/pure';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'ra-core';\n\nvar PaginationLimit = function PaginationLimit() {\n  var translate = useTranslate();\n  return React.createElement(CardContent, null, React.createElement(Typography, {\n    variant: \"body2\"\n  }, translate('ra.navigation.no_results')));\n};\n\nexport default pure(PaginationLimit);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery } from '@material-ui/core';\nimport { useTranslate, sanitizeListRestProps, ComponentPropType } from 'ra-core';\nimport DefaultPaginationActions from './PaginationActions';\nimport DefaultPaginationLimit from './PaginationLimit';\nvar emptyArray = [];\n\nvar Pagination = function Pagination(_a) {\n  var loading = _a.loading,\n      page = _a.page,\n      perPage = _a.perPage,\n      rowsPerPageOptions = _a.rowsPerPageOptions,\n      total = _a.total,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      actions = _a.actions,\n      limit = _a.limit,\n      rest = __rest(_a, [\"loading\", \"page\", \"perPage\", \"rowsPerPageOptions\", \"total\", \"setPage\", \"setPerPage\", \"actions\", \"limit\"]);\n\n  useEffect(function () {\n    if (page < 1 || isNaN(page)) {\n      setPage(1);\n    }\n  }, [page, setPage]);\n  var translate = useTranslate();\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('sm');\n  });\n\n  var getNbPages = function getNbPages() {\n    return Math.ceil(total / perPage) || 1;\n  };\n  /**\n   * Warning: material-ui's page is 0-based\n   */\n\n\n  var handlePageChange = useCallback(function (event, page) {\n    event && event.stopPropagation();\n\n    if (page < 0 || page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n        page: page + 1\n      }));\n    }\n\n    setPage(page + 1);\n  }, [total, perPage, setPage, translate] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var handlePerPageChange = useCallback(function (event) {\n    setPerPage(event.target.value);\n  }, [setPerPage]);\n  var labelDisplayedRows = useCallback(function (_a) {\n    var from = _a.from,\n        to = _a.to,\n        count = _a.count;\n    return translate('ra.navigation.page_range_info', {\n      offsetBegin: from,\n      offsetEnd: to,\n      total: count\n    });\n  }, [translate]);\n\n  if (total === 0) {\n    return loading ? React.createElement(Toolbar, {\n      variant: \"dense\"\n    }) : limit;\n  }\n\n  if (isSmall) {\n    return React.createElement(TablePagination, __assign({\n      count: total,\n      rowsPerPage: perPage,\n      page: page - 1,\n      onChangePage: handlePageChange,\n      rowsPerPageOptions: emptyArray,\n      component: \"span\",\n      labelDisplayedRows: labelDisplayedRows\n    }, sanitizeListRestProps(rest)));\n  }\n\n  return React.createElement(TablePagination, __assign({\n    count: total,\n    rowsPerPage: perPage,\n    page: page - 1,\n    onChangePage: handlePageChange,\n    onChangeRowsPerPage: handlePerPageChange,\n    ActionsComponent: actions,\n    component: \"span\",\n    labelRowsPerPage: translate('ra.navigation.page_rows_per_page'),\n    labelDisplayedRows: labelDisplayedRows,\n    rowsPerPageOptions: rowsPerPageOptions\n  }, sanitizeListRestProps(rest)));\n};\n\nPagination.propTypes = {\n  actions: ComponentPropType,\n  ids: PropTypes.array,\n  limit: PropTypes.element,\n  loading: PropTypes.bool,\n  page: PropTypes.number,\n  perPage: PropTypes.number,\n  rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n  setPage: PropTypes.func,\n  setPerPage: PropTypes.func,\n  total: PropTypes.number\n};\nPagination.defaultProps = {\n  rowsPerPageOptions: [5, 10, 25],\n  actions: DefaultPaginationActions,\n  limit: React.createElement(DefaultPaginationLimit, null)\n};\nexport default React.memo(Pagination);","import { DELETE_MANY } from '../../core';\nexport var crudDeleteMany = function crudDeleteMany(resource, ids, basePath, refresh) {\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_DELETE_MANY,\n    payload: {\n      ids: ids\n    },\n    meta: {\n      resource: resource,\n      fetch: DELETE_MANY,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.deleted',\n          level: 'info',\n          messageArgs: {\n            smart_count: ids.length\n          }\n        },\n        basePath: basePath,\n        refresh: refresh,\n        unselectAll: true\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';\nexport var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';\nexport var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';\nexport var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    contentText: {\n      minWidth: 400\n    },\n    confirmPrimary: {\n      color: theme.palette.primary.main\n    },\n    confirmWarning: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n    iconPaddingStyle: {\n      paddingRight: '0.5em'\n    }\n  };\n}, {\n  name: 'RaConfirm'\n});\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     ConfirmIcon=ActionCheck\n *     CancelIcon=AlertError\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\n\nvar Confirm = function Confirm(_a) {\n  var _b;\n\n  var isOpen = _a.isOpen,\n      loading = _a.loading,\n      title = _a.title,\n      content = _a.content,\n      confirm = _a.confirm,\n      cancel = _a.cancel,\n      confirmColor = _a.confirmColor,\n      ConfirmIcon = _a.ConfirmIcon,\n      CancelIcon = _a.CancelIcon,\n      onClose = _a.onClose,\n      onConfirm = _a.onConfirm,\n      classesOverride = _a.classes,\n      _c = _a.translateOptions,\n      translateOptions = _c === void 0 ? {} : _c;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var handleConfirm = useCallback(function (e) {\n    e.stopPropagation();\n    onConfirm();\n  }, [onConfirm]);\n  var handleClick = useCallback(function (e) {\n    e.stopPropagation();\n  }, []);\n  return React.createElement(Dialog, {\n    open: isOpen,\n    onClose: onClose,\n    onClick: handleClick,\n    \"aria-labelledby\": \"alert-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\"\n  }, translate(title, __assign({\n    _: title\n  }, translateOptions))), React.createElement(DialogContent, null, React.createElement(DialogContentText, {\n    className: classes.contentText\n  }, translate(content, __assign({\n    _: content\n  }, translateOptions)))), React.createElement(DialogActions, null, React.createElement(Button, {\n    disabled: loading,\n    onClick: onClose\n  }, React.createElement(CancelIcon, {\n    className: classes.iconPaddingStyle\n  }), translate(cancel, {\n    _: cancel\n  })), React.createElement(Button, {\n    disabled: loading,\n    onClick: handleConfirm,\n    className: classnames('ra-confirm', (_b = {}, _b[classes.confirmWarning] = confirmColor === 'warning', _b[classes.confirmPrimary] = confirmColor === 'primary', _b)),\n    autoFocus: true\n  }, React.createElement(ConfirmIcon, {\n    className: classes.iconPaddingStyle\n  }), translate(confirm, {\n    _: confirm\n  }))));\n};\n\nConfirm.propTypes = {\n  cancel: PropTypes.string.isRequired,\n  classes: PropTypes.object,\n  confirm: PropTypes.string.isRequired,\n  confirmColor: PropTypes.string.isRequired,\n  ConfirmIcon: PropTypes.elementType.isRequired,\n  CancelIcon: PropTypes.elementType.isRequired,\n  content: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool,\n  loading: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired\n};\nConfirm.defaultProps = {\n  cancel: 'ra.action.cancel',\n  classes: {},\n  confirm: 'ra.action.confirm',\n  confirmColor: 'primary',\n  ConfirmIcon: ActionCheck,\n  CancelIcon: AlertError,\n  isOpen: false\n};\nexport default Confirm;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport inflection from 'inflection';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      classes = _a.classes,\n      crudDeleteMany = _a.crudDeleteMany,\n      filterValues = _a.filterValues,\n      label = _a.label,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"crudDeleteMany\", \"filterValues\", \"label\", \"resource\", \"selectedIds\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n}, {\n  name: 'RaBulkDeleteWithConfirmButton'\n});\n\nvar BulkDeleteWithConfirmButton = function BulkDeleteWithConfirmButton(_a) {\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      confirmTitle = _a.confirmTitle,\n      confirmContent = _a.confirmContent,\n      crudDeleteMany = _a.crudDeleteMany,\n      icon = _a.icon,\n      label = _a.label,\n      onClick = _a.onClick,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"confirmTitle\", \"confirmContent\", \"crudDeleteMany\", \"icon\", \"label\", \"onClick\", \"resource\", \"selectedIds\"]);\n\n  var _b = useState(false),\n      isOpen = _b[0],\n      setOpen = _b[1];\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var unselectAll = useUnselectAll();\n  var refresh = useRefresh();\n  var translate = useTranslate();\n\n  var _c = useDeleteMany(resource, selectedIds, {\n    action: CRUD_DELETE_MANY,\n    onSuccess: function onSuccess() {\n      refresh();\n      notify('ra.notification.deleted', 'info', {\n        smart_count: selectedIds.length\n      });\n      unselectAll(resource);\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    }\n  }),\n      deleteMany = _c[0],\n      loading = _c[1].loading;\n\n  var handleClick = function handleClick(e) {\n    setOpen(true);\n    e.stopPropagation();\n  };\n\n  var handleDialogClose = function handleDialogClose() {\n    setOpen(false);\n  };\n\n  var handleDelete = function handleDelete() {\n    deleteMany();\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  };\n\n  return React.createElement(Fragment, null, React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    className: classes.deleteButton\n  }, sanitizeRestProps(rest)), icon), React.createElement(Confirm, {\n    isOpen: isOpen,\n    loading: loading,\n    title: confirmTitle,\n    content: confirmContent,\n    translateOptions: {\n      smart_count: selectedIds.length,\n      name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n        smart_count: selectedIds.length,\n        _: inflection.inflect(resource, selectedIds.length)\n      }), true)\n    },\n    onConfirm: handleDelete,\n    onClose: handleDialogClose\n  }));\n};\n\nBulkDeleteWithConfirmButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  confirmTitle: PropTypes.string,\n  confirmContent: PropTypes.string,\n  label: PropTypes.string,\n  resource: PropTypes.string.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  icon: PropTypes.element\n};\nBulkDeleteWithConfirmButton.defaultProps = {\n  confirmTitle: 'ra.message.bulk_delete_title',\n  confirmContent: 'ra.message.bulk_delete_content',\n  label: 'ra.action.delete',\n  icon: React.createElement(ActionDelete, null)\n};\nexport default BulkDeleteWithConfirmButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY } from 'ra-core';\nimport Button from './Button';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      classes = _a.classes,\n      dispatchCrudDeleteMany = _a.dispatchCrudDeleteMany,\n      filterValues = _a.filterValues,\n      label = _a.label,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      startUndoable = _a.startUndoable,\n      undoable = _a.undoable,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"dispatchCrudDeleteMany\", \"filterValues\", \"label\", \"resource\", \"selectedIds\", \"startUndoable\", \"undoable\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n}, {\n  name: 'RaBulkDeleteWithUndoButton'\n});\n\nvar BulkDeleteWithUndoButton = function BulkDeleteWithUndoButton(_a) {\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      icon = _a.icon,\n      label = _a.label,\n      onClick = _a.onClick,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      startUndoable = _a.startUndoable,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"icon\", \"label\", \"onClick\", \"resource\", \"selectedIds\", \"startUndoable\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var unselectAll = useUnselectAll();\n  var refresh = useRefresh();\n\n  var _b = useDeleteMany(resource, selectedIds, {\n    action: CRUD_DELETE_MANY,\n    onSuccess: function onSuccess() {\n      notify('ra.notification.deleted', 'info', {\n        smart_count: selectedIds.length\n      }, true);\n      unselectAll(resource);\n      refresh();\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    },\n    undoable: true\n  }),\n      deleteMany = _b[0],\n      loading = _b[1].loading;\n\n  var handleClick = function handleClick() {\n    deleteMany();\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  };\n\n  return React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    className: classes.deleteButton,\n    disabled: loading\n  }, sanitizeRestProps(rest)), icon);\n};\n\nBulkDeleteWithUndoButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  label: PropTypes.string,\n  resource: PropTypes.string.isRequired,\n  startUndoable: PropTypes.func,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  icon: PropTypes.element\n};\nBulkDeleteWithUndoButton.defaultProps = {\n  label: 'ra.action.delete',\n  undoable: true,\n  icon: React.createElement(ActionDelete, null)\n};\nexport default BulkDeleteWithUndoButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport BulkDeleteWithConfirmButton from './BulkDeleteWithConfirmButton';\nimport BulkDeleteWithUndoButton from './BulkDeleteWithUndoButton';\n\nvar BulkDeleteButton = function BulkDeleteButton(_a) {\n  var undoable = _a.undoable,\n      props = __rest(_a, [\"undoable\"]);\n\n  return undoable ? React.createElement(BulkDeleteWithUndoButton, __assign({}, props)) : React.createElement(BulkDeleteWithConfirmButton, __assign({}, props));\n};\n\nBulkDeleteButton.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  resource: PropTypes.string.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  undoable: PropTypes.bool,\n  icon: PropTypes.element\n};\nBulkDeleteButton.defaultProps = {\n  undoable: true\n};\nexport default BulkDeleteButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: (_a = {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-start',\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(1),\n      minHeight: theme.spacing(5)\n    }, _a[theme.breakpoints.up('xs')] = {\n      paddingLeft: 0,\n      paddingRight: 0\n    }, _a[theme.breakpoints.down('sm')] = {\n      paddingRight: theme.spacing(2)\n    }, _a[theme.breakpoints.down('xs')] = {\n      padding: theme.spacing(1),\n      backgroundColor: theme.palette.background.paper\n    }, _a)\n  };\n}, {\n  name: 'RaTopToolbar'\n});\n\nvar TopToolbar = function TopToolbar(_a) {\n  var className = _a.className,\n      children = _a.children,\n      rest = __rest(_a, [\"className\", \"children\"]);\n\n  var classes = useStyles();\n  return React.createElement(Toolbar, __assign({\n    className: classnames(classes.root, className)\n  }, rest), children);\n};\n\nTopToolbar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nexport default TopToolbar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { useTranslate, sanitizeListRestProps } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    toolbar: {\n      zIndex: 3,\n      color: theme.palette.type === 'light' ? theme.palette.primary.main : theme.palette.text.primary,\n      justifyContent: 'space-between',\n      backgroundColor: theme.palette.type === 'light' ? lighten(theme.palette.primary.light, 0.85) : theme.palette.primary.dark,\n      minHeight: theme.spacing(8),\n      height: theme.spacing(8),\n      transition: theme.transitions.create('height') + \", \" + theme.transitions.create('min-height')\n    },\n    buttons: {},\n    collapsed: {\n      minHeight: 0,\n      height: 0,\n      overflowY: 'hidden'\n    },\n    title: {\n      flex: '0 0 auto'\n    }\n  };\n}, {\n  name: 'RaBulkActionsToolbar'\n});\n\nvar BulkActionsToolbar = function BulkActionsToolbar(_a) {\n  var _b;\n\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      filterValues = _a.filterValues,\n      label = _a.label,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      children = _a.children,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\", \"resource\", \"selectedIds\", \"children\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(Toolbar, __assign({\n    \"data-test\": \"bulk-actions-toolbar\",\n    className: classnames(classes.toolbar, (_b = {}, _b[classes.collapsed] = selectedIds.length === 0, _b))\n  }, sanitizeListRestProps(rest)), React.createElement(\"div\", {\n    className: classes.title\n  }, React.createElement(Typography, {\n    color: \"inherit\",\n    variant: \"subtitle1\"\n  }, translate(label, {\n    _: label,\n    smart_count: selectedIds.length\n  }))), React.createElement(TopToolbar, null, Children.map(children, function (child) {\n    return cloneElement(Children.only(child), {\n      basePath: basePath,\n      filterValues: filterValues,\n      resource: resource,\n      selectedIds: selectedIds\n    });\n  })));\n};\n\nBulkActionsToolbar.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  basePath: PropTypes.string,\n  filterValues: PropTypes.object,\n  label: PropTypes.string,\n  resource: PropTypes.string,\n  selectedIds: PropTypes.array\n};\nBulkActionsToolbar.defaultProps = {\n  label: 'ra.action.bulk_actions'\n};\nexport default BulkActionsToolbar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport { Fab, makeStyles, useMediaQuery } from '@material-ui/core';\nimport ContentAdd from '@material-ui/icons/Add';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'ra-core';\nimport Button from './Button';\n\nvar CreateButton = function CreateButton(_a) {\n  var _b = _a.basePath,\n      basePath = _b === void 0 ? '' : _b,\n      className = _a.className,\n      classesOverride = _a.classes,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.create' : _c,\n      _d = _a.icon,\n      icon = _d === void 0 ? defaultIcon : _d,\n      rest = __rest(_a, [\"basePath\", \"className\", \"classes\", \"label\", \"icon\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('sm');\n  });\n  return isSmall ? React.createElement(Fab, __assign({\n    component: Link,\n    color: \"primary\",\n    className: classnames(classes.floating, className),\n    to: basePath + \"/create\",\n    \"aria-label\": label && translate(label)\n  }, rest), icon) : React.createElement(Button, __assign({\n    component: Link,\n    to: basePath + \"/create\",\n    className: className,\n    label: label\n  }, rest), icon);\n};\n\nvar defaultIcon = React.createElement(ContentAdd, null);\nvar useStyles = makeStyles(function (theme) {\n  return {\n    floating: {\n      color: theme.palette.getContrastText(theme.palette.primary.main),\n      margin: 0,\n      top: 'auto',\n      right: 20,\n      bottom: 60,\n      left: 'auto',\n      position: 'fixed',\n      zIndex: 1000\n    },\n    floatingLink: {\n      color: 'inherit'\n    }\n  };\n}, {\n  name: 'RaCreateButton'\n});\nCreateButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  icon: PropTypes.element,\n  label: PropTypes.string\n};\nvar enhance = onlyUpdateForKeys(['basePath', 'label', 'translate']);\nexport default enhance(CreateButton);","/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *          posts.map(record => ({\n *              ...record,\n *              post_title: posts[record.post_id].title,\n *          }));\n */\nvar fetchRelatedRecords = function fetchRelatedRecords(dataProvider) {\n  return function (data, field, resource) {\n    return dataProvider.getMany(resource, {\n      ids: getRelatedIds(data, field)\n    }).then(function (_a) {\n      var data = _a.data;\n      return data.reduce(function (acc, post) {\n        acc[post.id] = post;\n        return acc;\n      }, {});\n    });\n  };\n};\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\n\n\nexport var getRelatedIds = function getRelatedIds(records, field) {\n  return Array.from(new Set(records.filter(function (record) {\n    return record[field] != null;\n  }).map(function (record) {\n    return record[field];\n  }).reduce(function (ids, value) {\n    return ids.concat(value);\n  }, [])));\n};\nexport default fetchRelatedRecords;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, ExporterContext } from 'ra-core';\nimport Button from './Button';\n\nvar ExportButton = function ExportButton(_a) {\n  var sort = _a.sort,\n      _b = _a.filter,\n      filter = _b === void 0 ? defaultFilter : _b,\n      _c = _a.maxResults,\n      maxResults = _c === void 0 ? 1000 : _c,\n      resource = _a.resource,\n      onClick = _a.onClick,\n      _d = _a.label,\n      label = _d === void 0 ? 'ra.action.export' : _d,\n      _e = _a.icon,\n      icon = _e === void 0 ? defaultIcon : _e,\n      rest = __rest(_a, [\"sort\", \"filter\", \"maxResults\", \"resource\", \"onClick\", \"label\", \"icon\"]);\n\n  var exporter = useContext(ExporterContext);\n  var dataProvider = useDataProvider();\n  var notify = useNotify();\n  var handleClick = useCallback(function (event) {\n    dataProvider.getList(resource, {\n      sort: sort,\n      filter: filter,\n      pagination: {\n        page: 1,\n        perPage: maxResults\n      }\n    }).then(function (_a) {\n      var data = _a.data;\n      return exporter && exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n    }).catch(function (error) {\n      console.error(error);\n      notify('ra.notification.http_error', 'warning');\n    });\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [dataProvider, exporter, filter, maxResults, notify, onClick, resource, sort]);\n  return React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label\n  }, sanitizeRestProps(rest)), icon);\n};\n\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar defaultFilter = {};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      exporter = _a.exporter,\n      rest = __rest(_a, [\"basePath\", \"exporter\"]);\n\n  return rest;\n};\n\nExportButton.propTypes = {\n  basePath: PropTypes.string,\n  exporter: PropTypes.func,\n  filter: PropTypes.object,\n  label: PropTypes.string,\n  maxResults: PropTypes.number,\n  resource: PropTypes.string.isRequired,\n  sort: PropTypes.exact({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  icon: PropTypes.element\n};\nexport default ExportButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nimport { CreateButton, ExportButton } from '../button';\n\nvar ListActions = function ListActions(_a) {\n  var currentSort = _a.currentSort,\n      className = _a.className,\n      resource = _a.resource,\n      filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      exporter = _a.exporter,\n      filterValues = _a.filterValues,\n      permanentFilter = _a.permanentFilter,\n      hasCreate = _a.hasCreate,\n      basePath = _a.basePath,\n      selectedIds = _a.selectedIds,\n      onUnselectItems = _a.onUnselectItems,\n      showFilter = _a.showFilter,\n      total = _a.total,\n      rest = __rest(_a, [\"currentSort\", \"className\", \"resource\", \"filters\", \"displayedFilters\", \"exporter\", \"filterValues\", \"permanentFilter\", \"hasCreate\", \"basePath\", \"selectedIds\", \"onUnselectItems\", \"showFilter\", \"total\"]);\n\n  return useMemo(function () {\n    return React.createElement(TopToolbar, __assign({\n      className: className\n    }, sanitizeListRestProps(rest)), filters && cloneElement(filters, {\n      resource: resource,\n      showFilter: showFilter,\n      displayedFilters: displayedFilters,\n      filterValues: filterValues,\n      context: 'button'\n    }), hasCreate && React.createElement(CreateButton, {\n      basePath: basePath\n    }), exporter !== false && React.createElement(ExportButton, {\n      disabled: total === 0,\n      resource: resource,\n      sort: currentSort,\n      filter: __assign(__assign({}, filterValues), permanentFilter),\n      exporter: exporter\n    }));\n  }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n};\n\nListActions.propTypes = {\n  basePath: PropTypes.string,\n  className: PropTypes.string,\n  currentSort: PropTypes.object,\n  displayedFilters: PropTypes.object,\n  exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  filters: PropTypes.element,\n  filterValues: PropTypes.object,\n  hasCreate: PropTypes.bool,\n  resource: PropTypes.string,\n  onUnselectItems: PropTypes.func.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.any),\n  showFilter: PropTypes.func,\n  total: PropTypes.number\n};\nListActions.defaultProps = {\n  selectedIds: [],\n  onUnselectItems: function onUnselectItems() {\n    return null;\n  }\n};\nexport default ListActions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useCheckMinimumRequiredProps, useListController, getListControllerProps, ComponentPropType, ExporterContext, defaultExporter } from 'ra-core';\nimport Title, { TitlePropType } from '../layout/Title';\nimport ListToolbar from './ListToolbar';\nimport DefaultPagination from './Pagination';\nimport BulkDeleteButton from '../button/BulkDeleteButton';\nimport BulkActionsToolbar from './BulkActionsToolbar';\nimport DefaultActions from './ListActions';\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * The <List> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - filter (the permanent filter to apply to the query)\n * - filters (a React component used to display the filter form)\n * - pagination\n * - perPage\n * - sort\n * - title\n *\n * @example\n *\n * const PostFilter = (props) => (\n *     <Filter {...props}>\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *         <TextInput label=\"Title\" source=\"title\" />\n *     </Filter>\n * );\n * export const PostList = (props) => (\n *     <List {...props}\n *         title=\"List of posts\"\n *         sort={{ field: 'published_at' }}\n *         filter={{ is_published: true }}\n *         filters={PostFilter}\n *     >\n *         <Datagrid>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n */\n\nvar List = function List(props) {\n  return React.createElement(ListView, __assign({}, props, useListController(props)));\n};\n\nList.propTypes = {\n  // the props you can change\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  bulkActionButtons: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  filter: PropTypes.object,\n  filterDefaultValues: PropTypes.object,\n  filters: PropTypes.element,\n  pagination: PropTypes.element,\n  perPage: PropTypes.number.isRequired,\n  sort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  title: TitlePropType,\n  // the props managed by react-admin\n  authProvider: PropTypes.func,\n  hasCreate: PropTypes.bool.isRequired,\n  hasEdit: PropTypes.bool.isRequired,\n  hasList: PropTypes.bool.isRequired,\n  hasShow: PropTypes.bool.isRequired,\n  location: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired,\n  path: PropTypes.string,\n  resource: PropTypes.string.isRequired\n};\nList.defaultProps = {\n  filter: {},\n  perPage: 10\n};\nexport var ListView = function ListView(props) {\n  var _a;\n\n  var actions = props.actions,\n      aside = props.aside,\n      filter = props.filter,\n      filters = props.filters,\n      bulkActionButtons = props.bulkActionButtons,\n      pagination = props.pagination,\n      children = props.children,\n      className = props.className,\n      classesOverride = props.classes,\n      Content = props.component,\n      _b = props.exporter,\n      exporter = _b === void 0 ? defaultExporter : _b,\n      title = props.title,\n      rest = __rest(props, [\"actions\", \"aside\", \"filter\", \"filters\", \"bulkActionButtons\", \"pagination\", \"children\", \"className\", \"classes\", \"component\", \"exporter\", \"title\"]);\n\n  useCheckMinimumRequiredProps('List', ['children'], props);\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var defaultTitle = rest.defaultTitle,\n      version = rest.version;\n  var controllerProps = getListControllerProps(rest);\n  return React.createElement(ExporterContext.Provider, {\n    value: exporter\n  }, React.createElement(\"div\", __assign({\n    className: classnames('list-page', classes.root, className)\n  }, sanitizeRestProps(rest)), React.createElement(Title, {\n    title: title,\n    defaultTitle: defaultTitle\n  }), (filters || actions) && React.createElement(ListToolbar, __assign({\n    filters: filters\n  }, controllerProps, {\n    actions: actions,\n    exporter: exporter,\n    permanentFilter: filter\n  })), React.createElement(\"div\", {\n    className: classes.main\n  }, React.createElement(Content, {\n    className: classnames(classes.content, (_a = {}, _a[classes.bulkActionsDisplayed] = controllerProps.selectedIds.length > 0, _a)),\n    key: version\n  }, bulkActionButtons !== false && bulkActionButtons && React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons), children && cloneElement(Children.only(children), __assign(__assign({}, controllerProps), {\n    hasBulkActions: bulkActionButtons !== false\n  })), pagination && cloneElement(pagination, controllerProps)), aside && cloneElement(aside, controllerProps))));\n};\nListView.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  basePath: PropTypes.string,\n  bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n  children: PropTypes.element,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  component: ComponentPropType,\n  currentSort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.object,\n  defaultTitle: PropTypes.string,\n  displayedFilters: PropTypes.object,\n  exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  filterDefaultValues: PropTypes.object,\n  filters: PropTypes.element,\n  filterValues: PropTypes.object,\n  hasCreate: PropTypes.bool,\n  hideFilter: PropTypes.func,\n  ids: PropTypes.array,\n  loading: PropTypes.bool,\n  onSelect: PropTypes.func,\n  onToggleItem: PropTypes.func,\n  onUnselectItems: PropTypes.func,\n  page: PropTypes.number,\n  pagination: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n  perPage: PropTypes.number,\n  refresh: PropTypes.func,\n  resource: PropTypes.string,\n  selectedIds: PropTypes.array,\n  setFilters: PropTypes.func,\n  setPage: PropTypes.func,\n  setPerPage: PropTypes.func,\n  setSort: PropTypes.func,\n  showFilter: PropTypes.func,\n  title: TitlePropType,\n  total: PropTypes.number,\n  version: PropTypes.number\n};\n\nvar DefaultBulkActionButtons = function DefaultBulkActionButtons(props) {\n  return React.createElement(BulkDeleteButton, __assign({}, props));\n};\n\nListView.defaultProps = {\n  actions: React.createElement(DefaultActions, null),\n  classes: {},\n  component: Card,\n  bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n  pagination: React.createElement(DefaultPagination, null)\n};\nexport var useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: {},\n    main: {\n      display: 'flex'\n    },\n    content: (_a = {\n      marginTop: 0,\n      transition: theme.transitions.create('margin-top'),\n      position: 'relative',\n      flex: '1 1 auto'\n    }, _a[theme.breakpoints.down('xs')] = {\n      boxShadow: 'none'\n    }, _a),\n    bulkActionsDisplayed: {\n      marginTop: -theme.spacing(8),\n      transition: theme.transitions.create('margin-top')\n    },\n    actions: {\n      zIndex: 2,\n      display: 'flex',\n      justifyContent: 'flex-end',\n      flexWrap: 'wrap'\n    },\n    noResults: {\n      padding: 20\n    }\n  };\n}, {\n  name: 'RaList'\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var actions = _a.actions,\n      basePath = _a.basePath,\n      changeListParams = _a.changeListParams,\n      children = _a.children,\n      classes = _a.classes,\n      className = _a.className,\n      crudGetList = _a.crudGetList,\n      currentSort = _a.currentSort,\n      data = _a.data,\n      defaultTitle = _a.defaultTitle,\n      displayedFilters = _a.displayedFilters,\n      exporter = _a.exporter,\n      filter = _a.filter,\n      filterDefaultValues = _a.filterDefaultValues,\n      filters = _a.filters,\n      filterValues = _a.filterValues,\n      hasCreate = _a.hasCreate,\n      hasEdit = _a.hasEdit,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      hideFilter = _a.hideFilter,\n      history = _a.history,\n      ids = _a.ids,\n      loading = _a.loading,\n      loaded = _a.loaded,\n      locale = _a.locale,\n      location = _a.location,\n      match = _a.match,\n      onSelect = _a.onSelect,\n      onToggleItem = _a.onToggleItem,\n      onUnselectItems = _a.onUnselectItems,\n      options = _a.options,\n      page = _a.page,\n      pagination = _a.pagination,\n      params = _a.params,\n      permissions = _a.permissions,\n      perPage = _a.perPage,\n      push = _a.push,\n      query = _a.query,\n      refresh = _a.refresh,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      setFilters = _a.setFilters,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      setSelectedIds = _a.setSelectedIds,\n      setSort = _a.setSort,\n      showFilter = _a.showFilter,\n      sort = _a.sort,\n      title = _a.title,\n      toggleItem = _a.toggleItem,\n      total = _a.total,\n      version = _a.version,\n      rest = __rest(_a, [\"actions\", \"basePath\", \"changeListParams\", \"children\", \"classes\", \"className\", \"crudGetList\", \"currentSort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"exporter\", \"filter\", \"filterDefaultValues\", \"filters\", \"filterValues\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"hideFilter\", \"history\", \"ids\", \"loading\", \"loaded\", \"locale\", \"location\", \"match\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"options\", \"page\", \"pagination\", \"params\", \"permissions\", \"perPage\", \"push\", \"query\", \"refresh\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSelectedIds\", \"setSort\", \"showFilter\", \"sort\", \"title\", \"toggleItem\", \"total\", \"version\"]);\n\n  return rest;\n};\n\nexport default List;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport shouldUpdate from 'recompose/shouldUpdate';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate } from 'ra-core'; // remove the sort icons when not active\n\nvar useStyles = makeStyles({\n  icon: {\n    display: 'none'\n  },\n  active: {\n    '& $icon': {\n      display: 'inline'\n    }\n  }\n}, {\n  name: 'RaDatagridHeaderCell'\n});\nexport var DatagridHeaderCell = function DatagridHeaderCell(_a) {\n  var className = _a.className,\n      classesOverride = _a.classes,\n      field = _a.field,\n      currentSort = _a.currentSort,\n      updateSort = _a.updateSort,\n      resource = _a.resource,\n      isSorting = _a.isSorting,\n      rest = __rest(_a, [\"className\", \"classes\", \"field\", \"currentSort\", \"updateSort\", \"resource\", \"isSorting\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(TableCell, __assign({\n    className: classnames(className, field.props.headerClassName),\n    align: field.props.textAlign,\n    variant: \"head\"\n  }, rest), field.props.sortable !== false && (field.props.sortBy || field.props.source) ? React.createElement(Tooltip, {\n    title: translate('ra.action.sort'),\n    placement: field.props.textAlign === 'right' ? 'bottom-end' : 'bottom-start',\n    enterDelay: 300\n  }, React.createElement(TableSortLabel, {\n    active: currentSort.field === (field.props.sortBy || field.props.source),\n    direction: currentSort.order === 'ASC' ? 'asc' : 'desc',\n    \"data-sort\": field.props.sortBy || field.props.source,\n    onClick: updateSort,\n    classes: classes\n  }, React.createElement(FieldTitle, {\n    label: field.props.label,\n    source: field.props.source,\n    resource: resource\n  }))) : React.createElement(FieldTitle, {\n    label: field.props.label,\n    source: field.props.source,\n    resource: resource\n  }));\n};\nDatagridHeaderCell.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  field: PropTypes.element,\n  currentSort: PropTypes.shape({\n    sort: PropTypes.string,\n    order: PropTypes.string\n  }).isRequired,\n  isSorting: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resource: PropTypes.string,\n  updateSort: PropTypes.func.isRequired\n};\nexport default shouldUpdate(function (props, nextProps) {\n  return props.updateSort !== nextProps.updateSort || nextProps.isSorting && props.sortable !== nextProps.sortable;\n})(DatagridHeaderCell);","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.grey[300],\n      display: 'flex'\n    }\n  };\n}, {\n  name: 'RaDatagridLoading'\n});\n\nvar Placeholder = function Placeholder(_a) {\n  var classesOverride = _a.classes;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, \"\\xA0\");\n};\n\nvar times = function times(nbChildren, fn) {\n  return Array.from({\n    length: nbChildren\n  }, function (_, key) {\n    return fn(key);\n  });\n};\n\nvar DatagridLoading = function DatagridLoading(_a) {\n  var classes = _a.classes,\n      className = _a.className,\n      expand = _a.expand,\n      hasBulkActions = _a.hasBulkActions,\n      nbChildren = _a.nbChildren,\n      _b = _a.nbFakeLines,\n      nbFakeLines = _b === void 0 ? 5 : _b,\n      size = _a.size;\n  return React.createElement(Table, {\n    className: classnames(classes.table, className),\n    size: size\n  }, React.createElement(TableHead, null, React.createElement(TableRow, {\n    className: classes.row\n  }, expand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classes.expandHeader\n  }), hasBulkActions && React.createElement(TableCell, {\n    padding: \"checkbox\",\n    className: classes.expandIconCell\n  }, React.createElement(Checkbox, {\n    className: \"select-all\",\n    color: \"primary\",\n    checked: false\n  })), times(nbChildren, function (key) {\n    return React.createElement(TableCell, {\n      variant: \"head\",\n      className: classes.headerCell,\n      key: key\n    }, React.createElement(Placeholder, null));\n  }))), React.createElement(TableBody, null, times(nbFakeLines, function (key1) {\n    return React.createElement(TableRow, {\n      key: key1,\n      style: {\n        opacity: 1 / (key1 + 1)\n      }\n    }, expand && React.createElement(TableCell, {\n      padding: \"none\",\n      className: classes.expandIconCell\n    }, React.createElement(IconButton, {\n      className: classes.expandIcon,\n      component: \"div\",\n      \"aria-hidden\": \"true\"\n    }, React.createElement(ExpandMoreIcon, null))), hasBulkActions && React.createElement(TableCell, {\n      padding: \"checkbox\",\n      className: classes.expandIconCell\n    }, React.createElement(Checkbox, {\n      className: \"select-all\",\n      color: \"primary\",\n      checked: false\n    })), times(nbChildren, function (key2) {\n      return React.createElement(TableCell, {\n        className: classes.rowCell,\n        key: key2\n      }, React.createElement(Placeholder, null));\n    }));\n  })));\n};\n\nDatagridLoading.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool,\n  nbChildren: PropTypes.number,\n  nbFakeLines: PropTypes.number,\n  size: PropTypes.oneOf(['small', 'medium'])\n};\nexport default memo(DatagridLoading);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport classnames from 'classnames';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var cellClassName = _a.cellClassName,\n      className = _a.className,\n      field = _a.field,\n      formClassName = _a.formClassName,\n      headerClassName = _a.headerClassName,\n      record = _a.record,\n      basePath = _a.basePath,\n      resource = _a.resource,\n      rest = __rest(_a, [\"cellClassName\", \"className\", \"field\", \"formClassName\", \"headerClassName\", \"record\", \"basePath\", \"resource\"]);\n\n  return rest;\n};\n\nexport var DatagridCell = function DatagridCell(_a) {\n  var className = _a.className,\n      field = _a.field,\n      record = _a.record,\n      basePath = _a.basePath,\n      resource = _a.resource,\n      rest = __rest(_a, [\"className\", \"field\", \"record\", \"basePath\", \"resource\"]);\n\n  return React.createElement(TableCell, __assign({\n    className: classnames(className, field.props.cellClassName),\n    align: field.props.textAlign\n  }, sanitizeRestProps(rest)), React.cloneElement(field, {\n    record: record,\n    basePath: field.props.basePath || basePath,\n    resource: resource\n  }));\n};\nDatagridCell.propTypes = {\n  className: PropTypes.string,\n  field: PropTypes.element,\n  record: PropTypes.object,\n  basePath: PropTypes.string,\n  resource: PropTypes.string\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nDatagridCell.displayName = 'DatagridCell';\nexport default DatagridCell;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { memo } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classNames from 'classnames';\nimport { useTranslate } from 'ra-core';\n\nvar ExpandRowButton = function ExpandRowButton(_a) {\n  var _b;\n\n  var classes = _a.classes,\n      expanded = _a.expanded,\n      expandContentId = _a.expandContentId,\n      props = __rest(_a, [\"classes\", \"expanded\", \"expandContentId\"]);\n\n  var translate = useTranslate();\n  return React.createElement(IconButton, __assign({\n    \"aria-label\": translate(expanded ? 'ra.action.close' : 'ra.action.expand'),\n    \"aria-expanded\": expanded,\n    \"aria-controls\": expandContentId,\n    className: classNames(classes.expandIcon, (_b = {}, _b[classes.expanded] = expanded, _b)),\n    component: \"div\",\n    tabIndex: -1,\n    \"aria-hidden\": \"true\"\n  }, props), React.createElement(ExpandMoreIcon, null));\n};\n\nexport default memo(ExpandRowButton);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment, isValidElement, cloneElement, createElement, useState, useEffect, useCallback, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableRow, Checkbox } from '@material-ui/core';\nimport { linkToRecord } from 'ra-core';\nimport isEqual from 'lodash/isEqual';\nimport DatagridCell from './DatagridCell';\nimport ExpandRowButton from './ExpandRowButton';\nimport { useHistory } from 'react-router-dom';\n\nvar computeNbColumns = function computeNbColumns(expand, children, hasBulkActions) {\n  return expand ? 1 + ( // show expand button\n  hasBulkActions ? 1 : 0) + // checkbox column\n  React.Children.toArray(children).filter(function (child) {\n    return !!child;\n  }).length // non-null children\n  : 0;\n}; // we don't need to compute columns if there is no expand panel;\n\n\nvar defaultClasses = {};\n\nvar DatagridRow = function DatagridRow(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      _b = _a.classes,\n      classes = _b === void 0 ? defaultClasses : _b,\n      className = _a.className,\n      expand = _a.expand,\n      hasBulkActions = _a.hasBulkActions,\n      hover = _a.hover,\n      id = _a.id,\n      onToggleItem = _a.onToggleItem,\n      record = _a.record,\n      resource = _a.resource,\n      rowClick = _a.rowClick,\n      selected = _a.selected,\n      style = _a.style,\n      selectable = _a.selectable,\n      rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"id\", \"onToggleItem\", \"record\", \"resource\", \"rowClick\", \"selected\", \"style\", \"selectable\"]);\n\n  var _c = useState(false),\n      expanded = _c[0],\n      setExpanded = _c[1];\n\n  var _d = useState(computeNbColumns(expand, children, hasBulkActions)),\n      nbColumns = _d[0],\n      setNbColumns = _d[1];\n\n  useEffect(function () {\n    // Fields can be hidden dynamically based on permissions;\n    // The expand panel must span over the remaining columns\n    // So we must recompute the number of columns to span on\n    var newNbColumns = computeNbColumns(expand, children, hasBulkActions);\n\n    if (newNbColumns !== nbColumns) {\n      setNbColumns(newNbColumns);\n    }\n  }, [expand, nbColumns, children, hasBulkActions]);\n  var history = useHistory();\n  var handleToggleExpand = useCallback(function (event) {\n    setExpanded(!expanded);\n    event.stopPropagation();\n  }, [expanded]);\n  var handleToggleSelection = useCallback(function (event) {\n    onToggleItem(id);\n    event.stopPropagation();\n  }, [id, onToggleItem]);\n  var handleClick = useCallback(function (event) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var effect, _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!rowClick) return [2\n            /*return*/\n            ];\n            event.persist();\n            if (!(typeof rowClick === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , rowClick(id, basePath, record)];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = rowClick;\n            _b.label = 3;\n\n          case 3:\n            effect = _a;\n\n            switch (effect) {\n              case 'edit':\n                history.push(linkToRecord(basePath, id));\n                return [2\n                /*return*/\n                ];\n\n              case 'show':\n                history.push(linkToRecord(basePath, id, 'show'));\n                return [2\n                /*return*/\n                ];\n\n              case 'expand':\n                handleToggleExpand(event);\n                return [2\n                /*return*/\n                ];\n\n              case 'toggleSelection':\n                handleToggleSelection(event);\n                return [2\n                /*return*/\n                ];\n\n              default:\n                if (effect) history.push(effect);\n                return [2\n                /*return*/\n                ];\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [basePath, history, handleToggleExpand, handleToggleSelection, id, record, rowClick]);\n  return React.createElement(Fragment, null, React.createElement(TableRow, __assign({\n    className: className,\n    key: id,\n    style: style,\n    hover: hover,\n    onClick: handleClick\n  }, rest), expand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classes.expandIconCell\n  }, React.createElement(ExpandRowButton, {\n    classes: classes,\n    expanded: expanded,\n    onClick: handleToggleExpand,\n    expandContentId: id + \"-expand\"\n  })), hasBulkActions && React.createElement(TableCell, {\n    padding: \"checkbox\"\n  }, selectable && React.createElement(Checkbox, {\n    color: \"primary\",\n    className: \"select-item \" + classes.checkbox,\n    checked: selected,\n    onClick: handleToggleSelection\n  })), React.Children.map(children, function (field, index) {\n    return isValidElement(field) ? React.createElement(DatagridCell, __assign({\n      key: id + \"-\" + (field.props.source || index),\n      className: classnames(\"column-\" + field.props.source, classes.rowCell),\n      record: record\n    }, {\n      field: field,\n      basePath: basePath,\n      resource: resource\n    })) : null;\n  })), expand && expanded && React.createElement(TableRow, {\n    key: id + \"-expand\",\n    id: id + \"-expand\"\n  }, React.createElement(TableCell, {\n    colSpan: nbColumns\n  }, isValidElement(expand) ? cloneElement(expand, {\n    record: record,\n    basePath: basePath,\n    resource: resource,\n    id: String(id)\n  }) : createElement(expand, {\n    record: record,\n    basePath: basePath,\n    resource: resource,\n    id: String(id)\n  }))));\n};\n\nDatagridRow.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool.isRequired,\n  hover: PropTypes.bool,\n  id: PropTypes.any,\n  onToggleItem: PropTypes.func,\n  record: PropTypes.object.isRequired,\n  resource: PropTypes.string,\n  rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  selected: PropTypes.bool,\n  style: PropTypes.object,\n  selectable: PropTypes.bool\n};\nDatagridRow.defaultProps = {\n  hasBulkActions: false,\n  hover: true,\n  record: {},\n  selected: false,\n  selectable: true\n};\n\nvar areEqual = function areEqual(prevProps, nextProps) {\n  var _ = prevProps.children,\n      prevPropsWithoutChildren = __rest(prevProps, [\"children\"]);\n\n  var __ = nextProps.children,\n      nextPropsWithoutChildren = __rest(nextProps, [\"children\"]);\n\n  return isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\n\nexport var PureDatagridRow = memo(DatagridRow, areEqual);\nPureDatagridRow.displayName = 'PureDatagridRow';\nexport default DatagridRow;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport TableBody from '@material-ui/core/TableBody';\nimport classnames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport DatagridRow, { PureDatagridRow } from './DatagridRow';\n\nvar DatagridBody = function DatagridBody(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      classes = _a.classes,\n      className = _a.className,\n      data = _a.data,\n      expand = _a.expand,\n      hasBulkActions = _a.hasBulkActions,\n      hover = _a.hover,\n      ids = _a.ids,\n      onToggleItem = _a.onToggleItem,\n      resource = _a.resource,\n      row = _a.row,\n      rowClick = _a.rowClick,\n      rowStyle = _a.rowStyle,\n      selectedIds = _a.selectedIds,\n      styles = _a.styles,\n      version = _a.version,\n      isRowSelectable = _a.isRowSelectable,\n      rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"row\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"styles\", \"version\", \"isRowSelectable\"]);\n\n  return React.createElement(TableBody, __assign({\n    className: classnames('datagrid-body', className)\n  }, rest), ids.map(function (id, rowIndex) {\n    var _a;\n\n    return cloneElement(row, {\n      basePath: basePath,\n      classes: classes,\n      className: classnames(classes.row, (_a = {}, _a[classes.rowEven] = rowIndex % 2 === 0, _a[classes.rowOdd] = rowIndex % 2 !== 0, _a[classes.clickableRow] = rowClick, _a)),\n      expand: expand,\n      hasBulkActions: hasBulkActions,\n      hover: hover,\n      id: id,\n      key: id,\n      onToggleItem: onToggleItem,\n      record: data[id],\n      resource: resource,\n      rowClick: rowClick,\n      selectable: !isRowSelectable || isRowSelectable(data[id]),\n      selected: selectedIds.includes(id),\n      style: rowStyle ? rowStyle(data[id], rowIndex) : null\n    }, children);\n  }));\n};\n\nDatagridBody.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  data: PropTypes.object.isRequired,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool.isRequired,\n  hover: PropTypes.bool,\n  ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n  onToggleItem: PropTypes.func,\n  resource: PropTypes.string,\n  row: PropTypes.element,\n  rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  rowStyle: PropTypes.func,\n  selectedIds: PropTypes.arrayOf(PropTypes.any),\n  styles: PropTypes.object,\n  isRowSelectable: PropTypes.func,\n  version: PropTypes.number\n};\nDatagridBody.defaultProps = {\n  data: {},\n  hasBulkActions: false,\n  ids: [],\n  row: React.createElement(DatagridRow, null)\n}; // trick material-ui Table into thinking this is one of the child type it supports\n\nDatagridBody.muiName = 'TableBody';\n\nvar areEqual = function areEqual(prevProps, nextProps) {\n  var _ = prevProps.children,\n      prevPropsWithoutChildren = __rest(prevProps, [\"children\"]);\n\n  var __ = nextProps.children,\n      nextPropsWithoutChildren = __rest(nextProps, [\"children\"]);\n\n  return isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\n\nexport var PureDatagridBody = memo(DatagridBody, areEqual); // trick material-ui Table into thinking this is one of the child type it supports\n\nPureDatagridBody.muiName = 'TableBody';\nPureDatagridBody.defaultProps = {\n  row: React.createElement(PureDatagridRow, null)\n};\nexport default DatagridBody;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { isValidElement, Children, cloneElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps } from 'ra-core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\nimport DatagridLoading from './DatagridLoading';\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    table: {\n      tableLayout: 'auto'\n    },\n    thead: {},\n    tbody: {},\n    headerRow: {},\n    headerCell: {},\n    checkbox: {},\n    row: {},\n    clickableRow: {\n      cursor: 'pointer'\n    },\n    rowEven: {},\n    rowOdd: {},\n    rowCell: {},\n    expandHeader: {\n      padding: 0,\n      width: theme.spacing(6)\n    },\n    expandIconCell: {\n      width: theme.spacing(6)\n    },\n    expandIcon: {\n      padding: theme.spacing(1),\n      transform: 'rotate(-90deg)',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n    expanded: {\n      transform: 'rotate(0deg)'\n    }\n  };\n}, {\n  name: 'RaDatagrid'\n});\n/**\n * The Datagrid component renders a list of records as a table.\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\n *\n * Props:\n *  - rowStyle\n *\n * @example Display all posts as a datagrid\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <Datagrid rowStyle={postRowStyle}>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <TextField source=\"body\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n */\n\nfunction Datagrid(_a) {\n  var classesOverride = _a.classes,\n      props = __rest(_a, [\"classes\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  var basePath = props.basePath,\n      _b = props.optimized,\n      optimized = _b === void 0 ? false : _b,\n      _c = props.body,\n      body = _c === void 0 ? optimized ? React.createElement(PureDatagridBody, null) : React.createElement(DatagridBody, null) : _c,\n      children = props.children,\n      className = props.className,\n      currentSort = props.currentSort,\n      data = props.data,\n      expand = props.expand,\n      hasBulkActions = props.hasBulkActions,\n      hover = props.hover,\n      ids = props.ids,\n      loading = props.loading,\n      loaded = props.loaded,\n      onSelect = props.onSelect,\n      onToggleItem = props.onToggleItem,\n      resource = props.resource,\n      rowClick = props.rowClick,\n      rowStyle = props.rowStyle,\n      selectedIds = props.selectedIds,\n      setSort = props.setSort,\n      _d = props.size,\n      size = _d === void 0 ? 'small' : _d,\n      total = props.total,\n      isRowSelectable = props.isRowSelectable,\n      version = props.version,\n      rest = __rest(props, [\"basePath\", \"optimized\", \"body\", \"children\", \"className\", \"currentSort\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"loading\", \"loaded\", \"onSelect\", \"onToggleItem\", \"resource\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"setSort\", \"size\", \"total\", \"isRowSelectable\", \"version\"]);\n\n  var updateSort = useCallback(function (event) {\n    event.stopPropagation();\n    setSort(event.currentTarget.dataset.sort);\n  }, [setSort]);\n  var handleSelectAll = useCallback(function (event) {\n    if (event.target.checked) {\n      var all_1 = ids.concat(selectedIds.filter(function (id) {\n        return !ids.includes(id);\n      }));\n      onSelect(isRowSelectable ? all_1.filter(function (id) {\n        return isRowSelectable(data[id]);\n      }) : all_1);\n    } else {\n      onSelect([]);\n    }\n  }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n  /**\n   * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet\n   * if loaded is true, the data for the list has at least been returned once by the dataProvider\n   * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)\n   */\n\n  if (loaded === false) {\n    return React.createElement(DatagridLoading, {\n      classes: classes,\n      className: className,\n      expand: expand,\n      hasBulkActions: hasBulkActions,\n      nbChildren: React.Children.count(children),\n      size: size\n    });\n  }\n  /**\n   * Once loaded, the data for the list may be empty. Instead of\n   * displaying the table header with zero data rows,\n   * the datagrid displays nothing in this case.\n   */\n\n\n  if (loaded && (ids.length === 0 || total === 0)) {\n    return null;\n  }\n\n  var all = isRowSelectable ? ids.filter(function (id) {\n    return isRowSelectable(data[id]);\n  }) : ids;\n  /**\n   * After the initial load, if the data for the list isn't empty,\n   * and even if the data is refreshing (e.g. after a filter change),\n   * the datagrid displays the current data.\n   */\n\n  return React.createElement(Table, __assign({\n    className: classnames(classes.table, className),\n    size: size\n  }, sanitizeListRestProps(rest)), React.createElement(TableHead, {\n    className: classes.thead\n  }, React.createElement(TableRow, {\n    className: classnames(classes.row, classes.headerRow)\n  }, expand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classes.expandHeader\n  }), hasBulkActions && React.createElement(TableCell, {\n    padding: \"checkbox\"\n  }, React.createElement(Checkbox, {\n    className: \"select-all\",\n    color: \"primary\",\n    checked: selectedIds.length > 0 && all.length > 0 && all.every(function (id) {\n      return selectedIds.includes(id);\n    }),\n    onChange: handleSelectAll\n  })), Children.map(children, function (field, index) {\n    return isValidElement(field) ? React.createElement(DatagridHeaderCell, {\n      className: classes.headerCell,\n      currentSort: currentSort,\n      field: field,\n      isSorting: currentSort.field === (field.props.sortBy || field.props.source),\n      key: field.props.source || index,\n      resource: resource,\n      updateSort: updateSort\n    }) : null;\n  }))), cloneElement(body, {\n    basePath: basePath,\n    className: classes.tbody,\n    classes: classes,\n    expand: expand,\n    rowClick: rowClick,\n    data: data,\n    hasBulkActions: hasBulkActions,\n    hover: hover,\n    ids: ids,\n    onToggleItem: onToggleItem,\n    resource: resource,\n    rowStyle: rowStyle,\n    selectedIds: selectedIds,\n    isRowSelectable: isRowSelectable,\n    version: version\n  }, children));\n}\n\nDatagrid.propTypes = {\n  basePath: PropTypes.string,\n  body: PropTypes.element,\n  children: PropTypes.node.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  currentSort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.object.isRequired,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool.isRequired,\n  hover: PropTypes.bool,\n  ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n  loading: PropTypes.bool,\n  onSelect: PropTypes.func,\n  onToggleItem: PropTypes.func,\n  resource: PropTypes.string,\n  rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  rowStyle: PropTypes.func,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  setSort: PropTypes.func,\n  total: PropTypes.number,\n  version: PropTypes.number,\n  isRowSelectable: PropTypes.func\n};\nDatagrid.defaultProps = {\n  data: {},\n  hasBulkActions: false,\n  ids: [],\n  selectedIds: []\n};\nexport default Datagrid;","import omit from 'lodash/omit';\nexport default (function (props) {\n  return omit(props, ['addLabel', 'allowEmpty', 'basePath', 'cellClassName', 'className', 'formClassName', 'headerClassName', 'label', 'linkType', 'link', 'locale', 'record', 'resource', 'sortable', 'sortBy', 'source', 'textAlign', 'translateChoice']);\n});","import PropTypes from 'prop-types';\nexport var fieldPropTypes = {\n  addLabel: PropTypes.bool,\n  sortBy: PropTypes.string,\n  source: PropTypes.string,\n  label: PropTypes.string,\n  sortable: PropTypes.bool,\n  className: PropTypes.string,\n  cellClassName: PropTypes.string,\n  headerClassName: PropTypes.string,\n  textAlign: PropTypes.oneOf(['right', 'left'])\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n\nvar toLocaleStringSupportsLocales = function () {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n  try {\n    new Date().toLocaleString('i');\n  } catch (error) {\n    return error instanceof RangeError;\n  }\n\n  return false;\n}();\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\n\n\nexport var DateField = function DateField(_a) {\n  var className = _a.className,\n      locales = _a.locales,\n      options = _a.options,\n      record = _a.record,\n      _b = _a.showTime,\n      showTime = _b === void 0 ? false : _b,\n      source = _a.source,\n      rest = __rest(_a, [\"className\", \"locales\", \"options\", \"record\", \"showTime\", \"source\"]);\n\n  if (!record) {\n    return null;\n  }\n\n  var value = get(record, source);\n\n  if (value == null) {\n    return null;\n  }\n\n  var date = value instanceof Date ? value : new Date(value);\n  var dateString = showTime ? toLocaleStringSupportsLocales ? date.toLocaleString(locales, options) : date.toLocaleString() : toLocaleStringSupportsLocales ? date.toLocaleDateString(locales, options) : date.toLocaleDateString();\n  return React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)), dateString);\n};\nvar EnhancedDateField = pure(DateField);\nEnhancedDateField.defaultProps = {\n  addLabel: true\n};\nEnhancedDateField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), {\n  locales: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  options: PropTypes.object,\n  showTime: PropTypes.bool\n});\nEnhancedDateField.displayName = 'EnhancedDateField';\nexport default EnhancedDateField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\nvar hasNumberFormat = !!(typeof Intl === 'object' && Intl && typeof Intl.NumberFormat === 'function');\n/**\n * Display a numeric value as a locale string.\n *\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n * @example\n * <NumberField source=\"score\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span>567</span>\n *\n * <NumberField source=\"score\" className=\"red\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span class=\"red\">567</span>\n *\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\n * // renders the record { id: 1234, share: 0.2545 } as\n * <span>25%</span>\n *\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>$25.99</span>\n *\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>25,99 $US</span>\n */\n\nexport var NumberField = function NumberField(_a) {\n  var className = _a.className,\n      record = _a.record,\n      source = _a.source,\n      locales = _a.locales,\n      options = _a.options,\n      textAlign = _a.textAlign,\n      rest = __rest(_a, [\"className\", \"record\", \"source\", \"locales\", \"options\", \"textAlign\"]);\n\n  if (!record) {\n    return null;\n  }\n\n  var value = get(record, source);\n\n  if (value == null) {\n    return null;\n  }\n\n  return React.createElement(Typography, __assign({\n    variant: \"body2\",\n    component: \"span\",\n    className: className\n  }, sanitizeRestProps(rest)), hasNumberFormat ? value.toLocaleString(locales, options) : value);\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nNumberField.displayName = 'NumberField';\nvar EnhancedNumberField = pure(NumberField);\nEnhancedNumberField.defaultProps = {\n  addLabel: true,\n  textAlign: 'right'\n};\nEnhancedNumberField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), {\n  locales: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  options: PropTypes.object\n});\nEnhancedNumberField.displayName = 'EnhancedNumberField';\nexport default EnhancedNumberField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport FalseIcon from '@material-ui/icons/Clear';\nimport TrueIcon from '@material-ui/icons/Done';\nimport { Tooltip, Typography } from '@material-ui/core';\nimport compose from 'recompose/compose';\nimport { useTranslate } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeRestProps from './sanitizeRestProps';\nexport var BooleanField = function BooleanField(_a) {\n  var className = _a.className,\n      classesOverride = _a.classes,\n      source = _a.source,\n      _b = _a.record,\n      record = _b === void 0 ? {} : _b,\n      valueLabelTrue = _a.valueLabelTrue,\n      valueLabelFalse = _a.valueLabelFalse,\n      rest = __rest(_a, [\"className\", \"classes\", \"source\", \"record\", \"valueLabelTrue\", \"valueLabelFalse\"]);\n\n  var translate = useTranslate();\n  var value = get(record, source);\n  var ariaLabel = value ? valueLabelTrue : valueLabelFalse;\n\n  if (!ariaLabel) {\n    ariaLabel = value === false ? 'ra.boolean.false' : 'ra.boolean.true';\n  }\n\n  if (value === false) {\n    return React.createElement(Typography, __assign({\n      component: \"span\",\n      variant: \"body2\",\n      className: className\n    }, sanitizeRestProps(rest)), React.createElement(Tooltip, {\n      title: translate(ariaLabel, {\n        _: ariaLabel\n      })\n    }, React.createElement(FalseIcon, {\n      \"data-testid\": \"false\"\n    })));\n  }\n\n  if (value === true) {\n    return React.createElement(Typography, __assign({\n      component: \"span\",\n      variant: \"body2\",\n      className: className\n    }, sanitizeRestProps(rest)), React.createElement(Tooltip, {\n      title: translate(ariaLabel, {\n        _: ariaLabel\n      })\n    }, React.createElement(TrueIcon, {\n      \"data-testid\": \"true\"\n    })));\n  }\n\n  return React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)));\n};\nvar EnhancedBooleanField = compose(pure)(BooleanField);\nEnhancedBooleanField.defaultProps = {\n  addLabel: true\n};\nEnhancedBooleanField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), {\n  valueLabelFalse: PropTypes.string,\n  valueLabelTrue: PropTypes.string\n});\nEnhancedBooleanField.displayName = 'EnhancedBooleanField';\nexport default EnhancedBooleanField;","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React, { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { FieldProps, Customer } from '../types';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import { isValidElement, cloneElement, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\n\nvar useChoices = function useChoices(_a) {\n  var _b = _a.optionText,\n      optionText = _b === void 0 ? 'name' : _b,\n      _c = _a.optionValue,\n      optionValue = _c === void 0 ? 'id' : _c,\n      _d = _a.translateChoice,\n      translateChoice = _d === void 0 ? true : _d;\n  var translate = useTranslate();\n  var getChoiceText = useCallback(function (choice) {\n    if (isValidElement(optionText)) {\n      return cloneElement(optionText, {\n        record: choice\n      });\n    }\n\n    var choiceName = typeof optionText === 'function' ? optionText(choice) : get(choice, optionText);\n    return translateChoice ? translate(choiceName, {\n      _: choiceName\n    }) : choiceName;\n  }, [optionText, translate, translateChoice]);\n  var getChoiceValue = useCallback(function (choice) {\n    return get(choice, optionValue);\n  }, [optionValue]);\n  return {\n    getChoiceText: getChoiceText,\n    getChoiceValue: getChoiceValue\n  };\n};\n\nexport default useChoices;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useInput, FieldTitle, useTranslate, useChoices } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var addLabel = _a.addLabel,\n      allowEmpty = _a.allowEmpty,\n      alwaysOn = _a.alwaysOn,\n      emptyValue = _a.emptyValue,\n      basePath = _a.basePath,\n      choices = _a.choices,\n      className = _a.className,\n      component = _a.component,\n      crudGetMatching = _a.crudGetMatching,\n      crudGetOne = _a.crudGetOne,\n      defaultValue = _a.defaultValue,\n      filter = _a.filter,\n      filterToQuery = _a.filterToQuery,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      locale = _a.locale,\n      meta = _a.meta,\n      onChange = _a.onChange,\n      options = _a.options,\n      optionValue = _a.optionValue,\n      optionText = _a.optionText,\n      disableValue = _a.disableValue,\n      perPage = _a.perPage,\n      record = _a.record,\n      reference = _a.reference,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      sort = _a.sort,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translate = _a.translate,\n      translateChoice = _a.translateChoice,\n      validation = _a.validation,\n      rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"alwaysOn\", \"emptyValue\", \"basePath\", \"choices\", \"className\", \"component\", \"crudGetMatching\", \"crudGetOne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"disableValue\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: {\n      minWidth: theme.spacing(20)\n    }\n  };\n}, {\n  name: 'RaSelectInput'\n});\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <Select> component\n *\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\n * ];\n *\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\n * ];\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\n *\n */\n\nvar SelectInput = function SelectInput(_a) {\n  var allowEmpty = _a.allowEmpty,\n      _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      className = _a.className,\n      disableValue = _a.disableValue,\n      emptyText = _a.emptyText,\n      emptyValue = _a.emptyValue,\n      format = _a.format,\n      helperText = _a.helperText,\n      label = _a.label,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      translateChoice = _a.translateChoice,\n      validate = _a.validate,\n      rest = __rest(_a, [\"allowEmpty\", \"choices\", \"className\", \"disableValue\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({});\n\n  var _c = useChoices({\n    optionText: optionText,\n    optionValue: optionValue,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _c.getChoiceText,\n      getChoiceValue = _c.getChoiceValue;\n\n  var _d = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _d.id,\n      input = _d.input,\n      isRequired = _d.isRequired,\n      _e = _d.meta,\n      error = _e.error,\n      touched = _e.touched;\n\n  var renderEmptyItemOption = useCallback(function () {\n    return React.isValidElement(emptyText) ? React.cloneElement(emptyText) : translate(emptyText, {\n      _: emptyText\n    });\n  }, [emptyText, translate]);\n  var renderMenuItemOption = useCallback(function (choice) {\n    return getChoiceText(choice);\n  }, [getChoiceText]);\n  return React.createElement(ResettableTextField, __assign({\n    id: id\n  }, input, {\n    select: true,\n    label: label !== '' && label !== false && React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    className: classes.input + \" \" + className,\n    clearAlwaysVisible: true,\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null\n  }, options, sanitizeRestProps(rest)), allowEmpty ? React.createElement(MenuItem, {\n    value: emptyValue,\n    key: \"null\",\n    \"aria-label\": translate('ra.action.clear_input_value'),\n    title: translate('ra.action.clear_input_value')\n  }, renderEmptyItemOption()) : null, choices.map(function (choice) {\n    return React.createElement(MenuItem, {\n      key: getChoiceValue(choice),\n      value: getChoiceValue(choice),\n      disabled: get(choice, disableValue)\n    }, renderMenuItemOption(choice));\n  }));\n};\n\nSelectInput.propTypes = {\n  allowEmpty: PropTypes.bool.isRequired,\n  emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  emptyValue: PropTypes.any,\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  options: PropTypes.object,\n  optionText: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.element]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  disableValue: PropTypes.string,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool\n};\nSelectInput.defaultProps = {\n  allowEmpty: false,\n  emptyText: '',\n  emptyValue: '',\n  options: {},\n  optionText: 'name',\n  optionValue: 'id',\n  translateChoice: true,\n  disableValue: 'disabled'\n};\nexport default SelectInput;","import React, { FC } from 'react';\nimport { useTranslate, SelectInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link as RRLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    link: {\n      textDecoration: 'none',\n      color: theme.palette.primary.main\n    }\n  };\n}, {\n  name: 'RaLink'\n});\n\nvar Link = function Link(_a) {\n  var to = _a.to,\n      children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      rest = __rest(_a, [\"to\", \"children\", \"classes\", \"className\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(RRLink, __assign({\n    to: to,\n    className: classNames(classes.link, className)\n  }, rest), children);\n};\n\nLink.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\nexport default Link;","import React, { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Customer, FieldProps } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\nconst AvatarField: FC<Props> = ({ record, size, className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            sizes={size}\n            style={{ width: size, height: size }}\n            className={className}\n        />\n    ) : null;\n\nAvatarField.defaultProps = {\n    size: '25',\n};\n\nexport default AvatarField;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React, { ComponentType } from 'react';\nimport { NumberField } from 'react-admin';\nimport { FieldProps } from '../types';\n\nconst colored = <T extends FieldProps>(\n    WrappedComponent: ComponentType<T>\n): ComponentType<T> => {\n    const Colored = (props: T) =>\n        props.record && props.source ? (\n            props.record[props.source] > 500 ? (\n                <span style={{ color: 'red' }}>\n                    <WrappedComponent {...props} />\n                </span>\n            ) : (\n                <WrappedComponent {...props} />\n            )\n        ) : null;\n\n    Colored.displayName = `Colored(${WrappedComponent.displayName})`;\n\n    return Colored;\n};\n\nconst ColoredNumberField = colored<typeof NumberField>(NumberField);\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button';\n\nvar EditButton = function EditButton(_a) {\n  var _b = _a.basePath,\n      basePath = _b === void 0 ? '' : _b,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.edit' : _c,\n      record = _a.record,\n      _d = _a.icon,\n      icon = _d === void 0 ? defaultIcon : _d,\n      rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n\n  return React.createElement(Button, __assign({\n    component: Link,\n    to: linkToRecord(basePath, record && record.id),\n    label: label,\n    onClick: stopPropagation\n  }, rest), icon);\n};\n\nvar defaultIcon = React.createElement(ContentCreate, null); // useful to prevent click bubbling in a datagrid with rowClick\n\nvar stopPropagation = function stopPropagation(e) {\n  return e.stopPropagation();\n};\n\nEditButton.propTypes = {\n  basePath: PropTypes.string,\n  icon: PropTypes.element,\n  label: PropTypes.string,\n  record: PropTypes.any\n};\nexport default EditButton;","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DateField, EditButton, useTranslate, NumberField } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Identifier } from 'ra-core';\nimport { Customer } from '../types';\nimport { FC } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${\n                                    data[id].last_name\n                                }`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"last_seen\"\n                                type=\"date\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, makeStyles, Theme } from '@material-ui/core';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\n\nconst VisitorFilter = (props: any) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles({\n    nb_commands: { color: 'purple' },\n});\n\nconst VisitorList = (props: any) => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    return (\n        <List\n            {...props}\n            filters={<VisitorFilter />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" type=\"date\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import { useCallback } from 'react'; // @ts-ignore\n\nimport inflection from 'inflection';\nimport { parse } from 'query-string';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useCreate } from '../dataProvider';\nimport { useNotify, useRedirect } from '../sideEffect';\nimport { useTranslate } from '../i18n';\nimport { useVersion } from '.';\nimport { CRUD_CREATE } from '../actions';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\n\nvar useCreateController = function useCreateController(props) {\n  useCheckMinimumRequiredProps('Create', ['basePath', 'location', 'resource'], props);\n  var basePath = props.basePath,\n      resource = props.resource,\n      location = props.location,\n      _a = props.record,\n      record = _a === void 0 ? {} : _a,\n      hasShow = props.hasShow,\n      hasEdit = props.hasEdit,\n      successMessage = props.successMessage;\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var recordToUse = getRecord(location, record);\n  var version = useVersion();\n\n  var _b = useCreate(resource),\n      create = _b[0],\n      saving = _b[1].loading;\n\n  var save = useCallback(function (data, redirectTo, _a) {\n    if (redirectTo === void 0) {\n      redirectTo = 'list';\n    }\n\n    var _b = _a === void 0 ? {} : _a,\n        onSuccess = _b.onSuccess,\n        onFailure = _b.onFailure;\n\n    return create({\n      payload: {\n        data: data\n      }\n    }, {\n      action: CRUD_CREATE,\n      onSuccess: onSuccess ? onSuccess : function (_a) {\n        var newRecord = _a.data;\n        notify(successMessage || 'ra.notification.created', 'info', {\n          smart_count: 1\n        });\n        redirect(redirectTo, basePath, newRecord.id, newRecord);\n      },\n      onFailure: onFailure ? onFailure : function (error) {\n        notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n      }\n    });\n  }, [create, notify, successMessage, redirect, basePath]);\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 1,\n    _: inflection.humanize(inflection.singularize(resource))\n  });\n  var defaultTitle = translate('ra.page.create', {\n    name: \"\" + resourceName\n  });\n  return {\n    loading: false,\n    loaded: true,\n    saving: saving,\n    defaultTitle: defaultTitle,\n    save: save,\n    resource: resource,\n    basePath: basePath,\n    record: recordToUse,\n    redirect: getDefaultRedirectRoute(hasShow, hasEdit),\n    version: version\n  };\n};\n\nexport default useCreateController;\nexport var getRecord = function getRecord(_a, record) {\n  var state = _a.state,\n      search = _a.search;\n\n  if (record === void 0) {\n    record = {};\n  }\n\n  if (state && state.record) {\n    return state.record;\n  }\n\n  if (search) {\n    try {\n      var searchParams = parse(search);\n\n      if (searchParams.source) {\n        if (Array.isArray(searchParams.source)) {\n          console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n          return;\n        }\n\n        return JSON.parse(searchParams.source);\n      }\n    } catch (e) {\n      console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n    }\n  }\n\n  return record;\n};\n\nvar getDefaultRedirectRoute = function getDefaultRedirectRoute(hasShow, hasEdit) {\n  if (hasEdit) {\n    return 'edit';\n  }\n\n  if (hasShow) {\n    return 'show';\n  }\n\n  return 'list';\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Title, { TitlePropType } from './Title';\n\nvar TitleForRecord = function TitleForRecord(_a) {\n  var defaultTitle = _a.defaultTitle,\n      record = _a.record,\n      title = _a.title;\n  return record ? React.createElement(Title, {\n    title: title,\n    record: record,\n    defaultTitle: defaultTitle\n  }) : '';\n};\n\nTitleForRecord.propTypes = {\n  defaultTitle: PropTypes.any,\n  record: PropTypes.object,\n  title: TitlePropType\n};\nexport default TitleForRecord;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useCheckMinimumRequiredProps, useCreateController } from 'ra-core';\nimport TitleForRecord from '../layout/TitleForRecord';\n/**\n * Page component for the Create view\n *\n * The `<Create>` component renders the page title and actions.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The <Create> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n *\n * @example\n *\n * // in src/posts.js\n * import React from 'react';\n * import { Create, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * // in src/App.js\n * import React from 'react';\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostCreate } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" create={PostCreate} />\n *     </Admin>\n * );\n * export default App;\n */\n\nvar Create = function Create(props) {\n  return React.createElement(CreateView, __assign({}, props, useCreateController(props)));\n};\n\nCreate.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  hasCreate: PropTypes.bool,\n  hasEdit: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  resource: PropTypes.string.isRequired,\n  title: PropTypes.node,\n  record: PropTypes.object,\n  hasList: PropTypes.bool,\n  successMessage: PropTypes.string\n};\nexport var CreateView = function CreateView(props) {\n  var _a;\n\n  var actions = props.actions,\n      aside = props.aside,\n      basePath = props.basePath,\n      children = props.children,\n      classesOverride = props.classes,\n      className = props.className,\n      Content = props.component,\n      defaultTitle = props.defaultTitle,\n      hasList = props.hasList,\n      hasShow = props.hasShow,\n      _b = props.record,\n      record = _b === void 0 ? {} : _b,\n      redirect = props.redirect,\n      resource = props.resource,\n      save = props.save,\n      saving = props.saving,\n      title = props.title,\n      version = props.version,\n      rest = __rest(props, [\"actions\", \"aside\", \"basePath\", \"children\", \"classes\", \"className\", \"component\", \"defaultTitle\", \"hasList\", \"hasShow\", \"record\", \"redirect\", \"resource\", \"save\", \"saving\", \"title\", \"version\"]);\n\n  useCheckMinimumRequiredProps('Create', ['children'], props);\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(\"div\", __assign({\n    className: classnames('create-page', classes.root, className)\n  }, sanitizeRestProps(rest)), React.createElement(TitleForRecord, {\n    title: title,\n    record: record,\n    defaultTitle: defaultTitle\n  }), actions && cloneElement(actions, __assign({\n    basePath: basePath,\n    resource: resource,\n    hasList: hasList\n  }, actions.props)), React.createElement(\"div\", {\n    className: classnames(classes.main, (_a = {}, _a[classes.noActions] = !actions, _a))\n  }, React.createElement(Content, {\n    className: classes.card\n  }, cloneElement(Children.only(children), {\n    basePath: basePath,\n    record: record,\n    redirect: typeof children.props.redirect === 'undefined' ? redirect : children.props.redirect,\n    resource: resource,\n    save: save,\n    saving: saving,\n    version: version\n  })), aside && cloneElement(aside, {\n    basePath: basePath,\n    record: record,\n    resource: resource,\n    save: save,\n    saving: saving,\n    version: version\n  })));\n};\nCreateView.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  defaultTitle: PropTypes.any,\n  hasList: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  resource: PropTypes.string,\n  save: PropTypes.func,\n  title: PropTypes.node\n};\nCreateView.defaultProps = {\n  classes: {},\n  component: Card\n};\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: {},\n    main: {\n      display: 'flex'\n    },\n    noActions: (_a = {}, _a[theme.breakpoints.up('sm')] = {\n      marginTop: '1em'\n    }, _a),\n    card: {\n      flex: '1 1 auto'\n    }\n  };\n}, {\n  name: 'RaCreate'\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var actions = _a.actions,\n      children = _a.children,\n      className = _a.className,\n      crudCreate = _a.crudCreate,\n      loading = _a.loading,\n      loaded = _a.loaded,\n      saving = _a.saving,\n      resource = _a.resource,\n      title = _a.title,\n      hasCreate = _a.hasCreate,\n      hasEdit = _a.hasEdit,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      match = _a.match,\n      location = _a.location,\n      history = _a.history,\n      options = _a.options,\n      locale = _a.locale,\n      permissions = _a.permissions,\n      successMessage = _a.successMessage,\n      rest = __rest(_a, [\"actions\", \"children\", \"className\", \"crudCreate\", \"loading\", \"loaded\", \"saving\", \"resource\", \"title\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"match\", \"location\", \"history\", \"options\", \"locale\", \"permissions\", \"successMessage\"]);\n\n  return rest;\n};\n\nexport default Create;","import { useEffect } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Restore the record values which should override any default values specified on the form.\n */\n\nvar useInitializeFormWithRecord = function useInitializeFormWithRecord(record) {\n  var form = useForm();\n  useEffect(function () {\n    if (!record) {\n      return;\n    }\n\n    var registeredFields = form.getRegisteredFields(); // react-final-form does not provide a way to set multiple values in one call.\n    // Using batch ensure we don't get rerenders until all our values are set\n\n    form.batch(function () {\n      Object.keys(record).forEach(function (key) {\n        // We have to check the record key is actually registered as a field\n        // as some record keys may not have a matching input\n        if (registeredFields.some(function (field) {\n          return field === key;\n        })) {\n          form.change(key, record[key]);\n          form.resetFieldState(key);\n        }\n      });\n    });\n  }, [form, JSON.stringify(record)]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport default useInitializeFormWithRecord;","import merge from 'lodash/merge';\n/**\n * Because final-form removes undefined and empty string values completely\n * (the key for the empty field is removed from the values), we have to check\n * whether this value was initially provided so that it is correctly sent to\n * the backend.\n * @see https://github.com/final-form/react-final-form/issues/130#issuecomment-493447888\n *\n * @param initialValues The initial values provided to the form\n * @param values The current form values\n */\n\nvar sanitizeEmptyValues = function sanitizeEmptyValues(initialValues, values) {\n  // For every field initially provided, we check whether it value has been removed\n  // and set it explicitly to an empty string\n  if (!initialValues) return values;\n  var initialValuesWithEmptyFields = Object.keys(initialValues).reduce(function (acc, key) {\n    if (values[key] instanceof Date || Array.isArray(values[key])) {\n      acc[key] = values[key];\n    } else if (typeof values[key] === 'object' && typeof initialValues[key] === 'object' && values[key] !== null) {\n      acc[key] = sanitizeEmptyValues(initialValues[key], values[key]);\n    } else {\n      acc[key] = typeof values[key] === 'undefined' ? null : values[key];\n    }\n\n    return acc;\n  }, {}); // Finally, we merge back the values to not miss any which wasn't initially provided\n\n  return merge(initialValuesWithEmptyFields, values);\n};\n\nexport default sanitizeEmptyValues;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport default function getFormInitialValues(initialValues, defaultValue, record) {\n  var finalInitialValues = __assign(__assign({}, initialValues), record);\n\n  if (typeof defaultValue !== 'undefined') {\n    console.warn('\"defaultValue\" is deprecated, please use \"initialValues\" instead');\n  }\n\n  if (typeof defaultValue === 'object') {\n    finalInitialValues = __assign(__assign({}, defaultValue), finalInitialValues);\n  } else if (typeof defaultValue === 'function') {\n    finalInitialValues = __assign(__assign({}, defaultValue(record)), finalInitialValues);\n  }\n\n  return finalInitialValues;\n}","import _defineProperty from \"/home/francois/git/react-admin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useRef, useCallback } from 'react';\nimport { Form } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport useInitializeFormWithRecord from './useInitializeFormWithRecord';\nimport sanitizeEmptyValues from './sanitizeEmptyValues';\nimport getFormInitialValues from './getFormInitialValues';\n/**\n * Wrapper around react-final-form's Form to handle redirection on submit,\n * legacy defaultValue prop, and array inputs.\n *\n * Requires a render function, just like react-final-form\n *\n * @example\n *\n * const SimpleForm = props => (\n *    <FormWithRedirect\n *        {...props}\n *        render={formProps => <SimpleFormView {...formProps} />}\n *    />\n * );\n *\n * @typedef {object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {object} initialValues\n * @prop {function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n *\n * @param {Prop} props\n */\n\nvar FormWithRedirect = function FormWithRedirect(_a) {\n  var initialValues = _a.initialValues,\n      debug = _a.debug,\n      decorators = _a.decorators,\n      defaultValue = _a.defaultValue,\n      form = _a.form,\n      initialValuesEqual = _a.initialValuesEqual,\n      _b = _a.keepDirtyOnReinitialize,\n      keepDirtyOnReinitialize = _b === void 0 ? true : _b,\n      _c = _a.mutators,\n      mutators = _c === void 0 ? _objectSpread({}, arrayMutators) : _c,\n      record = _a.record,\n      render = _a.render,\n      save = _a.save,\n      saving = _a.saving,\n      _d = _a.subscription,\n      subscription = _d === void 0 ? defaultSubscription : _d,\n      validate = _a.validate,\n      validateOnBlur = _a.validateOnBlur,\n      version = _a.version,\n      props = __rest(_a, [\"initialValues\", \"debug\", \"decorators\", \"defaultValue\", \"form\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"record\", \"render\", \"save\", \"saving\", \"subscription\", \"validate\", \"validateOnBlur\", \"version\"]);\n\n  var redirect = useRef(props.redirect); // We don't use state here for two reasons:\n  // 1. There no way to execute code only after the state has been updated\n  // 2. We don't want the form to rerender when redirect is changed\n\n  var setRedirect = function setRedirect(newRedirect) {\n    redirect.current = newRedirect;\n  };\n\n  var finalInitialValues = getFormInitialValues(initialValues, defaultValue, record);\n\n  var submit = function submit(values) {\n    var finalRedirect = typeof redirect.current === undefined ? props.redirect : redirect.current;\n    var finalValues = sanitizeEmptyValues(finalInitialValues, values);\n    save(finalValues, finalRedirect);\n  };\n\n  return React.createElement(Form, {\n    key: version,\n    debug: debug,\n    decorators: decorators,\n    form: form,\n    initialValues: finalInitialValues,\n    initialValuesEqual: initialValuesEqual,\n    keepDirtyOnReinitialize: keepDirtyOnReinitialize,\n    mutators: mutators,\n    onSubmit: submit,\n    subscription: subscription,\n    validate: validate,\n    validateOnBlur: validateOnBlur\n  }, function (formProps) {\n    return React.createElement(FormView, __assign({}, props, formProps, {\n      record: record,\n      setRedirect: setRedirect,\n      saving: formProps.submitting || saving,\n      render: render\n    }));\n  });\n};\n\nvar defaultSubscription = {\n  submitting: true,\n  pristine: true,\n  valid: true,\n  invalid: true\n};\n\nvar FormView = function FormView(_a) {\n  var render = _a.render,\n      props = __rest(_a, [\"render\"]); // if record changes (after a getOne success or a refresh), the form must be updated\n\n\n  useInitializeFormWithRecord(props.record);\n  var redirect = props.redirect,\n      setRedirect = props.setRedirect,\n      handleSubmit = props.handleSubmit;\n  /**\n   * We want to let developers define the redirection target from inside the form,\n   * e.g. in a <SaveButton redirect=\"list\" />.\n   * This callback does two things: handle submit, and change the redirection target.\n   * The actual redirection is done in save(), passed by the main controller.\n   *\n   * If the redirection target doesn't depend on the button clicked, it's a\n   * better option to define it directly on the Form component. In that case,\n   * using handleSubmit() instead of handleSubmitWithRedirect is fine.\n   *\n   * @example\n   *\n   * <Button onClick={() => handleSubmitWithRedirect('edit')}>\n   *     Save and edit\n   * </Button>\n   */\n\n  var handleSubmitWithRedirect = useCallback(function (redirectTo) {\n    if (redirectTo === void 0) {\n      redirectTo = redirect;\n    }\n\n    setRedirect(redirectTo);\n    handleSubmit();\n  }, [setRedirect, redirect, handleSubmit]);\n  return render(__assign(__assign({}, props), {\n    handleSubmitWithRedirect: handleSubmitWithRedirect\n  }));\n};\n\nexport default FormWithRedirect;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    label: {\n      position: 'relative'\n    },\n    value: {\n      fontFamily: theme.typography.fontFamily,\n      color: 'currentColor',\n      padding: theme.spacing(1) + \"px 0 \" + theme.spacing(1) / 2 + \"px\",\n      border: 0,\n      boxSizing: 'content-box',\n      verticalAlign: 'middle',\n      background: 'none',\n      margin: 0,\n      display: 'block',\n      width: '100%'\n    }\n  };\n}, {\n  name: 'RaLabeled'\n});\n/**\n * Use any component as read-only Input, labeled just like other Inputs.\n *\n * Useful to use a Field in the Edit or Create components.\n * The child component will receive the current record.\n *\n * This component name doesn't have a typo. We had to choose between\n * the American English \"Labeled\", and the British English \"Labelled\".\n * We flipped a coin.\n *\n * @example\n * <Labeled label=\"Comments\">\n *     <FooComponent source=\"title\" />\n * </Labeled>\n */\n\nexport var Labeled = function Labeled(_a) {\n  var children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      fullWidth = _a.fullWidth,\n      id = _a.id,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      _b = _a.margin,\n      margin = _b === void 0 ? 'dense' : _b,\n      meta = _a.meta,\n      resource = _a.resource,\n      source = _a.source,\n      rest = __rest(_a, [\"children\", \"className\", \"classes\", \"fullWidth\", \"id\", \"input\", \"isRequired\", \"label\", \"margin\", \"meta\", \"resource\", \"source\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  if (!label && !source) {\n    // @ts-ignore\n    var name_1 = children && children.type && children.type.name;\n    throw new Error(\"Cannot create label for component <\" + name_1 + \">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props\");\n  }\n\n  var restProps = fullWidth ? __assign(__assign({}, rest), {\n    fullWidth: fullWidth\n  }) : rest;\n  return React.createElement(FormControl, {\n    className: className,\n    fullWidth: fullWidth,\n    error: meta && meta.touched && !!meta.error,\n    margin: margin\n  }, React.createElement(InputLabel, {\n    htmlFor: id,\n    shrink: true,\n    className: classes.label\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource,\n    isRequired: isRequired\n  })), React.createElement(\"div\", {\n    className: classes.value\n  }, children && typeof children.type !== 'string' ? React.cloneElement(children, __assign({\n    input: input,\n    resource: resource\n  }, restProps)) : children));\n};\nLabeled.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n  input: PropTypes.object,\n  isRequired: PropTypes.bool,\n  label: PropTypes.string,\n  meta: PropTypes.object,\n  onChange: PropTypes.func,\n  record: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  labelStyle: PropTypes.object\n};\nexport default Labeled;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Labeled from '../input/Labeled';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      record = _a.record,\n      rest = __rest(_a, [\"basePath\", \"record\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: {\n      width: theme.spacing(32)\n    }\n  };\n}, {\n  name: 'RaFormInput'\n});\nexport var FormInput = function FormInput(_a) {\n  var _b, _c;\n\n  var input = _a.input,\n      classesOverride = _a.classes,\n      rest = __rest(_a, [\"input\", \"classes\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return input ? React.createElement(\"div\", {\n    className: classnames('ra-input', \"ra-input-\" + input.props.source, input.props.formClassName)\n  }, input.props.addLabel ? React.createElement(Labeled, __assign({\n    id: input.props.id || input.props.source\n  }, input.props, sanitizeRestProps(rest)), React.cloneElement(input, __assign({\n    className: classnames((_b = {}, _b[classes.input] = !input.props.fullWidth, _b), input.props.className),\n    id: input.props.id || input.props.source\n  }, rest))) : React.cloneElement(input, __assign({\n    className: classnames((_c = {}, _c[classes.input] = !input.props.fullWidth, _c), input.props.className),\n    id: input.props.id || input.props.source\n  }, rest))) : null;\n};\nFormInput.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  input: PropTypes.object\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nFormInput.displayName = 'FormInput';\nexport default FormInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentSave from '@material-ui/icons/Save';\nimport classnames from 'classnames';\nimport { useTranslate, useNotify } from 'ra-core';\n\nvar SaveButton = function SaveButton(_a) {\n  var className = _a.className,\n      _b = _a.classes,\n      classesOverride = _b === void 0 ? {} : _b,\n      invalid = _a.invalid,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.save' : _c,\n      pristine = _a.pristine,\n      redirect = _a.redirect,\n      saving = _a.saving,\n      submitOnEnter = _a.submitOnEnter,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'contained' : _d,\n      _e = _a.icon,\n      icon = _e === void 0 ? defaultIcon : _e,\n      onClick = _a.onClick,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      rest = __rest(_a, [\"className\", \"classes\", \"invalid\", \"label\", \"pristine\", \"redirect\", \"saving\", \"submitOnEnter\", \"variant\", \"icon\", \"onClick\", \"handleSubmitWithRedirect\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var translate = useTranslate(); // We handle the click event through mousedown because of an issue when\n  // the button is not as the same place when mouseup occurs, preventing the click\n  // event to fire.\n  // It can happen when some errors appear under inputs, pushing the button\n  // towards the window bottom.\n\n  var handleMouseDown = function handleMouseDown(event) {\n    if (saving) {\n      // prevent double submission\n      event.preventDefault();\n    } else {\n      if (invalid) {\n        notify('ra.message.invalid_form', 'warning');\n      } // always submit form explicitly regardless of button type\n\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      handleSubmitWithRedirect(redirect);\n    }\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }; // As we handle the \"click\" through the mousedown event, we have to make sure we cancel\n  // the default click in case the issue mentionned above does not occur.\n  // Otherwise, this would trigger a standard HTML submit, not the final-form one.\n\n\n  var handleClick = function handleClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  var type = submitOnEnter ? 'submit' : 'button';\n  var displayedLabel = label && translate(label, {\n    _: label\n  });\n  return React.createElement(Button, __assign({\n    className: classnames(classes.button, className),\n    variant: variant,\n    type: type,\n    onMouseDown: handleMouseDown,\n    onClick: handleClick,\n    color: saving ? 'default' : 'primary',\n    \"aria-label\": displayedLabel\n  }, sanitizeRestProps(rest)), saving ? React.createElement(CircularProgress, {\n    size: 18,\n    thickness: 2,\n    className: classes.leftIcon\n  }) : cloneElement(icon, {\n    className: classnames(classes.leftIcon, classes.icon)\n  }), displayedLabel);\n};\n\nvar defaultIcon = React.createElement(ContentSave, null);\nvar useStyles = makeStyles(function (theme) {\n  return {\n    button: {\n      position: 'relative'\n    },\n    leftIcon: {\n      marginRight: theme.spacing(1)\n    },\n    icon: {\n      fontSize: 18\n    }\n  };\n}, {\n  name: 'RaSaveButton'\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      handleSubmit = _a.handleSubmit,\n      record = _a.record,\n      resource = _a.resource,\n      undoable = _a.undoable,\n      rest = __rest(_a, [\"basePath\", \"handleSubmit\", \"record\", \"resource\", \"undoable\"]);\n\n  return rest;\n};\n\nSaveButton.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  handleSubmitWithRedirect: PropTypes.func,\n  invalid: PropTypes.bool,\n  label: PropTypes.string,\n  pristine: PropTypes.bool,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  saving: PropTypes.bool,\n  submitOnEnter: PropTypes.bool,\n  variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\n  icon: PropTypes.element\n};\nexport default SaveButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useDelete, useRefresh, useNotify, useRedirect, CRUD_DELETE } from 'ra-core';\nimport Button from './Button';\n\nvar DeleteWithUndoButton = function DeleteWithUndoButton(_a) {\n  var _b = _a.label,\n      label = _b === void 0 ? 'ra.action.delete' : _b,\n      classesOverride = _a.classes,\n      className = _a.className,\n      _c = _a.icon,\n      icon = _c === void 0 ? defaultIcon : _c,\n      onClick = _a.onClick,\n      resource = _a.resource,\n      record = _a.record,\n      basePath = _a.basePath,\n      _d = _a.redirect,\n      redirectTo = _d === void 0 ? 'list' : _d,\n      rest = __rest(_a, [\"label\", \"classes\", \"className\", \"icon\", \"onClick\", \"resource\", \"record\", \"basePath\", \"redirect\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n\n  var _e = useDelete(resource, record && record.id, record, {\n    action: CRUD_DELETE,\n    onSuccess: function onSuccess() {\n      notify('ra.notification.deleted', 'info', {\n        smart_count: 1\n      }, true);\n      redirect(redirectTo, basePath);\n      refresh();\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    },\n    undoable: true\n  }),\n      deleteOne = _e[0],\n      loading = _e[1].loading;\n\n  var handleDelete = useCallback(function (event) {\n    event.stopPropagation();\n    deleteOne();\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [deleteOne, onClick]);\n  return React.createElement(Button, __assign({\n    onClick: handleDelete,\n    disabled: loading,\n    label: label,\n    className: classnames('ra-delete-button', classes.deleteButton, className),\n    key: \"button\"\n  }, sanitizeRestProps(rest)), icon);\n};\n\nexport var sanitizeRestProps = function sanitizeRestProps(_a) {\n  var classes = _a.classes,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      label = _a.label,\n      pristine = _a.pristine,\n      resource = _a.resource,\n      saving = _a.saving,\n      undoable = _a.undoable,\n      redirect = _a.redirect,\n      submitOnEnter = _a.submitOnEnter,\n      rest = __rest(_a, [\"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"label\", \"pristine\", \"resource\", \"saving\", \"undoable\", \"redirect\", \"submitOnEnter\"]);\n\n  return rest;\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n}, {\n  name: 'RaDeleteWithUndoButton'\n});\nvar defaultIcon = React.createElement(ActionDelete, null);\nDeleteWithUndoButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.any,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  icon: PropTypes.element\n};\nexport default DeleteWithUndoButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { useTranslate, useDelete, useRefresh, useNotify, useRedirect, CRUD_DELETE } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\n\nvar DeleteWithConfirmButton = function DeleteWithConfirmButton(_a) {\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      className = _a.className,\n      _b = _a.confirmTitle,\n      confirmTitle = _b === void 0 ? 'ra.message.delete_title' : _b,\n      _c = _a.confirmContent,\n      confirmContent = _c === void 0 ? 'ra.message.delete_content' : _c,\n      _d = _a.icon,\n      icon = _d === void 0 ? defaultIcon : _d,\n      _e = _a.label,\n      label = _e === void 0 ? 'ra.action.delete' : _e,\n      onClick = _a.onClick,\n      record = _a.record,\n      resource = _a.resource,\n      _f = _a.redirect,\n      redirectTo = _f === void 0 ? 'list' : _f,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"className\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"record\", \"resource\", \"redirect\"]);\n\n  var _g = useState(false),\n      open = _g[0],\n      setOpen = _g[1];\n\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  var _h = useDelete(resource, record && record.id, record, {\n    action: CRUD_DELETE,\n    onSuccess: function onSuccess() {\n      notify('ra.notification.deleted', 'info', {\n        smart_count: 1\n      });\n      redirect(redirectTo, basePath);\n      refresh();\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    },\n    undoable: false\n  }),\n      deleteOne = _h[0],\n      loading = _h[1].loading;\n\n  var handleClick = function handleClick(e) {\n    setOpen(true);\n    e.stopPropagation();\n  };\n\n  var handleDialogClose = function handleDialogClose(e) {\n    setOpen(false);\n    e.stopPropagation();\n  };\n\n  var handleDelete = useCallback(function (event) {\n    deleteOne();\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [deleteOne, onClick]);\n  return React.createElement(Fragment, null, React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    className: classnames('ra-delete-button', classes.deleteButton, className),\n    key: \"button\"\n  }, sanitizeRestProps(rest)), icon), React.createElement(Confirm, {\n    isOpen: open,\n    loading: loading,\n    title: confirmTitle,\n    content: confirmContent,\n    translateOptions: {\n      name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.singularize(resource)\n      }), true),\n      id: record.id\n    },\n    onConfirm: handleDelete,\n    onClose: handleDialogClose\n  }));\n};\n\nvar defaultIcon = React.createElement(ActionDelete, null);\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      label = _a.label,\n      pristine = _a.pristine,\n      saving = _a.saving,\n      submitOnEnter = _a.submitOnEnter,\n      undoable = _a.undoable,\n      rest = __rest(_a, [\"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"label\", \"pristine\", \"saving\", \"submitOnEnter\", \"undoable\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n}, {\n  name: 'RaDeleteWithConfirmButton'\n});\nDeleteWithConfirmButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  confirmTitle: PropTypes.string,\n  confirmContent: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.any,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  icon: PropTypes.element\n};\nexport default DeleteWithConfirmButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DeleteWithUndoButton from './DeleteWithUndoButton';\nimport DeleteWithConfirmButton from './DeleteWithConfirmButton';\n\nvar DeleteButton = function DeleteButton(_a) {\n  var undoable = _a.undoable,\n      props = __rest(_a, [\"undoable\"]);\n\n  return undoable ? React.createElement(DeleteWithUndoButton, __assign({}, props)) : React.createElement(DeleteWithConfirmButton, __assign({}, props));\n};\n\nDeleteButton.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.any,\n  // @ts-ignore\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  undoable: PropTypes.bool,\n  icon: PropTypes.element\n};\nDeleteButton.defaultProps = {\n  undoable: true\n};\nexport default DeleteButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, Fragment, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from '../button';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    toolbar: {\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900]\n    },\n    desktopToolbar: {\n      marginTop: theme.spacing(2)\n    },\n    mobileToolbar: {\n      position: 'fixed',\n      bottom: 0,\n      left: 0,\n      right: 0,\n      padding: '16px',\n      width: '100%',\n      boxSizing: 'border-box',\n      flexShrink: 0,\n      zIndex: 2\n    },\n    defaultToolbar: {\n      flex: 1,\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    spacer: (_a = {}, _a[theme.breakpoints.down('xs')] = {\n      height: '5em'\n    }, _a)\n  };\n}, {\n  name: 'RaToolbar'\n});\n\nvar valueOrDefault = function valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n};\n\nvar Toolbar = function Toolbar(_a) {\n  var _b;\n\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      pristine = _a.pristine,\n      record = _a.record,\n      redirect = _a.redirect,\n      resource = _a.resource,\n      saving = _a.saving,\n      submitOnEnter = _a.submitOnEnter,\n      undoable = _a.undoable,\n      width = _a.width,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(Fragment, null, React.createElement(MuiToolbar, __assign({\n    className: classnames(classes.toolbar, (_b = {}, _b[classes.mobileToolbar] = width === 'xs', _b[classes.desktopToolbar] = width !== 'xs', _b), className),\n    role: \"toolbar\"\n  }, rest), Children.count(children) === 0 ? React.createElement(\"div\", {\n    className: classes.defaultToolbar\n  }, React.createElement(SaveButton, {\n    handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit,\n    invalid: invalid,\n    redirect: redirect,\n    saving: saving,\n    submitOnEnter: submitOnEnter\n  }), record && typeof record.id !== 'undefined' && React.createElement(DeleteButton, {\n    basePath: basePath,\n    record: record,\n    resource: resource,\n    undoable: undoable\n  })) : Children.map(children, function (button) {\n    return button && isValidElement(button) ? React.cloneElement(button, {\n      basePath: basePath,\n      handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n      handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n      invalid: invalid,\n      pristine: pristine,\n      record: record,\n      resource: resource,\n      saving: saving,\n      submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n      undoable: valueOrDefault(button.props.undoable, undoable)\n    }) : null;\n  })), React.createElement(\"div\", {\n    className: classes.spacer\n  }));\n};\n\nToolbar.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  handleSubmit: PropTypes.func,\n  handleSubmitWithRedirect: PropTypes.func,\n  invalid: PropTypes.bool,\n  pristine: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  undoable: PropTypes.bool,\n  width: PropTypes.string\n};\nToolbar.defaultProps = {\n  submitOnEnter: true\n};\nexport default withWidth({\n  initialWidth: 'xs'\n})(Toolbar);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n      '&:first-child': {\n        paddingTop: 16\n      },\n      '&:last-child': (_a = {\n        paddingBottom: 16\n      }, _a[theme.breakpoints.only('xs')] = {\n        paddingBottom: 70\n      }, _a)\n    }\n  };\n}, {\n  name: 'RaCardContentInner'\n});\n/**\n * Overrides material-ui CardContent to allow inner content\n *\n * When using several CardContent inside the same Card, the top and bottom\n * padding double the spacing between each CardContent, leading to too much\n * wasted space. Use this component as a CardContent alternative.\n */\n\nvar CardContentInner = function CardContentInner(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      children = _a.children;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(CardContent, {\n    className: classnames(classes.root, className)\n  }, children);\n};\n\nCardContentInner.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  children: PropTypes.node\n};\nexport default CardContentInner;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { FormWithRedirect } from 'ra-core';\nimport FormInput from './FormInput';\nimport Toolbar from './Toolbar';\nimport CardContentInner from '../layout/CardContentInner';\n/**\n * Form with a one column layout, one input per line.\n *\n * Pass input components as children.\n *\n * @example\n *\n * import React from 'react';\n * import { Create, Edit, SimpleForm, TextInput, DateInput, ReferenceManyField, Datagrid, TextField, DateField, EditButton } from 'react-admin';\n * import RichTextInput from 'ra-input-rich-text';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <TextInput source=\"teaser\" options={{ multiLine: true }} />\n *             <RichTextInput source=\"body\" />\n *             <DateInput label=\"Publication date\" source=\"published_at\" defaultValue={new Date()} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} children Input elements\n * @prop {object} initialValues\n * @prop {function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, contzining the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n *\n * @param {Prop} props\n */\n\nvar SimpleForm = function SimpleForm(props) {\n  return React.createElement(FormWithRedirect, __assign({}, props, {\n    render: function render(formProps) {\n      return React.createElement(SimpleFormView, __assign({}, formProps));\n    }\n  }));\n};\n\nSimpleForm.propTypes = {\n  children: PropTypes.node,\n  defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  save: PropTypes.func,\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  undoable: PropTypes.bool,\n  validate: PropTypes.func,\n  version: PropTypes.number\n};\n\nvar SimpleFormView = function SimpleFormView(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      margin = _a.margin,\n      pristine = _a.pristine,\n      record = _a.record,\n      redirect = _a.redirect,\n      resource = _a.resource,\n      saving = _a.saving,\n      submitOnEnter = _a.submitOnEnter,\n      toolbar = _a.toolbar,\n      undoable = _a.undoable,\n      variant = _a.variant,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"margin\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"toolbar\", \"undoable\", \"variant\"]);\n\n  return React.createElement(\"form\", __assign({\n    className: classnames('simple-form', className)\n  }, sanitizeRestProps(rest)), React.createElement(CardContentInner, null, Children.map(children, function (input) {\n    return input && React.createElement(FormInput, {\n      basePath: basePath,\n      input: input,\n      record: record,\n      resource: resource,\n      variant: input.props.variant || variant,\n      margin: input.props.margin || margin\n    });\n  })), toolbar && React.cloneElement(toolbar, {\n    basePath: basePath,\n    handleSubmitWithRedirect: handleSubmitWithRedirect,\n    handleSubmit: handleSubmit,\n    invalid: invalid,\n    pristine: pristine,\n    record: record,\n    redirect: redirect,\n    resource: resource,\n    saving: saving,\n    submitOnEnter: submitOnEnter,\n    undoable: undoable\n  }));\n};\n\nSimpleFormView.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  handleSubmit: PropTypes.func,\n  invalid: PropTypes.bool,\n  pristine: PropTypes.bool,\n  record: PropTypes.object,\n  resource: PropTypes.string,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  save: PropTypes.func,\n  saving: PropTypes.bool,\n  submitOnEnter: PropTypes.bool,\n  toolbar: PropTypes.element,\n  undoable: PropTypes.bool,\n  validate: PropTypes.func\n};\nSimpleFormView.defaultProps = {\n  submitOnEnter: true,\n  toolbar: React.createElement(Toolbar, null)\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var anyTouched = _a.anyTouched,\n      array = _a.array,\n      asyncBlurFields = _a.asyncBlurFields,\n      asyncValidate = _a.asyncValidate,\n      asyncValidating = _a.asyncValidating,\n      autofill = _a.autofill,\n      blur = _a.blur,\n      change = _a.change,\n      clearAsyncError = _a.clearAsyncError,\n      clearFields = _a.clearFields,\n      clearSubmit = _a.clearSubmit,\n      clearSubmitErrors = _a.clearSubmitErrors,\n      destroy = _a.destroy,\n      dirty = _a.dirty,\n      dirtyFields = _a.dirtyFields,\n      dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit,\n      dirtySinceLastSubmit = _a.dirtySinceLastSubmit,\n      dispatch = _a.dispatch,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      hasSubmitErrors = _a.hasSubmitErrors,\n      hasValidationErrors = _a.hasValidationErrors,\n      initialize = _a.initialize,\n      initialized = _a.initialized,\n      initialValues = _a.initialValues,\n      pristine = _a.pristine,\n      pure = _a.pure,\n      redirect = _a.redirect,\n      reset = _a.reset,\n      resetSection = _a.resetSection,\n      save = _a.save,\n      setRedirect = _a.setRedirect,\n      submit = _a.submit,\n      submitError = _a.submitError,\n      submitErrors = _a.submitErrors,\n      submitAsSideEffect = _a.submitAsSideEffect,\n      submitFailed = _a.submitFailed,\n      submitSucceeded = _a.submitSucceeded,\n      submitting = _a.submitting,\n      touch = _a.touch,\n      translate = _a.translate,\n      triggerSubmit = _a.triggerSubmit,\n      undoable = _a.undoable,\n      untouch = _a.untouch,\n      valid = _a.valid,\n      validate = _a.validate,\n      validating = _a.validating,\n      _reduxForm = _a._reduxForm,\n      props = __rest(_a, [\"anyTouched\", \"array\", \"asyncBlurFields\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialize\", \"initialized\", \"initialValues\", \"pristine\", \"pure\", \"redirect\", \"reset\", \"resetSection\", \"save\", \"setRedirect\", \"submit\", \"submitError\", \"submitErrors\", \"submitAsSideEffect\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"translate\", \"triggerSubmit\", \"undoable\", \"untouch\", \"valid\", \"validate\", \"validating\", \"_reduxForm\"]);\n\n  return props;\n};\n\nexport default SimpleForm;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState } from 'react';\nimport { useTranslate } from 'ra-core';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport TextInput from './TextInput';\n\nvar PasswordInput = function PasswordInput(_a) {\n  var _b = _a.initiallyVisible,\n      initiallyVisible = _b === void 0 ? false : _b,\n      props = __rest(_a, [\"initiallyVisible\"]);\n\n  var _c = useState(initiallyVisible),\n      visible = _c[0],\n      setVisible = _c[1];\n\n  var translate = useTranslate();\n\n  var handleClick = function handleClick() {\n    setVisible(!visible);\n  };\n\n  return React.createElement(TextInput, __assign({}, props, {\n    type: visible ? 'text' : 'password',\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\"\n      }, React.createElement(IconButton, {\n        \"aria-label\": translate(visible ? 'ra.input.password.toggle_visible' : 'ra.input.password.toggle_hidden'),\n        onClick: handleClick\n      }, visible ? React.createElement(Visibility, null) : React.createElement(VisibilityOff, null)))\n    }\n  }));\n};\n\nexport default PasswordInput;","import React from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n} from 'react-admin';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: any) => {\n    const classes = useStyles();\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth={true}\n                    formClassName={classes.email}\n                    validate={requiredValidate}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline={true}\n                    fullWidth={true}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.zipcode} />\n                <TextInput source=\"city\" formClassName={classes.city} />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import { UPDATE } from '../../core';\nexport var crudUpdate = function crudUpdate(resource, id, data, previousData, basePath, redirectTo, refresh) {\n  if (redirectTo === void 0) {\n    redirectTo = 'show';\n  }\n\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_UPDATE,\n    payload: {\n      id: id,\n      data: data,\n      previousData: previousData\n    },\n    meta: {\n      resource: resource,\n      fetch: UPDATE,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.updated',\n          level: 'info',\n          messageArgs: {\n            smart_count: 1\n          }\n        },\n        refresh: refresh,\n        redirectTo: redirectTo,\n        basePath: basePath\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_UPDATE = 'RA/CRUD_UPDATE';\nexport var CRUD_UPDATE_LOADING = 'RA/CRUD_UPDATE_LOADING';\nexport var CRUD_UPDATE_FAILURE = 'RA/CRUD_UPDATE_FAILURE';\nexport var CRUD_UPDATE_SUCCESS = 'RA/CRUD_UPDATE_SUCCESS';","import { useCallback } from 'react';\nimport inflection from 'inflection';\nimport useVersion from './useVersion';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useNotify, useRedirect, useRefresh } from '../sideEffect';\nimport { useGetOne, useUpdate } from '../dataProvider';\nimport { useTranslate } from '../i18n';\nimport { CRUD_GET_ONE, CRUD_UPDATE } from '../actions';\n/**\n * Prepare data for the Edit view\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = props => {\n *     const controllerProps = useEditController(props);\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\n\nvar useEditController = function useEditController(props) {\n  useCheckMinimumRequiredProps('Edit', ['basePath', 'resource'], props);\n  var basePath = props.basePath,\n      id = props.id,\n      resource = props.resource,\n      successMessage = props.successMessage,\n      _a = props.undoable,\n      undoable = _a === void 0 ? true : _a;\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var version = useVersion();\n\n  var _b = useGetOne(resource, id, {\n    version: version,\n    action: CRUD_GET_ONE,\n    onFailure: function onFailure() {\n      notify('ra.notification.item_doesnt_exist', 'warning');\n      redirect('list', basePath);\n      refresh();\n    }\n  }),\n      record = _b.data,\n      loading = _b.loading,\n      loaded = _b.loaded;\n\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 1,\n    _: inflection.humanize(inflection.singularize(resource))\n  });\n  var defaultTitle = translate('ra.page.edit', {\n    name: \"\" + resourceName,\n    id: id,\n    record: record\n  });\n\n  var _c = useUpdate(resource, id, {}, // set by the caller\n  record),\n      update = _c[0],\n      saving = _c[1].loading;\n\n  var save = useCallback(function (data, redirectTo, _a) {\n    if (redirectTo === void 0) {\n      redirectTo = 'list';\n    }\n\n    var _b = _a === void 0 ? {} : _a,\n        onSuccess = _b.onSuccess,\n        onFailure = _b.onFailure;\n\n    return update({\n      payload: {\n        data: data\n      }\n    }, {\n      action: CRUD_UPDATE,\n      onSuccess: onSuccess ? onSuccess : function () {\n        notify(successMessage || 'ra.notification.updated', 'info', {\n          smart_count: 1\n        }, undoable);\n        redirect(redirectTo, basePath, data.id, data);\n      },\n      onFailure: onFailure ? onFailure : function (error) {\n        return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n      },\n      undoable: undoable\n    });\n  }, [basePath, notify, redirect, undoable, update, successMessage]);\n  return {\n    loading: loading,\n    loaded: loaded,\n    saving: saving,\n    defaultTitle: defaultTitle,\n    save: save,\n    resource: resource,\n    basePath: basePath,\n    record: record,\n    version: version\n  };\n};\n\nexport default useEditController;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport shouldUpdate from 'recompose/shouldUpdate';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button';\n\nvar ShowButton = function ShowButton(_a) {\n  var _b = _a.basePath,\n      basePath = _b === void 0 ? '' : _b,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.show' : _c,\n      record = _a.record,\n      _d = _a.icon,\n      icon = _d === void 0 ? defaultIcon : _d,\n      rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n\n  return React.createElement(Button, __assign({\n    component: Link,\n    to: linkToRecord(basePath, record && record.id) + \"/show\",\n    label: label,\n    onClick: stopPropagation\n  }, rest), icon);\n};\n\nvar defaultIcon = React.createElement(ImageEye, null); // useful to prevent click bubbling in a datagrid with rowClick\n\nvar stopPropagation = function stopPropagation(e) {\n  return e.stopPropagation();\n};\n\nShowButton.propTypes = {\n  basePath: PropTypes.string,\n  icon: PropTypes.element,\n  label: PropTypes.string,\n  record: PropTypes.any\n};\nvar enhance = shouldUpdate(function (props, nextProps) {\n  return props.record && nextProps.record && props.record.id !== nextProps.record.id || props.basePath !== nextProps.basePath || props.record == null && nextProps.record != null;\n});\nexport default enhance(ShowButton);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ShowButton } from '../button';\nimport TopToolbar from '../layout/TopToolbar';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      className = _a.className,\n      record = _a.record,\n      hasShow = _a.hasShow,\n      hasList = _a.hasList,\n      resource = _a.resource,\n      rest = __rest(_a, [\"basePath\", \"className\", \"record\", \"hasShow\", \"hasList\", \"resource\"]);\n\n  return rest;\n};\n/**\n * Action Toolbar for the Edit view\n *\n * Internal component. If you want to add or remove actions for a Edit view,\n * write your own EditActions Component. Then, in the <Edit> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, ShowButton, Edit } from 'react-admin';\n *\n *     const PostEditActions = ({ basePath, record, resource }) => (\n *         <TopToolbar>\n *             <ShowButton basePath={basePath} record={record} />\n *             // Add your custom actions here\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostEdit = (props) => (\n *         <Edit actions={<PostEditActions />} {...props}>\n *             ...\n *         </Edit>\n *     );\n */\n\n\nvar EditActions = function EditActions(_a) {\n  var basePath = _a.basePath,\n      className = _a.className,\n      data = _a.data,\n      hasShow = _a.hasShow,\n      rest = __rest(_a, [\"basePath\", \"className\", \"data\", \"hasShow\"]);\n\n  return React.createElement(TopToolbar, __assign({\n    className: className\n  }, sanitizeRestProps(rest)), hasShow && React.createElement(ShowButton, {\n    basePath: basePath,\n    record: data\n  }));\n};\n\nEditActions.propTypes = {\n  basePath: PropTypes.string,\n  className: PropTypes.string,\n  data: PropTypes.object,\n  hasShow: PropTypes.bool,\n  resource: PropTypes.string\n};\nexport default EditActions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useEditController, ComponentPropType } from 'ra-core';\nimport DefaultActions from './EditActions';\nimport TitleForRecord from '../layout/TitleForRecord';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The <Edit> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n * - undoable\n *\n * @example\n *\n * // in src/posts.js\n * import React from 'react';\n * import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * // in src/App.js\n * import React from 'react';\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostEdit } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" edit={PostEdit} />\n *     </Admin>\n * );\n * export default App;\n */\n\nvar Edit = function Edit(props) {\n  return React.createElement(EditView, __assign({}, props, useEditController(props)));\n};\n\nEdit.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  hasCreate: PropTypes.bool,\n  hasEdit: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  hasList: PropTypes.bool,\n  id: PropTypes.any.isRequired,\n  resource: PropTypes.string.isRequired,\n  title: PropTypes.node,\n  successMessage: PropTypes.string\n};\nexport var EditView = function EditView(_a) {\n  var _b;\n\n  var actions = _a.actions,\n      aside = _a.aside,\n      basePath = _a.basePath,\n      children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      Content = _a.component,\n      defaultTitle = _a.defaultTitle,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      record = _a.record,\n      redirect = _a.redirect,\n      resource = _a.resource,\n      save = _a.save,\n      saving = _a.saving,\n      title = _a.title,\n      undoable = _a.undoable,\n      version = _a.version,\n      rest = __rest(_a, [\"actions\", \"aside\", \"basePath\", \"children\", \"classes\", \"className\", \"component\", \"defaultTitle\", \"hasList\", \"hasShow\", \"record\", \"redirect\", \"resource\", \"save\", \"saving\", \"title\", \"undoable\", \"version\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  if (typeof actions === 'undefined' && hasShow) {\n    actions = React.createElement(DefaultActions, null);\n  }\n\n  if (!children) {\n    return null;\n  }\n\n  return React.createElement(\"div\", __assign({\n    className: classnames('edit-page', classes.root, className)\n  }, sanitizeRestProps(rest)), React.createElement(TitleForRecord, {\n    title: title,\n    record: record,\n    defaultTitle: defaultTitle\n  }), actions && cloneElement(actions, __assign({\n    basePath: basePath,\n    data: record,\n    hasShow: hasShow,\n    hasList: hasList,\n    resource: resource\n  }, actions.props)), React.createElement(\"div\", {\n    className: classnames(classes.main, (_b = {}, _b[classes.noActions] = !actions, _b))\n  }, React.createElement(Content, {\n    className: classes.card\n  }, record ? cloneElement(Children.only(children), {\n    basePath: basePath,\n    record: record,\n    redirect: typeof children.props.redirect === 'undefined' ? redirect : children.props.redirect,\n    resource: resource,\n    save: save,\n    saving: saving,\n    undoable: undoable,\n    version: version\n  }) : React.createElement(CardContent, null, \"\\xA0\")), aside && React.cloneElement(aside, {\n    basePath: basePath,\n    record: record,\n    resource: resource,\n    version: version,\n    save: save,\n    saving: saving\n  })));\n};\nEditView.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  component: ComponentPropType,\n  defaultTitle: PropTypes.any,\n  hasList: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  resource: PropTypes.string,\n  save: PropTypes.func,\n  title: PropTypes.node,\n  version: PropTypes.number\n};\nEditView.defaultProps = {\n  classes: {},\n  component: Card\n};\nexport var useStyles = makeStyles({\n  root: {},\n  main: {\n    display: 'flex'\n  },\n  noActions: {\n    marginTop: '1em'\n  },\n  card: {\n    flex: '1 1 auto'\n  }\n}, {\n  name: 'RaEdit'\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var data = _a.data,\n      hasCreate = _a.hasCreate,\n      hasEdit = _a.hasEdit,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      id = _a.id,\n      loading = _a.loading,\n      loaded = _a.loaded,\n      saving = _a.saving,\n      resource = _a.resource,\n      title = _a.title,\n      version = _a.version,\n      match = _a.match,\n      location = _a.location,\n      history = _a.history,\n      options = _a.options,\n      locale = _a.locale,\n      permissions = _a.permissions,\n      undoable = _a.undoable,\n      successMessage = _a.successMessage,\n      rest = __rest(_a, [\"data\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"id\", \"loading\", \"loaded\", \"saving\", \"resource\", \"title\", \"version\", \"match\", \"location\", \"history\", \"options\", \"locale\", \"permissions\", \"undoable\", \"successMessage\"]);\n\n  return rest;\n};\n\nexport default Edit;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n\nvar TextField = function TextField(_a) {\n  var className = _a.className,\n      source = _a.source,\n      _b = _a.record,\n      record = _b === void 0 ? {} : _b,\n      rest = __rest(_a, [\"className\", \"source\", \"record\"]);\n\n  var value = get(record, source);\n  return React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)), value && typeof value !== 'string' ? JSON.stringify(value) : value);\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\n\nTextField.displayName = 'TextField';\nvar EnhancedTextField = pure(TextField);\nEnhancedTextField.defaultProps = {\n  addLabel: true\n};\nEnhancedTextField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nEnhancedTextField.displayName = 'EnhancedTextField';\nexport default EnhancedTextField;","var isMatchingReferencesError = function isMatchingReferencesError(matchingReferences) {\n  return matchingReferences && matchingReferences.error !== undefined;\n};\n\nexport var getStatusForInput = function getStatusForInput(_a) {\n  var input = _a.input,\n      matchingReferences = _a.matchingReferences,\n      referenceRecord = _a.referenceRecord,\n      _b = _a.translate,\n      translate = _b === void 0 ? function (x) {\n    return x;\n  } : _b;\n  var matchingReferencesError = isMatchingReferencesError(matchingReferences) ? translate(matchingReferences.error, {\n    _: matchingReferences.error\n  }) : null;\n  var selectedReferenceError = input.value && !referenceRecord ? translate('ra.input.references.single_missing', {\n    _: 'ra.input.references.single_missing'\n  }) : null;\n  return {\n    waiting: input.value && selectedReferenceError && !matchingReferences || !input.value && !matchingReferences,\n    error: input.value && selectedReferenceError && matchingReferencesError || !input.value && matchingReferencesError ? input.value ? selectedReferenceError : matchingReferencesError : null,\n    warning: selectedReferenceError || matchingReferencesError,\n    choices: Array.isArray(matchingReferences) ? matchingReferences : [referenceRecord].filter(function (choice) {\n      return choice;\n    })\n  };\n};\nexport var REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport var REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport var REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\nexport var getSelectedReferencesStatus = function getSelectedReferencesStatus(input, referenceRecords) {\n  return !input.value || input.value.length === referenceRecords.length ? REFERENCES_STATUS_READY : referenceRecords.length > 0 ? REFERENCES_STATUS_INCOMPLETE : REFERENCES_STATUS_EMPTY;\n};\nexport var getStatusForArrayInput = function getStatusForArrayInput(_a) {\n  var input = _a.input,\n      matchingReferences = _a.matchingReferences,\n      referenceRecords = _a.referenceRecords,\n      _b = _a.translate,\n      translate = _b === void 0 ? function (x) {\n    return x;\n  } : _b; // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n  // or \"incomplete\" (Not all of the reference data was found)\n  // or \"ready\" (all references data was found or there is no references from input.value)\n\n  var selectedReferencesDataStatus = getSelectedReferencesStatus(input, referenceRecords);\n  var matchingReferencesError = isMatchingReferencesError(matchingReferences) ? translate(matchingReferences.error, {\n    _: matchingReferences.error\n  }) : null;\n  return {\n    waiting: !matchingReferences && input.value && selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY || !matchingReferences && !input.value,\n    error: matchingReferencesError && (!input.value || input.value && selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ? translate('ra.input.references.all_missing', {\n      _: 'ra.input.references.all_missing'\n    }) : null,\n    warning: matchingReferencesError || input.value && selectedReferencesDataStatus !== REFERENCES_STATUS_READY ? matchingReferencesError || translate('ra.input.references.many_missing', {\n      _: 'ra.input.references.many_missing'\n    }) : null,\n    choices: Array.isArray(matchingReferences) ? matchingReferences : referenceRecords\n  };\n};","import { useGetMany } from '../dataProvider';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n */\n\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loading, loaded, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {ReferenceProps} The reference record\n */\n\nexport var useReference = function useReference(_a) {\n  var reference = _a.reference,\n      id = _a.id;\n\n  var _b = useGetMany(reference, [id]),\n      data = _b.data,\n      error = _b.error,\n      loading = _b.loading,\n      loaded = _b.loaded;\n\n  return {\n    referenceRecord: error ? undefined : data[0],\n    error: error,\n    loading: loading,\n    loaded: loaded\n  };\n};\nexport default useReference;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { crudGetMany, crudGetMatching } from './dataActions';\nexport var CRUD_GET_MANY_ACCUMULATE = 'RA/CRUD_GET_MANY_ACCUMULATE';\nexport var crudGetManyAccumulate = function crudGetManyAccumulate(resource, ids) {\n  return {\n    type: CRUD_GET_MANY_ACCUMULATE,\n    payload: {\n      resource: resource,\n      ids: ids\n    },\n    meta: {\n      accumulate: crudGetMany\n    }\n  };\n};\nexport var CRUD_GET_MATCHING_ACCUMULATE = 'RA/CRUD_GET_MATCHING_ACCUMULATE';\nexport var crudGetMatchingAccumulate = function crudGetMatchingAccumulate(reference, relatedTo, pagination, sort, filter) {\n  var action = crudGetMatching(reference, relatedTo, pagination, sort, filter);\n  return {\n    type: CRUD_GET_MATCHING_ACCUMULATE,\n    meta: {\n      accumulate: function accumulate() {\n        return action;\n      },\n      accumulateValues: function accumulateValues() {\n        return true;\n      },\n      accumulateKey: JSON.stringify(__assign({\n        resource: reference,\n        relatedTo: relatedTo\n      }, action.payload))\n    }\n  };\n};","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { crudGetMatchingAccumulate } from '../../actions/accumulateActions';\nimport { getPossibleReferences, getPossibleReferenceValues, getReferenceResource } from '../../reducer';\nimport { useDeepCompareEffect } from '../../util/hooks';\n\nvar defaultReferenceSource = function defaultReferenceSource(resource, source) {\n  return resource + \"@\" + source;\n};\n\nexport default (function (_a) {\n  var reference = _a.reference,\n      _b = _a.referenceSource,\n      referenceSource = _b === void 0 ? defaultReferenceSource : _b,\n      resource = _a.resource,\n      source = _a.source,\n      filter = _a.filter,\n      pagination = _a.pagination,\n      sort = _a.sort,\n      id = _a.id;\n  var dispatch = useDispatch();\n  useDeepCompareEffect(function () {\n    dispatch(crudGetMatchingAccumulate(reference, referenceSource(resource, source), pagination, sort, filter));\n  }, [dispatch, filter, reference, referenceSource, resource, source, pagination, sort]);\n  var matchingReferences = useGetMatchingReferenceSelector({\n    referenceSource: referenceSource,\n    filter: filter,\n    reference: reference,\n    resource: resource,\n    source: source,\n    id: id\n  });\n\n  if (!matchingReferences) {\n    return {\n      loading: true,\n      error: null,\n      matchingReferences: null\n    };\n  }\n\n  if (matchingReferences.error) {\n    return {\n      loading: false,\n      matchingReferences: null,\n      error: matchingReferences.error\n    };\n  }\n\n  return {\n    loading: false,\n    error: null,\n    matchingReferences: matchingReferences\n  };\n});\n\nvar useGetMatchingReferenceSelector = function useGetMatchingReferenceSelector(_a) {\n  var referenceSource = _a.referenceSource,\n      filter = _a.filter,\n      reference = _a.reference,\n      resource = _a.resource,\n      source = _a.source,\n      id = _a.id;\n  var getMatchingReferences = useCallback(function (state) {\n    var referenceResource = getReferenceResource(state, {\n      reference: reference\n    });\n    var possibleValues = getPossibleReferenceValues(state, {\n      referenceSource: referenceSource,\n      resource: resource,\n      source: source\n    });\n    return getPossibleReferences(referenceResource, possibleValues, [id]);\n  }, [referenceSource, reference, resource, source, id]);\n  return useSelector(getMatchingReferences);\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\n\nvar paginationReducer = function paginationReducer(prevState, nextState) {\n  return __assign(__assign({}, prevState), nextState);\n};\n\nvar defaultPagination = {\n  page: 1,\n  perPage: 25\n};\n/**\n * @name setNumber\n * @function\n * @param {number} state the state value\n */\n\n/**\n * @typedef PaginationProps\n * @type {Object}\n * @property {number} page: The page number.\n * @property {number} perPage: The number of item per page.\n * @property {setNumber} setPage: Set the page number\n * @property {setNumber} setPerPage: Set the per page number\n */\n\n/**\n * Hooks to provide pagination state (apge and perPage)\n *\n * @example\n *\n * const { page, setpage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationProps} The pagination props\n */\n\nexport default (function (initialPagination) {\n  if (initialPagination === void 0) {\n    initialPagination = {};\n  }\n\n  var _a = useReducer(paginationReducer, __assign(__assign({}, defaultPagination), initialPagination)),\n      pagination = _a[0],\n      setPagination = _a[1];\n\n  var isFirstRender = useRef(true);\n  var setPerPage = useCallback(function (perPage) {\n    return setPagination({\n      perPage: perPage\n    });\n  }, []);\n  var setPage = useCallback(function (page) {\n    return setPagination({\n      page: page\n    });\n  }, []);\n  useEffect(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    setPerPage(initialPagination.perPage || 25);\n  }, [initialPagination.perPage, setPerPage]);\n  return {\n    page: pagination.page,\n    perPage: pagination.perPage,\n    pagination: pagination,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setPagination: setPagination\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC } from '../reducer/admin/resource/list/queryReducer';\n\nvar sortReducer = function sortReducer(state, action) {\n  switch (action.type) {\n    case 'SET_SORT':\n      return action.payload.sort;\n\n    case 'SET_SORT_FIELD':\n      {\n        var field = action.payload.field;\n        var order = state.field === field ? state.order === SORT_ASC ? SORT_DESC : SORT_ASC : SORT_ASC;\n        return {\n          field: field,\n          order: order\n        };\n      }\n\n    case 'SET_SORT_ORDER':\n      {\n        var order = action.payload.order;\n        return __assign(__assign({}, state), {\n          order: order\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport var defaultSort = {\n  field: 'id',\n  order: 'DESC'\n};\n/**\n * set the sort { field, order }\n * @name setSort\n * @function\n * @param {Sort} sort the sort object\n */\n\n/**\n * set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n\n/**\n * set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order the sort order eiather ASC or DESC\n */\n\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {String} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\n\nexport default (function (initialSort) {\n  if (initialSort === void 0) {\n    initialSort = defaultSort;\n  }\n\n  var _a = useReducer(sortReducer, initialSort),\n      sort = _a[0],\n      dispatch = _a[1];\n\n  var isFirstRender = useRef(true);\n  useEffect(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    dispatch({\n      type: 'SET_SORT',\n      payload: {\n        sort: initialSort\n      }\n    });\n  }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return {\n    setSort: useCallback(function (sort) {\n      return dispatch({\n        type: 'SET_SORT',\n        payload: {\n          sort: sort\n        }\n      });\n    }, [dispatch]),\n    setSortField: useCallback(function (field) {\n      return dispatch({\n        type: 'SET_SORT_FIELD',\n        payload: {\n          field: field\n        }\n      });\n    }, [dispatch]),\n    setSortOrder: useCallback(function (order) {\n      return dispatch({\n        type: 'SET_SORT_ORDER',\n        payload: {\n          order: order\n        }\n      });\n    }, [dispatch]),\n    sort: sort\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\n\nvar defaultFilterToQuery = function defaultFilterToQuery(v) {\n  return {\n    q: v\n  };\n};\n\nvar emptyFilter = {};\n/**\n * @name setFilter\n * @function\n * @param {string} the value\n */\n\n/**\n * @typedef FilterProps\n * @type {Object}\n * @property {Object} filter: The filter object.\n * @property {setFilter} setFilter: Update the filter with the given string\n */\n\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter inital value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {FilterProps} The filter props\n */\n\nexport default (function (_a) {\n  var _b = _a.filterToQuery,\n      filterToQuery = _b === void 0 ? defaultFilterToQuery : _b,\n      _c = _a.permanentFilter,\n      permanentFilter = _c === void 0 ? emptyFilter : _c,\n      _d = _a.debounceTime,\n      debounceTime = _d === void 0 ? 500 : _d;\n  var permanentFilterProp = useRef(permanentFilter);\n  var latestValue = useRef();\n\n  var _e = useState(__assign(__assign({}, permanentFilter), filterToQuery(''))),\n      filter = _e[0],\n      setFilterValue = _e[1];\n\n  useEffect(function () {\n    if (permanentFilterProp.current !== permanentFilter) {\n      permanentFilterProp.current = permanentFilter;\n      setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(latestValue.current)));\n    }\n  }, [permanentFilter, permanentFilterProp, filterToQuery]);\n  var setFilter = useCallback(debounce(function (value) {\n    setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(value)));\n    latestValue.current = value;\n  }, debounceTime), []);\n  return {\n    filter: filter,\n    setFilter: setFilter\n  };\n});","import { getStatusForInput as getDataStatus } from './referenceDataStatus';\nimport useTranslate from '../../i18n/useTranslate';\nimport useReference from '../useReference';\nimport useGetMatchingReferences from './useGetMatchingReferences';\nimport usePaginationState from '../usePaginationState';\nimport { useSortState } from '..';\nimport useFilterState from '../useFilterState';\n\nvar defaultReferenceSource = function defaultReferenceSource(resource, source) {\n  return resource + \"@\" + source;\n};\n\nvar defaultFilter = {};\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getMatching()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilter`\n * function. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function option\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n *      filterToQuery: searchText => ({ title: searchText })\n * });\n */\n\nvar useReferenceInputController = function useReferenceInputController(_a) {\n  var input = _a.input,\n      _b = _a.perPage,\n      perPage = _b === void 0 ? 25 : _b,\n      _c = _a.filter,\n      filter = _c === void 0 ? defaultFilter : _c,\n      reference = _a.reference,\n      filterToQuery = _a.filterToQuery,\n      _d = _a.referenceSource,\n      referenceSource = _d === void 0 ? defaultReferenceSource : _d,\n      resource = _a.resource,\n      sortOverride = _a.sort,\n      source = _a.source;\n  var translate = useTranslate();\n\n  var _e = usePaginationState({\n    perPage: perPage\n  }),\n      pagination = _e.pagination,\n      setPagination = _e.setPagination;\n\n  var _f = useSortState(sortOverride),\n      sort = _f.sort,\n      setSort = _f.setSort;\n\n  var _g = useFilterState({\n    permanentFilter: filter,\n    filterToQuery: filterToQuery\n  }),\n      filterValue = _g.filter,\n      setFilter = _g.setFilter;\n\n  var matchingReferences = useGetMatchingReferences({\n    reference: reference,\n    referenceSource: referenceSource,\n    filter: filterValue,\n    pagination: pagination,\n    sort: sort,\n    resource: resource,\n    source: source,\n    id: input.value\n  }).matchingReferences;\n  var referenceRecord = useReference({\n    id: input.value,\n    reference: reference\n  }).referenceRecord;\n  var dataStatus = getDataStatus({\n    input: input,\n    matchingReferences: matchingReferences,\n    referenceRecord: referenceRecord,\n    translate: translate\n  });\n  return {\n    choices: dataStatus.choices,\n    error: dataStatus.error,\n    loading: dataStatus.waiting,\n    filter: filterValue,\n    setFilter: setFilter,\n    pagination: pagination,\n    setPagination: setPagination,\n    sort: sort,\n    setSort: setSort,\n    warning: dataStatus.warning\n  };\n};\n\nexport default useReferenceInputController;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport Progress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      margin: theme.spacing(1) + \"px 0\",\n      width: theme.spacing(20) + \"px\"\n    }\n  };\n}, {\n  name: 'RaLinearProgress'\n});\n/**\n * Progress bar formatted to replace an input or a field in a form layout\n *\n * Avoids visual jumps when replaced by value or form input\n *\n * @see ReferenceField\n * @see ReferenceInput\n *\n * @param {object} classes CSS class names\n */\n\nvar LinearProgress = function LinearProgress(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      rest = __rest(_a, [\"classes\", \"className\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(Progress, __assign({\n    className: classnames(classes.root, className)\n  }, rest));\n};\n\nLinearProgress.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nLinearProgress.displayName = 'LinearProgress';\nexport default LinearProgress;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\n\nvar ReferenceError = function ReferenceError(_a) {\n  var label = _a.label,\n      error = _a.error;\n  return React.createElement(TextField, {\n    error: true,\n    disabled: true,\n    label: label,\n    value: error,\n    margin: \"normal\"\n  });\n};\n\nReferenceError.propTypes = {\n  error: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport default ReferenceError;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, useReferenceInputController } from 'ra-core';\nimport sanitizeInputProps from './sanitizeRestProps';\nimport LinearProgress from '../layout/LinearProgress';\nimport Labeled from './Labeled';\nimport ReferenceError from './ReferenceError';\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getMatching()`), then delegates rendering\n * to a subcomponent, to which it passes the possible choices\n * as the `choices` attribute.\n *\n * Use it with a selector component as child, like `<AutocompleteInput>`,\n * `<SelectInput>`, or `<RadioButtonGroupInput>`.\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <AutocompleteInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      perPage={100}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * The enclosed component may filter results. ReferenceInput passes a `setFilter`\n * function as prop to its child component. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function prop:\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filterToQuery={searchText => ({ title: searchText })}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n */\n\nexport var ReferenceInput = function ReferenceInput(_a) {\n  var format = _a.format,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      parse = _a.parse,\n      validate = _a.validate,\n      props = __rest(_a, [\"format\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\"]);\n\n  var inputProps = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    validate: validate\n  }, props));\n  return React.createElement(ReferenceInputView, __assign({}, inputProps, props, useReferenceInputController(__assign(__assign({}, props), inputProps))));\n};\nReferenceInput.propTypes = {\n  allowEmpty: PropTypes.bool.isRequired,\n  basePath: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  filter: PropTypes.object,\n  filterToQuery: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  onChange: PropTypes.func,\n  perPage: PropTypes.number,\n  record: PropTypes.object,\n  reference: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  sort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.oneOf(['ASC', 'DESC'])\n  }),\n  source: PropTypes.string\n};\nReferenceInput.defaultProps = {\n  allowEmpty: false,\n  filter: {},\n  filterToQuery: function filterToQuery(searchText) {\n    return searchText ? {\n      q: searchText\n    } : {};\n  },\n  perPage: 25,\n  sort: {\n    field: 'id',\n    order: 'DESC'\n  }\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var choices = _a.choices,\n      className = _a.className,\n      crudGetMatching = _a.crudGetMatching,\n      crudGetOne = _a.crudGetOne,\n      filter = _a.filter,\n      filterToQuery = _a.filterToQuery,\n      onChange = _a.onChange,\n      perPage = _a.perPage,\n      reference = _a.reference,\n      referenceSource = _a.referenceSource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      sort = _a.sort,\n      validation = _a.validation,\n      rest = __rest(_a, [\"choices\", \"className\", \"crudGetMatching\", \"crudGetOne\", \"filter\", \"filterToQuery\", \"onChange\", \"perPage\", \"reference\", \"referenceSource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"validation\"]);\n\n  return sanitizeInputProps(rest);\n};\n\nexport var ReferenceInputView = function ReferenceInputView(_a) {\n  var allowEmpty = _a.allowEmpty,\n      basePath = _a.basePath,\n      children = _a.children,\n      choices = _a.choices,\n      classes = _a.classes,\n      className = _a.className,\n      error = _a.error,\n      helperText = _a.helperText,\n      id = _a.id,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      loading = _a.loading,\n      label = _a.label,\n      meta = _a.meta,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      source = _a.source,\n      warning = _a.warning,\n      rest = __rest(_a, [\"allowEmpty\", \"basePath\", \"children\", \"choices\", \"classes\", \"className\", \"error\", \"helperText\", \"id\", \"input\", \"isRequired\", \"loading\", \"label\", \"meta\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"source\", \"warning\"]);\n\n  if (Children.count(children) !== 1) {\n    throw new Error('<ReferenceInput> only accepts a single child');\n  }\n\n  if (loading) {\n    return React.createElement(Labeled, {\n      id: id,\n      label: label,\n      source: source,\n      resource: resource,\n      className: className,\n      isRequired: isRequired,\n      meta: meta,\n      input: input\n    }, React.createElement(LinearProgress, null));\n  } // This is not a final-form error but an unrecoverable error from the\n  // useReferenceInputController hook\n\n\n  if (error) {\n    return React.createElement(ReferenceError, {\n      label: label,\n      error: error\n    });\n  } // When the useReferenceInputController returns a warning, it means there it\n  // had an issue trying to load the referenced record\n  // We display it by overriding the final-form meta\n\n\n  var finalMeta = warning ? __assign(__assign({}, meta), {\n    error: warning\n  }) : meta;\n  return cloneElement(children, __assign({\n    allowEmpty: allowEmpty,\n    classes: classes,\n    className: className,\n    input: input,\n    isRequired: isRequired,\n    label: label,\n    resource: resource,\n    meta: finalMeta,\n    source: source,\n    choices: choices,\n    basePath: basePath,\n    setFilter: setFilter,\n    setPagination: setPagination,\n    setSort: setSort,\n    translateChoice: false\n  }, sanitizeRestProps(rest)));\n};\nexport default ReferenceInput;","import { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set';\nimport useChoices from './useChoices';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param allowEmpty A boolean indicating whether an empty suggestion should be added\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check wether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned, excluding the empty one if `allowEmpty` is `true`\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\n\nvar useSuggestions = function useSuggestions(_a) {\n  var allowDuplicates = _a.allowDuplicates,\n      allowEmpty = _a.allowEmpty,\n      choices = _a.choices,\n      _b = _a.emptyText,\n      emptyText = _b === void 0 ? '' : _b,\n      _c = _a.emptyValue,\n      emptyValue = _c === void 0 ? null : _c,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      matchSuggestion = _a.matchSuggestion,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      selectedItem = _a.selectedItem,\n      _d = _a.suggestionLimit,\n      suggestionLimit = _d === void 0 ? 0 : _d,\n      translateChoice = _a.translateChoice;\n  var translate = useTranslate();\n\n  var _e = useChoices({\n    optionText: optionText,\n    optionValue: optionValue,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _e.getChoiceText,\n      getChoiceValue = _e.getChoiceValue;\n\n  var getSuggestions = useCallback(getSuggestionsFactory({\n    allowDuplicates: allowDuplicates,\n    allowEmpty: allowEmpty,\n    choices: choices,\n    emptyText: translate(emptyText, {\n      _: emptyText\n    }),\n    emptyValue: emptyValue,\n    getChoiceText: getChoiceText,\n    getChoiceValue: getChoiceValue,\n    limitChoicesToValue: limitChoicesToValue,\n    matchSuggestion: matchSuggestion,\n    optionText: optionText,\n    optionValue: optionValue,\n    selectedItem: selectedItem,\n    suggestionLimit: suggestionLimit\n  }), [allowDuplicates, allowEmpty, choices, emptyText, emptyValue, getChoiceText, getChoiceValue, limitChoicesToValue, matchSuggestion, optionText, optionValue, selectedItem, suggestionLimit, translate]);\n  return {\n    getChoiceText: getChoiceText,\n    getChoiceValue: getChoiceValue,\n    getSuggestions: getSuggestions\n  };\n};\n\nexport default useSuggestions;\n\nvar escapeRegExp = function escapeRegExp(value) {\n  return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\n\n\nvar defaultMatchSuggestion = function defaultMatchSuggestion(getChoiceText) {\n  return function (filter, suggestion) {\n    var suggestionText = getChoiceText(suggestion);\n    var isReactElement = isValidElement(suggestionText);\n    return isReactElement ? false : suggestionText.match( // We must escape any RegExp reserved characters to avoid errors\n    // For example, the filter might contains * which must be escaped as \\*\n    new RegExp(escapeRegExp(filter), 'i'));\n  };\n};\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\n\n\nexport var getSuggestionsFactory = function getSuggestionsFactory(_a) {\n  var _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      allowDuplicates = _a.allowDuplicates,\n      allowEmpty = _a.allowEmpty,\n      emptyText = _a.emptyText,\n      emptyValue = _a.emptyValue,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      getChoiceText = _a.getChoiceText,\n      getChoiceValue = _a.getChoiceValue,\n      _c = _a.limitChoicesToValue,\n      limitChoicesToValue = _c === void 0 ? false : _c,\n      _d = _a.matchSuggestion,\n      matchSuggestion = _d === void 0 ? defaultMatchSuggestion(getChoiceText) : _d,\n      selectedItem = _a.selectedItem,\n      _e = _a.suggestionLimit,\n      suggestionLimit = _e === void 0 ? 0 : _e;\n  return function (filter) {\n    var suggestions = []; // if an item is selected and matches the filter\n\n    if (selectedItem && !Array.isArray(selectedItem) && matchSuggestion(filter, selectedItem)) {\n      if (limitChoicesToValue) {\n        // display only the selected item\n        suggestions = choices.filter(function (choice) {\n          return getChoiceValue(choice) === getChoiceValue(selectedItem);\n        });\n      } else if (!allowDuplicates) {\n        // ignore the filter to show more choices\n        suggestions = removeAlreadySelectedSuggestions(choices, selectedItem, getChoiceValue);\n      } else {\n        suggestions = choices;\n      }\n    } else {\n      suggestions = choices.filter(function (choice) {\n        return matchSuggestion(filter, choice);\n      });\n\n      if (!allowDuplicates) {\n        suggestions = removeAlreadySelectedSuggestions(suggestions, selectedItem, getChoiceValue);\n      }\n    }\n\n    suggestions = limitSuggestions(suggestions, suggestionLimit);\n\n    if (allowEmpty) {\n      suggestions = addEmptySuggestion(suggestions, {\n        optionText: optionText,\n        optionValue: optionValue,\n        emptyText: emptyText,\n        emptyValue: emptyValue\n      });\n    }\n\n    return suggestions;\n  };\n};\n/**\n * @example\n *\n * removeAlreadySelectedSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  [{ id: 1, name: 'foo'}]\n * );\n *\n * // Will return [{ id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param selectedItems List of selection\n * @param getChoiceValue Converter function from suggestion to value\n */\n\nvar removeAlreadySelectedSuggestions = function removeAlreadySelectedSuggestions(suggestions, selectedItems, getChoiceValue) {\n  if (!selectedItems) {\n    return suggestions;\n  }\n\n  var selectedValues = Array.isArray(selectedItems) ? selectedItems.map(getChoiceValue) : [getChoiceValue(selectedItems)];\n  return suggestions.filter(function (suggestion) {\n    return !selectedValues.includes(getChoiceValue(suggestion));\n  });\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\n\n\nvar limitSuggestions = function limitSuggestions(suggestions, limit) {\n  if (limit === void 0) {\n    limit = 0;\n  }\n\n  return Number.isInteger(limit) && limit > 0 ? suggestions.slice(0, limit) : suggestions;\n};\n/**\n * addEmptySuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n */\n\n\nvar addEmptySuggestion = function addEmptySuggestion(suggestions, _a) {\n  var _b = _a.optionText,\n      optionText = _b === void 0 ? 'name' : _b,\n      _c = _a.optionValue,\n      optionValue = _c === void 0 ? 'id' : _c,\n      _d = _a.emptyText,\n      emptyText = _d === void 0 ? '' : _d,\n      _e = _a.emptyValue,\n      emptyValue = _e === void 0 ? null : _e;\n  var newSuggestions = suggestions;\n  var emptySuggestion = {};\n  set(emptySuggestion, optionValue, emptyValue);\n\n  if (typeof optionText === 'string') {\n    set(emptySuggestion, optionText, emptyText);\n  }\n\n  return [].concat(emptySuggestion, newSuggestions);\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport { makeStyles, Paper, Popper } from '@material-ui/core';\nvar useStyles = makeStyles({\n  suggestionsContainer: {\n    zIndex: 2\n  },\n  suggestionsPaper: {\n    maxHeight: '50vh',\n    overflowY: 'auto'\n  }\n}, {\n  name: 'RaAutocompleteSuggestionList'\n});\n\nvar AutocompleteSuggestionList = function AutocompleteSuggestionList(_a) {\n  var children = _a.children,\n      isOpen = _a.isOpen,\n      menuProps = _a.menuProps,\n      inputEl = _a.inputEl,\n      _b = _a.classes,\n      classesOverride = _b === void 0 ? undefined : _b,\n      suggestionsContainerProps = _a.suggestionsContainerProps;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(Popper, __assign({\n    open: isOpen,\n    anchorEl: inputEl,\n    className: classes.suggestionsContainer,\n    modifiers: {}\n  }, suggestionsContainerProps), React.createElement(\"div\", __assign({}, isOpen ? menuProps : {}), React.createElement(Paper, {\n    square: true,\n    style: {\n      marginTop: 8,\n      minWidth: inputEl ? inputEl.clientWidth : null\n    },\n    className: classes.suggestionsPaper\n  }, children)));\n};\n\nexport default AutocompleteSuggestionList;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { isValidElement, cloneElement } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { makeStyles, MenuItem } from '@material-ui/core';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      fontWeight: 400\n    },\n    selected: {\n      fontWeight: 500\n    },\n    suggestion: {\n      display: 'block',\n      fontFamily: theme.typography.fontFamily\n    },\n    suggestionText: {\n      fontWeight: 300\n    },\n    highlightedSuggestionText: {\n      fontWeight: 500\n    }\n  };\n}, {\n  name: 'RaAutocompleteSuggestionItem'\n});\n\nvar AutocompleteSuggestionItem = function AutocompleteSuggestionItem(_a) {\n  var _b;\n\n  var suggestion = _a.suggestion,\n      index = _a.index,\n      highlightedIndex = _a.highlightedIndex,\n      isSelected = _a.isSelected,\n      filterValue = _a.filterValue,\n      classesOverride = _a.classes,\n      getSuggestionText = _a.getSuggestionText,\n      rest = __rest(_a, [\"suggestion\", \"index\", \"highlightedIndex\", \"isSelected\", \"filterValue\", \"classes\", \"getSuggestionText\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var isHighlighted = highlightedIndex === index;\n  var suggestionText = getSuggestionText(suggestion);\n  var matches;\n  var parts;\n\n  if (!isValidElement(suggestionText)) {\n    matches = match(suggestionText, filterValue);\n    parts = parse(suggestionText, matches);\n  }\n\n  return React.createElement(MenuItem, __assign({\n    key: suggestionText,\n    selected: isHighlighted,\n    className: classnames(classes.root, (_b = {}, _b[classes.selected] = isSelected, _b))\n  }, rest), isValidElement(suggestionText) ? cloneElement(suggestionText, {\n    filterValue: filterValue\n  }) : React.createElement(\"div\", {\n    className: classes.suggestion\n  }, parts.map(function (part, index) {\n    return part.highlight ? React.createElement(\"span\", {\n      key: index,\n      className: classes.highlightedSuggestionText\n    }, part.text) : React.createElement(\"strong\", {\n      key: index,\n      className: classes.suggestionText\n    }, part.text);\n  })));\n};\n\nexport default AutocompleteSuggestionItem;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback, useEffect, useRef, useState, useMemo, isValidElement } from 'react';\nimport Downshift from 'downshift';\nimport get from 'lodash/get';\nimport { makeStyles, TextField } from '@material-ui/core';\nimport { useInput, FieldTitle, useSuggestions, warning } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport AutocompleteSuggestionList from './AutocompleteSuggestionList';\nimport AutocompleteSuggestionItem from './AutocompleteSuggestionItem';\n/**\n * An Input component for an autocomplete field, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <AutocompleteInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * Note that you must also specify the `matchSuggestion` prop\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue);\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n *\n * @example\n * <AutocompleteInput source=\"author_id\" options={{ color: 'secondary', InputLabelProps: { shrink: true } }} />\n */\n\nvar AutocompleteInput = function AutocompleteInput(_a) {\n  var allowEmpty = _a.allowEmpty,\n      className = _a.className,\n      classesOverride = _a.classes,\n      _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      emptyText = _a.emptyText,\n      emptyValue = _a.emptyValue,\n      format = _a.format,\n      fullWidth = _a.fullWidth,\n      helperText = _a.helperText,\n      idOverride = _a.id,\n      inputOverride = _a.input,\n      isRequiredOverride = _a.isRequired,\n      label = _a.label,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      matchSuggestion = _a.matchSuggestion,\n      metaOverride = _a.meta,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      _d = _a.options,\n      _e = _d === void 0 ? {\n    suggestionsContainerProps: undefined,\n    labelProps: undefined,\n    InputProps: undefined\n  } : _d,\n      suggestionsContainerProps = _e.suggestionsContainerProps,\n      labelProps = _e.labelProps,\n      InputProps = _e.InputProps,\n      options = __rest(_e, [\"suggestionsContainerProps\", \"labelProps\", \"InputProps\"]),\n      _f = _a.optionText,\n      optionText = _f === void 0 ? 'name' : _f,\n      _g = _a.optionValue,\n      optionValue = _g === void 0 ? 'id' : _g,\n      parse = _a.parse,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      shouldRenderSuggestionsOverride = _a.shouldRenderSuggestions,\n      source = _a.source,\n      suggestionLimit = _a.suggestionLimit,\n      _h = _a.translateChoice,\n      translateChoice = _h === void 0 ? true : _h,\n      validate = _a.validate,\n      _j = _a.variant,\n      variant = _j === void 0 ? 'filled' : _j,\n      rest = __rest(_a, [\"allowEmpty\", \"className\", \"classes\", \"choices\", \"emptyText\", \"emptyValue\", \"format\", \"fullWidth\", \"helperText\", \"id\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"margin\", \"matchSuggestion\", \"meta\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"setFilter\", \"shouldRenderSuggestions\", \"source\", \"suggestionLimit\", \"translateChoice\", \"validate\", \"variant\"]);\n\n  warning(isValidElement(optionText) && !matchSuggestion, \"If the optionText prop is a React element, you must also specify the matchSuggestion prop:\\n<AutocompleteInput\\n    matchSuggestion={(filterValue, suggestion) => true}\\n/>\\n        \");\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var inputEl = useRef();\n  var anchorEl = useRef();\n\n  var _k = useInput(__assign({\n    format: format,\n    id: idOverride,\n    input: inputOverride,\n    meta: metaOverride,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _k.id,\n      input = _k.input,\n      isRequired = _k.isRequired,\n      _l = _k.meta,\n      touched = _l.touched,\n      error = _l.error;\n\n  var _m = useState(''),\n      filterValue = _m[0],\n      setFilterValue = _m[1];\n\n  var getSuggestionFromValue = useCallback(function (value) {\n    return choices.find(function (choice) {\n      return get(choice, optionValue) === value;\n    });\n  }, [choices, optionValue]);\n  var selectedItem = useMemo(function () {\n    return getSuggestionFromValue(input.value) || null;\n  }, [input.value, getSuggestionFromValue]);\n\n  var _o = useSuggestions({\n    allowEmpty: allowEmpty,\n    choices: choices,\n    emptyText: emptyText,\n    emptyValue: emptyValue,\n    limitChoicesToValue: limitChoicesToValue,\n    matchSuggestion: matchSuggestion,\n    optionText: optionText,\n    optionValue: optionValue,\n    selectedItem: selectedItem,\n    suggestionLimit: suggestionLimit,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _o.getChoiceText,\n      getChoiceValue = _o.getChoiceValue,\n      getSuggestions = _o.getSuggestions;\n\n  var handleFilterChange = useCallback(function (eventOrValue) {\n    var event = eventOrValue;\n    var value = event.target ? event.target.value : eventOrValue;\n\n    if (setFilter) {\n      setFilter(value);\n    }\n  }, [setFilter]); // We must reset the filter every time the value changes to ensure we\n  // display at least some choices even if the input has a value.\n  // Otherwise, it would only display the currently selected one and the user\n  // would have to first clear the input before seeing any other choices\n\n  useEffect(function () {\n    handleFilterChange(''); // If we have a value, set the filter to its text so that\n    // Downshift displays it correctly\n\n    setFilterValue(input.value ? getChoiceText(selectedItem) : '');\n  }, [input.value, handleFilterChange, selectedItem, getChoiceText]);\n  var handleChange = useCallback(function (item) {\n    input.onChange(getChoiceValue(item));\n  }, [getChoiceValue, input]); // This function ensures that the suggestion list stay aligned to the\n  // input element even if it moves (because user scrolled for example)\n\n  var updateAnchorEl = function updateAnchorEl() {\n    if (!inputEl.current) {\n      return;\n    }\n\n    var inputPosition = inputEl.current.getBoundingClientRect(); // It works by implementing a mock element providing the only method used\n    // by the PopOver component, getBoundingClientRect, which will return a\n    // position based on the input position\n\n    if (!anchorEl.current) {\n      anchorEl.current = {\n        getBoundingClientRect: function getBoundingClientRect() {\n          return inputPosition;\n        }\n      };\n    } else {\n      var anchorPosition = anchorEl.current.getBoundingClientRect();\n\n      if (anchorPosition.x !== inputPosition.x || anchorPosition.y !== inputPosition.y) {\n        anchorEl.current = {\n          getBoundingClientRect: function getBoundingClientRect() {\n            return inputPosition;\n          }\n        };\n      }\n    }\n  };\n\n  var storeInputRef = function storeInputRef(input) {\n    inputEl.current = input;\n    updateAnchorEl();\n  };\n\n  var handleBlur = useCallback(function (event) {\n    handleFilterChange(''); // If we had a value before, set the filter back to its text so that\n    // Downshift displays it correctly\n\n    setFilterValue(input.value ? getChoiceText(selectedItem) : '');\n    input.onBlur(event);\n  }, [getChoiceText, handleFilterChange, input, selectedItem]);\n  var handleFocus = useCallback(function (openMenu) {\n    return function (event) {\n      openMenu(event);\n      input.onFocus(event);\n    };\n  }, [input]);\n\n  var shouldRenderSuggestions = function shouldRenderSuggestions(val) {\n    if (shouldRenderSuggestionsOverride !== undefined && typeof shouldRenderSuggestionsOverride === 'function') {\n      return shouldRenderSuggestionsOverride(val);\n    }\n\n    return true;\n  };\n\n  return React.createElement(Downshift, __assign({\n    inputValue: filterValue,\n    onChange: handleChange,\n    selectedItem: selectedItem,\n    itemToString: function itemToString(item) {\n      return getChoiceValue(item);\n    }\n  }, rest), function (_a) {\n    var getInputProps = _a.getInputProps,\n        getItemProps = _a.getItemProps,\n        getLabelProps = _a.getLabelProps,\n        getMenuProps = _a.getMenuProps,\n        isOpen = _a.isOpen,\n        highlightedIndex = _a.highlightedIndex,\n        openMenu = _a.openMenu;\n    var isMenuOpen = isOpen && shouldRenderSuggestions(filterValue);\n\n    var _b = getInputProps(__assign({\n      onBlur: handleBlur,\n      onFocus: handleFocus(openMenu)\n    }, InputProps)),\n        downshiftId = _b.id,\n        // We want to ignore this to correctly link our label and the input\n    value = _b.value,\n        onBlur = _b.onBlur,\n        _onChange = _b.onChange,\n        onFocus = _b.onFocus,\n        ref = _b.ref,\n        inputProps = __rest(_b, [\"id\", \"value\", \"onBlur\", \"onChange\", \"onFocus\", \"ref\"]);\n\n    var suggestions = getSuggestions(filterValue);\n    return React.createElement(\"div\", {\n      className: classes.container\n    }, React.createElement(TextField, __assign({\n      id: id,\n      name: input.name,\n      InputProps: {\n        inputRef: storeInputRef,\n        onBlur: onBlur,\n        onChange: function onChange(event) {\n          handleFilterChange(event);\n          setFilterValue(event.target.value);\n\n          _onChange(event);\n        },\n        onFocus: onFocus\n      },\n      error: !!(touched && error),\n      label: React.createElement(FieldTitle, __assign({\n        label: label\n      }, labelProps, {\n        source: source,\n        resource: resource,\n        isRequired: typeof isRequiredOverride !== 'undefined' ? isRequiredOverride : isRequired\n      })),\n      InputLabelProps: getLabelProps({\n        htmlFor: id\n      }),\n      helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n        touched: touched,\n        error: error,\n        helperText: helperText\n      }) : null,\n      variant: variant,\n      margin: margin,\n      fullWidth: fullWidth,\n      value: filterValue,\n      className: className\n    }, inputProps, options)), React.createElement(AutocompleteSuggestionList, {\n      isOpen: isMenuOpen,\n      menuProps: getMenuProps({}, // https://github.com/downshift-js/downshift/issues/235\n      {\n        suppressRefError: true\n      }),\n      inputEl: inputEl.current,\n      suggestionsContainerProps: suggestionsContainerProps\n    }, suggestions.map(function (suggestion, index) {\n      return React.createElement(AutocompleteSuggestionItem, __assign({\n        key: getChoiceValue(suggestion),\n        suggestion: suggestion,\n        index: index,\n        highlightedIndex: highlightedIndex,\n        isSelected: input.value === getChoiceValue(suggestion),\n        filterValue: filterValue,\n        getSuggestionText: getChoiceText\n      }, getItemProps({\n        item: suggestion\n      })));\n    })));\n  });\n};\n\nvar useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    height: 250\n  },\n  container: {\n    flexGrow: 1,\n    position: 'relative'\n  }\n}, {\n  name: 'RaAutocompleteInput'\n});\nexport default AutocompleteInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * @example\n * <FunctionField source=\"last_name\" label=\"Name\" render={record => `${record.first_name} ${record.last_name}`} />\n */\n\nvar FunctionField = function FunctionField(_a) {\n  var className = _a.className,\n      _b = _a.record,\n      record = _b === void 0 ? {} : _b,\n      source = _a.source,\n      render = _a.render,\n      rest = __rest(_a, [\"className\", \"record\", \"source\", \"render\"]);\n\n  return record ? React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)), render(record, source)) : null;\n};\n\nvar EnhancedFunctionField = pure(FunctionField);\nEnhancedFunctionField.defaultProps = {\n  addLabel: true\n};\nEnhancedFunctionField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nEnhancedFunctionField.displayName = 'EnhancedFunctionField';\nexport default EnhancedFunctionField;","import React from 'react';\nimport { FunctionField } from 'react-admin';\n\nconst render = record => record.basket.length;\n\nconst NbItemsField = props => <FunctionField {...props} render={render} />;\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import get from 'lodash/get';\nimport { linkToRecord } from '../../util';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n * @property {string | false} resourceLinkPath link to the page of the related record (depends on link) (false is no link)\n */\n\n/**\n * Get the link toward the referenced resource\n *\n * @example\n *\n * const linkPath = getResourceLinkPath({\n *      basePath: '/comments',\n *      link: 'edit',\n *      reference: 'users',\n *      record: {\n *          userId: 7\n *      },\n *      resource: 'comments',\n *      source: 'userId',\n * });\n *\n * @param {Object} option\n * @param {string} option.basePath basepath to current resource\n * @param {string | false | LinkToFunctionType} option.link=\"edit\" The link toward the referenced record. 'edit', 'show' or false for no link (default to edit). Alternatively a function that returns a string\n * @param {string | false | LinkToFunctionType} [option.linkType] DEPRECATED : old name for link\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The The current resource record\n * @param {string} option.resource The current resource name\n * @param {string} option.source The key of the linked resource identifier\n *\n * @returns {ReferenceProps} The reference props\n */\n\nvar getResourceLinkPath = function getResourceLinkPath(_a) {\n  var basePath = _a.basePath,\n      _b = _a.link,\n      link = _b === void 0 ? 'edit' : _b,\n      linkType = _a.linkType,\n      reference = _a.reference,\n      _c = _a.record,\n      record = _c === void 0 ? {\n    id: ''\n  } : _c,\n      resource = _a.resource,\n      source = _a.source;\n  var sourceId = get(record, source);\n  var rootPath = basePath.replace(resource, reference); // Backward compatibility: keep linkType but with warning\n\n  var getResourceLinkPath = function getResourceLinkPath(linkTo) {\n    return !linkTo ? false : typeof linkTo === 'function' ? linkTo(record, reference) : linkToRecord(rootPath, sourceId, linkTo);\n  };\n\n  if (linkType !== undefined) {\n    console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />\");\n  }\n\n  var resourceLinkPath = getResourceLinkPath(linkType !== undefined ? linkType : link);\n  return resourceLinkPath;\n};\n\nexport default getResourceLinkPath;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Error as ErrorIcon } from '@material-ui/icons';\nimport { useReference, getResourceLinkPath } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Link from '../Link';\nimport sanitizeRestProps from './sanitizeRestProps';\n/**\n * Fetch reference record, and delegate rendering to child component.\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * By default, includes a link to the <Edit> page of the related record\n * (`/users/:userId` in the previous example).\n *\n * Set the `link` prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * You can also prevent `<ReferenceField>` from adding link to children by setting\n * `link` to false.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * Alternatively, you can also pass a custom function to `link`. It must take reference and record\n * as arguments and return a string\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(reference, record) => \"/path/to/${reference}/${record}\"}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\n\nvar ReferenceField = function ReferenceField(_a) {\n  var children = _a.children,\n      record = _a.record,\n      source = _a.source,\n      props = __rest(_a, [\"children\", \"record\", \"source\"]);\n\n  if (React.Children.count(children) !== 1) {\n    throw new Error('<ReferenceField> only accepts a single child');\n  }\n\n  var _b = useReference({\n    reference: props.reference,\n    id: get(record, source)\n  }),\n      loaded = _b.loaded,\n      error = _b.error,\n      referenceRecord = _b.referenceRecord;\n\n  var resourceLinkPath = getResourceLinkPath(__assign({\n    record: record,\n    source: source\n  }, props));\n  return React.createElement(PureReferenceFieldView, __assign({}, props, {\n    loaded: loaded,\n    error: error,\n    referenceRecord: referenceRecord,\n    resourceLinkPath: resourceLinkPath\n  }), children);\n};\n\nReferenceField.propTypes = {\n  addLabel: PropTypes.bool,\n  basePath: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  cellClassName: PropTypes.string,\n  headerClassName: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  reference: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  sortBy: PropTypes.string,\n  source: PropTypes.string.isRequired,\n  translateChoice: PropTypes.func,\n  linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  link: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]).isRequired\n};\nReferenceField.defaultProps = {\n  addLabel: true,\n  classes: {},\n  link: 'edit'\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    link: {\n      color: theme.palette.primary.main\n    }\n  };\n}, {\n  name: 'RaReferenceField'\n}); // useful to prevent click bubbling in a datagrid with rowClick\n\nvar stopPropagation = function stopPropagation(e) {\n  return e.stopPropagation();\n};\n\nexport var ReferenceFieldView = function ReferenceFieldView(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      error = _a.error,\n      loaded = _a.loaded,\n      record = _a.record,\n      reference = _a.reference,\n      referenceRecord = _a.referenceRecord,\n      resource = _a.resource,\n      resourceLinkPath = _a.resourceLinkPath,\n      source = _a.source,\n      _b = _a.translateChoice,\n      translateChoice = _b === void 0 ? false : _b,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"classes\", \"error\", \"loaded\", \"record\", \"reference\", \"referenceRecord\", \"resource\", \"resourceLinkPath\", \"source\", \"translateChoice\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  if (!loaded) {\n    return React.createElement(LinearProgress, null);\n  }\n\n  if (error) {\n    return React.createElement(ErrorIcon, {\n      \"aria-errormessage\": error.message ? error.message : error,\n      color: \"error\",\n      fontSize: \"small\"\n    });\n  }\n\n  if (!referenceRecord) {\n    return null;\n  }\n\n  if (resourceLinkPath) {\n    return React.createElement(Link, {\n      to: resourceLinkPath,\n      className: className,\n      onClick: stopPropagation\n    }, cloneElement(Children.only(children), __assign({\n      className: classnames(children.props.className, classes.link // force color override for Typography components\n      ),\n      record: referenceRecord,\n      resource: reference,\n      basePath: basePath,\n      translateChoice: translateChoice\n    }, sanitizeRestProps(rest))));\n  }\n\n  return cloneElement(Children.only(children), __assign({\n    record: referenceRecord,\n    resource: reference,\n    basePath: basePath,\n    translateChoice: translateChoice\n  }, sanitizeRestProps(rest)));\n};\nReferenceFieldView.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  loading: PropTypes.bool,\n  record: PropTypes.object,\n  reference: PropTypes.string,\n  referenceRecord: PropTypes.object,\n  resource: PropTypes.string,\n  resourceLinkPath: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool\n};\nvar PureReferenceFieldView = memo(ReferenceFieldView);\nexport default ReferenceField;","import React, { FC } from 'react';\nimport { ReferenceField } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps } from '../types';\n\nconst CustomerReferenceField: FC<FieldProps> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\nconst MobileGrid = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                                className={classes.total}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React, { Fragment } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    EditButton,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport {\n    makeStyles,\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n} from '@material-ui/core';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport MobileGrid from './MobileGrid';\n\nconst OrderFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={choice =>\n                    `${choice.first_name} ${choice.last_name}`\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nclass TabbedDatagrid extends React.Component {\n    tabs = [\n        { id: 'ordered', name: 'ordered' },\n        { id: 'delivered', name: 'delivered' },\n        { id: 'cancelled', name: 'cancelled' },\n    ];\n\n    state = { ordered: [], delivered: [], cancelled: [] };\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.ids !== state[props.filterValues.status]) {\n            return { ...state, [props.filterValues.status]: props.ids };\n        }\n        return null;\n    }\n\n    handleChange = (event, value) => {\n        const { filterValues, setFilters } = this.props;\n        setFilters({ ...filterValues, status: value });\n    };\n\n    render() {\n        const { isXSmall, classes, filterValues, ...props } = this.props;\n\n        return (\n            <Fragment>\n                <Tabs\n                    variant=\"fullWidth\"\n                    centered\n                    value={filterValues.status}\n                    indicatorColor=\"primary\"\n                    onChange={this.handleChange}\n                >\n                    {this.tabs.map(choice => (\n                        <Tab\n                            key={choice.id}\n                            label={choice.name}\n                            value={choice.id}\n                        />\n                    ))}\n                </Tabs>\n                <Divider />\n                {isXSmall ? (\n                    <MobileGrid\n                        {...props}\n                        ids={this.state[filterValues.status]}\n                    />\n                ) : (\n                    <div>\n                        {filterValues.status === 'ordered' && (\n                            <Datagrid\n                                {...props}\n                                ids={this.state.ordered}\n                                optimized\n                                rowClick=\"edit\"\n                            >\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        )}\n                        {filterValues.status === 'delivered' && (\n                            <Datagrid {...props} ids={this.state.delivered}>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        )}\n                        {filterValues.status === 'cancelled' && (\n                            <Datagrid {...props} ids={this.state.cancelled}>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        )}\n                    </div>\n                )}\n            </Fragment>\n        );\n    }\n}\n\nconst StyledTabbedDatagrid = props => {\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    return <TabbedDatagrid classes={classes} isXSmall={isXSmall} {...props} />;\n};\n\nconst OrderList = ({ classes, ...props }) => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <StyledTabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import PropTypes from 'prop-types';\n/**\n * Common PropTypes for all react-admin inputs\n */\n\nvar InputPropTypes = {\n  label: PropTypes.string,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nexport default InputPropTypes;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Switch from '@material-ui/core/Switch';\nimport { FieldTitle, useInput } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\nimport InputPropTypes from './InputPropTypes';\n\nvar BooleanInput = function BooleanInput(_a) {\n  var format = _a.format,\n      label = _a.label,\n      fullWidth = _a.fullWidth,\n      helperText = _a.helperText,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      validate = _a.validate,\n      rest = __rest(_a, [\"format\", \"label\", \"fullWidth\", \"helperText\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n\n  var _b = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'checkbox',\n    validate: validate\n  }, rest)),\n      id = _b.id,\n      _c = _b.input,\n      finalFormOnChange = _c.onChange,\n      type = _c.type,\n      value = _c.value,\n      inputProps = __rest(_c, [\"onChange\", \"type\", \"value\"]),\n      isRequired = _b.isRequired,\n      _d = _b.meta,\n      error = _d.error,\n      touched = _d.touched;\n\n  var handleChange = useCallback(function (event, value) {\n    finalFormOnChange(value);\n  }, [finalFormOnChange]);\n  return React.createElement(FormGroup, __assign({}, sanitizeRestProps(rest)), React.createElement(FormControlLabel, {\n    control: React.createElement(Switch, __assign({\n      id: id,\n      color: \"primary\",\n      onChange: handleChange\n    }, inputProps, options)),\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    })\n  }), touched && error || helperText ? React.createElement(FormHelperText, {\n    error: !!error\n  }, React.createElement(InputHelperText, {\n    touched: touched,\n    error: error,\n    helperText: helperText\n  })) : null);\n};\n\nBooleanInput.propTypes = __assign(__assign({}, InputPropTypes), {\n  options: PropTypes.shape(Switch.propTypes)\n});\nBooleanInput.defaultProps = {\n  options: {}\n};\nexport default BooleanInput;","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    (productId: string) =>\n                        state.admin.resources.products.data[productId]\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce(\n                    (prev, next) => {\n                        prev[next.id] = next;\n                        return prev;\n                    },\n                    {} as { [key: string]: Product }\n                );\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    Edit,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\n\nconst OrderTitle = ({ record }) => {\n    const translate = useTranslate();\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst OrderEdit = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            {...props}\n        >\n            <SimpleForm>\n                <DateInput source=\"date\" />\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput\n                        optionText={choice =>\n                            `${choice.first_name} ${choice.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n                <SelectInput\n                    source=\"status\"\n                    choices={[\n                        { id: 'delivered', name: 'delivered' },\n                        { id: 'ordered', name: 'ordered' },\n                        { id: 'cancelled', name: 'cancelled' },\n                        {\n                            id: 'unknown',\n                            name: 'unknown',\n                            disabled: true,\n                        },\n                    ]}\n                />\n                <BooleanInput source=\"returned\" />\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import { UPDATE_MANY } from '../../core';\nexport var crudUpdateMany = function crudUpdateMany(resource, ids, data, basePath, refresh) {\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_UPDATE_MANY,\n    payload: {\n      ids: ids,\n      data: data\n    },\n    meta: {\n      resource: resource,\n      fetch: UPDATE_MANY,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.updated',\n          level: 'info',\n          messageArgs: {\n            smart_count: ids.length\n          }\n        },\n        basePath: basePath,\n        refresh: refresh,\n        unselectAll: true\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_UPDATE_MANY = 'RA/CRUD_UPDATE_MANY';\nexport var CRUD_UPDATE_MANY_LOADING = 'RA/CRUD_UPDATE_MANY_LOADING';\nexport var CRUD_UPDATE_MANY_FAILURE = 'RA/CRUD_UPDATE_MANY_FAILURE';\nexport var CRUD_UPDATE_MANY_SUCCESS = 'RA/CRUD_UPDATE_MANY_SUCCESS';","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkAcceptButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkRejectButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList = ({ basePath, data, ids, loading, total }) => {\n    const classes = useStyles();\n    return (\n        (loading || total > 0) && (\n            <List className={classes.root}>\n                {ids.map(id => (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={data[id]}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    linkType={false}\n                                >\n                                    <AvatarField size={40} />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <FunctionField\n                                                render={record =>\n                                                    `${record.first_name} ${\n                                                        record.last_name\n                                                    }`\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={data[id].comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                ))}\n            </List>\n        )\n    );\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import React from 'react';\nimport { ReferenceField, TextField } from 'react-admin';\n\nconst ProductReferenceField = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React, { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        haight: 15,\n    },\n});\n\ninterface OwnProps {\n    size: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\n\nconst rowStyle = (record, index, defaultStyle = {}) => {\n    if (record.status === 'accepted')\n        return {\n            ...defaultStyle,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...defaultStyle,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...defaultStyle,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return defaultStyle;\n};\n\nexport default rowStyle;\n","import React from 'react';\nimport { Datagrid, DateField, TextField } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop = props => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={choice =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default AcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default RejectButton;\n","import React, { Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles({\n    root: {\n        backgroundColor: 'white',\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n});\n\nconst ReviewEditToolbar = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField formClassName={classes.inlineField} />\n\n                <ProductReferenceField formClassName={classes.inlineField} />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { Fragment, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, List } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = props => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\nconst EventList = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <Order\n                        record={event.data}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <Review\n                        record={event.data}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\nconst mixOrdersAndReviews = (orders, orderIds, reviews, reviewIds) => {\n    const eventsFromOrders = orderIds.map(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n    const eventsFromReviews = reviewIds.map(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort((e1, e2) => new Date(e1.date) - new Date(e2.date));\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Order = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                        className={classes.avatar}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst Review = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                        className={classes.avatar}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst EditButton = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, Select, MenuItem, InputLabel, Input, FilledInput, FormHelperText, FormControl, Chip } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { FieldTitle, useInput, useChoices } from 'ra-core';\nimport InputHelperText from './InputHelperText';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var addLabel = _a.addLabel,\n      allowEmpty = _a.allowEmpty,\n      basePath = _a.basePath,\n      choices = _a.choices,\n      classNamInputWithOptionsPropse = _a.classNamInputWithOptionsPropse,\n      componenInputWithOptionsPropst = _a.componenInputWithOptionsPropst,\n      crudGetMInputWithOptionsPropsatching = _a.crudGetMInputWithOptionsPropsatching,\n      crudGetOInputWithOptionsPropsne = _a.crudGetOInputWithOptionsPropsne,\n      defaultValue = _a.defaultValue,\n      filter = _a.filter,\n      filterToQuery = _a.filterToQuery,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      loaded = _a.loaded,\n      locale = _a.locale,\n      meta = _a.meta,\n      onChange = _a.onChange,\n      options = _a.options,\n      optionValue = _a.optionValue,\n      optionText = _a.optionText,\n      perPage = _a.perPage,\n      record = _a.record,\n      reference = _a.reference,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      sort = _a.sort,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translate = _a.translate,\n      translateChoice = _a.translateChoice,\n      validation = _a.validation,\n      rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"basePath\", \"choices\", \"classNamInputWithOptionsPropse\", \"componenInputWithOptionsPropst\", \"crudGetMInputWithOptionsPropsatching\", \"crudGetOInputWithOptionsPropsne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    chip: {\n      margin: theme.spacing(1 / 4)\n    },\n    select: {\n      height: 'auto',\n      overflow: 'auto'\n    }\n  };\n}, {\n  name: 'RaSelectArrayInput'\n});\n/**\n * An Input component for a select box allowing multiple selections, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <SelectArrayInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectArrayInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\n\nvar SelectArrayInput = function SelectArrayInput(_a) {\n  var _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      classesOverride = _a.classes,\n      className = _a.className,\n      format = _a.format,\n      helperText = _a.helperText,\n      label = _a.label,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      translateChoice = _a.translateChoice,\n      validate = _a.validate,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      rest = __rest(_a, [\"choices\", \"classes\", \"className\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\", \"variant\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  var _e = useChoices({\n    optionText: optionText,\n    optionValue: optionValue,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _e.getChoiceText,\n      getChoiceValue = _e.getChoiceValue;\n\n  var _f = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _f.id,\n      input = _f.input,\n      isRequired = _f.isRequired,\n      _g = _f.meta,\n      error = _g.error,\n      touched = _g.touched;\n\n  var renderMenuItemOption = useCallback(function (choice) {\n    return getChoiceText(choice);\n  }, [getChoiceText]);\n  var renderMenuItem = useCallback(function (choice) {\n    return choice ? React.createElement(MenuItem, {\n      key: getChoiceValue(choice),\n      value: getChoiceValue(choice)\n    }, renderMenuItemOption(choice)) : null;\n  }, [getChoiceValue, renderMenuItemOption]);\n  return React.createElement(FormControl, __assign({\n    margin: margin,\n    className: classnames(classes.root, className),\n    error: touched && !!error,\n    variant: variant\n  }, sanitizeRestProps(rest)), React.createElement(InputLabel, {\n    htmlFor: id,\n    shrink: true,\n    variant: variant\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource,\n    isRequired: isRequired\n  })), React.createElement(Select, __assign({\n    autoWidth: true,\n    multiple: true,\n    input: variant === 'standard' ? React.createElement(Input, {\n      id: id\n    }) : React.createElement(FilledInput, {\n      id: id\n    }),\n    error: !!(touched && error),\n    renderValue: function renderValue(selected) {\n      return React.createElement(\"div\", {\n        className: classes.chips\n      }, selected.map(function (item) {\n        return choices.find(function (choice) {\n          return getChoiceValue(choice) === item;\n        });\n      }).map(function (item) {\n        return React.createElement(Chip, {\n          key: getChoiceValue(item),\n          label: renderMenuItemOption(item),\n          className: classes.chip\n        });\n      }));\n    },\n    \"data-testid\": \"selectArray\",\n    variant: variant\n  }, input, {\n    value: input.value || []\n  }, options), choices.map(renderMenuItem)), touched && error || helperText ? React.createElement(FormHelperText, null, React.createElement(InputHelperText, {\n    touched: touched,\n    error: error,\n    helperText: helperText\n  })) : null);\n};\n\nSelectArrayInput.propTypes = {\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  label: PropTypes.string,\n  options: PropTypes.object,\n  optionText: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.element]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool\n};\nSelectArrayInput.defaultProps = {\n  options: {},\n  optionText: 'name',\n  optionValue: 'id',\n  translateChoice: true\n};\nexport default SelectArrayInput;","import React, { FC } from 'react';\nimport { useTranslate, SelectArrayInput } from 'react-admin';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import React, { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer, FieldProps } from '../types';\n\nconst VisitorEdit = (props: any) => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validation={{ email: true }}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import React, { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","import inflection from 'inflection';\nimport useVersion from './useVersion';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useGetOne } from '../dataProvider';\nimport { useTranslate } from '../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../sideEffect';\nimport { CRUD_GET_ONE } from '../actions';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\n\nvar useShowController = function useShowController(props) {\n  useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n  var basePath = props.basePath,\n      id = props.id,\n      resource = props.resource;\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var version = useVersion();\n\n  var _a = useGetOne(resource, id, {\n    version: version,\n    action: CRUD_GET_ONE,\n    onFailure: function onFailure() {\n      notify('ra.notification.item_doesnt_exist', 'warning');\n      redirect('list', basePath);\n      refresh();\n    }\n  }),\n      record = _a.data,\n      loading = _a.loading,\n      loaded = _a.loaded;\n\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 1,\n    _: inflection.humanize(inflection.singularize(resource))\n  });\n  var defaultTitle = translate('ra.page.show', {\n    name: \"\" + resourceName,\n    id: id,\n    record: record\n  });\n  return {\n    loading: loading,\n    loaded: loaded,\n    defaultTitle: defaultTitle,\n    resource: resource,\n    basePath: basePath,\n    record: record,\n    version: version\n  };\n};\n\nexport default useShowController;","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useShowController, ReferenceField, TextField } from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    Filter,\n    DateInput,\n} from 'react-admin';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = (props: any) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoiceList = (props: any) => (\n    <List {...props} filters={<ListFilters />} perPage={25}>\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport sanitizeRestProps from './sanitizeRestProps';\n\nvar convertStringToNumber = function convertStringToNumber(value) {\n  var _float = parseFloat(value);\n\n  return isNaN(_float) ? null : _float;\n};\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n */\n\n\nvar NumberInput = function NumberInput(_a) {\n  var format = _a.format,\n      helperText = _a.helperText,\n      label = _a.label,\n      _b = _a.margin,\n      margin = _b === void 0 ? 'dense' : _b,\n      onBlur = _a.onBlur,\n      onFocus = _a.onFocus,\n      onChange = _a.onChange,\n      options = _a.options,\n      _c = _a.parse,\n      parse = _c === void 0 ? convertStringToNumber : _c,\n      resource = _a.resource,\n      source = _a.source,\n      step = _a.step,\n      validate = _a.validate,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      overrideInputProps = _a.inputProps,\n      rest = __rest(_a, [\"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"step\", \"validate\", \"variant\", \"inputProps\"]);\n\n  var _e = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'number',\n    validate: validate\n  }, rest)),\n      id = _e.id,\n      input = _e.input,\n      isRequired = _e.isRequired,\n      _f = _e.meta,\n      error = _f.error,\n      touched = _f.touched;\n\n  var inputProps = __assign(__assign({}, overrideInputProps), {\n    step: step\n  });\n\n  return React.createElement(TextField, __assign({\n    id: id\n  }, input, {\n    variant: variant,\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    margin: margin,\n    inputProps: inputProps\n  }, options, sanitizeRestProps(rest)));\n};\n\nNumberInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  step: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nNumberInput.defaultProps = {\n  options: {},\n  step: 'any',\n  textAlign: 'right'\n};\nexport default NumberInput;","import React from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth from '@material-ui/core/withWidth';\nimport { Link } from 'react-router-dom';\nimport { NumberField } from 'react-admin';\nimport { linkToRecord } from 'ra-core';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '-2px',\n    },\n    gridList: {\n        width: '100%',\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = width => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren, fn) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = ({ width, nbItems = 10 }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {' '}\n                {times(nbItems, key => (\n                    <GridListTile key={key}>\n                        <div className={classes.placeholder} />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst LoadedGridList = ({ ids, data, basePath, width }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {ids.map(id => (\n                    <GridListTile\n                        component={Link}\n                        key={id}\n                        to={linkToRecord(basePath, data[id].id)}\n                    >\n                        <img src={data[id].thumbnail} alt=\"\" />\n                        <GridListTileBar\n                            className={classes.tileBar}\n                            title={data[id].reference}\n                            subtitle={\n                                <span>\n                                    {data[id].width}x{data[id].height},{' '}\n                                    <NumberField\n                                        className={classes.price}\n                                        source=\"price\"\n                                        record={data[id]}\n                                        color=\"inherit\"\n                                        options={{\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        }}\n                                    />\n                                </span>\n                            }\n                        />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst GridList = ({ loaded, ...props }) =>\n    loaded ? <LoadedGridList {...props} /> : <LoadingGridList {...props} />;\n\nexport default withWidth()(GridList);\n","import React from 'react';\nimport {\n    Filter,\n    List,\n    NumberInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    useTranslate,\n} from 'react-admin';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from './GridList';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ProductList = props => (\n    <List\n        {...props}\n        filters={<ProductFilter />}\n        perPage={20}\n        sort={{ field: 'id', order: 'ASC' }}\n    >\n        <GridList />\n    </List>\n);\n\nexport default ProductList;\n","/**\n * Escape special characters in path so that react-router Route does not do any special treatment\n *\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\n *\n * @example\n *\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\n */\nexport default (function (url) {\n  return url.replace(/(\\(|\\))/g, '\\\\$1');\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useLocation } from 'react-router-dom';\nexport var getTabFullPath = function getTabFullPath(tab, index, baseUrl) {\n  return \"\" + baseUrl + (tab.props.path ? \"/\" + tab.props.path : index > 0 ? \"/\" + index : '');\n};\n\nvar TabbedFormTabs = function TabbedFormTabs(_a) {\n  var children = _a.children,\n      classes = _a.classes,\n      url = _a.url,\n      tabsWithErrors = _a.tabsWithErrors,\n      rest = __rest(_a, [\"children\", \"classes\", \"url\", \"tabsWithErrors\"]);\n\n  var location = useLocation();\n  var validTabPaths = Children.map(children, function (tab, index) {\n    if (!isValidElement(tab)) return undefined;\n    return getTabFullPath(tab, index, url);\n  }); // This ensure we don't get warnings from material-ui Tabs component when\n  // the current location pathname targets a dynamically added Tab\n  // In the case the targeted Tab is not present at first render (when\n  // using permissions for example) we temporarily switch to the first\n  // available tab. The current location will be applied again on the\n  // first render containing the targeted tab. This is almost transparent\n  // for the user who may just see an short tab selection animation\n\n  var tabValue = validTabPaths.includes(location.pathname) ? location.pathname : validTabPaths[0];\n  return React.createElement(Tabs, __assign({\n    value: tabValue,\n    indicatorColor: \"primary\"\n  }, rest), Children.map(children, function (tab, index) {\n    if (!isValidElement(tab)) return null; // Builds the full tab tab which is the concatenation of the last matched route in the\n    // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\n    // and the tab path.\n    // This will be used as the Tab's value\n\n    var tabPath = getTabFullPath(tab, index, url);\n    return cloneElement(tab, {\n      intent: 'header',\n      value: tabPath,\n      className: tabsWithErrors.includes(tab.props.label) && location.pathname !== tabPath ? classes.errorTabButton : null\n    });\n  }));\n};\n\nTabbedFormTabs.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  url: PropTypes.string,\n  tabsWithErrors: PropTypes.arrayOf(PropTypes.string)\n};\nexport default TabbedFormTabs;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport React, { Children, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { escapePath, FormWithRedirect } from 'ra-core';\nimport get from 'lodash/get';\nimport Toolbar from './Toolbar';\nimport TabbedFormTabs, { getTabFullPath } from './TabbedFormTabs';\n/**\n * Form layout where inputs are divided by tab, one input per line.\n *\n * Pass FormTab components as children.\n *\n * @example\n *\n * import React from 'react';\n * import {\n *     Edit,\n *     TabbedForm,\n *     FormTab,\n *     Datagrid,\n *     TextField,\n *     DateField,\n *     TextInput,\n *     ReferenceManyField,\n *     NumberInput,\n *     DateInput,\n *     BooleanInput,\n *     EditButton\n * } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <TabbedForm>\n *             <FormTab label=\"summary\">\n *                 <TextInput disabled label=\"Id\" source=\"id\" />\n *                 <TextInput source=\"title\" validate={required()} />\n *                 <TextInput multiline source=\"teaser\" validate={required()} />\n *             </FormTab>\n *             <FormTab label=\"body\">\n *                 <RichTextInput source=\"body\" validate={required()} addLabel={false} />\n *             </FormTab>\n *             <FormTab label=\"Miscellaneous\">\n *                 <TextInput label=\"Password (if protected post)\" source=\"password\" type=\"password\" />\n *                 <DateInput label=\"Publication date\" source=\"published_at\" />\n *                 <NumberInput source=\"average_note\" validate={[ number(), minValue(0) ]} />\n *                 <BooleanInput label=\"Allow comments?\" source=\"commentable\" defaultValue />\n *                 <TextInput disabled label=\"Nb views\" source=\"views\" />\n *             </FormTab>\n *             <FormTab label=\"comments\">\n *                 <ReferenceManyField reference=\"comments\" target=\"post_id\" addLabel={false}>\n *                     <Datagrid>\n *                         <TextField source=\"body\" />\n *                         <DateField source=\"created_at\" />\n *                         <EditButton />\n *                     </Datagrid>\n *                 </ReferenceManyField>\n *             </FormTab>\n *         </TabbedForm>\n *     </Edit>\n * );\n *\n * @typedef {object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} FormTab elements\n * @prop {object} initialValues\n * @prop {function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, contzining the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n *\n * @param {Prop} props\n */\n\nvar TabbedForm = function TabbedForm(props) {\n  return React.createElement(FormWithRedirect, __assign({}, props, {\n    render: function render(formProps) {\n      return React.createElement(TabbedFormView, __assign({}, formProps));\n    }\n  }));\n};\n\nTabbedForm.propTypes = {\n  children: PropTypes.node,\n  defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  save: PropTypes.func,\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  undoable: PropTypes.bool,\n  validate: PropTypes.func\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    errorTabButton: {\n      color: theme.palette.error.main\n    },\n    content: {\n      paddingTop: theme.spacing(1),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  };\n}, {\n  name: 'RaTabbedForm'\n});\nexport var TabbedFormView = function TabbedFormView(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      pristine = _a.pristine,\n      record = _a.record,\n      defaultRedirect = _a.redirect,\n      resource = _a.resource,\n      saving = _a.saving,\n      setRedirect = _a.setRedirect,\n      submitOnEnter = _a.submitOnEnter,\n      tabs = _a.tabs,\n      toolbar = _a.toolbar,\n      translate = _a.translate,\n      undoable = _a.undoable,\n      value = _a.value,\n      variant = _a.variant,\n      margin = _a.margin,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"classes\", \"form\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"setRedirect\", \"submitOnEnter\", \"tabs\", \"toolbar\", \"translate\", \"undoable\", \"value\", \"variant\", \"margin\"]);\n\n  var tabsWithErrors = findTabsWithErrors(children, form.getState().errors);\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var match = useRouteMatch();\n  var location = useLocation();\n  var url = match ? match.url : location.pathname;\n  return React.createElement(\"form\", __assign({\n    className: classnames('tabbed-form', className)\n  }, sanitizeRestProps(rest)), React.cloneElement(tabs, {\n    classes: classes,\n    url: url,\n    tabsWithErrors: tabsWithErrors\n  }, children), React.createElement(Divider, null), React.createElement(\"div\", {\n    className: classes.content\n  }, Children.map(children, function (tab, index) {\n    return tab && React.createElement(Route, {\n      exact: true,\n      path: escapePath(getTabFullPath(tab, index, url))\n    }, function (routeProps) {\n      return isValidElement(tab) ? React.cloneElement(tab, {\n        intent: 'content',\n        resource: resource,\n        record: record,\n        basePath: basePath,\n        hidden: !routeProps.match,\n        variant: tab.props.variant || variant,\n        margin: tab.props.margin || margin\n      }) : null;\n    });\n  })), toolbar && React.cloneElement(toolbar, {\n    basePath: basePath,\n    className: 'toolbar',\n    handleSubmitWithRedirect: handleSubmitWithRedirect,\n    handleSubmit: handleSubmit,\n    invalid: invalid,\n    pristine: pristine,\n    record: record,\n    redirect: defaultRedirect,\n    resource: resource,\n    saving: saving,\n    submitOnEnter: submitOnEnter,\n    undoable: undoable\n  }));\n};\nTabbedFormView.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  handleSubmit: PropTypes.func,\n  invalid: PropTypes.bool,\n  location: PropTypes.object,\n  match: PropTypes.object,\n  pristine: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  save: PropTypes.func,\n  saving: PropTypes.bool,\n  submitOnEnter: PropTypes.bool,\n  tabs: PropTypes.element.isRequired,\n  tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n  toolbar: PropTypes.element,\n  translate: PropTypes.func,\n  undoable: PropTypes.bool,\n  validate: PropTypes.func,\n  value: PropTypes.number,\n  version: PropTypes.number\n};\nTabbedFormView.defaultProps = {\n  submitOnEnter: true,\n  tabs: React.createElement(TabbedFormTabs, null),\n  toolbar: React.createElement(Toolbar, null)\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var anyTouched = _a.anyTouched,\n      array = _a.array,\n      asyncBlurFields = _a.asyncBlurFields,\n      asyncValidate = _a.asyncValidate,\n      asyncValidating = _a.asyncValidating,\n      autofill = _a.autofill,\n      blur = _a.blur,\n      change = _a.change,\n      clearAsyncError = _a.clearAsyncError,\n      clearFields = _a.clearFields,\n      clearSubmit = _a.clearSubmit,\n      clearSubmitErrors = _a.clearSubmitErrors,\n      destroy = _a.destroy,\n      dirty = _a.dirty,\n      dirtyFields = _a.dirtyFields,\n      dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit,\n      dirtySinceLastSubmit = _a.dirtySinceLastSubmit,\n      dispatch = _a.dispatch,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      hasSubmitErrors = _a.hasSubmitErrors,\n      hasValidationErrors = _a.hasValidationErrors,\n      initialize = _a.initialize,\n      initialized = _a.initialized,\n      initialValues = _a.initialValues,\n      pristine = _a.pristine,\n      pure = _a.pure,\n      redirect = _a.redirect,\n      reset = _a.reset,\n      resetSection = _a.resetSection,\n      save = _a.save,\n      staticContext = _a.staticContext,\n      submit = _a.submit,\n      submitAsSideEffect = _a.submitAsSideEffect,\n      submitError = _a.submitError,\n      submitErrors = _a.submitErrors,\n      submitFailed = _a.submitFailed,\n      submitSucceeded = _a.submitSucceeded,\n      submitting = _a.submitting,\n      touch = _a.touch,\n      translate = _a.translate,\n      triggerSubmit = _a.triggerSubmit,\n      undoable = _a.undoable,\n      untouch = _a.untouch,\n      valid = _a.valid,\n      validate = _a.validate,\n      validating = _a.validating,\n      _reduxForm = _a._reduxForm,\n      props = __rest(_a, [\"anyTouched\", \"array\", \"asyncBlurFields\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialize\", \"initialized\", \"initialValues\", \"pristine\", \"pure\", \"redirect\", \"reset\", \"resetSection\", \"save\", \"staticContext\", \"submit\", \"submitAsSideEffect\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"translate\", \"triggerSubmit\", \"undoable\", \"untouch\", \"valid\", \"validate\", \"validating\", \"_reduxForm\"]);\n\n  return props;\n};\n\nexport var findTabsWithErrors = function findTabsWithErrors(children, errors) {\n  return Children.toArray(children).reduce(function (acc, child) {\n    if (!isValidElement(child)) {\n      return acc;\n    }\n\n    var inputs = Children.toArray(child.props.children);\n\n    if (inputs.some(function (input) {\n      return isValidElement(input) && get(errors, input.props.source);\n    })) {\n      return __spreadArrays(acc, [child.props.label]);\n    }\n\n    return acc;\n  }, []);\n};\nexport default TabbedForm;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport MuiTab from '@material-ui/core/Tab';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nimport FormInput from './FormInput';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var contentClassName = _a.contentClassName,\n      label = _a.label,\n      icon = _a.icon,\n      value = _a.value,\n      translate = _a.translate,\n      rest = __rest(_a, [\"contentClassName\", \"label\", \"icon\", \"value\", \"translate\"]);\n\n  return rest;\n};\n\nvar hiddenStyle = {\n  display: 'none'\n};\n\nvar FormTab = function FormTab(_a) {\n  var basePath = _a.basePath,\n      className = _a.className,\n      contentClassName = _a.contentClassName,\n      children = _a.children,\n      hidden = _a.hidden,\n      icon = _a.icon,\n      intent = _a.intent,\n      label = _a.label,\n      margin = _a.margin,\n      record = _a.record,\n      resource = _a.resource,\n      variant = _a.variant,\n      value = _a.value,\n      rest = __rest(_a, [\"basePath\", \"className\", \"contentClassName\", \"children\", \"hidden\", \"icon\", \"intent\", \"label\", \"margin\", \"record\", \"resource\", \"variant\", \"value\"]);\n\n  var translate = useTranslate();\n\n  var renderHeader = function renderHeader() {\n    return React.createElement(MuiTab, __assign({\n      key: label,\n      label: translate(label, {\n        _: label\n      }),\n      value: value,\n      icon: icon,\n      className: classnames('form-tab', className),\n      component: Link,\n      to: {\n        pathname: value\n      }\n    }, sanitizeRestProps(rest)));\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"span\", {\n      style: hidden ? hiddenStyle : null,\n      className: contentClassName\n    }, React.Children.map(children, function (input) {\n      return input && React.createElement(FormInput, {\n        basePath: basePath,\n        input: input,\n        record: record,\n        resource: resource,\n        variant: input.props.variant || variant,\n        margin: input.props.margin || margin\n      });\n    }));\n  };\n\n  return intent === 'header' ? renderHeader() : renderContent();\n};\n\nFormTab.propTypes = {\n  className: PropTypes.string,\n  contentClassName: PropTypes.string,\n  children: PropTypes.node,\n  intent: PropTypes.oneOf(['header', 'content']),\n  hidden: PropTypes.bool,\n  icon: PropTypes.element,\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string,\n  value: PropTypes.string\n};\nFormTab.displayName = 'FormTab';\nexport default FormTab;","import get from 'lodash/get';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nvar defaultFilter = {};\n/**\n * @typedef ReferenceManyProps\n * @type {Object}\n * @property {Object} data: the referenced records dictionary by their ids.\n * @property {Object} ids: the list of referenced records ids.\n * @property {boolean} loaded: boolean indicating if the references has already be loaded loaded\n * @property {string | false} referenceBasePath base path of the related record\n */\n\n/**\n * Fetch reference records, and return them when avaliable\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loaded, referenceRecord, resourceLinkPath } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     basePath: '/comments',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} option\n * @param {string} option.resource The current resource name\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The current resource record\n * @param {string} option.target The target resource key\n * @param {Object} option.filter The filter applied on the recorded records list\n * @param {string} option.source The key of the linked resource identifier\n * @param {string} option.basePath basepath to current resource\n * @param {number} option.page the page number\n * @param {number} option.perPage the number of item per page\n * @param {object} option.sort the sort to apply to the referenced records\n *\n * @returns {ReferenceManyProps} The reference many props\n */\n\nvar useReferenceManyFieldController = function useReferenceManyFieldController(_a) {\n  var resource = _a.resource,\n      reference = _a.reference,\n      record = _a.record,\n      target = _a.target,\n      _b = _a.filter,\n      filter = _b === void 0 ? defaultFilter : _b,\n      source = _a.source,\n      basePath = _a.basePath,\n      page = _a.page,\n      perPage = _a.perPage,\n      _c = _a.sort,\n      sort = _c === void 0 ? {\n    field: 'id',\n    order: 'DESC'\n  } : _c;\n  var referenceId = get(record, source);\n  var notify = useNotify();\n\n  var _d = useGetManyReference(reference, target, referenceId, {\n    page: page,\n    perPage: perPage\n  }, sort, filter, resource, {\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    }\n  }),\n      data = _d.data,\n      ids = _d.ids,\n      total = _d.total,\n      loading = _d.loading,\n      loaded = _d.loaded;\n\n  var referenceBasePath = basePath.replace(resource, reference);\n  return {\n    data: data,\n    ids: ids,\n    loaded: loaded,\n    loading: loading,\n    referenceBasePath: referenceBasePath,\n    total: total\n  };\n};\n\nexport default useReferenceManyFieldController;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Fragment, cloneElement, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSortState, usePaginationState, useReferenceManyFieldController } from 'ra-core';\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n */\n\nexport var ReferenceManyField = function ReferenceManyField(props) {\n  var children = props.children,\n      initialSort = props.sort,\n      initialPerPage = props.perPage,\n      resource = props.resource,\n      reference = props.reference,\n      record = props.record,\n      target = props.target,\n      filter = props.filter,\n      source = props.source,\n      basePath = props.basePath;\n\n  if (React.Children.count(children) !== 1) {\n    throw new Error('<ReferenceManyField> only accepts a single child (like <Datagrid>)');\n  }\n\n  var _a = useSortState(initialSort),\n      sort = _a.sort,\n      setSortField = _a.setSortField;\n\n  var _b = usePaginationState({\n    perPage: initialPerPage\n  }),\n      page = _b.page,\n      perPage = _b.perPage,\n      setPage = _b.setPage,\n      setPerPage = _b.setPerPage;\n\n  var controllerProps = useReferenceManyFieldController({\n    resource: resource,\n    reference: reference,\n    record: record,\n    target: target,\n    filter: filter,\n    source: source,\n    basePath: basePath,\n    page: page,\n    perPage: perPage,\n    sort: sort\n  });\n  return React.createElement(ReferenceManyFieldView, __assign({}, props, __assign({\n    currentSort: sort,\n    page: page,\n    perPage: perPage,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSortField\n  }, controllerProps)));\n};\nReferenceManyField.propTypes = {\n  addLabel: PropTypes.bool,\n  basePath: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  filter: PropTypes.object,\n  label: PropTypes.string,\n  perPage: PropTypes.number,\n  record: PropTypes.object,\n  reference: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  sortBy: PropTypes.string,\n  source: PropTypes.string.isRequired,\n  sort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  target: PropTypes.string.isRequired\n};\nReferenceManyField.defaultProps = {\n  filter: {},\n  perPage: 25,\n  sort: {\n    field: 'id',\n    order: 'DESC'\n  },\n  source: 'id',\n  addLabel: true\n};\nexport var ReferenceManyFieldView = function ReferenceManyFieldView(_a) {\n  var children = _a.children,\n      className = _a.className,\n      currentSort = _a.currentSort,\n      data = _a.data,\n      ids = _a.ids,\n      loaded = _a.loaded,\n      page = _a.page,\n      pagination = _a.pagination,\n      perPage = _a.perPage,\n      reference = _a.reference,\n      referenceBasePath = _a.referenceBasePath,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      setSort = _a.setSort,\n      total = _a.total;\n  return React.createElement(Fragment, null, cloneElement(Children.only(children), {\n    className: className,\n    resource: reference,\n    ids: ids,\n    loaded: loaded,\n    data: data,\n    basePath: referenceBasePath,\n    currentSort: currentSort,\n    setSort: setSort,\n    total: total\n  }), pagination && total !== undefined && cloneElement(pagination, {\n    page: page,\n    perPage: perPage,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    total: total\n  }));\n};\nReferenceManyFieldView.propTypes = {\n  children: PropTypes.element,\n  className: PropTypes.string,\n  currentSort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.object,\n  ids: PropTypes.array,\n  loaded: PropTypes.bool,\n  pagination: PropTypes.element,\n  reference: PropTypes.string,\n  referenceBasePath: PropTypes.string,\n  setSort: PropTypes.func\n};\nexport default ReferenceManyField;","// converted from vendor (node_modules/quill/dist/quill.snow.css) using the jss cli\nexport default {\n  '.ql-container': {\n    boxSizing: 'border-box',\n    fontFamily: 'Helvetica, Arial, sans-serif',\n    fontSize: 13,\n    height: '100%',\n    margin: 0,\n    position: 'relative'\n  },\n  '.ql-container.ql-disabled .ql-tooltip': {\n    visibility: 'hidden'\n  },\n  '.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before': {\n    pointerEvents: 'none'\n  },\n  '.ql-clipboard': {\n    left: -100000,\n    height: 1,\n    overflowY: 'hidden',\n    position: 'absolute',\n    top: '50%'\n  },\n  '.ql-clipboard p': {\n    margin: '0',\n    padding: '0'\n  },\n  '.ql-editor': {\n    boxSizing: 'border-box',\n    lineHeight: '1.42',\n    height: '100%',\n    outline: 'none',\n    overflowY: 'auto',\n    padding: '12px 15px',\n    tabSize: '4',\n    textAlign: 'left',\n    whiteSpace: 'pre-wrap',\n    wordWrap: 'break-word'\n  },\n  '.ql-editor > *': {\n    cursor: 'text'\n  },\n  '.ql-editor p, .ql-editor ol, .ql-editor ul, .ql-editor pre, .ql-editor blockquote, .ql-editor h1, .ql-editor h2, .ql-editor h3, .ql-editor h4, .ql-editor h5, .ql-editor h6': {\n    margin: '0',\n    padding: '0',\n    counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol, .ql-editor ul': {\n    paddingLeft: '1.5em'\n  },\n  '.ql-editor ol > li, .ql-editor ul > li': {\n    listStyleType: 'none'\n  },\n  '.ql-editor ul > li::before': {\n    content: \"'\\\\2022'\"\n  },\n  '.ql-editor ul[data-checked=true], .ql-editor ul[data-checked=false]': {\n    pointerEvents: 'none'\n  },\n  '.ql-editor ul[data-checked=true] > li *, .ql-editor ul[data-checked=false] > li *': {\n    pointerEvents: 'all'\n  },\n  '.ql-editor ul[data-checked=true] > li::before, .ql-editor ul[data-checked=false] > li::before': {\n    color: '#777',\n    cursor: 'pointer',\n    pointerEvents: 'all'\n  },\n  '.ql-editor ul[data-checked=true] > li::before': {\n    content: \"'\\\\2611'\"\n  },\n  '.ql-editor ul[data-checked=false] > li::before': {\n    content: \"'\\\\2610'\"\n  },\n  '.ql-editor li::before': {\n    display: 'inline-block',\n    whiteSpace: 'nowrap',\n    width: '1.2em'\n  },\n  '.ql-editor li:not(.ql-direction-rtl)::before': {\n    marginLeft: '-1.5em',\n    marginRight: '0.3em',\n    textAlign: 'right'\n  },\n  '.ql-editor li.ql-direction-rtl::before': {\n    marginLeft: '0.3em',\n    marginRight: '-1.5em'\n  },\n  '.ql-editor ol li:not(.ql-direction-rtl), .ql-editor ul li:not(.ql-direction-rtl)': {\n    paddingLeft: '1.5em'\n  },\n  '.ql-editor ol li.ql-direction-rtl, .ql-editor ul li.ql-direction-rtl': {\n    paddingRight: '1.5em'\n  },\n  '.ql-editor ol li': {\n    counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    counterIncrement: 'list-0'\n  },\n  '.ql-editor ol li:before': {\n    content: \"counter(list-0, decimal) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-1': {\n    counterIncrement: 'list-1',\n    counterReset: 'list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-1:before': {\n    content: \"counter(list-1, lower-alpha) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-2': {\n    counterIncrement: 'list-2',\n    counterReset: 'list-3 list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-2:before': {\n    content: \"counter(list-2, lower-roman) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-3': {\n    counterIncrement: 'list-3',\n    counterReset: 'list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-3:before': {\n    content: \"counter(list-3, decimal) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-4': {\n    counterIncrement: 'list-4',\n    counterReset: 'list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-4:before': {\n    content: \"counter(list-4, lower-alpha) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-5': {\n    counterIncrement: 'list-5',\n    counterReset: 'list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-5:before': {\n    content: \"counter(list-5, lower-roman) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-6': {\n    counterIncrement: 'list-6',\n    counterReset: 'list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-6:before': {\n    content: \"counter(list-6, decimal) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-7': {\n    counterIncrement: 'list-7',\n    counterReset: 'list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-7:before': {\n    content: \"counter(list-7, lower-alpha) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-8': {\n    counterIncrement: 'list-8',\n    counterReset: 'list-9'\n  },\n  '.ql-editor ol li.ql-indent-8:before': {\n    content: \"counter(list-8, lower-roman) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-9': {\n    counterIncrement: 'list-9'\n  },\n  '.ql-editor ol li.ql-indent-9:before': {\n    content: \"counter(list-9, decimal) '. '\"\n  },\n  '.ql-editor .ql-indent-1:not(.ql-direction-rtl)': {\n    paddingLeft: '3em'\n  },\n  '.ql-editor li.ql-indent-1:not(.ql-direction-rtl)': {\n    paddingLeft: '4.5em'\n  },\n  '.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right': {\n    paddingRight: '3em'\n  },\n  '.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right': {\n    paddingRight: '4.5em'\n  },\n  '.ql-editor .ql-indent-2:not(.ql-direction-rtl)': {\n    paddingLeft: '6em'\n  },\n  '.ql-editor li.ql-indent-2:not(.ql-direction-rtl)': {\n    paddingLeft: '7.5em'\n  },\n  '.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right': {\n    paddingRight: '6em'\n  },\n  '.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right': {\n    paddingRight: '7.5em'\n  },\n  '.ql-editor .ql-indent-3:not(.ql-direction-rtl)': {\n    paddingLeft: '9em'\n  },\n  '.ql-editor li.ql-indent-3:not(.ql-direction-rtl)': {\n    paddingLeft: '10.5em'\n  },\n  '.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right': {\n    paddingRight: '9em'\n  },\n  '.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right': {\n    paddingRight: '10.5em'\n  },\n  '.ql-editor .ql-indent-4:not(.ql-direction-rtl)': {\n    paddingLeft: '12em'\n  },\n  '.ql-editor li.ql-indent-4:not(.ql-direction-rtl)': {\n    paddingLeft: '13.5em'\n  },\n  '.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right': {\n    paddingRight: '12em'\n  },\n  '.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right': {\n    paddingRight: '13.5em'\n  },\n  '.ql-editor .ql-indent-5:not(.ql-direction-rtl)': {\n    paddingLeft: '15em'\n  },\n  '.ql-editor li.ql-indent-5:not(.ql-direction-rtl)': {\n    paddingLeft: '16.5em'\n  },\n  '.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right': {\n    paddingRight: '15em'\n  },\n  '.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right': {\n    paddingRight: '16.5em'\n  },\n  '.ql-editor .ql-indent-6:not(.ql-direction-rtl)': {\n    paddingLeft: '18em'\n  },\n  '.ql-editor li.ql-indent-6:not(.ql-direction-rtl)': {\n    paddingLeft: '19.5em'\n  },\n  '.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right': {\n    paddingRight: '18em'\n  },\n  '.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right': {\n    paddingRight: '19.5em'\n  },\n  '.ql-editor .ql-indent-7:not(.ql-direction-rtl)': {\n    paddingLeft: '21em'\n  },\n  '.ql-editor li.ql-indent-7:not(.ql-direction-rtl)': {\n    paddingLeft: '22.5em'\n  },\n  '.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right': {\n    paddingRight: '21em'\n  },\n  '.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right': {\n    paddingRight: '22.5em'\n  },\n  '.ql-editor .ql-indent-8:not(.ql-direction-rtl)': {\n    paddingLeft: '24em'\n  },\n  '.ql-editor li.ql-indent-8:not(.ql-direction-rtl)': {\n    paddingLeft: '25.5em'\n  },\n  '.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right': {\n    paddingRight: '24em'\n  },\n  '.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right': {\n    paddingRight: '25.5em'\n  },\n  '.ql-editor .ql-indent-9:not(.ql-direction-rtl)': {\n    paddingLeft: '27em'\n  },\n  '.ql-editor li.ql-indent-9:not(.ql-direction-rtl)': {\n    paddingLeft: '28.5em'\n  },\n  '.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right': {\n    paddingRight: '27em'\n  },\n  '.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right': {\n    paddingRight: '28.5em'\n  },\n  '.ql-editor .ql-video': {\n    display: 'block',\n    maxWidth: '100%'\n  },\n  '.ql-editor .ql-video.ql-align-center': {\n    margin: '0 auto'\n  },\n  '.ql-editor .ql-video.ql-align-right': {\n    margin: '0 0 0 auto'\n  },\n  '.ql-editor .ql-bg-black': {\n    backgroundColor: '#000'\n  },\n  '.ql-editor .ql-bg-red': {\n    backgroundColor: '#e60000'\n  },\n  '.ql-editor .ql-bg-orange': {\n    backgroundColor: '#f90'\n  },\n  '.ql-editor .ql-bg-yellow': {\n    backgroundColor: '#ff0'\n  },\n  '.ql-editor .ql-bg-green': {\n    backgroundColor: '#008a00'\n  },\n  '.ql-editor .ql-bg-blue': {\n    backgroundColor: '#06c'\n  },\n  '.ql-editor .ql-bg-purple': {\n    backgroundColor: '#93f'\n  },\n  '.ql-editor .ql-color-white': {\n    color: '#fff'\n  },\n  '.ql-editor .ql-color-red': {\n    color: '#e60000'\n  },\n  '.ql-editor .ql-color-orange': {\n    color: '#f90'\n  },\n  '.ql-editor .ql-color-yellow': {\n    color: '#ff0'\n  },\n  '.ql-editor .ql-color-green': {\n    color: '#008a00'\n  },\n  '.ql-editor .ql-color-blue': {\n    color: '#06c'\n  },\n  '.ql-editor .ql-color-purple': {\n    color: '#93f'\n  },\n  '.ql-editor .ql-font-serif': {\n    fontFamily: 'Georgia, Times New Roman, serif'\n  },\n  '.ql-editor .ql-font-monospace': {\n    fontFamily: 'Monaco, Courier New, monospace'\n  },\n  '.ql-editor .ql-size-small': {\n    fontSize: '0.75em'\n  },\n  '.ql-editor .ql-size-large': {\n    fontSize: '1.5em'\n  },\n  '.ql-editor .ql-size-huge': {\n    fontSize: '2.5em'\n  },\n  '.ql-editor .ql-direction-rtl': {\n    direction: 'rtl',\n    textAlign: 'inherit'\n  },\n  '.ql-editor .ql-align-center': {\n    textAlign: 'center'\n  },\n  '.ql-editor .ql-align-justify': {\n    textAlign: 'justify'\n  },\n  '.ql-editor .ql-align-right': {\n    textAlign: 'right'\n  },\n  '.ql-editor.ql-blank::before': {\n    color: 'rgba(0,0,0,0.6)',\n    content: 'attr(data-placeholder)',\n    fontStyle: 'italic',\n    left: 15,\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: 15\n  },\n  '.ql-snow.ql-toolbar:after, .ql-snow .ql-toolbar:after': {\n    clear: 'both',\n    content: \"''\",\n    display: 'table'\n  },\n  '.ql-snow.ql-toolbar button, .ql-snow .ql-toolbar button': {\n    background: 'none',\n    border: 'none',\n    cursor: 'pointer',\n    display: 'inline-block',\n    float: 'left',\n    height: 24,\n    padding: '3px 5px',\n    width: 28\n  },\n  '.ql-snow.ql-toolbar button svg, .ql-snow .ql-toolbar button svg': {\n    float: 'left',\n    height: '100%'\n  },\n  '.ql-snow.ql-toolbar button:active:hover, .ql-snow .ql-toolbar button:active:hover': {\n    outline: 'none'\n  },\n  '.ql-snow.ql-toolbar input.ql-image[type=file], .ql-snow .ql-toolbar input.ql-image[type=file]': {\n    display: 'none'\n  },\n  '.ql-snow.ql-toolbar button:hover, .ql-snow .ql-toolbar button:hover, .ql-snow.ql-toolbar button:focus, .ql-snow .ql-toolbar button:focus, .ql-snow.ql-toolbar button.ql-active, .ql-snow .ql-toolbar button.ql-active, .ql-snow.ql-toolbar .ql-picker-label:hover, .ql-snow .ql-toolbar .ql-picker-label:hover, .ql-snow.ql-toolbar .ql-picker-label.ql-active, .ql-snow .ql-toolbar .ql-picker-label.ql-active, .ql-snow.ql-toolbar .ql-picker-item:hover, .ql-snow .ql-toolbar .ql-picker-item:hover, .ql-snow.ql-toolbar .ql-picker-item.ql-selected, .ql-snow .ql-toolbar .ql-picker-item.ql-selected': {\n    color: '#06c'\n  },\n  '.ql-snow.ql-toolbar button:hover .ql-fill, .ql-snow .ql-toolbar button:hover .ql-fill, .ql-snow.ql-toolbar button:focus .ql-fill, .ql-snow .ql-toolbar button:focus .ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill': {\n    fill: '#06c'\n  },\n  '.ql-snow.ql-toolbar button:hover .ql-stroke, .ql-snow .ql-toolbar button:hover .ql-stroke, .ql-snow.ql-toolbar button:focus .ql-stroke, .ql-snow .ql-toolbar button:focus .ql-stroke, .ql-snow.ql-toolbar button.ql-active .ql-stroke, .ql-snow .ql-toolbar button.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow.ql-toolbar button:hover .ql-stroke-miter, .ql-snow .ql-toolbar button:hover .ql-stroke-miter, .ql-snow.ql-toolbar button:focus .ql-stroke-miter, .ql-snow .ql-toolbar button:focus .ql-stroke-miter, .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter': {\n    stroke: '#06c'\n  },\n  '@media (pointer: coarse)': {\n    '.ql-snow.ql-toolbar button:hover:not(.ql-active), .ql-snow .ql-toolbar button:hover:not(.ql-active)': {\n      color: '#444'\n    },\n    '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill': {\n      fill: '#444'\n    },\n    '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter': {\n      stroke: '#444'\n    }\n  },\n  '.ql-snow': {\n    boxSizing: 'border-box'\n  },\n  '.ql-snow *': {\n    boxSizing: 'border-box'\n  },\n  '.ql-snow .ql-hidden': {\n    display: 'none'\n  },\n  '.ql-snow .ql-out-bottom, .ql-snow .ql-out-top': {\n    visibility: 'hidden'\n  },\n  '.ql-snow .ql-tooltip': {\n    position: 'absolute',\n    transform: 'translateY(10px)',\n    backgroundColor: '#fff',\n    border: '1px solid #ccc',\n    boxShadow: '0px 0px 5px #ddd',\n    color: '#444',\n    padding: '5px 12px',\n    whiteSpace: 'nowrap',\n    zIndex: 1\n  },\n  '.ql-snow .ql-tooltip a': {\n    cursor: 'pointer',\n    textDecoration: 'none',\n    lineHeight: '26px'\n  },\n  '.ql-snow .ql-tooltip.ql-flip': {\n    transform: 'translateY(-10px)'\n  },\n  '.ql-snow .ql-formats': {\n    display: 'inline-block',\n    verticalAlign: 'middle'\n  },\n  '.ql-snow .ql-formats:after': {\n    clear: 'both',\n    content: \"''\",\n    display: 'table'\n  },\n  '.ql-snow .ql-stroke': {\n    fill: 'none',\n    stroke: '#444',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n    strokeWidth: '2'\n  },\n  '.ql-snow .ql-stroke-miter': {\n    fill: 'none',\n    stroke: '#444',\n    strokeMiterlimit: '10',\n    strokeWidth: '2'\n  },\n  '.ql-snow .ql-fill, .ql-snow .ql-stroke.ql-fill': {\n    fill: '#444'\n  },\n  '.ql-snow .ql-empty': {\n    fill: 'none'\n  },\n  '.ql-snow .ql-even': {\n    fillRule: 'evenodd'\n  },\n  '.ql-snow .ql-thin, .ql-snow .ql-stroke.ql-thin': {\n    strokeWidth: '1'\n  },\n  '.ql-snow .ql-transparent': {\n    opacity: '0.4'\n  },\n  '.ql-snow .ql-direction svg:last-child': {\n    display: 'none'\n  },\n  '.ql-snow .ql-direction.ql-active svg:last-child': {\n    display: 'inline'\n  },\n  '.ql-snow .ql-direction.ql-active svg:first-child': {\n    display: 'none'\n  },\n  '.ql-snow .ql-editor h1': {\n    fontSize: '2em'\n  },\n  '.ql-snow .ql-editor h2': {\n    fontSize: '1.5em'\n  },\n  '.ql-snow .ql-editor h3': {\n    fontSize: '1.17em'\n  },\n  '.ql-snow .ql-editor h4': {\n    fontSize: '1em'\n  },\n  '.ql-snow .ql-editor h5': {\n    fontSize: '0.83em'\n  },\n  '.ql-snow .ql-editor h6': {\n    fontSize: '0.67em'\n  },\n  '.ql-snow .ql-editor a': {\n    textDecoration: 'underline'\n  },\n  '.ql-snow .ql-editor blockquote': {\n    borderLeft: '4px solid #ccc',\n    marginBottom: 5,\n    marginTop: 5,\n    paddingLeft: 16\n  },\n  '.ql-snow .ql-editor code, .ql-snow .ql-editor pre': {\n    backgroundColor: '#f0f0f0',\n    borderRadius: 3\n  },\n  '.ql-snow .ql-editor pre': {\n    whiteSpace: 'pre-wrap',\n    marginBottom: 5,\n    marginTop: 5,\n    padding: '5px 10px'\n  },\n  '.ql-snow .ql-editor code': {\n    fontSize: '85%',\n    padding: '2px 4px'\n  },\n  '.ql-snow .ql-editor pre.ql-syntax': {\n    backgroundColor: '#23241f',\n    color: '#f8f8f2',\n    overflow: 'visible'\n  },\n  '.ql-snow .ql-editor img': {\n    maxWidth: '100%'\n  },\n  '.ql-snow .ql-picker': {\n    color: '#444',\n    display: 'inline-block',\n    float: 'left',\n    fontSize: 14,\n    fontWeight: '500',\n    height: 24,\n    position: 'relative',\n    verticalAlign: 'middle'\n  },\n  '.ql-snow .ql-picker-label': {\n    cursor: 'pointer',\n    display: 'inline-block',\n    height: '100%',\n    paddingLeft: 8,\n    paddingRight: 2,\n    position: 'relative',\n    width: '100%'\n  },\n  '.ql-snow .ql-picker-label::before': {\n    display: 'inline-block',\n    lineHeight: '22px'\n  },\n  '.ql-snow .ql-picker-options': {\n    backgroundColor: '#fff',\n    display: 'none',\n    minWidth: '100%',\n    padding: '4px 8px',\n    position: 'absolute',\n    whiteSpace: 'nowrap'\n  },\n  '.ql-snow .ql-picker-options .ql-picker-item': {\n    cursor: 'pointer',\n    display: 'block',\n    paddingBottom: 5,\n    paddingTop: 5\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n    color: '#ccc',\n    zIndex: '2'\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill': {\n    fill: '#ccc'\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke': {\n    stroke: '#ccc'\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n    display: 'block',\n    marginTop: -1,\n    top: '100%',\n    zIndex: '1'\n  },\n  '.ql-snow .ql-color-picker, .ql-snow .ql-icon-picker': {\n    width: 28\n  },\n  '.ql-snow .ql-color-picker .ql-picker-label, .ql-snow .ql-icon-picker .ql-picker-label': {\n    padding: '2px 4px'\n  },\n  '.ql-snow .ql-color-picker .ql-picker-label svg, .ql-snow .ql-icon-picker .ql-picker-label svg': {\n    right: 4\n  },\n  '.ql-snow .ql-icon-picker .ql-picker-options': {\n    padding: '4px 0px'\n  },\n  '.ql-snow .ql-icon-picker .ql-picker-item': {\n    height: 24,\n    width: 24,\n    padding: '2px 4px'\n  },\n  '.ql-snow .ql-color-picker .ql-picker-options': {\n    padding: '3px 5px',\n    width: 152\n  },\n  '.ql-snow .ql-color-picker .ql-picker-item': {\n    border: '1px solid transparent',\n    float: 'left',\n    height: 16,\n    margin: 2,\n    padding: 0,\n    width: 16\n  },\n  '.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg': {\n    position: 'absolute',\n    marginTop: -9,\n    right: '0',\n    top: '50%',\n    width: 18\n  },\n  \".ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before\": {\n    content: 'attr(data-label)'\n  },\n  '.ql-snow .ql-picker.ql-header': {\n    width: 98\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label::before, .ql-snow .ql-picker.ql-header .ql-picker-item::before': {\n    content: \"'Normal'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n    content: \"'Heading 1'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n    content: \"'Heading 2'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n    content: \"'Heading 3'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n    content: \"'Heading 4'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n    content: \"'Heading 5'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n    content: \"'Heading 6'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n    fontSize: '2em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n    fontSize: '1.5em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n    fontSize: '1.17em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n    fontSize: '1em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n    fontSize: '0.83em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n    fontSize: '0.67em'\n  },\n  '.ql-snow .ql-picker.ql-font': {\n    width: 108\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-label::before, .ql-snow .ql-picker.ql-font .ql-picker-item::before': {\n    content: \"'Sans Serif'\"\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n    content: \"'Serif'\"\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n    content: \"'Monospace'\"\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n    fontFamily: 'Georgia, Times New Roman, serif'\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n    fontFamily: 'Monaco, Courier New, monospace'\n  },\n  '.ql-snow .ql-picker.ql-size': {\n    width: 98\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label::before, .ql-snow .ql-picker.ql-size .ql-picker-item::before': {\n    content: \"'Normal'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n    content: \"'Small'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n    content: \"'Large'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n    content: \"'Huge'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n    fontSize: 10\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n    fontSize: 18\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n    fontSize: 32\n  },\n  '.ql-snow .ql-color-picker.ql-background .ql-picker-item': {\n    backgroundColor: '#fff'\n  },\n  '.ql-snow .ql-color-picker.ql-color .ql-picker-item': {\n    backgroundColor: '#000'\n  },\n  '.ql-toolbar.ql-snow': {\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n    padding: 8\n  },\n  '.ql-toolbar.ql-snow .ql-formats': {\n    marginRight: 15\n  },\n  '.ql-toolbar.ql-snow .ql-picker-label': {\n    border: '1px solid transparent'\n  },\n  '.ql-toolbar.ql-snow .ql-picker-options': {\n    border: '1px solid transparent',\n    boxShadow: 'rgba(0,0,0,0.2) 0 2px 8px'\n  },\n  '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n    borderColor: '#ccc'\n  },\n  '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n    borderColor: '#ccc'\n  },\n  '.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected, .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover': {\n    borderColor: '#000'\n  },\n  '.ql-toolbar.ql-snow + .ql-container.ql-snow': {\n    borderTop: 0\n  },\n  '.ql-snow .ql-tooltip::before': {\n    content: '\"Visit URL:\"',\n    lineHeight: '26px',\n    marginRight: 8\n  },\n  '.ql-snow .ql-tooltip input[type=text]': {\n    display: 'none',\n    border: '1px solid #ccc',\n    fontSize: 13,\n    height: 26,\n    margin: 0,\n    padding: '3px 5px',\n    width: 170\n  },\n  '.ql-snow .ql-tooltip a.ql-preview': {\n    display: 'inline-block',\n    maxWidth: 200,\n    overflowX: 'hidden',\n    textOverflow: 'ellipsis',\n    verticalAlign: 'top'\n  },\n  '.ql-snow .ql-tooltip a.ql-action::after': {\n    borderRight: '1px solid #ccc',\n    content: \"'Edit'\",\n    marginLeft: 16,\n    paddingRight: 8\n  },\n  '.ql-snow .ql-tooltip a.ql-remove::before': {\n    content: \"'Remove'\",\n    marginLeft: 8\n  },\n  '.ql-snow .ql-tooltip.ql-editing a.ql-preview, .ql-snow .ql-tooltip.ql-editing a.ql-remove': {\n    display: 'none'\n  },\n  '.ql-snow .ql-tooltip.ql-editing input[type=text]': {\n    display: 'inline-block'\n  },\n  '.ql-snow .ql-tooltip.ql-editing a.ql-action::after': {\n    borderRight: 0,\n    content: \"'Save'\",\n    paddingRight: 0\n  },\n  '.ql-snow .ql-tooltip[data-mode=link]::before': {\n    content: '\"Enter link:\"'\n  },\n  '.ql-snow .ql-tooltip[data-mode=formula]::before': {\n    content: '\"Enter formula:\"'\n  },\n  '.ql-snow .ql-tooltip[data-mode=video]::before': {\n    content: '\"Enter video:\"'\n  },\n  '.ql-snow a': {\n    color: '#06c'\n  },\n  '.ql-container.ql-snow': {\n    border: '1px solid #ccc'\n  }\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport debounce from 'lodash/debounce';\nimport React, { useRef, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Quill from 'quill';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { InputHelperText } from 'ra-ui-materialui';\nimport { FormHelperText, FormControl, InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport styles from './styles';\nvar useStyles = makeStyles(styles, {\n  name: 'RaRichTextInput'\n});\n\nvar RichTextInput = function RichTextInput(_a) {\n  var _b = _a.options,\n      options = _b === void 0 ? {} : _b,\n      // Quill editor options\n  _c = _a.record,\n      // Quill editor options\n  record = _c === void 0 ? {} : _c,\n      _d = _a.toolbar,\n      toolbar = _d === void 0 ? true : _d,\n      _e = _a.fullWidth,\n      fullWidth = _e === void 0 ? true : _e,\n      configureQuill = _a.configureQuill,\n      _f = _a.helperText,\n      helperText = _f === void 0 ? false : _f,\n      label = _a.label,\n      source = _a.source,\n      resource = _a.resource,\n      variant = _a.variant,\n      _g = _a.margin,\n      margin = _g === void 0 ? 'dense' : _g,\n      rest = __rest(_a, [\"options\", \"record\", \"toolbar\", \"fullWidth\", \"configureQuill\", \"helperText\", \"label\", \"source\", \"resource\", \"variant\", \"margin\"]);\n\n  var classes = useStyles();\n  var quillInstance = useRef();\n  var divRef = useRef();\n  var editor = useRef();\n\n  var _h = useInput(__assign({\n    source: source\n  }, rest)),\n      id = _h.id,\n      isRequired = _h.isRequired,\n      _j = _h.input,\n      value = _j.value,\n      onChange = _j.onChange,\n      _k = _h.meta,\n      touched = _k.touched,\n      error = _k.error;\n\n  var lastValueChange = useRef(value);\n  var onTextChange = useCallback(debounce(function () {\n    var value = editor.current.innerHTML === '<p><br></p>' ? '' : editor.current.innerHTML;\n    lastValueChange.current = value;\n    onChange(value);\n  }, 500), []);\n  useEffect(function () {\n    quillInstance.current = new Quill(divRef.current, __assign({\n      modules: {\n        toolbar: toolbar,\n        clipboard: {\n          matchVisual: false\n        }\n      },\n      theme: 'snow'\n    }, options));\n\n    if (configureQuill) {\n      configureQuill(quillInstance.current);\n    }\n\n    quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n    editor.current = divRef.current.querySelector('.ql-editor');\n    quillInstance.current.on('text-change', onTextChange);\n    return function () {\n      quillInstance.current.off('text-change', onTextChange);\n      onTextChange.cancel();\n      quillInstance.current = null;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    if (lastValueChange.current !== value) {\n      var selection = quillInstance.current.getSelection();\n      quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n\n      if (selection && quillInstance.current.hasFocus()) {\n        quillInstance.current.setSelection(selection);\n      }\n    }\n  }, [value]);\n  return React.createElement(FormControl, {\n    error: !!(touched && error),\n    fullWidth: fullWidth,\n    className: \"ra-rich-text-input\",\n    margin: margin\n  }, label !== '' && label !== false && React.createElement(InputLabel, {\n    shrink: true,\n    htmlFor: id,\n    className: classes.label\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource,\n    isRequired: isRequired\n  })), React.createElement(\"div\", {\n    \"data-testid\": \"quill\",\n    ref: divRef,\n    className: variant\n  }), helperText || touched && error ? React.createElement(FormHelperText, {\n    error: !!error,\n    className: !!error ? 'ra-rich-text-input-error' : ''\n  }, React.createElement(InputHelperText, {\n    error: error,\n    helperText: helperText,\n    touched: touched\n  })) : null);\n};\n\nRichTextInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  source: PropTypes.string,\n  toolbar: PropTypes.oneOfType([PropTypes.array, PropTypes.bool, PropTypes.shape({\n    container: PropTypes.array,\n    handlers: PropTypes.object\n  })]),\n  fullWidth: PropTypes.bool,\n  configureQuill: PropTypes.func\n};\nexport default RichTextInput;","import QuillSnowStylesheet from './QuillSnowStylesheet';\nexport default (function (theme) {\n  return {\n    label: {\n      position: 'relative'\n    },\n    '@global': Object.assign({}, QuillSnowStylesheet, {\n      '.ra-rich-text-input': {\n        '& .ql-editor': {\n          fontSize: '1rem',\n          fontFamily: 'Roboto, sans-serif',\n          padding: '6px 12px',\n          backgroundColor: 'rgba(0, 0, 0, 0.04)',\n          '&:hover::before': {\n            backgroundColor: 'rgba(0, 0, 0, 1)',\n            height: 2\n          },\n          '&::before': {\n            left: 0,\n            right: 0,\n            bottom: 0,\n            height: 1,\n            content: '\"\"',\n            position: 'absolute',\n            transition: 'background-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n            backgroundColor: 'rgba(0, 0, 0, 0.42)'\n          },\n          '&::after': {\n            left: 0,\n            right: 0,\n            bottom: 0,\n            height: 2,\n            content: '\"\"',\n            position: 'absolute',\n            transform: 'scaleX(0)',\n            transition: 'transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms',\n            backgroundColor: theme.palette.primary.main\n          },\n          '& p:not(:last-child)': {\n            marginBottom: '1rem'\n          },\n          '& strong': {\n            fontWeight: 700\n          },\n          '& h1': {\n            margin: '1rem 0 0.5rem 0',\n            fontWeight: 500\n          },\n          '& h2': {\n            margin: '1rem 0 0.5rem 0',\n            fontWeight: 500\n          },\n          '& h3': {\n            margin: '1rem 0 0.5rem 0',\n            fontWeight: 500\n          },\n          '& a': {\n            color: '#304ffe'\n          },\n          '& ul': {\n            marginBottom: '1rem'\n          },\n          '& li:not(.ql-direction-rtl)::before': {\n            fontSize: '0.5rem',\n            position: 'relative',\n            top: '-0.2rem',\n            marginRight: '0.5rem'\n          },\n          '&:focus::after': {\n            transform: 'scaleX(1)'\n          }\n        },\n        '& .standard .ql-editor': {\n          backgroundColor: 'white'\n        },\n        '& .outlined .ql-editor': {\n          backgroundColor: 'white'\n        },\n        '& .ql-toolbar.ql-snow': {\n          margin: '0.5rem 0',\n          border: 0,\n          padding: 0,\n          '& .ql-picker-item.ql-active': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-item:hover': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-item.ql-selected': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-label.ql-active': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-label.ql-selected': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-label:hover': {\n            color: '#304ffe'\n          },\n          '& button:hover .ql-fill': {\n            fill: '#304ffe'\n          },\n          '& button.ql-active .ql-fill': {\n            fill: '#304ffe'\n          },\n          '& button:hover .ql-stroke': {\n            stroke: '#304ffe'\n          },\n          '& button.ql-active .ql-stroke': {\n            stroke: '#304ffe'\n          },\n          '& .ql-picker-label:hover .ql-stroke': {\n            stroke: '#304ffe'\n          },\n          '& .ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n            background: '#fff',\n            zIndex: 10\n          },\n          '& .ql-picker-label': {\n            paddingLeft: 0\n          },\n          '& + .ql-container.ql-snow': {\n            border: 0\n          }\n        }\n      }\n    })\n  };\n});","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster = ({ record }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import React from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\n\nconst ProductTitle = ({ record }) => <span>Poster #{record.reference}</span>;\n\nconst styles = {\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductEdit = props => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <Poster />\n                    <TextInput source=\"image\" fullWidth />\n                    <TextInput source=\"thumbnail\" fullWidth />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { FieldProps, Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    sort: 'id',\n                    order: 'DESC',\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import React from 'react';\nimport { Datagrid, EditButton, List, TextField } from 'react-admin';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\n\nconst CategoryList = (props: any) => (\n    <List {...props} sort={{ field: 'name', order: 'ASC' }}>\n        <Datagrid>\n            <TextField source=\"name\" />\n            <LinkToRelatedProducts />\n            <EditButton />\n        </Datagrid>\n    </List>\n);\n\nexport default CategoryList;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps, Product } from '../types';\n\nconst ProductRefField: FC<FieldProps<Product>> = ({ record }) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import React, { FC } from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditButton,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { FieldProps, Category } from '../types';\n\nconst CategoryTitle: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit = (props: any) => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={5}\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import React, { FC, Fragment, ReactElement } from 'react';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Collapse from '@material-ui/core/Collapse';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        paddingLeft: 25,\n        transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n    },\n    sidebarIsClosed: {\n        paddingLeft: 0,\n        transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n    sidebarIsOpen: boolean;\n}\n\nconst SubMenu: FC<Props> = ({\n    handleToggle,\n    sidebarIsOpen,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n                <Divider />\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import React, { FC, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { useTranslate, DashboardMenuItem, MenuItemLink } from 'react-admin';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\ninterface Props {\n    dense: boolean;\n    logout: () => void;\n    onMenuClick: () => void;\n}\n\nconst Menu: FC<Props> = ({ onMenuClick, dense, logout }) => {\n    const [state, setState] = useState({\n        menuCatalog: false,\n        menuSales: false,\n        menuCustomers: false,\n    });\n    const translate = useTranslate();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const open = useSelector((state: AppState) => state.admin.ui.sidebarOpen);\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n    const handleToggle = (menu: MenuName) => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div>\n            {' '}\n            <DashboardMenuItem onClick={onMenuClick} sidebarIsOpen={open} />\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                sidebarIsOpen={open}\n                name=\"pos.menu.sales\"\n                icon={<orders.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/commands`}\n                    primaryText={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<orders.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/invoices`}\n                    primaryText={translate(`resources.invoices.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<invoices.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                sidebarIsOpen={open}\n                name=\"pos.menu.catalog\"\n                icon={<products.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/products`}\n                    primaryText={translate(`resources.products.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<products.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/categories`}\n                    primaryText={translate(`resources.categories.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<categories.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCustomers')}\n                isOpen={state.menuCustomers}\n                sidebarIsOpen={open}\n                name=\"pos.menu.customers\"\n                icon={<visitors.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/customers`}\n                    primaryText={translate(`resources.customers.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<visitors.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/segments`}\n                    primaryText={translate(`resources.segments.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<LabelIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to={`/reviews`}\n                primaryText={translate(`resources.reviews.name`, {\n                    smart_count: 2,\n                })}\n                leftIcon={<reviews.icon />}\n                onClick={onMenuClick}\n                sidebarIsOpen={open}\n                dense={dense}\n            />\n            {isXSmall && (\n                <MenuItemLink\n                    to=\"/configuration\"\n                    primaryText={translate('pos.configuration')}\n                    leftIcon={<SettingsIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            )}\n            {isXSmall && logout}\n        </div>\n    );\n};\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        type: 'dark', // Switching the dark mode on is a single property value change.\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n    },\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, Sidebar } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nconst CustomSidebar = (props: any) => <Sidebar {...props} size={200} />;\n\nexport default (props: any) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            sidebar={CustomSidebar}\n            menu={Menu}\n            theme={theme}\n        />\n    );\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification } from 'react-admin';\nimport { useTranslate, useLogin, useNotify } from 'ra-core';\nimport { lightTheme } from './themes';\nimport { Location } from 'history';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = ({ location }: { location: Location }) => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles({\n    media: {\n        height: '18em',\n    },\n});\n\nconst mediaUrl = `https://marmelab.com/posters/beard-${parseInt(\n    Math.random() * 10,\n    10\n) + 1}.jpeg`;\n\nconst Welcome = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card>\n            <CardMedia image={mediaUrl} className={classes.media} />\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {translate('pos.dashboard.welcome.title')}\n                </Typography>\n                <Typography component=\"p\">\n                    {translate('pos.dashboard.welcome.subtitle')}\n                </Typography>\n            </CardContent>\n            <CardActions style={{ justifyContent: 'flex-end' }}>\n                <Button href=\"https://marmelab.com/react-admin\">\n                    <HomeIcon style={{ paddingRight: '0.5em' }} />\n                    {translate('pos.dashboard.welcome.aor_button')}\n                </Button>\n                <Button href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\">\n                    <CodeIcon style={{ paddingRight: '0.5em' }} />\n                    {translate('pos.dashboard.welcome.demo_button')}\n                </Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    card: {\n        float: 'left',\n        margin: '-20px 20px 0 15px',\n        zIndex: 100,\n        borderRadius: 3,\n    },\n    icon: {\n        float: 'right',\n        width: 54,\n        height: 54,\n        padding: 14,\n        color: '#fff',\n    },\n});\n\nconst CardIcon = ({ Icon, bgColor }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.card} style={{ backgroundColor: bgColor }}>\n            <Icon className={classes.icon} />\n        </Card>\n    );\n};\n\nexport default CardIcon;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginRight: '1em',\n        marginTop: 20,\n    },\n    card: {\n        overflow: 'inherit',\n        textAlign: 'right',\n        padding: 16,\n        minHeight: 52,\n    },\n});\n\nconst MonthlyRevenue = ({ value }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={DollarIcon} bgColor=\"#31708f\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.monthly_revenue')}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {value}\n                </Typography>\n            </Card>\n        </div>\n    );\n};\n\nexport default MonthlyRevenue;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginLeft: '1em',\n        marginTop: 20,\n    },\n    card: {\n        overflow: 'inherit',\n        textAlign: 'right',\n        padding: 16,\n        minHeight: 52,\n    },\n});\n\nconst NbNewOrders = ({ value }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={ShoppingCartIcon} bgColor=\"#ff9800\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.new_orders')}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {value}\n                </Typography>\n            </Card>\n        </div>\n    );\n};\n\nexport default NbNewOrders;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nimport StarRatingField from '../reviews/StarRatingField';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        flex: '1',\n        marginRight: '1em',\n        marginTop: 20,\n    },\n    titleLink: { textDecoration: 'none', color: 'inherit' },\n    card: {\n        padding: '16px 0',\n        overflow: 'inherit',\n        textAlign: 'right',\n    },\n    title: {\n        padding: '0 16px',\n    },\n    value: {\n        padding: '0 16px',\n        minHeight: 48,\n    },\n    avatar: {\n        background: theme.palette.background.avatar,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst location = {\n    pathname: 'reviews',\n    query: { filter: JSON.stringify({ status: 'pending' }) },\n};\n\nconst PendingReviews = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={CommentIcon} bgColor=\"#f44336\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.pending_reviews')}\n                </Typography>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    className={classes.value}\n                >\n                    <Link to={location} className={classes.titleLink}>\n                        {nb}\n                    </Link>\n                </Typography>\n                <Divider />\n                <List>\n                    {reviews.map(record => (\n                        <ListItem\n                            key={record.id}\n                            button\n                            component={Link}\n                            to={`/reviews/${record.id}`}\n                            alignItems=\"flex-start\"\n                        >\n                            <ListItemAvatar>\n                                {customers[record.customer_id] ? (\n                                    <Avatar\n                                        src={`${\n                                            customers[record.customer_id].avatar\n                                        }?size=32x32`}\n                                        className={classes.avatar}\n                                    />\n                                ) : (\n                                    <Avatar />\n                                )}\n                            </ListItemAvatar>\n\n                            <ListItemText\n                                primary={<StarRatingField record={record} />}\n                                secondary={record.comment}\n                                className={classes.listItemText}\n                                style={{ paddingRight: 0 }}\n                            />\n                        </ListItem>\n                    ))}\n                </List>\n            </Card>\n        </div>\n    );\n};\n\nexport default PendingReviews;\n","import React, { useMemo } from 'react';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginLeft: '1em',\n        marginTop: 20,\n    },\n    card: {\n        padding: '16px 0',\n        overflow: 'inherit',\n        textAlign: 'right',\n    },\n    title: {\n        padding: '0 16px',\n    },\n    value: {\n        padding: '0 16px',\n        minHeight: 48,\n    },\n});\n\nconst NewCustomers = () => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce(nb => ++nb, 0) : 0;\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={CustomerIcon} bgColor=\"#4caf50\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.new_customers')}\n                </Typography>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    className={classes.value}\n                >\n                    {nb}\n                </Typography>\n                <Divider />\n                <List>\n                    {visitors\n                        ? visitors.map(record => (\n                              <ListItem\n                                  button\n                                  to={`/customers/${record.id}`}\n                                  component={Link}\n                                  key={record.id}\n                              >\n                                  <ListItemAvatar>\n                                      <Avatar\n                                          src={`${record.avatar}?size=32x32`}\n                                      />\n                                  </ListItemAvatar>\n                                  <ListItemText\n                                      primary={`${record.first_name} ${\n                                          record.last_name\n                                      }`}\n                                  />\n                              </ListItem>\n                          ))\n                        : null}\n                </List>\n            </Card>\n        </div>\n    );\n};\n\nexport default NewCustomers;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '1em' },\n    rightCol: { flex: 1, marginLeft: '1em' },\n    singleCol: { marginTop: '2em', marginBottom: '2em' },\n};\n\nconst Dashboard = () => {\n    const [state, setState] = useState({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList('commands', {\n            filter: { date_gte: aMonthAgo.toISOString() },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 50 },\n        });\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: aggregations.pendingOrders.map(order => order.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce((prev, customer) => {\n                prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                return prev;\n            }, {}),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList('reviews', {\n            filter: { status: 'pending' },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        });\n        const nbPendingReviews = reviews.reduce(nb => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: pendingReviews.map(review => review.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce((prev, customer) => {\n                prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                return prev;\n            }, {}),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn}>\n                <div style={{ marginBottom: '2em' }}>\n                    <Welcome />\n                </div>\n                <div style={styles.flex}>\n                    <MonthlyRevenue value={revenue} />\n                    <NbNewOrders value={nbNewOrders} />\n                </div>\n                <div style={styles.singleCol}>\n                    <PendingOrders\n                        orders={pendingOrders}\n                        customers={pendingOrdersCustomers}\n                    />\n                </div>\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <div style={styles.flex}>\n            <div style={styles.leftCol}>\n                <div style={styles.flex}>\n                    <MonthlyRevenue value={revenue} />\n                    <NbNewOrders value={nbNewOrders} />\n                </div>\n                <div style={styles.singleCol}>\n                    <Welcome />\n                </div>\n                <div style={styles.singleCol}>\n                    <PendingOrders\n                        orders={pendingOrders}\n                        customers={pendingOrdersCustomers}\n                    />\n                </div>\n            </div>\n            <div style={styles.rightCol}>\n                <div style={styles.flex}>\n                    <PendingReviews\n                        nb={nbPendingReviews}\n                        reviews={pendingReviews}\n                        customers={pendingReviewsCustomers}\n                    />\n                    <NewCustomers />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import { useContext } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Get the current locale from the TranslationContext\n *\n * This hook rerenders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n */\n\nvar useLocale = function useLocale() {\n  var locale = useContext(TranslationContext).locale;\n  return locale;\n};\n\nexport default useLocale;","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\nimport { useUpdateLoading } from '../loading';\nimport { useNotify } from '../sideEffect';\n/**\n * Set the current locale using the TranslationContext\n *\n * This hook rerenders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n */\n\nvar useSetLocale = function useSetLocale() {\n  var _a = useContext(TranslationContext),\n      setLocale = _a.setLocale,\n      i18nProvider = _a.i18nProvider;\n\n  var _b = useUpdateLoading(),\n      startLoading = _b.startLoading,\n      stopLoading = _b.stopLoading;\n\n  var notify = useNotify();\n  return useCallback(function (newLocale) {\n    return new Promise(function (resolve) {\n      startLoading(); // so we systematically return a Promise for the messages\n      // i18nProvider may return a Promise for language changes,\n\n      resolve(i18nProvider.changeLocale(newLocale));\n    }).then(function () {\n      stopLoading();\n      setLocale(newLocale);\n    }).catch(function (error) {\n      stopLoading();\n      notify('ra.notification.i18n_error', 'warning');\n      console.error(error);\n    });\n  }, [i18nProvider, notify, setLocale, startLoading, stopLoading]);\n};\n\nexport default useSetLocale;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchStart, fetchEnd } from '../actions/fetchActions';\n/**\n * Update the loading count, which starts or stops the loading indicator.\n *\n * To be used to show the loading indicator when you don't use the dataProvider.\n *\n * @return {Object} startLoading and stopLoading callbacks\n *\n * @example\n * import { useUpdateLoading } from 'react-admin'\n *\n * const MyComponent = () => {\n *      const { startLoading, stopLoading } = useUpdateLoading();\n *      useEffect(() => {\n *          startLoading();\n *          fetch('http://my.domain.api/foo')\n *              .finally(() => stopLoading());\n *      }, []);\n *      return <span>Foo</span>;\n * }\n */\n\nexport default (function () {\n  var dispatch = useDispatch();\n  var startLoading = useCallback(function () {\n    dispatch(fetchStart());\n  }, [dispatch]);\n  var stopLoading = useCallback(function () {\n    dispatch(fetchEnd());\n  }, [dispatch]);\n  return {\n    startLoading: startLoading,\n    stopLoading: stopLoading\n  };\n});","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import englishMessages from 'ra-language-english';\n\nexport default {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            new_customers: 'New Customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to react-admin demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                aor_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n","export default type => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(provider => provider.default);\n    }\n};\n","export default type => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import React, { useState, useEffect } from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport './App.css';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\n\nimport dataProviderFactory from './dataProvider';\nimport fakeServerFactory from './fakeServer';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    const [dataProvider, setDataProvider] = useState(null);\n\n    useEffect(() => {\n        let restoreFetch;\n\n        const fetchDataProvider = async () => {\n            restoreFetch = await fakeServerFactory(\n                process.env.REACT_APP_DATA_PROVIDER\n            );\n\n            setDataProvider(\n                await dataProviderFactory(process.env.REACT_APP_DATA_PROVIDER)\n            );\n        };\n\n        fetchDataProvider();\n\n        return restoreFetch;\n    }, []);\n\n    if (!dataProvider) {\n        return (\n            <div className=\"loader-container\">\n                <div className=\"loader\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.deleteMany() method, the result\n * of the call (the list of deleted record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n */\n\nvar useDeleteMany = function useDeleteMany(resource, ids, options) {\n  return useMutation({\n    type: 'deleteMany',\n    resource: resource,\n    payload: {\n      ids: ids\n    }\n  }, options);\n};\n\nexport default useDeleteMany;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param data The data to initialize the new record with, e.g. { title: 'hello, world\" }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [create, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate('likes', like);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={create}>Like</div>;\n * };\n */\n\nvar useCreate = function useCreate(resource, data, options) {\n  if (data === void 0) {\n    data = {};\n  }\n\n  return useMutation({\n    type: 'create',\n    resource: resource,\n    payload: {\n      data: data\n    }\n  }, options);\n};\n\nexport default useCreate;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</div>;\n * };\n */\n\nvar useDelete = function useDelete(resource, id, previousData, options) {\n  if (previousData === void 0) {\n    previousData = {};\n  }\n\n  return useMutation({\n    type: 'delete',\n    resource: resource,\n    payload: {\n      id: id,\n      previousData: previousData\n    }\n  }, options);\n};\n\nexport default useDelete;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash/debounce';\nimport union from 'lodash/union';\nimport isEqual from 'lodash/isEqual';\nimport { CRUD_GET_MANY } from '../actions/dataActions/crudGetMany';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport { useEffect } from 'react';\nvar queriesToCall = {};\nvar dataProvider;\nvar DataProviderOptions = {\n  action: CRUD_GET_MANY\n};\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetMany('tags', [1, 2, 3]);\n * useGetMany('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider(GET_MANY, 'tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456, 789]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, loading, error } = useGetMany('tags', record.tagIds);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\n\nvar useGetMany = function useGetMany(resource, ids, options) {\n  if (options === void 0) {\n    options = {};\n  } // we can't use useQueryWithStore here because we're aggregating queries first\n  // therefore part of the useQueryWithStore logic will have to be repeated below\n\n\n  var selectMany = useMemo(makeGetManySelector, []);\n  var data = useSelector(function (state) {\n    return selectMany(state, resource, ids);\n  });\n\n  var _a = useSafeSetState({\n    data: data,\n    error: null,\n    loading: ids.length !== 0,\n    loaded: ids.length === 0 || data.length !== 0 && !data.includes(undefined)\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  if (!isEqual(state.data, data)) {\n    setState(__assign(__assign({}, state), {\n      data: data,\n      loaded: true\n    }));\n  }\n\n  dataProvider = useDataProvider(); // not the best way to pass the dataProvider to a function outside the hook, but I couldn't find a better one\n\n  useEffect(function () {\n    if (!queriesToCall[resource]) {\n      queriesToCall[resource] = [];\n    }\n    /**\n     * queriesToCall stores the queries to call under the following shape:\n     *\n     * {\n     *   'posts': [\n     *     { ids: [1, 2], setState }\n     *     { ids: [2, 3], setState, onSuccess }\n     *     { ids: [4, 5], setState }\n     *   ],\n     *   'comments': [\n     *     { ids: [345], setState, onFailure }\n     *   ]\n     * }\n     */\n\n\n    queriesToCall[resource] = queriesToCall[resource].concat({\n      ids: ids,\n      setState: setState,\n      onSuccess: options && options.onSuccess,\n      onFailure: options && options.onFailure\n    });\n    callQueries(); // debounced by lodash\n  }, [JSON.stringify({\n    resource: resource,\n    ids: ids,\n    options: options\n  }), dataProvider]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return state;\n};\n/**\n * Memoized selector for getting an array of resources based on an array of ids\n *\n * @see https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n */\n\n\nvar makeGetManySelector = function makeGetManySelector() {\n  return createSelector(function (state) {\n    return state.admin.resources;\n  }, function (_, resource) {\n    return resource;\n  }, function (_, __, ids) {\n    return ids;\n  }, function (resources, resource, ids) {\n    return resources[resource] ? ids.map(function (id) {\n      return resources[resource].data[id];\n    }) : ids.map(function (id) {\n      return undefined;\n    });\n  });\n};\n/**\n * Call the dataProvider once per resource\n */\n\n\nvar callQueries = debounce(function () {\n  var resources = Object.keys(queriesToCall);\n  resources.forEach(function (resource) {\n    var queries = __spreadArrays(queriesToCall[resource]); // cloning to avoid side effects\n\n    /**\n     * Extract ids from queries, aggregate and deduplicate them\n     *\n     * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n     */\n\n\n    var accumulatedIds = queries.reduce(function (acc, _a) {\n      var ids = _a.ids;\n      return union(acc, ids);\n    }, []) // concat + unique\n    .filter(function (v) {\n      return v != null && v !== '';\n    }); // remove null values\n\n    if (accumulatedIds.length === 0) {\n      // no need to call the data provider if all the ids are null\n      queries.forEach(function (_a) {\n        var ids = _a.ids,\n            setState = _a.setState,\n            onSuccess = _a.onSuccess;\n        setState({\n          data: emptyArray,\n          loading: false,\n          loaded: true\n        });\n\n        if (onSuccess) {\n          onSuccess({\n            data: emptyArray\n          });\n        }\n      });\n      return;\n    }\n\n    dataProvider.getMany(resource, {\n      ids: accumulatedIds\n    }, DataProviderOptions).then(function (response) {\n      // Forces batching, see https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\n      return ReactDOM.unstable_batchedUpdates(function () {\n        return queries.forEach(function (_a) {\n          var ids = _a.ids,\n              setState = _a.setState,\n              onSuccess = _a.onSuccess;\n          setState(function (prevState) {\n            return __assign(__assign({}, prevState), {\n              error: null,\n              loading: false,\n              loaded: true\n            });\n          });\n\n          if (onSuccess) {\n            var subData = ids.map(function (id) {\n              return response.data.find(function (datum) {\n                return datum.id == id;\n              });\n            } // eslint-disable-line eqeqeq\n            );\n            onSuccess({\n              data: subData\n            });\n          }\n        });\n      });\n    }).catch(function (error) {\n      return ReactDOM.unstable_batchedUpdates(function () {\n        return queries.forEach(function (_a) {\n          var setState = _a.setState,\n              onFailure = _a.onFailure;\n          setState({\n            error: error,\n            loading: false,\n            loaded: false\n          });\n          onFailure && onFailure(error);\n        });\n      });\n    });\n    delete queriesToCall[resource];\n  });\n});\nvar emptyArray = [];\nexport default useGetMany;","import useQueryWithStore from './useQueryWithStore';\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useGetOne('users', record.id);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\n\nvar useGetOne = function useGetOne(resource, id, options) {\n  return useQueryWithStore({\n    type: 'getOne',\n    resource: resource,\n    payload: {\n      id: id\n    }\n  }, options, function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].data[id] : null;\n  });\n};\n\nexport default useGetOne;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param data The updates to merge into the record, e.g. { views: 10 }\n * @param previousData The record before the update is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate('likes', record.id, diff, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={update}>Like</div>;\n * };\n */\n\nvar useUpdate = function useUpdate(resource, id, data, previousData, options) {\n  return useMutation({\n    type: 'update',\n    resource: resource,\n    payload: {\n      id: id,\n      data: data,\n      previousData: previousData\n    }\n  }, options);\n};\n\nexport default useUpdate;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result\n * of the call (the list of updated record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param data The updates to merge into all records, e.g. { views: 10 }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { loading, error }] = useUpdateMany('posts', selectedIds, { views: 0 });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={updateMany}>Reset views</button>;\n * };\n */\n\nvar useUpdateMany = function useUpdateMany(resource, ids, data, options) {\n  return useMutation({\n    type: 'updateMany',\n    resource: resource,\n    payload: {\n      ids: ids,\n      data: data\n    }\n  }, options);\n};\n\nexport default useUpdateMany;","import useQueryWithStore from './useQueryWithStore';\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\n\nvar useGetList = function useGetList(resource, pagination, sort, filter, options) {\n  if (options && options.action) {\n    throw new Error('useGetList() does not support custom action names. Use useQueryWithStore() and your own Redux selectors if you need a custom action name for a getList query');\n  }\n\n  var key = JSON.stringify({\n    type: 'GET_LIST',\n    resource: resource,\n    payload: {\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    }\n  });\n\n  var _a = useQueryWithStore({\n    type: 'getList',\n    resource: resource,\n    payload: {\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    }\n  }, options, function (state) {\n    return state.admin.customQueries[key] ? state.admin.customQueries[key].data : null;\n  }, function (state) {\n    return state.admin.customQueries[key] ? state.admin.customQueries[key].total : null;\n  }),\n      data = _a.data,\n      total = _a.total,\n      error = _a.error,\n      loading = _a.loading,\n      loaded = _a.loaded;\n\n  var ids = data ? data.map(function (record) {\n    return record.id;\n  }) : [];\n  var dataObject = data ? data.reduce(function (acc, next) {\n    acc[next.id] = next;\n    return acc;\n  }, {}) : {};\n  return {\n    data: dataObject,\n    ids: ids,\n    total: total,\n    error: error,\n    loading: loading,\n    loaded: loaded\n  };\n};\n\nexport default useGetList;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { CRUD_GET_MANY_REFERENCE } from '../actions/dataActions/crudGetManyReference';\nimport useQueryWithStore from './useQueryWithStore';\nimport { getReferences, getIds, getTotal, nameRelatedTo } from '../reducer/admin/references/oneToMany';\nimport { useMemo } from 'react';\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The referenced resource name, e.g. 'comments'\n * @param {string} target The target resource key, e.g. 'post_id'\n * @param {Object} id The identifier of the record to look for in 'target'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { body: 'hello, world' }\n * @param {string} referencingResource The resource name, e.g. 'posts'. Used to generate a cache key\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ post_id }) => {\n *     const { data, ids, loading, error } = useGetManyReference(\n *         'comments',\n *         'post_id',\n *         post_id,\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *         {},\n *         'posts',\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].body}</li>\n *     )}</ul>;\n * };\n */\n\nvar useGetManyReference = function useGetManyReference(resource, target, id, pagination, sort, filter, referencingResource, options) {\n  var relatedTo = useMemo(function () {\n    return nameRelatedTo(resource, id, referencingResource, target, filter);\n  }, [filter, resource, id, referencingResource, target]);\n\n  var _a = useQueryWithStore({\n    type: 'getManyReference',\n    resource: resource,\n    payload: {\n      target: target,\n      id: id,\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    }\n  }, __assign(__assign({}, options), {\n    relatedTo: relatedTo,\n    action: CRUD_GET_MANY_REFERENCE\n  }), selectIds(relatedTo), selectTotal(relatedTo)),\n      ids = _a.data,\n      total = _a.total,\n      error = _a.error,\n      loading = _a.loading,\n      loaded = _a.loaded;\n\n  var data = useSelector(selectData(resource, relatedTo), shallowEqual);\n  return {\n    data: data,\n    ids: ids,\n    total: total,\n    error: error,\n    loading: loading,\n    loaded: loaded\n  };\n};\n\nexport default useGetManyReference;\n\nvar selectData = function selectData(reference, relatedTo) {\n  return function (state) {\n    return getReferences(state, reference, relatedTo);\n  };\n};\n\nvar selectIds = function selectIds(relatedTo) {\n  return function (state) {\n    return getIds(state, relatedTo);\n  };\n};\n\nvar selectTotal = function selectTotal(relatedTo) {\n  return function (state) {\n    return getTotal(state, relatedTo);\n  };\n};","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY } from '../core';\n\nvar defaultDataProvider = function defaultDataProvider() {\n  return Promise.resolve();\n};\n\ndefaultDataProvider.create = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.delete = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.deleteMany = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getList = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getMany = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getManyReference = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getOne = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.update = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.updateMany = function () {\n  return Promise.resolve(null);\n};\n\nvar fetchMap = {\n  create: CREATE,\n  delete: DELETE,\n  deleteMany: DELETE_MANY,\n  getList: GET_LIST,\n  getMany: GET_MANY,\n  getManyReference: GET_MANY_REFERENCE,\n  getOne: GET_ONE,\n  update: UPDATE,\n  updateMany: UPDATE_MANY\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\n\nvar convertLegacyDataProvider = function convertLegacyDataProvider(legacyDataProvider) {\n  var proxy = new Proxy(defaultDataProvider, {\n    get: function get(_, name) {\n      return function (resource, params) {\n        if (Object.keys(fetchMap).includes(name.toString())) {\n          var fetchType = fetchMap[name.toString()];\n          return legacyDataProvider(fetchType, resource, params);\n        }\n\n        return legacyDataProvider(name.toString(), resource, params);\n      };\n    },\n    apply: function apply(_, __, args) {\n      return legacyDataProvider.apply(legacyDataProvider, args);\n    }\n  });\n  return proxy;\n};\n\nexport default convertLegacyDataProvider;","export var UNDOABLE = 'RA/UNDOABLE';\nexport var startUndoable = function startUndoable(action) {\n  return {\n    type: UNDOABLE,\n    payload: {\n      action: action\n    }\n  };\n};\nexport var UNDO = 'RA/UNDO';\nexport var undo = function undo() {\n  return {\n    type: UNDO\n  };\n};\nexport var COMPLETE = 'RA/COMPLETE';\nexport var complete = function complete() {\n  return {\n    type: COMPLETE\n  };\n};\nexport var START_OPTIMISTIC_MODE = 'RA/START_OPTIMISTIC_MODE';\nexport var startOptimisticMode = function startOptimisticMode() {\n  return {\n    type: START_OPTIMISTIC_MODE\n  };\n};\nexport var STOP_OPTIMISTIC_MODE = 'RA/STOP_OPTIMISTIC_MODE';\nexport var stopOptimisticMode = function stopOptimisticMode() {\n  return {\n    type: STOP_OPTIMISTIC_MODE\n  };\n};","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setListSelectedIds } from '../actions';\nimport { warning } from '../util';\n/**\n * Hook for Unselect All Side Effect\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\n\nvar useUnselectAll = function useUnselectAll(resource1) {\n  var dispatch = useDispatch();\n  return useCallback(function (resource2) {\n    warning(!resource2 && !resource1, \"You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))\");\n    dispatch(setListSelectedIds(resource2 || resource1, []));\n  }, [dispatch, resource1]);\n};\n\nexport default useUnselectAll;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Refresh Side Effect\n *\n * @example\n *\n * const refresh = useRefresh();\n * refresh();\n */\n\nvar useRefresh = function useRefresh() {\n  var dispatch = useDispatch();\n  return useCallback(function (doRefresh) {\n    if (doRefresh === void 0) {\n      doRefresh = true;\n    }\n\n    return doRefresh && dispatch(refreshView());\n  }, [dispatch]);\n};\n\nexport default useRefresh;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', '/posts');\n * // redirect to edit view\n * redirect('edit', '/posts', 123);\n * // do not redirect (resets the record form)\n * redirect(false);\n * // redirect to the result of a function\n * redirect((redirectTo, basePath, is, data) => ...)\n */\n\nvar useRedirect = function useRedirect() {\n  var dispatch = useDispatch();\n  var history = useHistory();\n  return useCallback(function (redirectTo, basePath, id, data) {\n    if (basePath === void 0) {\n      basePath = '';\n    }\n\n    if (!redirectTo) {\n      dispatch(refreshView());\n      return;\n    }\n\n    history.push(resolveRedirectTo(redirectTo, basePath, id, data));\n  }, [dispatch, history]);\n};\n\nexport default useRedirect;","import { useNotify, useRedirect, useRefresh, useUnselectAll } from '../sideEffect';\nimport { useMemo } from 'react';\n\nvar useDeclarativeSideEffects = function useDeclarativeSideEffects() {\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var unselectAll = useUnselectAll();\n  return useMemo(function () {\n    return function (resource, _a) {\n      var _b = _a === void 0 ? {\n        onSuccess: undefined,\n        onFailure: undefined\n      } : _a,\n          onSuccess = _b.onSuccess,\n          onFailure = _b.onFailure;\n\n      var convertToFunctionSideEffect = function convertToFunctionSideEffect(resource, sideEffects) {\n        if (!sideEffects || typeof sideEffects === 'function') {\n          return sideEffects;\n        }\n\n        if (Object.keys(sideEffects).length === 0) {\n          return undefined;\n        }\n\n        var notification = sideEffects.notification,\n            redirectTo = sideEffects.redirectTo,\n            needRefresh = sideEffects.refresh,\n            needUnselectAll = sideEffects.unselectAll;\n        return function () {\n          if (notification) {\n            notify(notification.body, notification.level, notification.messageArgs);\n          }\n\n          if (redirectTo) {\n            redirect(redirectTo);\n          }\n\n          if (needRefresh) {\n            refresh();\n          }\n\n          if (needUnselectAll) {\n            unselectAll(resource);\n          }\n        };\n      };\n\n      return {\n        onSuccess: convertToFunctionSideEffect(resource, onSuccess),\n        onFailure: convertToFunctionSideEffect(resource, onFailure)\n      };\n    };\n  }, [notify, redirect, refresh, unselectAll]);\n};\n\nexport default useDeclarativeSideEffects;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport useDataProvider from './useDataProvider';\nimport { useMemo } from 'react';\nimport useDeclarativeSideEffects from './useDeclarativeSideEffects';\n/**\n * This version of the useDataProvider hook ensure Query and Mutation components are still usable\n * with side effects declared as objects.\n *\n * @deprecated This is for backward compatibility only and will be removed in next major version.\n */\n\nvar useDataProviderWithDeclarativeSideEffects = function useDataProviderWithDeclarativeSideEffects() {\n  var dataProvider = useDataProvider();\n  var getSideEffects = useDeclarativeSideEffects();\n  var dataProviderProxy = useMemo(function () {\n    return new Proxy(dataProvider, {\n      get: function get(target, name) {\n        return function (resource, payload, options) {\n          var _a = getSideEffects(resource, options),\n              onSuccess = _a.onSuccess,\n              onFailure = _a.onFailure;\n\n          return target[name.toString()](resource, payload, __assign(__assign({}, options), {\n            onSuccess: onSuccess,\n            onFailure: onFailure\n          }));\n        };\n      }\n    });\n  }, [dataProvider, getSideEffects]);\n  return dataProviderProxy;\n};\n\nexport default useDataProviderWithDeclarativeSideEffects;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useCallback } from 'react';\nimport merge from 'lodash/merge';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport useDataProviderWithDeclarativeSideEffects from './useDataProviderWithDeclarativeSideEffects';\n/**\n * Get a callback to fetch the data provider through Redux, usually for mutations.\n *\n * The request starts when the callback is called.\n *\n * useMutation() parameters can be passed:\n *\n * - at definition time\n *\n *       const [mutate] = useMutation(query, options); mutate();\n *\n * - at call time\n *\n *       const [mutate] = useMutation(); mutate(query, options);\n *\n * - both, in which case the definition and call time parameters are merged\n *\n *       const [mutate] = useMutation(query1, options1); mutate(query2, options2));\n *\n * @param {Object} query\n * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * @param {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects (e.g. { onSuccess: { refresh: true } })\n *\n * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].\n *\n * The return value updates according to the request state:\n *\n * - mount:         [mutate, { loading: false, loaded: false }]\n * - mutate called: [mutate, { loading: true, loaded: false }]\n * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]\n * - error:         [mutate, { error: [error from response], loading: false, loaded: true }]\n *\n * The mutate function accepts the following arguments\n * - {Object} query\n * - {string} query.type The method called on the data provider, e.g. 'update'\n * - {string} query.resource A resource name, e.g. 'posts', 'comments'\n * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }\n * - {Object} options\n * - {string} options.action Redux action type\n * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * - {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects (e.g. { onSuccess: { refresh: true } })\n *\n * @example\n *\n * // pass parameters at definition time\n * // use when all parameters are determined at definition time\n * // the mutation callback can be used as an even handler\n * // because Event parameters are ignored\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [approve, { loading }] = useMutation({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: { id: record.id, data: { isApproved: true } }\n *     });\n *     return <Button label=\"Approve\" onClick={approve} disabled={loading} />;\n * };\n *\n * @example\n *\n * // pass parameters at call time\n * // use when some parameters are only known at call time\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const approve = event => mutate({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: {\n *             id: event.target.dataset.id,\n *             data: { isApproved: true, updatedAt: new Date() }\n *         },\n *     });\n *     return <Button\n *         label=\"Approve\"\n *         onClick={approve}\n *         disabled={loading}\n *     />;\n * };\n *\n * @example\n *\n * // use the second argument to pass options\n * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';\n *\n * const ResetStockButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const notify = useNotify();\n *     const handleClick = () => mutate(\n *         {\n *              type: 'update',\n *              resource: 'items',\n *              payload: { id: record.id, data: { stock: 0 } }\n *         },\n *         {\n *              undoable: true,\n *              action: CRUD_UPDATE,\n *              onSuccess: response => notify('Success !'),\n *              onFailure: error => notify('Failure !')\n *         }\n *     );\n *     return <Button label=\"Reset stock\" onClick={handleClick} disabled={loading} />;\n * };\n */\n\nvar useMutation = function useMutation(query, options) {\n  var _a = useSafeSetState({\n    data: null,\n    error: null,\n    total: null,\n    loading: false,\n    loaded: false\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var dataProvider = useDataProvider();\n  var dataProviderWithDeclarativeSideEffects = useDataProviderWithDeclarativeSideEffects();\n  /* eslint-disable react-hooks/exhaustive-deps */\n\n  var mutate = useCallback(function (callTimeQuery, callTimeOptions) {\n    var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions) ? dataProviderWithDeclarativeSideEffects : dataProvider;\n    var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);\n    setState(function (prevState) {\n      return __assign(__assign({}, prevState), {\n        loading: true\n      });\n    });\n    finalDataProvider[params.type](params.resource, params.payload, params.options).then(function (_a) {\n      var data = _a.data,\n          total = _a.total;\n      setState({\n        data: data,\n        total: total,\n        loading: false,\n        loaded: true\n      });\n    }).catch(function (errorFromResponse) {\n      setState({\n        error: errorFromResponse,\n        loading: false,\n        loaded: false\n      });\n    });\n  }, [// deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n  JSON.stringify({\n    query: query,\n    options: options\n  }), dataProvider, dataProviderWithDeclarativeSideEffects, setState]\n  /* eslint-enable react-hooks/exhaustive-deps */\n  );\n  return [mutate, state];\n};\n/**\n * Utility function for merging parameters\n *\n * useMutation() parameters can be passed:\n * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )\n * - at call time (e.g [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))\n * - both\n *\n * This function merges the definition time and call time parameters.\n *\n * This is useful because useMutation() is used by higher-level hooks like\n * useCreate() or useUpade(), and these hooks can be called both ways.\n * So it makes sense to make useMutation() capable of handling both call types\n * as it avoids repetition higher in the hook chain.\n *\n * Also, the call time query may be a DOM Event if the callback is used\n * as an event listener, as in:\n *\n * const UpdateButton = () => {\n *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });\n *     return <button onclick={mutate}>Click me</button>\n * };\n *\n * This usage is accepted, and therefore this function checks if the call time\n * query is an Event, and discards it in that case.\n *\n * @param query {Mutation}\n * @param callTimeQuery {Mutation}\n * @param options {Object}\n * @param callTimeOptions {Object}\n *\n * @return { type, resource, payload, options } The merged parameters\n */\n\n\nvar mergeDefinitionAndCallTimeParameters = function mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions) {\n  if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {\n    throw new Error('Missing query either at definition or at call time');\n  }\n\n  if (callTimeQuery instanceof Event) return {\n    type: query.type,\n    resource: query.resource,\n    payload: query.payload,\n    options: sanitizeOptions(options)\n  };\n  if (query) return {\n    type: query.type || callTimeQuery.type,\n    resource: query.resource || callTimeQuery.resource,\n    payload: callTimeQuery ? merge({}, query.payload, callTimeQuery.payload) : query.payload,\n    options: callTimeOptions ? merge({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions)) : sanitizeOptions(options)\n  };\n  return {\n    type: callTimeQuery.type,\n    resource: callTimeQuery.resource,\n    payload: callTimeQuery.payload,\n    options: sanitizeOptions(callTimeOptions)\n  };\n};\n\nvar hasDeclarativeSideEffectsSupport = function hasDeclarativeSideEffectsSupport(options, callTimeOptions) {\n  if (!options && !callTimeOptions) return false;\n  if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport) return true;\n  if (options && options.withDeclarativeSideEffectsSupport) return true;\n  return false;\n};\n\nvar sanitizeOptions = function sanitizeOptions(args) {\n  if (!args) return {};\n\n  var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport,\n      options = __rest(args, [\"withDeclarativeSideEffectsSupport\"]);\n\n  return options;\n};\n\nexport default useMutation;"],"sourceRoot":""}