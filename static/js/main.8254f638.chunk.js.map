{"version":3,"sources":["../../../packages/ra-core/esm/actions/listActions.js","../../../packages/ra-core/esm/actions/clearActions.js","../../../packages/ra-core/esm/dataProvider/defaultDataProvider.js","../../../packages/ra-core/esm/auth/useLogoutIfAccessDenied.js","../../../packages/ra-core/esm/dataProvider/useDataProvider.js","../../../packages/ra-core/esm/dataProvider/getFetchType.js","../../../packages/ra-core/esm/reducer/admin/references/oneToMany.js","../../../packages/ra-core/esm/dataProvider/useQueryWithStore.js","../../../packages/ra-core/esm/util/warning.js","../../../packages/ra-core/esm/auth/useLogout.js","../../../packages/ra-core/esm/util/resolveRedirectTo.js","../../../packages/ra-language-english/index.js","../../../packages/ra-core/esm/util/linkToRecord.js","../../../packages/ra-core/esm/actions/dataActions/crudGetManyReference.js","../../../packages/ra-core/esm/dataProvider/DataProviderContext.js","../../../packages/ra-core/esm/dataProvider/undoableEventEmitter.js","../../../packages/ra-core/esm/core/dataFetchActions.js","../../../packages/ra-core/esm/actions/fetchActions.js","../../../packages/ra-core/esm/sideEffect/useNotify.js","../../../packages/ra-core/esm/auth/AuthContext.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMany.js","../../../packages/ra-core/esm/actions/notificationActions.js","../../../packages/ra-core/esm/auth/useAuthProvider.js","../../../packages/ra-core/esm/util/hooks.js","../../../packages/ra-core/esm/actions/uiActions.js","../../../packages/ra-core/esm/reducer/admin/resource/list/ids.js","../../../packages/ra-core/esm/util/getFetchedAt.js","../../../packages/ra-core/esm/reducer/admin/resource/data.js","../../../packages/ra-core/esm/actions/dataActions/crudGetList.js","../../../packages/ra-core/esm/actions/dataActions/crudGetOne.js","../../../packages/ra-core/esm/actions/dataActions/crudCreate.js","../../../packages/ra-core/esm/reducer/admin/resource/list/loadedOnce.js","../../../packages/ra-core/esm/reducer/admin/resource/list/params.js","../../../packages/ra-core/esm/actions/dataActions/crudDelete.js","../../../packages/ra-core/esm/reducer/admin/resource/list/selectedIds.js","../../../packages/ra-core/esm/reducer/admin/resource/list/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/index.js","../../../packages/ra-core/esm/reducer/admin/resource/index.js","../../../packages/ra-core/esm/reducer/admin/loading.js","../../../packages/ra-core/esm/reducer/admin/notifications.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMatching.js","../../../packages/ra-core/esm/reducer/admin/references/possibleValues.js","../../../packages/ra-core/esm/reducer/admin/references/index.js","../../../packages/ra-core/esm/reducer/admin/ui.js","../../../packages/ra-core/esm/reducer/admin/customQueries.js","../../../packages/ra-core/esm/reducer/admin/index.js","../../../packages/ra-core/esm/actions/resourcesActions.js","../../../packages/ra-core/esm/reducer/index.js","../../../packages/ra-core/esm/sideEffect/auth.js","../../../packages/ra-core/esm/actions/authActions.js","../../../packages/ra-core/esm/sideEffect/callback.js","../../../packages/ra-core/esm/sideEffect/fetch.js","../../../packages/ra-core/esm/sideEffect/notification.js","../../../packages/ra-core/esm/sideEffect/redirection.js","../../../packages/ra-core/esm/sideEffect/accumulate.js","../../../packages/ra-core/esm/sideEffect/refresh.js","../../../packages/ra-core/esm/sideEffect/undo.js","../../../packages/ra-core/esm/sideEffect/admin.js","../../../packages/ra-core/esm/core/createAdminStore.js","../../../packages/ra-core/esm/i18n/TranslationContext.js","../../../packages/ra-core/esm/i18n/TranslationProvider.js","../../../packages/ra-core/esm/core/CoreAdminContext.js","../../../packages/ra-core/esm/auth/convertLegacyAuthProvider.js","../../../packages/ra-core/esm/auth/types.js","../../../packages/ra-i18n-polyglot/esm/index.js","../../../packages/react-admin/esm/defaultI18nProvider.js","../../../packages/react-admin/esm/AdminContext.js","../../../packages/ra-core/esm/auth/useCheckAuth.js","../../../packages/ra-core/esm/auth/useAuthenticated.js","../../../packages/ra-core/esm/auth/useGetPermissions.js","../../../packages/ra-core/esm/auth/usePermissions.js","../../../packages/ra-core/esm/auth/WithPermissions.js","../../../packages/ra-core/esm/core/RoutesWithLayout.js","../../../packages/ra-core/esm/auth/useAuthState.js","../../../packages/ra-core/esm/core/CoreAdminRouter.js","../../../packages/ra-core/esm/core/CoreAdminUI.js","../../../packages/ra-core/esm/i18n/useTranslate.js","../../../packages/ra-ui-materialui/esm/button/RefreshIconButton.js","../../../packages/ra-ui-materialui/esm/layout/LoadingIndicator.js","../../../packages/ra-ui-materialui/esm/layout/UserMenu.js","../../../packages/ra-ui-materialui/esm/layout/HideOnScroll.js","../../../packages/ra-ui-materialui/esm/layout/AppBar.js","../../../packages/ra-ui-materialui/esm/layout/Sidebar.js","../../../packages/ra-ui-materialui/esm/layout/MenuItemLink.js","../../../packages/ra-ui-materialui/esm/layout/DashboardMenuItem.js","../../../packages/ra-ui-materialui/esm/layout/Menu.js","../../../packages/ra-ui-materialui/esm/layout/Notification.js","../../../packages/ra-ui-materialui/esm/layout/Title.js","../../../packages/ra-ui-materialui/esm/layout/Error.js","../../../packages/ra-ui-materialui/esm/defaultTheme.js","../../../packages/ra-core/esm/util/ComponentPropType.js","../../../packages/ra-ui-materialui/esm/layout/Layout.js","../../../packages/ra-core/esm/auth/Authenticated.js","../../../packages/ra-ui-materialui/esm/layout/NotFound.js","../../../packages/ra-ui-materialui/esm/layout/Loading.js","../../../packages/ra-core/esm/auth/useLogin.js","../../../packages/ra-ui-materialui/esm/auth/LoginForm.js","../../../packages/ra-ui-materialui/esm/auth/Login.js","../../../packages/ra-ui-materialui/esm/auth/Logout.js","../../../packages/react-admin/esm/AdminUI.js","../../../packages/react-admin/esm/Admin.js","../../../packages/ra-core/esm/core/Resource.js","authProvider.js","configuration/actions.js","themeReducer.js","layout/Logo.js","layout/AppBar.js","../../../packages/ra-core/esm/controller/checkMinimumRequiredProps.js","../../../packages/ra-core/esm/reducer/admin/resource/list/queryReducer.js","../../../packages/ra-core/esm/util/removeEmpty.js","../../../packages/ra-core/esm/util/removeKey.js","../../../packages/ra-core/esm/controller/useListParams.js","../../../packages/ra-core/esm/controller/useRecordSelection.js","../../../packages/ra-core/esm/controller/useVersion.js","../../../packages/ra-core/esm/controller/useListController.js","../../../packages/ra-ui-materialui/esm/list/FilterFormInput.js","../../../packages/ra-ui-materialui/esm/list/FilterForm.js","../../../packages/ra-core/esm/util/FieldTitle.js","../../../packages/ra-core/esm/util/getFieldLabelTranslationArgs.js","../../../packages/ra-ui-materialui/esm/list/FilterButtonMenuItem.js","../../../packages/ra-ui-materialui/esm/button/Button.js","../../../packages/ra-ui-materialui/esm/list/FilterButton.js","../../../packages/ra-ui-materialui/esm/list/Filter.js","../../../packages/ra-core/esm/form/validate.js","../../../packages/ra-core/esm/form/isRequired.js","../../../packages/ra-core/esm/form/useInput.js","../../../packages/ra-ui-materialui/esm/input/ResettableTextField.js","../../../packages/ra-core/esm/form/ValidationError.js","../../../packages/ra-ui-materialui/esm/input/InputHelperText.js","../../../packages/ra-ui-materialui/esm/input/sanitizeRestProps.js","../../../packages/ra-ui-materialui/esm/input/TextInput.js","../../../packages/ra-ui-materialui/esm/input/SearchInput.js","../../../packages/ra-ui-materialui/esm/input/DateInput.js","../../../packages/ra-ui-materialui/esm/input/NullableBooleanInput.js","../../../packages/ra-ui-materialui/esm/list/ListToolbar.js","../../../packages/ra-ui-materialui/esm/list/PaginationActions.js","../../../packages/ra-ui-materialui/esm/list/PaginationLimit.js","../../../packages/ra-ui-materialui/esm/list/Pagination.js","../../../packages/ra-core/esm/actions/dataActions/crudDeleteMany.js","../../../packages/ra-ui-materialui/esm/layout/Confirm.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteButton.js","../../../packages/ra-ui-materialui/esm/layout/TopToolbar.js","../../../packages/ra-ui-materialui/esm/list/BulkActionsToolbar.js","../../../packages/ra-ui-materialui/esm/button/CreateButton.js","../../../packages/ra-ui-materialui/esm/button/ExportButton.js","../../../packages/ra-core/esm/util/downloadCSV.js","../../../packages/ra-ui-materialui/esm/list/ListActions.js","../../../packages/ra-ui-materialui/esm/list/List.js","../../../packages/ra-ui-materialui/esm/list/DatagridHeaderCell.js","../../../packages/ra-ui-materialui/esm/list/DatagridLoading.js","../../../packages/ra-ui-materialui/esm/list/DatagridCell.js","../../../packages/ra-ui-materialui/esm/list/ExpandRowButton.js","../../../packages/ra-ui-materialui/esm/list/DatagridRow.js","../../../packages/ra-ui-materialui/esm/list/DatagridBody.js","../../../packages/ra-ui-materialui/esm/list/Datagrid.js","../../../packages/ra-ui-materialui/esm/field/sanitizeRestProps.js","../../../packages/ra-ui-materialui/esm/field/types.js","../../../packages/ra-ui-materialui/esm/field/DateField.js","../../../packages/ra-ui-materialui/esm/field/NumberField.js","../../../packages/ra-ui-materialui/esm/field/BooleanField.js","segments/data.js","visitors/SegmentsField.js","../../../packages/ra-core/esm/form/useChoices.js","../../../packages/ra-ui-materialui/esm/input/SelectInput.js","visitors/SegmentInput.js","../../../packages/ra-ui-materialui/esm/Link.js","visitors/AvatarField.js","visitors/FullNameField.js","visitors/CustomerLinkField.js","visitors/ColoredNumberField.js","../../../packages/ra-ui-materialui/esm/button/EditButton.js","visitors/MobileGrid.js","visitors/VisitorList.js","../../../packages/ra-core/esm/controller/useCreateController.js","../../../packages/ra-ui-materialui/esm/layout/TitleForRecord.js","../../../packages/ra-ui-materialui/esm/detail/Create.js","../../../packages/ra-core/esm/form/sanitizeEmptyValues.js","../../../packages/ra-core/esm/form/useInitializeFormWithRecord.js","../../../packages/ra-ui-materialui/esm/form/getFormInitialValues.js","../../../packages/ra-ui-materialui/esm/button/SaveButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteButton.js","../../../packages/ra-ui-materialui/esm/form/Toolbar.js","../../../packages/ra-ui-materialui/esm/form/TabbedFormTabs.js","../../../packages/ra-ui-materialui/esm/form/TabbedForm.js","../../../packages/ra-core/esm/i18n/useLocale.js","../../../packages/ra-core/esm/i18n/translate.js","../../../packages/ra-ui-materialui/esm/input/Labeled.js","../../../packages/ra-ui-materialui/esm/form/FormInput.js","../../../packages/ra-ui-materialui/esm/form/FormTab.js","visitors/VisitorCreate.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdate.js","../../../packages/ra-core/esm/controller/useEditController.js","../../../packages/ra-ui-materialui/esm/button/ShowButton.js","../../../packages/ra-ui-materialui/esm/detail/EditActions.js","../../../packages/ra-ui-materialui/esm/detail/Edit.js","../../../packages/ra-core/esm/controller/useSortState.js","../../../packages/ra-core/esm/controller/usePaginationState.js","../../../packages/ra-core/esm/controller/field/useReferenceManyFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceManyField.js","../../../packages/ra-ui-materialui/esm/field/TextField.js","../../../packages/ra-ui-materialui/esm/field/FunctionField.js","orders/NbItemsField.js","../../../packages/ra-core/esm/controller/useReference.js","../../../packages/ra-core/esm/controller/field/getResourceLinkPath.js","../../../packages/ra-ui-materialui/esm/layout/LinearProgress.js","../../../packages/ra-ui-materialui/esm/field/ReferenceField.js","products/ProductReferenceField.js","reviews/StarRatingField.js","../../../packages/ra-ui-materialui/esm/input/SelectArrayInput.js","visitors/SegmentsInput.js","visitors/VisitorEdit.js","visitors/index.js","../../../packages/ra-core/esm/controller/input/referenceDataStatus.js","../../../packages/ra-core/esm/actions/accumulateActions.js","../../../packages/ra-core/esm/controller/input/useGetMatchingReferences.js","../../../packages/ra-core/esm/controller/useFilterState.js","../../../packages/ra-core/esm/controller/input/useReferenceInputController.js","../../../packages/ra-ui-materialui/esm/input/ReferenceError.js","../../../packages/ra-ui-materialui/esm/input/ReferenceInput.js","../../../packages/ra-core/esm/form/useSuggestions.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionList.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionItem.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInput.js","visitors/CustomerReferenceField.js","orders/MobileGrid.js","orders/OrderList.js","../../../packages/ra-ui-materialui/esm/layout/CardContentInner.js","../../../packages/ra-ui-materialui/esm/form/SimpleForm.js","../../../packages/ra-ui-materialui/esm/input/InputPropTypes.js","../../../packages/ra-ui-materialui/esm/input/BooleanInput.js","orders/Basket.js","orders/OrderEdit.js","orders/index.js","visitors/AddressField.js","../../../packages/ra-core/esm/controller/useShowController.js","invoices/InvoiceShow.js","invoices/InvoiceList.js","invoices/index.js","../../../packages/ra-ui-materialui/esm/input/NumberInput.js","products/GridList.js","products/ProductList.js","../../../packages/ra-input-rich-text/esm/QuillSnowStylesheet.js","../../../packages/ra-input-rich-text/esm/index.js","../../../packages/ra-input-rich-text/esm/styles.js","products/Poster.js","products/ProductCreate.js","products/ProductEdit.js","products/index.js","categories/LinkToRelatedProducts.js","categories/CategoryList.js","products/ThumbnailField.js","products/ProductRefField.js","categories/CategoryEdit.js","categories/index.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdateMany.js","reviews/BulkAcceptButton.js","reviews/BulkRejectButton.js","reviews/ReviewListMobile.js","reviews/rowStyle.js","reviews/ReviewListDesktop.js","reviews/ReviewFilter.js","reviews/AcceptButton.js","reviews/RejectButton.js","reviews/ReviewEditToolbar.js","reviews/ReviewEdit.js","reviews/ReviewList.js","reviews/index.js","layout/SubMenu.js","layout/Menu.js","layout/themes.js","layout/Layout.js","layout/Login.js","dashboard/Welcome.js","dashboard/CardIcon.js","dashboard/MonthlyRevenue.js","dashboard/NbNewOrders.js","dashboard/PendingOrders.js","dashboard/PendingReviews.js","dashboard/NewCustomers.js","dashboard/Dashboard.js","dashboard/index.js","../../../packages/ra-core/esm/i18n/useSetLocale.js","../../../packages/ra-core/esm/loading/useUpdateLoading.js","configuration/Configuration.js","segments/LinkToRelatedCustomers.js","segments/Segments.js","routes.js","i18n/en.js","dataProvider/index.js","fakeServer/index.js","App.js","index.js","../../../packages/ra-core/esm/dataProvider/useDeleteMany.js","../../../packages/ra-core/esm/dataProvider/useCreate.js","../../../packages/ra-core/esm/dataProvider/useDelete.js","../../../packages/ra-core/esm/dataProvider/useGetMany.js","../../../packages/ra-core/esm/dataProvider/useGetOne.js","../../../packages/ra-core/esm/dataProvider/useUpdate.js","../../../packages/ra-core/esm/dataProvider/useGetManyReference.js","../../../packages/ra-core/esm/dataProvider/useUpdateMany.js","../../../packages/ra-core/esm/dataProvider/convertLegacyDataProvider.js","../../../packages/ra-core/esm/actions/undoActions.js","../../../packages/ra-core/esm/sideEffect/useUnselectAll.js","../../../packages/ra-core/esm/sideEffect/useRefresh.js","../../../packages/ra-core/esm/sideEffect/useRedirect.js","../../../packages/ra-core/esm/dataProvider/useDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useMutation.js"],"names":["CRUD_CHANGE_LIST_PARAMS","changeListParams","resource","params","type","payload","meta","SET_LIST_SELECTED_IDS","setListSelectedIds","ids","TOGGLE_LIST_ITEM","toggleListItem","id","CLEAR_STATE","clearState","create","Promise","resolve","delete","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","logoutIfAccessDeniedWithoutProvider","authProvider","useAuthProvider","logout","useLogout","notify","useNotify","logoutIfAccessDenied","error","checkError","then","catch","e","redirectTo","redirectto","undefined","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_a","action","rest","onSuccess","onFailure","dataProvider","dispatch","window","addEventListener","warnBeforeClosingWindow","fetch","getFetchType","optimistic","undoableEventEmitter","once","isUndo","removeEventListener","response","requestPayload","fetchResponse","fetchStatus","loggedOut","message","body","event","preventDefault","returnValue","DataProviderContext","defaultDataProvider","isOptimistic","state","admin","ui","Proxy","get","target","name","options","toString","_b","_c","undoable","_d","_e","Error","actionType","initialState","getIds","relatedTo","references","oneToMany","getTotal","total","getReferences","reference","resources","console","map","data","filter","r","reduce","prev","record","getRelatedReferences","previousState","keys","key","includes","removeDeletedReferences","removedIds","idsToKeep","nameRelatedTo","JSON","stringify","join","isEmptyList","Array","isArray","defaultTotalSelector","query","dataSelector","totalSelector","customQueries","defaultDataSelector","loading","loaded","setState","prevState","condition","history","loginUrl","redirectToFromProvider","push","pathname","nextPathname","location","logoutWithoutProvider","_","basePath","module","exports","ra","add_filter","add","back","bulk_actions","cancel","clear_input_value","clone","confirm","edit","export","list","refresh","remove_filter","remove","save","search","show","sort","undo","expand","close","boolean","true","false","null","page","dashboard","not_found","input","file","upload_several","upload_single","image","all_missing","many_missing","single_missing","about","are_you_sure","bulk_delete_content","bulk_delete_title","delete_content","delete_title","details","invalid_form","no","yes","navigation","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","page_rows_per_page","next","auth","auth_check_error","user_menu","username","password","sign_in","sign_in_error","notification","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","validation","required","minLength","maxLength","minValue","maxValue","number","email","oneOf","regex","linkType","link","encodeURIComponent","CRUD_GET_MANY_REFERENCE","CRUD_GET_MANY_REFERENCE_SUCCESS","displayName","GET_LIST","GET_ONE","GET_MANY","GET_MANY_REFERENCE","CREATE","UPDATE","UPDATE_MANY","DELETE","DELETE_MANY","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","concat","fetchActionsWithTotalResponse","sanitizeFetchType","fetchType","FETCH_START","fetchStart","FETCH_END","fetchEnd","FETCH_ERROR","FETCH_CANCEL","messageArgs","defaultProvider","login","checkAuth","getPermissions","AuthContext","crudGetMany","CRUD_GET_MANY","level","SHOW_NOTIFICATION","showNotification","notificationOptions","HIDE_NOTIFICATION","hideNotification","defaultAuthParams","afterLoginUrl","useSafeSetState","mountedRef","current","args","useDeepCompareEffect","callback","inputs","cleanupRef","previousInputs","value","ref","usePrevious","useTimeout","ms","ready","setReady","timer","setTimeout","clearTimeout","TOGGLE_SIDEBAR","toggleSidebar","SET_SIDEBAR_VISIBILITY","setSidebarVisibility","isOpen","REFRESH_VIEW","refreshView","getFetchedAtCallback","newRecordIds","oldRecordFetchedAt","now","cacheDuration","Date","newFetchedAt","forEach","recordId","latestValidDate","setTime","getTime","stillValidFetchedAt","date","hideFetchedAt","records","defineProperty","enumerable","configurable","writable","newRecords","oldRecords","newRecordsById","fetchedAt","removeRecords","removedRecordIds","entries","obj","val","updatedRecord","updatedRecords","CRUD_GET_LIST","CRUD_GET_ONE","CRUD_CREATE","addRecordIds","oldRecordIds","recordIds","index","el","newState","slice","defaultState","order","perPage","CRUD_DELETE","unselectAll","loadedOnce","selectedIds","Math","max","notifications","getNotification","CRUD_GET_MATCHING","possibleValues","referenceState","from","some","unshift","sidebarOpen","viewVersion","resourceState","props","acc","__generator","thisArg","f","y","g","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","done","pop","step","nextPathnameSelector","locationState","router","currentPathnameSelector","getErrorMessage","defaultMessage","authPayload","e_1","errorMessage","pathName","error_1","handleCallback","handleFetch","fetchMeta","restType","successSideEffects","failureSideEffects","Function","takeFetchAction","handleNotification","handleRedirection","resolveRedirectTo","addIds","oldIds","oldIdsSet","Set","tasks","accumulations","actionCreator","accumulatedValue","finalize","accumulateValues","accumulateKey","accumulate","handleRefresh","handleUndoRace","undoableAction","metaWithoutSideEffects","complete","watchUndoable","redirection","customReducers","customSagas","appReducer","sagaMiddleware","composeEnhancers","store","run","TranslationContext","locale","setLocale","i18nProvider","translate","x","changeLocale","getLocale","children","newLocale","createElement","Provider","only","reduxIsAlreadyInitialized","finalAuthProvider","_i","legacyAuthProvider","convertLegacyAuthProvider","finalDataProvider","convertLegacyDataProvider","finalHistory","renderCore","createAdminStore","initialLocale","polyglotOptions","messages","getMessages","polyglot","phrases","_translate","bind","newPolyglot","AdminContext","defaultProps","defaultI18nProvider","checkAuthWithoutAuthProvider","logoutOnFailure","emptyParams","getPermissionsWithoutProvider","permissions","count","authParams","render","component","staticContext","useAuthenticated","catchAll","customRoutes","title","childrenAsArray","Children","toArray","firstChild","route","child","path","intent","exact","routeProps","to","authenticated","__awaiter","_arguments","P","generator","reject","fulfilled","rejected","result","doLogout","oneSecondHasPassed","computedChildren","setComputedChildren","initializeResources","resolveChildren","childrenFuncResult","resolvedChildren","layout","menu","theme","childrenToRender","noLayout","renderCustomRoutesWithoutLayout","Fragment","Noop","_f","loginPage","_g","identity","defaultIcon","icon","onClick","className","handleClick","Tooltip","IconButton","color","propTypes","string","element","useStyles","makeStyles","loader","margin","classesOverride","classes","CircularProgress","size","thickness","object","isLoading","bool","width","anchorEl","setAnchorEl","open","Boolean","handleClose","currentTarget","anchorOrigin","vertical","horizontal","transformOrigin","onClose","menuItem","node","isRequired","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","toolbar","paddingRight","menuButton","marginLeft","marginRight","menuButtonIconClosed","transition","transitions","easing","sharp","duration","leavingScreen","transform","menuButtonIconOpen","flex","textOverflow","whiteSpace","overflow","logo","userMenu","isXSmall","useMediaQuery","breakpoints","down","disableGutters","variant","root","Typography","drawerPaper","position","height","overflowX","backgroundColor","marginTop","borderRight","palette","background","default","up","border","closedSize","isSmall","isDesktop","Drawer","PaperProps","onMenuClick","dense","NavLinkRef","forwardRef","innerRef","text","secondary","active","primary","minWidth","spacing","MenuItemLink","primaryText","leftIcon","sidebarIsOpen","handleMenuTap","renderMenuItem","MenuItem","activeClassName","ListItemIcon","titleAccess","placement","func","oneOfType","main","display","flexDirection","justifyContent","smart_count","humanize","pluralize","hasDashboard","hasList","dark","contrastText","warning","light","autoHideDuration","setOpen","styles","handleRequestClose","handleExited","emit","handleUndo","Snackbar","disableWindowBlurListener","onExited","ContentProps","defaultTitle","container","document","getElementById","titleElement","TitlePropType","alignItems","padding","fontFamily","opacity","panel","panelDetails","goBack","go","errorInfo","role","typography","fontWeight","sidebar","closedWidth","overrides","MuiFilledInput","propName","componentName","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","_super","Layout","_this","hasError","listen","componentDidCatch","appBar","match","sanitizeRestProps","appFrame","contentWithSidebar","content","ComponentPropType","array","EnhancedLayout","withStyles","createStyles","zIndex","minHeight","flexGrow","flexBasis","paddingTop","paddingLeft","themeOverride","themeProp","createMuiTheme","setTheme","ThemeProvider","defaultTheme","textAlign","loadingPrimary","loadingSecondary","nextPathName","ret","loginWithoutProvider","form","button","touched","inputProps","helperText","fullWidth","setLoading","onSubmit","values","validate","errors","handleSubmit","noValidate","autoFocus","disabled","autoComplete","CardActions","backgroundRepeat","backgroundSize","card","avatar","backgroundImage","containerRef","muiTheme","backgroundImageLoaded","updateBackgroundImage","style","img","Image","onload","src","lazyLoadBackgroundImage","Card","Avatar","LogoutWithRef","AdminUI","appLayout","logoutButton","warn","defaultOptions","hasEdit","hasShow","hasCreate","isRegistered","decodeURIComponent","localStorage","setItem","removeItem","getItem","changeTheme","Logo","viewBox","aria-label","lineHeight","fontSize","letterSpacing","wordSpacing","strokeWidth","fill","InkscapeFontSpecification","spacer","ConfigurationMenu","useTranslate","CustomUserMenu","CustomAppBar","useCheckMinimumRequiredProps","requiredProps","propNames","missingProps","prop","removeEmpty","removeKey","deepRemoveKey","paths","split","deepKey","deep","emptyObject","defaultSort","field","validQueryParams","getQuery","filterDefaultValues","queryFromLocation","k","parse","err","hasCustomParams","getNumberOrDefault","possibleNumber","defaultValue","parseInt","debounce","displayedFilters","setDisplayedFilters","reduxState","requestSignature","changeParams","newParams","setSort","newSort","setPage","newPage","setPerPage","newPerPage","filterValues","debouncedSetFilters","newFilters","setFilters","filters","hideFilter","filterName","previousFilters","showFilter","select","newIds","toggle","clearSelection","injectedProps","sanitizeListRestProps","version","queryModifiers","useRecordSelection","selectionModifiers","useQueryWithStore","pagination","currentSort","resourceName","onSelect","onToggleItem","onUnselectItems","emptyRecord","hideButton","filterElement","handleHide","source","alwaysOn","allowEmpty","flexWrap","clearFix","clear","initialValues","dataset","anyTouched","asyncValidate","asyncValidating","autofill","blur","change","clearAsyncError","clearFields","clearSubmit","clearSubmitErrors","destroy","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialize","initialized","invalid","modified","pristine","pure","reset","resetSection","setFilter","submit","submitAsSideEffect","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touch","triggerSubmit","untouch","valid","validating","visited","__versions","arrayOf","handleFinalFormSubmit","FormSpySubscription","mergedInitialValuesWithDefaultValues","formProps","subscription","onChange","getFieldLabelTranslationArgs","FilterButtonMenuItem","onShow","handleShow","labelRightIcon","smallIcon","mediumIcon","largeIcon","alignIcon","cloneElement","hiddenFilters","handleClickButton","context","renderButton","renderForm","EMAIL_REGEX","getMessage","fn","min","isNaN","Number","pattern","test","oneOfTypeMessage","it","customOnBlur","onBlur","customOnChange","customOnFocus","onFocus","finalName","sanitizedValidate","validators","validator","composeValidators","initialValue","handleBlur","handleChange","handleFocus","clearIcon","visibleClearIcon","clearButton","visibleClearButton","selectAdornment","right","inputAdornedEnd","handleMouseDownClearButton","ResettableTextField","clearAlwaysVisible","InputProps","resettable","showClear","setShowClear","handleClickClearButton","restClasses","adornedEnd","endAdornment","InputAdornment","disableRipple","onMouseDown","any","formClassName","initializeForm","limitChoicesToValue","optionText","optionValue","translateChoice","format","hiddenLabel","placeholder","convertDateToString","getDate","yyyy","getFullYear","MM","getMonth","dd","dateRegex","getStringFromDate","InputLabelProps","shrink","getBooleanFromString","getStringFromBoolean","paper","actions","defaultClasses","permanentFilter","exporter","memo","flexShrink","hellip","PaginationActions","rowsPerPage","onChangePage","getNbPages","ceil","gotoPage","nbPages","range","pageNum","backIconButtonProps","nextIconButtonProps","CardContent","emptyArray","rowsPerPageOptions","handlePageChange","stopPropagation","handlePerPageChange","labelDisplayedRows","offsetBegin","offsetEnd","TablePagination","onChangeRowsPerPage","ActionsComponent","labelRowsPerPage","CRUD_DELETE_MANY","contentText","confirmPrimary","confirmWarning","iconPaddingStyle","confirmColor","onConfirm","translateOptions","handleConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","deleteButton","crudDeleteMany","useUnselectAll","useRefresh","useDeleteMany","inflect","startUndoable","dispatchCrudDeleteMany","paddingBottom","buttons","collapsed","overflowY","floating","getContrastText","top","bottom","left","floatingLink","Fab","getRelatedIds","DefaultIcon","defaultFilter","maxResults","useDataProvider","post","fetchRelatedRecords","csv","fakeLink","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","filename","setAttribute","URL","createObjectURL","click","downloadCSV","boxShadow","bulkActionsDisplayed","noResults","aside","bulkActionButtons","Content","controllerProps","getListControllerProps","crudGetList","setSelectedIds","toggleItem","hasBulkActions","shape","updateSort","isSorting","TableCell","headerClassName","align","sortable","sortBy","enterDelay","TableSortLabel","nextProps","grey","times","nbChildren","nbFakeLines","Table","table","TableHead","TableRow","row","expandHeader","expandIconCell","Checkbox","checked","headerCell","TableBody","key1","expandIcon","key2","rowCell","cellClassName","expanded","expandContentId","tabIndex","hover","rowClick","selected","setExpanded","nbColumns","setNbColumns","newNbColumns","handleToggleExpand","handleToggleSelection","effect","linkToRecord","checkbox","colSpan","String","elementType","PureDatagridRow","prevProps","prevPropsWithoutChildren","nextPropsWithoutChildren","rowStyle","rowIndex","rowEven","rowOdd","clickableRow","muiName","PureDatagridBody","tableLayout","thead","tbody","headerRow","cursor","shortest","Datagrid","optimized","handleSelectAll","every","fieldPropTypes","addLabel","toLocaleStringSupportsLocales","toLocaleString","RangeError","EnhancedDateField","locales","showTime","dateString","toLocaleDateString","hasNumberFormat","Intl","NumberFormat","EnhancedNumberField","clip","EnhancedBooleanField","valueLabelTrue","valueLabelFalse","ariaLabel","marginBottom","chip","SegmentsField","groups","segment","Chip","segments","find","getChoiceText","choice","choiceName","getChoiceValue","choices","disableValue","emptyText","emptyValue","renderEmptyItemOption","isValidElement","renderMenuItemOption","crudGetMatching","crudGetOne","filterToQuery","setPagination","SegmentInput","textDecoration","AvatarField","PureFullNameField","first_name","last_name","CustomerLinkField","ColoredNumberField","WrappedComponent","Colored","colored","NumberField","cardTitleContent","cardContent","body1","MobileGrid","CardHeader","nb_commands","currency","VisitorFilter","VisitorList","isXsmall","successMessage","redirect","useRedirect","recordToUse","useCreate","saving","newRecord","singularize","getDefaultRedirectRoute","noActions","crudCreate","sanitizeEmptyValues","initialValuesWithEmptyFields","registeredFields","getRegisteredFields","batch","resetFieldState","getFormInitialValues","finalInitialValues","submitOnEnter","handleSubmitWithRedirect","displayedLabel","useDelete","deleteOne","handleDelete","desktopToolbar","mobileToolbar","boxSizing","defaultToolbar","valueOrDefault","withWidth","initialWidth","getTabFullPath","tab","baseUrl","url","tabsWithErrors","validTabPaths","tabValue","Tabs","indicatorColor","tabPath","errorTabButton","defaultSubscription","finalRedirect","finalValues","mutators","setRedirect","newRedirect","keepDirtyOnReinitialize","defaultRedirect","tabs","getState","Divider","hidden","asyncBlurFields","_reduxForm","BaseComponent","TranslatedComponent","verticalAlign","name_1","restProps","FormControl","InputLabel","htmlFor","labelStyle","contentClassName","hiddenStyle","FormTab","renderHeader","renderContent","address","maxWidth","zipcode","city","comment","VisitorCreate","multiline","CRUD_UPDATE","useGetOne","useUpdate","initialSort","isFirstRender","setSortField","setSortOrder","paginationReducer","nextState","defaultPagination","initialPagination","referenceId","useGetManyReference","referenceBasePath","replace","initialPerPage","useSortState","usePaginationState","EnhancedTextField","EnhancedFunctionField","basket","NbItemsField","useGetMany","referenceRecord","sourceId","rootPath","getResourceLinkPath","linkTo","resourceLinkPath","PureReferenceFieldView","ProductReferenceField","StarRatingField","rating","chips","classNamInputWithOptionsPropse","componenInputWithOptionsPropst","crudGetMInputWithOptionsPropsatching","crudGetOInputWithOptionsPropsne","Select","autoWidth","multiple","FilledInput","renderValue","item","FormHelperText","SegmentsInput","addField","VisitorTitle","status","VisitorIcon","isMatchingReferencesError","matchingReferences","defaultReferenceSource","referenceSource","getMatchingReferences","referenceResource","defaultFilterToQuery","q","emptyFilter","sortOverride","debounceTime","permanentFilterProp","latestValue","setFilterValue","useFilterState","filterValue","dataStatus","matchingReferencesError","selectedReferenceError","waiting","useGetMatchingReferences","searchText","finalMeta","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","suggestion","suggestionText","RegExp","suggestions","removeAlreadySelectedSuggestions","limitSuggestions","selectedItems","selectedValues","limit","isInteger","newSuggestions","emptySuggestion","suggestionsContainer","suggestionsPaper","maxHeight","menuProps","inputEl","suggestionsContainerProps","Popper","modifiers","Paper","square","clientWidth","highlightedSuggestionText","matches","parts","highlightedIndex","isSelected","getSuggestionText","isHighlighted","part","highlight","chipBackgroundColor","chipContainerFilled","inputRoot","inputRootFilled","inputInput","divider","idOverride","inputOverride","isRequiredOverride","metaOverride","labelProps","shouldRenderSuggestionsOverride","shouldRenderSuggestions","_h","_j","_k","_l","_m","getSuggestionFromValue","_o","handleFilterChange","eventOrValue","storeInputRef","inputPosition","getBoundingClientRect","anchorPosition","updateAnchorEl","openMenu","inputValue","itemToString","getInputProps","getItemProps","getLabelProps","getMenuProps","isMenuOpen","_onChange","inputRef","suppressRefError","CustomerReferenceField","useListStyles","cardContentRow","OrderFilter","useDatagridStyles","TabbedDatagrid","ordered","delivered","cancelled","centered","Tab","React","Component","StyledTabbedDatagrid","OrderList","InputPropTypes","finalFormOnChange","FormGroup","FormControlLabel","control","Switch","rightAlignedCell","boldCell","Basket","product_id","productId","products","elevation","price","quantity","total_ex_taxes","delivery_fees","tax_rate","classnames","OrderTitle","useEditStyles","OrderIcon","AddressField","CustomerField","InvoiceShow","useShowController","Grid","xs","gutterBottom","ListFilters","InvoiceIcon","convertStringToNumber","_float","parseFloat","overrideInputProps","gridList","tileBar","getColsForWidth","LoadingGridList","nbItems","cellHeight","cols","GridListTile","LoadedGridList","Link","thumbnail","alt","GridListTileBar","subtitle","useQuickFilterStyles","QuickFilter","ProductFilter","ProductList","visibility","pointerEvents","outline","tabSize","wordWrap","counterReset","listStyleType","counterIncrement","fontStyle","float","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","fillRule","borderLeft","borderRadius","borderColor","borderTop","QuillSnowStylesheet","configureQuill","quillInstance","divRef","editor","lastValueChange","onTextChange","innerHTML","modules","clipboard","matchVisual","setContents","convert","querySelector","on","off","selection","getSelection","hasFocus","setSelection","handlers","Poster","stock","widthFormGroup","heightFormGroup","ProductCreate","startAdornment","ProductTitle","ProductIcon","LinkToRelatedProducts","category_id","CategoryList","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","CRUD_UPDATE_MANY","BulkAcceptButton","useUpdateMany","approve","BulkRejectButton","inline","ReviewMobileList","ListItem","ListItemAvatar","ListItemText","secondaryTypographyProps","noWrap","defaultStyle","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","ReviewListDesktop","useFilterStyles","ReviewFilter","AcceptButton","RejectButton","ReviewEditToolbar","inlineField","ReviewEdit","onCancel","useEditController","rowsMax","ReviewsBulkActionButtons","enteringScreen","listWithDrawer","ReviewList","useHistory","useCallback","isMatch","ReviewListMobile","anchor","ReviewIcon","sidebarIsClosed","SubMenu","handleToggle","header","Collapse","timeout","unmountOnExit","disablePadding","Menu","useState","menuCatalog","menuSales","menuCustomers","useSelector","invoices","categories","menuCustomer","darkTheme","lightTheme","CustomSidebar","AppBar","hint","renderInput","Login","useLogin","LoginWithTheme","media","mediaUrl","random","Welcome","CardMedia","href","CardIcon","Icon","bgColor","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","orders","customers","customer_id","nb_items","customer_name","ListItemSecondaryAction","titleLink","listItemText","WebkitLineClamp","WebkitBoxOrient","PendingReviews","reviews","nb","CommentIcon","NewCustomers","aMonthAgo","useMemo","setDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","toISOString","visitors","CustomerIcon","flexColumn","leftCol","rightCol","singleCol","Dashboard","useVersion","fetchOrders","a","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","review","pendingReviewsCustomers","useEffect","startLoading","stopLoading","useUpdateLoading","Configuration","useLocale","useSetLocale","useDispatch","LinkToRelatedCustomers","Segments","englishMessages","pos","configuration","language","monthly_revenue","new_orders","pending_reviews","new_customers","pending_orders","items","welcome","aor_button","demo_button","sales","catalog","fields","commands","last_seen_gte","total_spent","delivery","sum","unit_price","date_lte","total_gte","returned","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","detail","accept","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","factory","provider","polyglotI18nProvider","App","setDataProvider","restoreFetch","fakeServerFactory","process","dataProviderFactory","fetchDataProvider","themeReducer","ReactDOM","previousData","queriesToCall","DataProviderOptions","makeGetManySelector","callQueries","queries","accumulatedIds","unstable_batchedUpdates","datum","selectMany","referencingResource","selectIds","selectTotal","selectData","fetchMap","legacyDataProvider","UNDOABLE","UNDO","COMPLETE","START_OPTIMISTIC_MODE","startOptimisticMode","STOP_OPTIMISTIC_MODE","stopOptimisticMode","resource1","resource2","doRefresh","convertToFunctionSideEffect","sideEffects","needRefresh","needUnselectAll","getSideEffects","callTimeQuery","callTimeOptions","Event","sanitizeOptions","hasDeclarativeSideEffectsSupport","withDeclarativeSideEffectsSupport","dataProviderWithDeclarativeSideEffects","errorFromResponse"],"mappings":"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","file":"static/js/main.8254f638.chunk.js","sourcesContent":["export var CRUD_CHANGE_LIST_PARAMS = 'RA/CRUD_CHANGE_LIST_PARAMS';\nexport var changeListParams = function changeListParams(resource, params) {\n  return {\n    type: CRUD_CHANGE_LIST_PARAMS,\n    payload: params,\n    meta: {\n      resource: resource\n    }\n  };\n};\nexport var SET_LIST_SELECTED_IDS = 'RA/SET_LIST_SELECTED_IDS';\nexport var setListSelectedIds = function setListSelectedIds(resource, ids) {\n  return {\n    type: SET_LIST_SELECTED_IDS,\n    payload: ids,\n    meta: {\n      resource: resource\n    }\n  };\n};\nexport var TOGGLE_LIST_ITEM = 'RA/TOGGLE_LIST_ITEM';\nexport var toggleListItem = function toggleListItem(resource, id) {\n  return {\n    type: TOGGLE_LIST_ITEM,\n    payload: id,\n    meta: {\n      resource: resource\n    }\n  };\n};","export var CLEAR_STATE = 'RA/CLEAR_STATE'; // The CLEAR_STATE action will completely reset the react-admin redux state to its initial value.\n// This should only be called once the user has been redirected to a page which do not use the\n// state such as the login page.\n\nexport var clearState = function clearState() {\n  return {\n    type: CLEAR_STATE\n  };\n};","export default {\n  create: function create() {\n    return Promise.resolve(null);\n  },\n  delete: function _delete() {\n    return Promise.resolve(null);\n  },\n  deleteMany: function deleteMany() {\n    return Promise.resolve(null);\n  },\n  getList: function getList() {\n    return Promise.resolve(null);\n  },\n  getMany: function getMany() {\n    return Promise.resolve(null);\n  },\n  getManyReference: function getManyReference() {\n    return Promise.resolve(null);\n  },\n  getOne: function getOne() {\n    return Promise.resolve(null);\n  },\n  update: function update() {\n    return Promise.resolve(null);\n  },\n  updateMany: function updateMany() {\n    return Promise.resolve(null);\n  }\n};","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../sideEffect';\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfaccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\n\nvar useLogoutIfAccessDenied = function useLogoutIfAccessDenied() {\n  var authProvider = useAuthProvider();\n  var logout = useLogout();\n  var notify = useNotify();\n  var logoutIfAccessDenied = useCallback(function (error) {\n    return authProvider.checkError(error).then(function () {\n      return false;\n    }).catch(function (e) {\n      var redirectTo = e && e.redirectTo ? e.redirectTo : error && error.redirectTo ? error.redirectto : undefined;\n      logout({}, redirectTo);\n      notify('ra.notification.logged_out', 'warning');\n      return true;\n    });\n  }, [authProvider, logout, notify]);\n  return authProvider ? logoutIfAccessDenied : logoutIfAccessDeniedWithoutProvider;\n};\n\nvar logoutIfAccessDeniedWithoutProvider = function logoutIfAccessDeniedWithoutProvider() {\n  return Promise.resolve(false);\n};\n\nexport default useLogoutIfAccessDenied;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useContext, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport DataProviderContext from './DataProviderContext';\nimport validateResponseFormat from './validateResponseFormat';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport getFetchType from './getFetchType';\nimport defaultDataProvider from './defaultDataProvider';\nimport { startOptimisticMode, stopOptimisticMode } from '../actions/undoActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START } from '../actions/fetchActions';\nimport { showNotification } from '../actions/notificationActions';\nimport { refreshView } from '../actions/uiActions';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object, which\n * dispatches Redux actions along the process. The benefit is that react-admin\n * tracks the loading state when using this hook, and stores results in the\n * Redux store for future use.\n *\n * In addition to the 2 usual parameters of the dataProvider methods (resource,\n * payload), the Proxy supports a third parameter for every call. It's an\n * object literal which may contain side effects, or make the action optimistic\n * (with undoable: true).\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import React, { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     }\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n *\n * @example Action customization\n *\n * dataProvider.getOne('users', { id: 123 });\n * // will dispatch the following actions:\n * // - CUSTOM_FETCH\n * // - CUSTOM_FETCH_LOADING\n * // - FETCH_START\n * // - CUSTOM_FETCH_SUCCESS\n * // - FETCH_END\n *\n * dataProvider.getOne('users', { id: 123 }, { action: CRUD_GET_ONE });\n * // will dispatch the following actions:\n * // - CRUD_GET_ONE\n * // - CRUD_GET_ONE_LOADING\n * // - FETCH_START\n * // - CRUD_GET_ONE_SUCCESS\n * // - FETCH_END\n */\n\nvar useDataProvider = function useDataProvider() {\n  var dispatch = useDispatch();\n  var dataProvider = useContext(DataProviderContext) || defaultDataProvider;\n  var isOptimistic = useSelector(function (state) {\n    return state.admin.ui.optimistic;\n  });\n  var logoutIfAccessDenied = useLogoutIfAccessDenied();\n  var dataProviderProxy = useMemo(function () {\n    return new Proxy(dataProvider, {\n      get: function get(target, name) {\n        return function (resource, payload, options) {\n          var type = name.toString();\n\n          var _a = options || {},\n              _b = _a.action,\n              action = _b === void 0 ? 'CUSTOM_FETCH' : _b,\n              _c = _a.undoable,\n              undoable = _c === void 0 ? false : _c,\n              _d = _a.onSuccess,\n              onSuccess = _d === void 0 ? undefined : _d,\n              _e = _a.onFailure,\n              onFailure = _e === void 0 ? undefined : _e,\n              rest = __rest(_a, [\"action\", \"undoable\", \"onSuccess\", \"onFailure\"]);\n\n          if (typeof dataProvider[type] !== 'function') {\n            throw new Error(\"Unknown dataProvider function: \" + type);\n          }\n\n          if (onSuccess && typeof onSuccess !== 'function') {\n            throw new Error('The onSuccess option must be a function');\n          }\n\n          if (onFailure && typeof onFailure !== 'function') {\n            throw new Error('The onFailure option must be a function');\n          }\n\n          if (undoable && !onSuccess) {\n            throw new Error('You must pass an onSuccess callback calling notify() to use the undoable mode');\n          }\n\n          if (isOptimistic) {\n            // in optimistic mode, all fetch actions are canceled,\n            // so the admin uses the store without synchronization\n            return Promise.resolve();\n          }\n\n          var params = {\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied\n          };\n          return undoable ? performUndoableQuery(params) : performQuery(params);\n        };\n      }\n    });\n  }, [dataProvider, dispatch, isOptimistic, logoutIfAccessDenied]);\n  return dataProviderProxy;\n};\n/**\n * In undoable mode, the hook dispatches an optimistic action and executes\n * the success side effects right away. Then it waits for a few seconds to\n * actually call the dataProvider - unless the user dispatches an Undo action.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\n\n\nvar performUndoableQuery = function performUndoableQuery(_a) {\n  var type = _a.type,\n      payload = _a.payload,\n      resource = _a.resource,\n      action = _a.action,\n      rest = _a.rest,\n      onSuccess = _a.onSuccess,\n      onFailure = _a.onFailure,\n      dataProvider = _a.dataProvider,\n      dispatch = _a.dispatch,\n      logoutIfAccessDenied = _a.logoutIfAccessDenied;\n  dispatch(startOptimisticMode());\n\n  if (window) {\n    window.addEventListener('beforeunload', warnBeforeClosingWindow);\n  }\n\n  dispatch({\n    type: action,\n    payload: payload,\n    meta: __assign({\n      resource: resource\n    }, rest)\n  });\n  dispatch({\n    type: action + \"_OPTIMISTIC\",\n    payload: payload,\n    meta: {\n      resource: resource,\n      fetch: getFetchType(type),\n      optimistic: true\n    }\n  });\n  onSuccess && onSuccess({});\n  undoableEventEmitter.once('end', function (_a) {\n    var isUndo = _a.isUndo;\n    dispatch(stopOptimisticMode());\n\n    if (isUndo) {\n      dispatch(showNotification('ra.notification.canceled'));\n      dispatch(refreshView());\n\n      if (window) {\n        window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n      }\n\n      return;\n    }\n\n    dispatch({\n      type: action + \"_LOADING\",\n      payload: payload,\n      meta: __assign({\n        resource: resource\n      }, rest)\n    });\n    dispatch({\n      type: FETCH_START\n    });\n    dataProvider[type](resource, payload).then(function (response) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateResponseFormat(response, type);\n      }\n\n      dispatch({\n        type: action + \"_SUCCESS\",\n        payload: response,\n        requestPayload: payload,\n        meta: __assign({}, rest, {\n          resource: resource,\n          fetchResponse: getFetchType(type),\n          fetchStatus: FETCH_END\n        })\n      });\n      dispatch({\n        type: FETCH_END\n      });\n\n      if (window) {\n        window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n      }\n    }).catch(function (error) {\n      if (window) {\n        window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(error);\n      }\n\n      return logoutIfAccessDenied(error).then(function (loggedOut) {\n        if (loggedOut) return;\n        dispatch({\n          type: action + \"_FAILURE\",\n          error: error.message ? error.message : error,\n          payload: error.body ? error.body : null,\n          requestPayload: payload,\n          meta: __assign({}, rest, {\n            resource: resource,\n            fetchResponse: getFetchType(type),\n            fetchStatus: FETCH_ERROR\n          })\n        });\n        dispatch({\n          type: FETCH_ERROR,\n          error: error\n        });\n        onFailure && onFailure(error);\n        throw error;\n      });\n    });\n  });\n  return Promise.resolve({});\n}; // event listener added as window.onbeforeunload when starting optimistic mode, and removed when it ends\n\n\nvar warnBeforeClosingWindow = function warnBeforeClosingWindow(event) {\n  event.preventDefault(); // standard\n\n  event.returnValue = ''; // Chrome\n\n  return 'Your latest modifications are not yet sent to the server. Are you sure?'; // Old IE\n};\n/**\n * In normal mode, the hook calls the dataProvider. When a successful response\n * arrives, the hook dispatches a SUCCESS action, executes success side effects\n * and returns the response. If the response is an error, the hook dispatches\n * a FAILURE action, executes failure side effects, and throws an error.\n */\n\n\nvar performQuery = function performQuery(_a) {\n  var type = _a.type,\n      payload = _a.payload,\n      resource = _a.resource,\n      action = _a.action,\n      rest = _a.rest,\n      onSuccess = _a.onSuccess,\n      onFailure = _a.onFailure,\n      dataProvider = _a.dataProvider,\n      dispatch = _a.dispatch,\n      logoutIfAccessDenied = _a.logoutIfAccessDenied;\n  dispatch({\n    type: action,\n    payload: payload,\n    meta: __assign({\n      resource: resource\n    }, rest)\n  });\n  dispatch({\n    type: action + \"_LOADING\",\n    payload: payload,\n    meta: __assign({\n      resource: resource\n    }, rest)\n  });\n  dispatch({\n    type: FETCH_START\n  });\n  return dataProvider[type](resource, payload).then(function (response) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateResponseFormat(response, type);\n    }\n\n    dispatch({\n      type: action + \"_SUCCESS\",\n      payload: response,\n      requestPayload: payload,\n      meta: __assign({}, rest, {\n        resource: resource,\n        fetchResponse: getFetchType(type),\n        fetchStatus: FETCH_END\n      })\n    });\n    dispatch({\n      type: FETCH_END\n    });\n    onSuccess && onSuccess(response);\n    return response;\n  }).catch(function (error) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error(error);\n    }\n\n    return logoutIfAccessDenied(error).then(function (loggedOut) {\n      if (loggedOut) return;\n      dispatch({\n        type: action + \"_FAILURE\",\n        error: error.message ? error.message : error,\n        payload: error.body ? error.body : null,\n        requestPayload: payload,\n        meta: __assign({}, rest, {\n          resource: resource,\n          fetchResponse: getFetchType(type),\n          fetchStatus: FETCH_ERROR\n        })\n      });\n      dispatch({\n        type: FETCH_ERROR,\n        error: error\n      });\n      onFailure && onFailure(error);\n      throw error;\n    });\n  });\n};\n\nexport default useDataProvider;","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY } from '../core';\n/**\n * Get a fetch type for a data provider verb.\n *\n * The fetch type is used in reducers.\n *\n * @example getFetchType('getMany'); // 'GET_MANY'\n */\n\nexport default (function (actionType) {\n  switch (actionType) {\n    case 'getList':\n      return GET_LIST;\n\n    case 'getOne':\n      return GET_ONE;\n\n    case 'getMany':\n      return GET_MANY;\n\n    case 'getManyReference':\n      return GET_MANY_REFERENCE;\n\n    case 'create':\n      return CREATE;\n\n    case 'update':\n      return UPDATE;\n\n    case 'updateMany':\n      return UPDATE_MANY;\n\n    case 'delete':\n      return DELETE;\n\n    case 'deleteMany':\n      return DELETE_MANY;\n\n    default:\n      return actionType;\n  }\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { CRUD_GET_MANY_REFERENCE_SUCCESS } from '../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../core';\nvar initialState = {};\n\nvar oneToManyReducer = function oneToManyReducer(previousState, action) {\n  var _a;\n\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    var relatedTo = getRelatedReferences(previousState, action.meta.resource);\n\n    if (action.meta.fetch === DELETE) {\n      return relatedTo.reduce(removeDeletedReferences([action.payload.id]), previousState);\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      return relatedTo.reduce(removeDeletedReferences(action.payload.ids), previousState);\n    }\n  }\n\n  switch (action.type) {\n    case CRUD_GET_MANY_REFERENCE_SUCCESS:\n      return __assign({}, previousState, (_a = {}, _a[action.meta.relatedTo] = {\n        ids: action.payload.data.map(function (record) {\n          return record.id;\n        }),\n        total: action.payload.total\n      }, _a));\n\n    default:\n      return previousState;\n  }\n};\n\nexport var getIds = function getIds(state, relatedTo) {\n  return state.admin.references.oneToMany[relatedTo] && state.admin.references.oneToMany[relatedTo].ids;\n};\nexport var getTotal = function getTotal(state, relatedTo) {\n  return state.admin.references.oneToMany[relatedTo] && state.admin.references.oneToMany[relatedTo].total;\n};\nexport var getReferences = function getReferences(state, reference, relatedTo) {\n  var ids = getIds(state, relatedTo);\n\n  if (typeof ids === 'undefined') {\n    return undefined;\n  }\n\n  if (!state.admin.resources[reference]) {\n    // eslint-disable-next-line no-console\n    console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" + (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") + 'but it has not been declared.\\n' + \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField and ReferenceManyField.\", {\n      ids: ids\n    });\n  }\n\n  return ids.map(function (id) {\n    var resource = state.admin.resources[reference];\n\n    if (!resource) {\n      return undefined;\n    }\n\n    return resource.data[id];\n  }).filter(function (r) {\n    return typeof r !== 'undefined';\n  }).reduce(function (prev, record) {\n    prev[record.id] = record; // eslint-disable-line no-param-reassign\n\n    return prev;\n  }, {});\n};\nexport var getReferencesByIds = function getReferencesByIds(state, reference, ids) {\n  if (ids.length === 0) {\n    return {};\n  }\n\n  if (!state.admin.resources[reference]) {\n    // eslint-disable-next-line no-console\n    console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" + (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") + 'but it has not been declared.\\n' + \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField.\", {\n      ids: ids\n    });\n  }\n\n  var references = ids.map(function (id) {\n    var resource = state.admin.resources[reference];\n\n    if (!resource) {\n      return undefined;\n    }\n\n    return resource.data[id];\n  }).filter(function (r) {\n    return typeof r !== 'undefined';\n  }).reduce(function (prev, record) {\n    prev[record.id] = record; // eslint-disable-line no-param-reassign\n\n    return prev;\n  }, {});\n  return Object.keys(references).length > 0 ? references : null;\n};\n\nvar getRelatedReferences = function getRelatedReferences(previousState, resource) {\n  return Object.keys(previousState).filter(function (key) {\n    return key.includes(resource);\n  });\n};\n\nvar removeDeletedReferences = function removeDeletedReferences(removedIds) {\n  return function (previousState, key) {\n    var _a;\n\n    var idsToKeep = previousState[key].ids.filter(function (id) {\n      return !removedIds.includes(id);\n    });\n\n    if (idsToKeep.length === previousState[key].ids.length) {\n      return previousState;\n    }\n\n    return __assign({}, previousState, (_a = {}, _a[key] = {\n      ids: idsToKeep,\n      total: idsToKeep.length\n    }, _a));\n  };\n};\n\nexport var nameRelatedTo = function nameRelatedTo(reference, id, resource, target, filter) {\n  if (filter === void 0) {\n    filter = {};\n  }\n\n  var keys = Object.keys(filter);\n\n  if (!keys.length) {\n    return resource + \"_\" + reference + \"@\" + target + \"_\" + id;\n  }\n\n  return resource + \"_\" + reference + \"@\" + target + \"_\" + id + \"?\" + keys.map(function (key) {\n    return key + \"=\" + JSON.stringify(filter[key]);\n  }).join('&');\n};\nexport default oneToManyReducer;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport useDataProvider from './useDataProvider';\nimport getFetchType from './getFetchType';\nimport { useSafeSetState } from '../util/hooks';\n/**\n * Lists of records are initialized to a particular object,\n * so detecting if the list is empty requires some work.\n *\n * @see src/reducer/admin/data.ts\n */\n\nvar isEmptyList = function isEmptyList(data) {\n  return Array.isArray(data) ? data.length === 0 : data && Object.keys(data).length === 0 && data.hasOwnProperty('fetchedAt');\n};\n/**\n * Default cache selector. Allows to cache responses by default.\n *\n * By default, custom queries are dispatched as a CUSTOM_QUERY Redux action.\n * The useDataProvider hookdispatches a CUSTOM_QUERY_SUCCESS when the response\n * comes, and the customQueries reducer stores the result in the store.\n * This selector reads the customQueries store and acts as a response cache.\n */\n\n\nvar defaultDataSelector = function defaultDataSelector(query) {\n  return function (state) {\n    var key = JSON.stringify(__assign({}, query, {\n      type: getFetchType(query.type)\n    }));\n    return state.admin.customQueries[key] ? state.admin.customQueries[key].data : undefined;\n  };\n};\n\nvar defaultTotalSelector = function defaultTotalSelector() {\n  return null;\n};\n/**\n * Fetch the data provider through Redux, return the value from the store.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {Object} query\n * @param {string} query.type The verb passed to th data provider, e.g. 'getList', 'getOne'\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * @param {function} dataSelector Redux selector to get the result. Required.\n * @param {function} totalSelector Redux selector to get the total (optional, only for LIST queries)\n *\n * @returns The current request state. Destructure as { data, total, error, loading, loaded }.\n *\n * @example\n *\n * import { useQueryWithStore } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useQueryWithStore(\n *         {\n *             type: 'getOne',\n *             resource: 'users',\n *             payload: { id: record.id }\n *         },\n *         {},\n *         state => state.admin.resources.users.data[record.id]\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\n\n\nvar useQueryWithStore = function useQueryWithStore(query, options, dataSelector, totalSelector) {\n  if (options === void 0) {\n    options = {\n      action: 'CUSTOM_QUERY'\n    };\n  }\n\n  if (dataSelector === void 0) {\n    dataSelector = defaultDataSelector(query);\n  }\n\n  if (totalSelector === void 0) {\n    totalSelector = defaultTotalSelector;\n  }\n\n  var type = query.type,\n      resource = query.resource,\n      payload = query.payload;\n  var data = useSelector(dataSelector);\n  var total = useSelector(totalSelector);\n\n  var _a = useSafeSetState({\n    data: data,\n    total: total,\n    error: null,\n    loading: true,\n    loaded: data !== undefined && !isEmptyList(data)\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  if (!isEqual(state.data, data) || state.total !== total) {\n    setState(__assign({}, state, {\n      data: data,\n      total: total,\n      loaded: true\n    }));\n  }\n\n  var dataProvider = useDataProvider();\n  useEffect(function () {\n    setState(function (prevState) {\n      return __assign({}, prevState, {\n        loading: true\n      });\n    });\n    dataProvider[type](resource, payload, options).then(function () {\n      // We don't care about the dataProvider response here, because\n      // it was already passed to SUCCESS reducers by the dataProvider\n      // hook, and the result is available from the Redux store\n      // through the data and total selectors.\n      // In addition, if the query is optimistic, the response\n      // will be empty, so it should not be used at all.\n      setState(function (prevState) {\n        return __assign({}, prevState, {\n          error: null,\n          loading: false,\n          loaded: true\n        });\n      });\n    }).catch(function (error) {\n      setState({\n        error: error,\n        loading: false,\n        loaded: false\n      });\n    }); // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n  }, [JSON.stringify({\n    query: query,\n    options: options\n  })]); // eslint-disable-line\n\n  return state;\n};\n\nexport default useQueryWithStore;","export default (function (condition, message) {\n  if (condition && process.env.NODE_ENV !== 'production') {\n    console.warn(message); // eslint-disable-line\n  }\n});","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { clearState } from '../actions/clearActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the Redux state.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\n\nvar useLogout = function useLogout() {\n  var authProvider = useAuthProvider();\n  var dispatch = useDispatch();\n  /**\n   * We need the current location to pass in the router state\n   * so that the login hook knows where to redirect to as next route after login.\n   *\n   * But if we used useLocation to get it, the logout function\n   * would be rebuilt each time the user changes location. Consequently, that\n   * would force a rerender of all components using this hook upon navigation\n   * (CoreAdminRouter for example).\n   *\n   * To avoid that, we read the location directly from history which is mutable.\n   * See: https://reacttraining.com/react-router/web/api/history/history-is-mutable\n   */\n\n  var history = useHistory();\n  var logout = useCallback(function (params, redirectTo) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (redirectTo === void 0) {\n      redirectTo = defaultAuthParams.loginUrl;\n    }\n\n    return authProvider.logout(params).then(function (redirectToFromProvider) {\n      dispatch(clearState());\n      history.push({\n        pathname: redirectToFromProvider || redirectTo,\n        state: {\n          nextPathname: history.location && history.location.pathname\n        }\n      });\n      return redirectToFromProvider;\n    });\n  }, [authProvider, history, dispatch]);\n  var logoutWithoutProvider = useCallback(function (_) {\n    history.push({\n      pathname: defaultAuthParams.loginUrl,\n      state: {\n        nextPathname: history.location && history.location.pathname\n      }\n    });\n    dispatch(clearState());\n    return Promise.resolve();\n  }, [dispatch, history]);\n  return authProvider ? logout : logoutWithoutProvider;\n};\n\nexport default useLogout;","import linkToRecord from './linkToRecord';\nexport default (function (redirectTo, basePath, id, data) {\n  if (typeof redirectTo === 'function') {\n    return redirectTo(basePath, id, data);\n  }\n\n  switch (redirectTo) {\n    case 'list':\n      return basePath;\n\n    case 'create':\n      return basePath + \"/create\";\n\n    case 'edit':\n      return linkToRecord(basePath, id);\n\n    case 'show':\n      return linkToRecord(basePath, id) + \"/show\";\n\n    default:\n      return redirectTo;\n  }\n});","module.exports = {\n  ra: {\n    action: {\n      add_filter: 'Add filter',\n      add: 'Add',\n      back: 'Go Back',\n      bulk_actions: '1 item selected |||| %{smart_count} items selected',\n      cancel: 'Cancel',\n      clear_input_value: 'Clear value',\n      clone: 'Clone',\n      confirm: 'Confirm',\n      create: 'Create',\n      delete: 'Delete',\n      edit: 'Edit',\n      export: 'Export',\n      list: 'List',\n      refresh: 'Refresh',\n      remove_filter: 'Remove this filter',\n      remove: 'Remove',\n      save: 'Save',\n      search: 'Search',\n      show: 'Show',\n      sort: 'Sort',\n      undo: 'Undo',\n      expand: 'Expand',\n      close: 'Close'\n    },\n    boolean: {\n      true: 'Yes',\n      false: 'No',\n      null: ''\n    },\n    page: {\n      create: 'Create %{name}',\n      dashboard: 'Dashboard',\n      edit: '%{name} #%{id}',\n      error: 'Something went wrong',\n      list: '%{name}',\n      loading: 'Loading',\n      not_found: 'Not Found',\n      show: '%{name} #%{id}'\n    },\n    input: {\n      file: {\n        upload_several: 'Drop some files to upload, or click to select one.',\n        upload_single: 'Drop a file to upload, or click to select it.'\n      },\n      image: {\n        upload_several: 'Drop some pictures to upload, or click to select one.',\n        upload_single: 'Drop a picture to upload, or click to select it.'\n      },\n      references: {\n        all_missing: 'Unable to find references data.',\n        many_missing: 'At least one of the associated references no longer appears to be available.',\n        single_missing: 'Associated reference no longer appears to be available.'\n      }\n    },\n    message: {\n      about: 'About',\n      are_you_sure: 'Are you sure?',\n      bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n      bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n      delete_content: 'Are you sure you want to delete this item?',\n      delete_title: 'Delete %{name} #%{id}',\n      details: 'Details',\n      error: \"A client error occurred and your request couldn't be completed.\",\n      invalid_form: 'The form is not valid. Please check for errors',\n      loading: 'The page is loading, just a moment please',\n      no: 'No',\n      not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n      yes: 'Yes'\n    },\n    navigation: {\n      no_results: 'No results found',\n      no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n      page_out_of_boundaries: 'Page number %{page} out of boundaries',\n      page_out_from_end: 'Cannot go after last page',\n      page_out_from_begin: 'Cannot go before page 1',\n      page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n      page_rows_per_page: 'Rows per page:',\n      next: 'Next',\n      prev: 'Prev'\n    },\n    auth: {\n      auth_check_error: 'Please login to continue',\n      user_menu: 'Profile',\n      username: 'Username',\n      password: 'Password',\n      sign_in: 'Sign in',\n      sign_in_error: 'Authentication failed, please retry',\n      logout: 'Logout'\n    },\n    notification: {\n      updated: 'Element updated |||| %{smart_count} elements updated',\n      created: 'Element created',\n      deleted: 'Element deleted |||| %{smart_count} elements deleted',\n      bad_item: 'Incorrect element',\n      item_doesnt_exist: 'Element does not exist',\n      http_error: 'Server communication error',\n      data_provider_error: 'dataProvider error. Check the console for details.',\n      i18n_error: 'Cannot load the translations for the specified language',\n      canceled: 'Action cancelled',\n      logged_out: 'Your session has ended, please reconnect.'\n    },\n    validation: {\n      required: 'Required',\n      minLength: 'Must be %{min} characters at least',\n      maxLength: 'Must be %{max} characters or less',\n      minValue: 'Must be at least %{min}',\n      maxValue: 'Must be %{max} or less',\n      number: 'Must be a number',\n      email: 'Must be a valid email',\n      oneOf: 'Must be one of: %{options}',\n      regex: 'Must match a specific format (regexp): %{pattern}'\n    }\n  }\n};","export default (function (basePath, id, linkType) {\n  if (linkType === void 0) {\n    linkType = 'edit';\n  }\n\n  var link = basePath + \"/\" + encodeURIComponent(id);\n\n  if (linkType === 'show') {\n    return link + \"/show\";\n  }\n\n  return link;\n});","import { GET_MANY_REFERENCE } from '../../core';\nexport var crudGetManyReference = function crudGetManyReference(reference, target, id, relatedTo, pagination, sort, filter, source) {\n  return {\n    type: CRUD_GET_MANY_REFERENCE,\n    payload: {\n      target: target,\n      id: id,\n      pagination: pagination,\n      sort: sort,\n      filter: filter,\n      source: source\n    },\n    meta: {\n      resource: reference,\n      relatedTo: relatedTo,\n      fetch: GET_MANY_REFERENCE,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_MANY_REFERENCE = 'RA/CRUD_GET_MANY_REFERENCE';\nexport var CRUD_GET_MANY_REFERENCE_LOADING = 'RA/CRUD_GET_MANY_REFERENCE_LOADING';\nexport var CRUD_GET_MANY_REFERENCE_FAILURE = 'RA/CRUD_GET_MANY_REFERENCE_FAILURE';\nexport var CRUD_GET_MANY_REFERENCE_SUCCESS = 'RA/CRUD_GET_MANY_REFERENCE_SUCCESS';","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;","import EventEmitter from 'eventemitter3';\nexport default new EventEmitter();","export var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = [GET_ONE, CREATE, UPDATE];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [GET_LIST, GET_MANY, GET_MANY_REFERENCE];\nexport var fetchActionsWithArrayOfRecordsResponse = fetchActionsWithArrayOfIdentifiedRecordsResponse.concat([UPDATE_MANY, DELETE_MANY]);\nexport var fetchActionsWithTotalResponse = [GET_LIST, GET_MANY_REFERENCE];\nexport var sanitizeFetchType = function sanitizeFetchType(fetchType) {\n  switch (fetchType) {\n    case GET_LIST:\n      return 'getList';\n\n    case GET_ONE:\n      return 'getOne';\n\n    case GET_MANY:\n      return 'getMany';\n\n    case GET_MANY_REFERENCE:\n      return 'getManyReference';\n\n    case CREATE:\n      return 'create';\n\n    case UPDATE:\n      return 'update';\n\n    case UPDATE_MANY:\n      return 'updateMany';\n\n    case DELETE:\n      return 'delete';\n\n    case DELETE_MANY:\n      return 'deleteMany';\n\n    default:\n      return fetchType;\n  }\n};","export var FETCH_START = 'RA/FETCH_START';\nexport var fetchStart = function fetchStart() {\n  return {\n    type: FETCH_START\n  };\n};\nexport var FETCH_END = 'RA/FETCH_END';\nexport var fetchEnd = function fetchEnd() {\n  return {\n    type: FETCH_END\n  };\n};\nexport var FETCH_ERROR = 'RA/FETCH_ERROR';\nexport var fetchError = function fetchError() {\n  return {\n    type: FETCH_ERROR\n  };\n};\nexport var FETCH_CANCEL = 'RA/FETCH_CANCEL';\nexport var fetchCancel = function fetchCancel() {\n  return {\n    type: FETCH_CANCEL\n  };\n};","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { showNotification } from '../actions/notificationActions';\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', 'warning')\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', 'info', { smart_count: 23 })\n * // show the action as undoable in the notification\n * notify('Post renamed', 'info', {}, true)\n */\n\nvar useNotify = function useNotify() {\n  var dispatch = useDispatch();\n  return useCallback(function (message, type, messageArgs, undoable) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (messageArgs === void 0) {\n      messageArgs = {};\n    }\n\n    if (undoable === void 0) {\n      undoable = false;\n    }\n\n    dispatch(showNotification(message, type, {\n      messageArgs: messageArgs,\n      undoable: undoable\n    }));\n  }, [dispatch]);\n};\n\nexport default useNotify;","import { createContext } from 'react';\nvar defaultProvider = {\n  login: function login() {\n    return Promise.resolve();\n  },\n  logout: function logout() {\n    return Promise.resolve();\n  },\n  checkAuth: function checkAuth() {\n    return Promise.resolve();\n  },\n  checkError: function checkError() {\n    return Promise.resolve();\n  },\n  getPermissions: function getPermissions() {\n    return Promise.resolve();\n  }\n};\nvar AuthContext = createContext(defaultProvider);\nAuthContext.displayName = 'AuthContext';\nexport default AuthContext;","import { GET_MANY } from '../../core';\nexport var crudGetMany = function crudGetMany(resource, ids) {\n  return {\n    type: CRUD_GET_MANY,\n    payload: {\n      ids: ids\n    },\n    meta: {\n      resource: resource,\n      fetch: GET_MANY,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_MANY = 'RA/CRUD_GET_MANY';\nexport var CRUD_GET_MANY_LOADING = 'RA/CRUD_GET_MANY_LOADING';\nexport var CRUD_GET_MANY_FAILURE = 'RA/CRUD_GET_MANY_FAILURE';\nexport var CRUD_GET_MANY_SUCCESS = 'RA/CRUD_GET_MANY_SUCCESS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var SHOW_NOTIFICATION = 'RA/SHOW_NOTIFICATION';\n/**\n * Shows a snackbar/toast notification on the screen\n *\n * @see {@link https://material-ui.com/api/snackbar/|Material ui snackbar component}\n * @see {@link https://material.io/guidelines/components/snackbars-toasts.html|Material ui reference document on snackbar}\n */\n\nexport var showNotification = function showNotification( // A translatable label or text to display on notification\nmessage, // The type of the notification\ntype, // Specify additional parameters of notification\nnotificationOptions) {\n  if (type === void 0) {\n    type = 'info';\n  }\n\n  return {\n    type: SHOW_NOTIFICATION,\n    payload: __assign({}, notificationOptions, {\n      type: type,\n      message: message\n    })\n  };\n};\nexport var HIDE_NOTIFICATION = 'RA/HIDE_NOTIFICATION';\nexport var hideNotification = function hideNotification() {\n  return {\n    type: HIDE_NOTIFICATION\n  };\n};","import { useContext } from 'react';\nimport AuthContext from './AuthContext';\nexport var defaultAuthParams = {\n  loginUrl: '/login',\n  afterLoginUrl: '/'\n};\n/**\n * Get the authProvider stored in the context\n */\n\nvar useAuthProvider = function useAuthProvider() {\n  return useContext(AuthContext);\n};\n\nexport default useAuthProvider;","import { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual'; // thanks Kent C Dodds for the following helpers\n\nexport function useSafeSetState(initialState) {\n  var _a = useState(initialState),\n      state = _a[0],\n      setState = _a[1];\n\n  var mountedRef = useRef(false);\n  useEffect(function () {\n    mountedRef.current = true;\n    return function () {\n      return mountedRef.current = false;\n    };\n  }, []);\n  var safeSetState = useCallback(function (args) {\n    return mountedRef.current && setState(args);\n  }, [mountedRef, setState]);\n  return [state, safeSetState];\n}\nexport function usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n  var cleanupRef = useRef();\n  useEffect(function () {\n    if (!isEqual(previousInputs, inputs)) {\n      cleanupRef.current = callback();\n    }\n\n    return cleanupRef.current;\n  });\n  var previousInputs = usePrevious(inputs);\n}\nexport function useTimeout(ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  var _a = useState(false),\n      ready = _a[0],\n      setReady = _a[1];\n\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      setReady(true);\n    }, ms);\n    return function () {\n      clearTimeout(timer);\n    };\n  }, [ms]);\n  return ready;\n}","export var TOGGLE_SIDEBAR = 'RA/TOGGLE_SIDEBAR';\nexport var toggleSidebar = function toggleSidebar() {\n  return {\n    type: TOGGLE_SIDEBAR\n  };\n};\nexport var SET_SIDEBAR_VISIBILITY = 'RA/SET_SIDEBAR_VISIBILITY';\nexport var setSidebarVisibility = function setSidebarVisibility(isOpen) {\n  return {\n    type: SET_SIDEBAR_VISIBILITY,\n    payload: isOpen\n  };\n};\nexport var REFRESH_VIEW = 'RA/REFRESH_VIEW';\nexport var refreshView = function refreshView() {\n  return {\n    type: REFRESH_VIEW\n  };\n};","import uniq from 'lodash/uniq';\nimport { CRUD_GET_LIST_SUCCESS, CRUD_GET_ONE_SUCCESS, CRUD_CREATE_SUCCESS } from '../../../../actions';\nimport getFetchedAt from '../../../../util/getFetchedAt';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nexport var addRecordIdsFactory = function addRecordIdsFactory(getFetchedAtCallback) {\n  return function (newRecordIds, oldRecordIds) {\n    if (newRecordIds === void 0) {\n      newRecordIds = [];\n    }\n\n    var newFetchedAt = getFetchedAtCallback(newRecordIds, oldRecordIds.fetchedAt);\n    var recordIds = uniq(oldRecordIds.filter(function (id) {\n      return !!newFetchedAt[id];\n    }).concat(newRecordIds));\n    Object.defineProperty(recordIds, 'fetchedAt', {\n      value: newFetchedAt\n    }); // non enumerable by default\n\n    return recordIds;\n  };\n};\nvar addRecordIds = addRecordIdsFactory(getFetchedAt);\n\nvar idsReducer = function idsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = [];\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    if (action.meta.fetch === DELETE) {\n      var index = previousState.map(function (el) {\n        return el === action.payload.id;\n      }) // eslint-disable-line eqeqeq\n      .indexOf(true);\n\n      if (index === -1) {\n        return previousState;\n      }\n\n      var newState = previousState.slice(0, index).concat(previousState.slice(index + 1));\n      Object.defineProperty(newState, 'fetchedAt', {\n        value: previousState.fetchedAt\n      });\n      return newState;\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      var newState = previousState.filter(function (el) {\n        return !action.payload.ids.includes(el);\n      });\n      Object.defineProperty(newState, 'fetchedAt', {\n        value: previousState.fetchedAt\n      });\n      return newState;\n    }\n  }\n\n  switch (action.type) {\n    case CRUD_GET_LIST_SUCCESS:\n      return addRecordIds(action.payload.data.map(function (_a) {\n        var id = _a.id;\n        return id;\n      }), []);\n\n    case CRUD_GET_ONE_SUCCESS:\n    case CRUD_CREATE_SUCCESS:\n      return addRecordIds([action.payload.data.id], previousState);\n\n    default:\n      return previousState;\n  }\n};\n\nexport default idsReducer;\nexport var getIds = function getIds(state) {\n  return state;\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport pickBy from 'lodash/pickBy';\nvar defaultCacheDuration = 10 * 60 * 1000; // ten minutes\n\n/**\n * Returns a list of fetch dates by record id\n *\n * Given a list of new record ids and a previous list of fetch dates by record id,\n * add the new record ids at the current date,\n * and removes those among the old record ids that are stale.\n *\n * @param newRecordIds an array of record identifiers, e.g. [34, 56]\n * @param oldRecordFetchedAt the fetch dates of old records, e.g. { 12: new Date('12 minutes ago), 34: new Date('5 minutes ago') }\n * @param now Current time (useful for tests)\n * @param cacheDuration How long until an old record is removed from the list\n */\n\nvar getFetchedAt = function getFetchedAt(newRecordIds, oldRecordFetchedAt, now, cacheDuration) {\n  if (newRecordIds === void 0) {\n    newRecordIds = [];\n  }\n\n  if (oldRecordFetchedAt === void 0) {\n    oldRecordFetchedAt = {};\n  }\n\n  if (now === void 0) {\n    now = new Date();\n  }\n\n  if (cacheDuration === void 0) {\n    cacheDuration = defaultCacheDuration;\n  } // prepare new records and timestamp them\n\n\n  var newFetchedAt = {};\n  newRecordIds.forEach(function (recordId) {\n    return newFetchedAt[recordId] = now;\n  }); // remove outdated entry\n\n  var latestValidDate = new Date();\n  latestValidDate.setTime(latestValidDate.getTime() - cacheDuration);\n  var stillValidFetchedAt = pickBy(oldRecordFetchedAt, function (date) {\n    return date > latestValidDate;\n  });\n  return __assign({}, stillValidFetchedAt, newFetchedAt);\n};\n\nexport default getFetchedAt;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport isEqual from 'lodash/isEqual';\nimport { FETCH_END } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY } from '../../../core';\nimport getFetchedAt from '../../../util/getFetchedAt';\n/**\n * Make the fetchedAt property non enumerable\n */\n\nexport var hideFetchedAt = function hideFetchedAt(records) {\n  Object.defineProperty(records, 'fetchedAt', {\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n  return records;\n};\n/**\n * Add new records to the pool, and remove outdated ones.\n *\n * This is the equivalent of a stale-while-revalidate caching strategy:\n * The cached data is displayed before fetching, and stale data is removed\n * only once fresh data is fetched.\n */\n\nexport var addRecords = function addRecords(newRecords, oldRecords) {\n  if (newRecords === void 0) {\n    newRecords = [];\n  }\n\n  var newRecordsById = {};\n  newRecords.forEach(function (record) {\n    return newRecordsById[record.id] = record;\n  });\n  var newFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n    var id = _a.id;\n    return id;\n  }), oldRecords.fetchedAt);\n  var records = {\n    fetchedAt: newFetchedAt\n  };\n  Object.keys(newFetchedAt).forEach(function (id) {\n    return records[id] = newRecordsById[id] ? isEqual(newRecordsById[id], oldRecords[id]) ? oldRecords[id] // do not change the record to avoid a redraw\n    : newRecordsById[id] : oldRecords[id];\n  });\n  return hideFetchedAt(records);\n};\n/**\n * Remove records from the pool\n */\n\nvar removeRecords = function removeRecords(removedRecordIds, oldRecords) {\n  if (removedRecordIds === void 0) {\n    removedRecordIds = [];\n  }\n\n  var records = Object.entries(oldRecords).filter(function (_a) {\n    var key = _a[0];\n    return !removedRecordIds.includes(key);\n  }).reduce(function (obj, _a) {\n    var _b;\n\n    var key = _a[0],\n        val = _a[1];\n    return __assign({}, obj, (_b = {}, _b[key] = val, _b));\n  }, {\n    fetchedAt: {}\n  });\n  records.fetchedAt = Object.entries(oldRecords.fetchedAt).filter(function (_a) {\n    var key = _a[0];\n    return !removedRecordIds.includes(key);\n  }).reduce(function (obj, _a) {\n    var _b;\n\n    var key = _a[0],\n        val = _a[1];\n    return __assign({}, obj, (_b = {}, _b[key] = val, _b));\n  }, {});\n  return hideFetchedAt(records);\n};\n\nvar initialState = hideFetchedAt({\n  fetchedAt: {}\n});\n\nvar dataReducer = function dataReducer(previousState, _a) {\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  var payload = _a.payload,\n      meta = _a.meta;\n\n  if (meta && meta.optimistic) {\n    if (meta.fetch === UPDATE) {\n      var updatedRecord = __assign({}, previousState[payload.id], payload.data);\n\n      return addRecords([updatedRecord], previousState);\n    }\n\n    if (meta.fetch === UPDATE_MANY) {\n      var updatedRecords = payload.ids.map(function (id) {\n        return __assign({}, previousState[id], payload.data);\n      });\n      return addRecords(updatedRecords, previousState);\n    }\n\n    if (meta.fetch === DELETE) {\n      return removeRecords([payload.id], previousState);\n    }\n\n    if (meta.fetch === DELETE_MANY) {\n      return removeRecords(payload.ids, previousState);\n    }\n  }\n\n  if (!meta || !meta.fetchResponse || meta.fetchStatus !== FETCH_END) {\n    return previousState;\n  }\n\n  switch (meta.fetchResponse) {\n    case GET_LIST:\n    case GET_MANY:\n    case GET_MANY_REFERENCE:\n      return addRecords(payload.data, previousState);\n\n    case GET_ONE:\n    case UPDATE:\n    case CREATE:\n      return addRecords([payload.data], previousState);\n\n    default:\n      return previousState;\n  }\n};\n\nexport var getRecord = function getRecord(state, id) {\n  return state[id];\n};\nexport default dataReducer;","import { GET_LIST } from '../../core';\nexport var crudGetList = function crudGetList(resource, pagination, sort, filter) {\n  return {\n    type: CRUD_GET_LIST,\n    payload: {\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    },\n    meta: {\n      resource: resource,\n      fetch: GET_LIST,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_LIST = 'RA/CRUD_GET_LIST';\nexport var CRUD_GET_LIST_LOADING = 'RA/CRUD_GET_LIST_LOADING';\nexport var CRUD_GET_LIST_FAILURE = 'RA/CRUD_GET_LIST_FAILURE';\nexport var CRUD_GET_LIST_SUCCESS = 'RA/CRUD_GET_LIST_SUCCESS';","import { GET_ONE } from '../../core';\nexport var crudGetOne = function crudGetOne(resource, id, basePath, refresh) {\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_GET_ONE,\n    payload: {\n      id: id\n    },\n    meta: {\n      resource: resource,\n      fetch: GET_ONE,\n      basePath: basePath,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.item_doesnt_exist',\n          level: 'warning'\n        },\n        redirectTo: 'list',\n        refresh: refresh\n      }\n    }\n  };\n};\nexport var CRUD_GET_ONE = 'RA/CRUD_GET_ONE';\nexport var CRUD_GET_ONE_LOADING = 'RA/CRUD_GET_ONE_LOADING';\nexport var CRUD_GET_ONE_FAILURE = 'RA/CRUD_GET_ONE_FAILURE';\nexport var CRUD_GET_ONE_SUCCESS = 'RA/CRUD_GET_ONE_SUCCESS';","import { CREATE } from '../../core';\nexport var crudCreate = function crudCreate(resource, data, basePath, redirectTo) {\n  if (redirectTo === void 0) {\n    redirectTo = 'edit';\n  }\n\n  return {\n    type: CRUD_CREATE,\n    payload: {\n      data: data\n    },\n    meta: {\n      resource: resource,\n      fetch: CREATE,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.created',\n          level: 'info',\n          messageArgs: {\n            smart_count: 1\n          }\n        },\n        redirectTo: redirectTo,\n        basePath: basePath\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_CREATE = 'RA/CRUD_CREATE';\nexport var CRUD_CREATE_LOADING = 'RA/CRUD_CREATE_LOADING';\nexport var CRUD_CREATE_FAILURE = 'RA/CRUD_CREATE_FAILURE';\nexport var CRUD_CREATE_SUCCESS = 'RA/CRUD_CREATE_SUCCESS';","import { CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\n/**\n * This resource reducer is false until the list loads successfully\n */\n\nvar loadedOnce = function loadedOnce(previousState, _a) {\n  if (previousState === void 0) {\n    previousState = false;\n  }\n\n  var type = _a.type; // early return\n\n  if (previousState === true) {\n    return previousState;\n  }\n\n  if (type === CRUD_GET_LIST_SUCCESS) {\n    return true;\n  }\n\n  return previousState;\n};\n\nexport default loadedOnce;","import { CRUD_CHANGE_LIST_PARAMS } from '../../../../actions/listActions';\nvar defaultState = {\n  sort: null,\n  order: null,\n  page: 1,\n  perPage: null,\n  filter: {}\n};\n\nvar paramsReducer = function paramsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = defaultState;\n  }\n\n  switch (action.type) {\n    case CRUD_CHANGE_LIST_PARAMS:\n      return action.payload;\n\n    default:\n      return previousState;\n  }\n};\n\nexport default paramsReducer;","import { DELETE } from '../../core';\nexport var crudDelete = function crudDelete(resource, id, previousData, basePath, redirectTo, refresh) {\n  if (redirectTo === void 0) {\n    redirectTo = 'list';\n  }\n\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_DELETE,\n    payload: {\n      id: id,\n      previousData: previousData\n    },\n    meta: {\n      resource: resource,\n      fetch: DELETE,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.deleted',\n          level: 'info',\n          messageArgs: {\n            smart_count: 1\n          }\n        },\n        refresh: refresh,\n        redirectTo: redirectTo,\n        basePath: basePath\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_DELETE = 'RA/CRUD_DELETE';\nexport var CRUD_DELETE_LOADING = 'RA/CRUD_DELETE_LOADING';\nexport var CRUD_DELETE_FAILURE = 'RA/CRUD_DELETE_FAILURE';\nexport var CRUD_DELETE_SUCCESS = 'RA/CRUD_DELETE_SUCCESS';","import { SET_LIST_SELECTED_IDS, TOGGLE_LIST_ITEM, CRUD_DELETE_SUCCESS } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\n\nvar selectedIdsReducer = function selectedIdsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  if (action.type === SET_LIST_SELECTED_IDS) {\n    return action.payload;\n  }\n\n  if (action.type === TOGGLE_LIST_ITEM) {\n    var index = previousState.indexOf(action.payload);\n\n    if (index > -1) {\n      return previousState.slice(0, index).concat(previousState.slice(index + 1));\n    } else {\n      return previousState.concat([action.payload]);\n    }\n  }\n\n  if (action.type === CRUD_DELETE_SUCCESS) {\n    var index = previousState.indexOf(action.payload.data.id);\n\n    if (index > -1) {\n      return previousState.slice(0, index).concat(previousState.slice(index + 1));\n    }\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    if (action.meta.fetch === DELETE) {\n      var index = previousState.indexOf(action.payload.id);\n\n      if (index === -1) {\n        return previousState;\n      }\n\n      return previousState.slice(0, index).concat(previousState.slice(index + 1));\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      return previousState.filter(function (id) {\n        return !action.payload.ids.includes(id);\n      });\n    }\n  }\n\n  return action.meta && action.meta.unselectAll ? initialState : previousState;\n};\n\nexport default selectedIdsReducer;","import { CRUD_GET_ONE_SUCCESS, CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\n\nvar totalReducer = function totalReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = 0;\n  }\n\n  if (action.type === CRUD_GET_ONE_SUCCESS) {\n    return previousState === 0 ? 1 : previousState;\n  }\n\n  if (action.type === CRUD_GET_LIST_SUCCESS) {\n    return action.payload.total;\n  }\n\n  if (action.meta && action.meta.optimistic) {\n    if (action.meta.fetch === DELETE) {\n      return previousState - 1;\n    }\n\n    if (action.meta.fetch === DELETE_MANY) {\n      return previousState - action.payload.ids.length;\n    }\n  }\n\n  return previousState;\n};\n\nexport default totalReducer;","import { combineReducers } from 'redux';\nimport ids from './ids';\nimport loadedOnce from './loadedOnce';\nimport params from './params';\nimport selectedIds from './selectedIds';\nimport total from './total';\nexport default combineReducers({\n  ids: ids,\n  loadedOnce: loadedOnce,\n  params: params,\n  selectedIds: selectedIds,\n  total: total\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { REGISTER_RESOURCE, UNREGISTER_RESOURCE } from '../../../actions';\nimport data from './data';\nimport list from './list';\nvar initialState = {};\nexport default (function (previousState, action) {\n  var _a;\n\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  if (action.type === REGISTER_RESOURCE) {\n    var resourceState = {\n      props: action.payload,\n      data: data(undefined, action),\n      list: list(undefined, action)\n    };\n    return __assign({}, previousState, (_a = {}, _a[action.payload.name] = resourceState, _a));\n  }\n\n  if (action.type === UNREGISTER_RESOURCE) {\n    return Object.keys(previousState).reduce(function (acc, key) {\n      var _a;\n\n      if (key === action.payload) {\n        return acc;\n      }\n\n      return __assign({}, acc, (_a = {}, _a[key] = previousState[key], _a));\n    }, {});\n  }\n\n  if (!action.meta || !action.meta.resource) {\n    return previousState;\n  }\n\n  var resources = Object.keys(previousState);\n  var newState = resources.reduce(function (acc, resource) {\n    var _a;\n\n    return __assign({}, acc, (_a = {}, _a[resource] = action.meta.resource === resource ? {\n      props: previousState[resource].props,\n      data: data(previousState[resource].data, action),\n      list: list(previousState[resource].list, action)\n    } : previousState[resource], _a));\n  }, {});\n  return newState;\n});\nexport var getResources = function getResources(state) {\n  return Object.keys(state).map(function (key) {\n    return state[key].props;\n  });\n};\nexport var getReferenceResource = function getReferenceResource(state, props) {\n  return state[props.reference];\n};","import { FETCH_START, FETCH_END, FETCH_ERROR, FETCH_CANCEL } from '../../actions/fetchActions';\n\nvar loadingReducer = function loadingReducer(previousState, _a) {\n  if (previousState === void 0) {\n    previousState = 0;\n  }\n\n  var type = _a.type;\n\n  switch (type) {\n    case FETCH_START:\n      return previousState + 1;\n\n    case FETCH_END:\n    case FETCH_ERROR:\n    case FETCH_CANCEL:\n      return Math.max(previousState - 1, 0);\n\n    default:\n      return previousState;\n  }\n};\n\nexport default loadingReducer;","import { SHOW_NOTIFICATION, HIDE_NOTIFICATION } from '../../actions/notificationActions';\nimport { UNDO } from '../../actions/undoActions';\n\nvar notificationsReducer = function notificationsReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = [];\n  }\n\n  switch (action.type) {\n    case SHOW_NOTIFICATION:\n      return previousState.concat(action.payload);\n\n    case HIDE_NOTIFICATION:\n    case UNDO:\n      return previousState.slice(1);\n\n    default:\n      return previousState;\n  }\n};\n\nexport default notificationsReducer;\n/**\n * Returns the first available notification to show\n * @param {Object} state - Redux state\n */\n\nexport var getNotification = function getNotification(state) {\n  return state.admin.notifications[0];\n};","import { GET_LIST } from '../../core';\nexport var crudGetMatching = function crudGetMatching(reference, relatedTo, pagination, sort, filter) {\n  return {\n    type: CRUD_GET_MATCHING,\n    payload: {\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    },\n    meta: {\n      resource: reference,\n      relatedTo: relatedTo,\n      fetch: GET_LIST,\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_GET_MATCHING = 'RA/CRUD_GET_MATCHING';\nexport var CRUD_GET_MATCHING_LOADING = 'RA/CRUD_GET_MATCHING_LOADING';\nexport var CRUD_GET_MATCHING_FAILURE = 'RA/CRUD_GET_MATCHING_FAILURE';\nexport var CRUD_GET_MATCHING_SUCCESS = 'RA/CRUD_GET_MATCHING_SUCCESS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { CRUD_GET_MATCHING_SUCCESS, CRUD_GET_MATCHING_FAILURE } from '../../../actions/dataActions';\nvar initialState = {};\n\nvar possibleValuesreducer = function possibleValuesreducer(previousState, action) {\n  var _a, _b;\n\n  if (previousState === void 0) {\n    previousState = initialState;\n  }\n\n  switch (action.type) {\n    case CRUD_GET_MATCHING_SUCCESS:\n      return __assign({}, previousState, (_a = {}, _a[action.meta.relatedTo] = action.payload.data.map(function (record) {\n        return record.id;\n      }), _a));\n\n    case CRUD_GET_MATCHING_FAILURE:\n      return __assign({}, previousState, (_b = {}, _b[action.meta.relatedTo] = {\n        error: action.error\n      }, _b));\n\n    default:\n      return previousState;\n  }\n};\n\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return state[props.referenceSource(props.resource, props.source)];\n};\nexport var getPossibleReferences = function getPossibleReferences(referenceState, possibleValues, selectedIds) {\n  if (selectedIds === void 0) {\n    selectedIds = [];\n  }\n\n  if (!possibleValues) {\n    return null;\n  }\n\n  if (possibleValues.error) {\n    return possibleValues;\n  }\n\n  possibleValues = Array.from(possibleValues);\n  selectedIds.forEach(function (id) {\n    return possibleValues.some(function (value) {\n      return value === id;\n    }) || possibleValues.unshift(id);\n  });\n  return possibleValues.map(function (id) {\n    return referenceState.data[id];\n  }).filter(function (r) {\n    return typeof r !== 'undefined';\n  });\n};\nexport default possibleValuesreducer;","import { combineReducers } from 'redux';\nimport oneToMany from './oneToMany';\nimport possibleValues, { getPossibleReferences as pvGetPossibleReferences, getPossibleReferenceValues as pvGetPossibleReferenceValues } from './possibleValues';\nexport default combineReducers({\n  oneToMany: oneToMany,\n  possibleValues: possibleValues\n});\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return pvGetPossibleReferenceValues(state.possibleValues, props);\n};\nexport var getPossibleReferences = pvGetPossibleReferences;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { TOGGLE_SIDEBAR, SET_SIDEBAR_VISIBILITY, REFRESH_VIEW, START_OPTIMISTIC_MODE, STOP_OPTIMISTIC_MODE } from '../../actions';\nvar defaultState = {\n  sidebarOpen: false,\n  optimistic: false,\n  viewVersion: 0\n};\n\nvar uiReducer = function uiReducer(previousState, action) {\n  if (previousState === void 0) {\n    previousState = defaultState;\n  }\n\n  switch (action.type) {\n    case TOGGLE_SIDEBAR:\n      return __assign({}, previousState, {\n        sidebarOpen: !previousState.sidebarOpen\n      });\n\n    case SET_SIDEBAR_VISIBILITY:\n      return __assign({}, previousState, {\n        sidebarOpen: action.payload\n      });\n\n    case REFRESH_VIEW:\n      return __assign({}, previousState, {\n        viewVersion: previousState.viewVersion + 1\n      });\n\n    case START_OPTIMISTIC_MODE:\n      return __assign({}, previousState, {\n        optimistic: true\n      });\n\n    case STOP_OPTIMISTIC_MODE:\n      return __assign({}, previousState, {\n        optimistic: false\n      });\n\n    default:\n      return previousState;\n  }\n};\n\nexport default uiReducer;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n}; // reducer for queries called via useQueryWithStore and without a custom action name\n\n\nvar customQueriesReducer = function customQueriesReducer(previousState, _a) {\n  var _b;\n\n  if (previousState === void 0) {\n    previousState = {};\n  }\n\n  var type = _a.type,\n      requestPayload = _a.requestPayload,\n      payload = _a.payload,\n      meta = _a.meta;\n\n  if (type !== 'CUSTOM_QUERY_SUCCESS') {\n    return previousState;\n  }\n\n  var key = JSON.stringify({\n    type: meta.fetchResponse,\n    resource: meta.resource,\n    payload: requestPayload\n  });\n  return __assign({}, previousState, (_b = {}, _b[key] = payload, _b));\n};\n\nexport default customQueriesReducer;","import { combineReducers } from 'redux';\nimport resources, { getResources as resourceGetResources, getReferenceResource as resourceGetReferenceResource } from './resource';\nimport loading from './loading';\nimport notifications from './notifications';\nimport references, { getPossibleReferenceValues as referencesGetPossibleReferenceValues } from './references';\nimport ui from './ui';\nimport customQueries from './customQueries';\nexport default combineReducers({\n  resources: resources,\n  customQueries: customQueries,\n  loading: loading,\n  notifications: notifications,\n  references: references,\n  ui: ui\n});\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return referencesGetPossibleReferenceValues(state.references, props);\n};\nexport var getResources = function getResources(state) {\n  return resourceGetResources(state.resources);\n};\nexport var getReferenceResource = function getReferenceResource(state, props) {\n  return resourceGetReferenceResource(state.resources, props);\n};\nexport { getPossibleReferences } from './references';","export var REGISTER_RESOURCE = 'RA/REGISTER_RESOURCE';\nexport var registerResource = function registerResource(resource) {\n  return {\n    type: REGISTER_RESOURCE,\n    payload: resource\n  };\n};\nexport var UNREGISTER_RESOURCE = 'RA/UNREGISTER_RESOURCE';\nexport var unregisterResource = function unregisterResource(resourceName) {\n  return {\n    type: UNREGISTER_RESOURCE,\n    payload: resourceName\n  };\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport admin, { getResources as adminGetResources, getReferenceResource as adminGetReferenceResource, getPossibleReferenceValues as adminGetPossibleReferenceValues } from './admin';\nexport { getNotification } from './admin/notifications';\nexport default (function (customReducers, history) {\n  return combineReducers(__assign({\n    admin: admin,\n    router: connectRouter(history)\n  }, customReducers));\n});\nexport var getPossibleReferenceValues = function getPossibleReferenceValues(state, props) {\n  return adminGetPossibleReferenceValues(state.admin, props);\n};\nexport var getResources = function getResources(state) {\n  return adminGetResources(state.admin);\n};\nexport var getReferenceResource = function getReferenceResource(state, props) {\n  return adminGetReferenceResource(state.admin, props);\n};\nexport { getPossibleReferences } from './admin';","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { all, put, call, select, takeLatest, takeEvery } from 'redux-saga/effects';\nimport { push, replace } from 'connected-react-router';\nimport { showNotification, hideNotification } from '../actions/notificationActions';\nimport { USER_LOGIN, USER_LOGIN_LOADING, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_CHECK, USER_LOGOUT } from '../actions/authActions';\nimport { FETCH_ERROR } from '../actions/fetchActions';\nimport { clearState } from '../actions/clearActions';\nexport default (function (authProvider) {\n  if (!authProvider) {\n    return function () {\n      return null;\n    };\n  }\n\n  return function watchAuthActions() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all([takeEvery(USER_LOGIN, handleLogin(authProvider)), takeEvery(USER_CHECK, handleCheck(authProvider)), takeEvery(USER_LOGOUT, handleLogout(authProvider)), takeLatest(FETCH_ERROR, handleFetchError(authProvider))])];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n});\n\nvar nextPathnameSelector = function nextPathnameSelector(state) {\n  var locationState = state.router.location.state;\n  return locationState && locationState.nextPathname;\n};\n\nvar currentPathnameSelector = function currentPathnameSelector(state) {\n  return state.router.location;\n};\n\nvar getErrorMessage = function getErrorMessage(error, defaultMessage) {\n  return typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? defaultMessage : error.message;\n};\n\nexport var handleLogin = function handleLogin(authProvider) {\n  return function (action) {\n    var payload, meta, authPayload, redirectTo, e_1, errorMessage;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          payload = action.payload, meta = action.meta;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 7,, 10]);\n\n          return [4\n          /*yield*/\n          , put({\n            type: USER_LOGIN_LOADING\n          })];\n\n        case 2:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , call([authProvider, 'login'], payload)];\n\n        case 3:\n          authPayload = _a.sent();\n          return [4\n          /*yield*/\n          , put({\n            type: USER_LOGIN_SUCCESS,\n            payload: authPayload\n          })];\n\n        case 4:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , meta.pathName || select(nextPathnameSelector)];\n\n        case 5:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(push(redirectTo || '/'))];\n\n        case 6:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 7:\n          e_1 = _a.sent();\n          return [4\n          /*yield*/\n          , put({\n            type: USER_LOGIN_FAILURE,\n            error: e_1,\n            meta: {\n              auth: true\n            }\n          })];\n\n        case 8:\n          _a.sent();\n\n          errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');\n          return [4\n          /*yield*/\n          , put(showNotification(errorMessage, 'warning'))];\n\n        case 9:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport var handleCheck = function handleCheck(authProvider) {\n  return function (action) {\n    var payload, meta, error_1, redirectTo, errorMessage;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          payload = action.payload, meta = action.meta;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 8]);\n\n          return [4\n          /*yield*/\n          , call([authProvider, 'checkAuth'], payload)];\n\n        case 2:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 8];\n\n        case 3:\n          error_1 = _a.sent();\n          return [4\n          /*yield*/\n          , call([authProvider, 'logout'], undefined)];\n\n        case 4:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(replace({\n            pathname: error_1 && error_1.redirectTo || redirectTo || '/login',\n            state: {\n              nextPathname: meta.pathName\n            }\n          }))];\n\n        case 5:\n          _a.sent(); // Clear the state before showing a notification as it would be dismissed immediately otherwise\n\n\n          return [4\n          /*yield*/\n          , put(clearState())];\n\n        case 6:\n          // Clear the state before showing a notification as it would be dismissed immediately otherwise\n          _a.sent();\n\n          errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');\n          return [4\n          /*yield*/\n          , put(showNotification(errorMessage, 'warning'))];\n\n        case 7:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 8];\n\n        case 8:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport var handleLogout = function handleLogout(authProvider) {\n  return function (action) {\n    var payload, redirectTo;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          payload = action.payload;\n          return [4\n          /*yield*/\n          , call([authProvider, 'logout'], undefined)];\n\n        case 1:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(push(payload && payload.redirectTo || redirectTo || '/login'))];\n\n        case 2:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , put(clearState())];\n\n        case 3:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport var handleFetchError = function handleFetchError(authProvider) {\n  return function (action) {\n    var error, e_2, nextPathname, redirectTo;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          error = action.error;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 10]);\n\n          return [4\n          /*yield*/\n          , call([authProvider, 'checkError'], error)];\n\n        case 2:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 3:\n          e_2 = _a.sent();\n          return [4\n          /*yield*/\n          , select(currentPathnameSelector)];\n\n        case 4:\n          nextPathname = _a.sent();\n          return [4\n          /*yield*/\n          , call([authProvider, 'logout'], undefined)];\n\n        case 5:\n          redirectTo = _a.sent();\n          return [4\n          /*yield*/\n          , put(push({\n            pathname: redirectTo || '/login',\n            state: {\n              nextPathname: nextPathname\n            }\n          }))];\n\n        case 6:\n          _a.sent(); // Clear the state before showing a notification as it would be dismissed immediately otherwise\n\n\n          return [4\n          /*yield*/\n          , put(clearState())];\n\n        case 7:\n          // Clear the state before showing a notification as it would be dismissed immediately otherwise\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , put(hideNotification())];\n\n        case 8:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , put(showNotification('ra.notification.logged_out', 'warning'))];\n\n        case 9:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var USER_LOGIN = 'RA/USER_LOGIN';\nexport var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';\nexport var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';\nexport var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';\nexport var userLogin = function userLogin(payload, pathName) {\n  return {\n    type: USER_LOGIN,\n    payload: payload,\n    meta: {\n      auth: true,\n      pathName: pathName\n    }\n  };\n};\nexport var USER_CHECK = 'RA/USER_CHECK';\nexport var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';\nexport var userCheck = function userCheck(payload, pathName, routeParams) {\n  if (routeParams === void 0) {\n    routeParams = {};\n  }\n\n  return {\n    type: USER_CHECK,\n    payload: __assign({}, payload, {\n      routeParams: routeParams\n    }),\n    meta: {\n      auth: true,\n      pathName: pathName\n    }\n  };\n};\nexport var USER_LOGOUT = 'RA/USER_LOGOUT';\n/**\n * Action to trigger logout of the current user. The entire redux state will be cleared\n * thanks to the resettableAppReducer in Admin.\n * @see: Admin.js\n * @param redirectTo Path to direct to after logout\n * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}\n */\n\nexport var userLogout = function userLogout(redirectTo) {\n  return {\n    type: USER_LOGOUT,\n    payload: {\n      redirectTo: redirectTo\n    },\n    meta: {\n      auth: true\n    }\n  };\n};","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { call, takeEvery } from 'redux-saga/effects';\n/**\n * Callback Side Effects\n */\n\nfunction handleCallback(_a) {\n  var payload = _a.payload,\n      requestPayload = _a.requestPayload,\n      error = _a.error,\n      callback = _a.meta.callback;\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , call(callback, {\n          payload: payload,\n          requestPayload: requestPayload,\n          error: error\n        })];\n\n      case 1:\n        _b.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\n\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery(function (action) {\n          return action.meta && action.meta.callback;\n        }, handleCallback)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { all, call, cancelled, put, select, takeEvery } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType } from '../core';\n\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n  if (logger === void 0) {\n    logger = console.error;\n  }\n\n  if (!response.hasOwnProperty('data')) {\n    logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithArrayOfRecordsResponse.includes(type) && !Array.isArray(response.data)) {\n    logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) && Array.isArray(response.data) && response.data.length > 0 && response.data.some(function (d) {\n    return !d.hasOwnProperty('id');\n  })) {\n    logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithRecordResponse.includes(type) && !response.data.hasOwnProperty('id')) {\n    logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithTotalResponse.includes(type) && !response.hasOwnProperty('total')) {\n    logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n    throw new Error('ra.notification.data_provider_error');\n  }\n}\n\nexport function handleFetch(dataProvider, action) {\n  var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n        restType = fetchMeta;\n        successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n        failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n        _b.label = 1;\n\n      case 1:\n        _b.trys.push([1, 7, 10, 14]);\n\n        return [4\n        /*yield*/\n        , select(function (state) {\n          return state.admin.ui.optimistic;\n        })];\n\n      case 2:\n        isOptimistic = _b.sent();\n\n        if (isOptimistic) {\n          // in optimistic mode, all fetch actions are canceled,\n          // so the admin uses the store without synchronization\n          return [2\n          /*return*/\n          ];\n        }\n\n        return [4\n        /*yield*/\n        , all([put({\n          type: type + \"_LOADING\",\n          payload: payload,\n          meta: meta\n        }), put({\n          type: FETCH_START\n        })])];\n\n      case 3:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n\n      case 4:\n        response = _b.sent();\n\n        if (process.env.NODE_ENV !== 'production') {\n          validateResponseFormat(response, restType);\n        }\n\n        return [4\n        /*yield*/\n        , put({\n          type: type + \"_SUCCESS\",\n          payload: response,\n          requestPayload: payload,\n          meta: __assign({}, meta, successSideEffects, {\n            fetchResponse: restType,\n            fetchStatus: FETCH_END\n          })\n        })];\n\n      case 5:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put({\n          type: FETCH_END\n        })];\n\n      case 6:\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 14];\n\n      case 7:\n        error_1 = _b.sent();\n        return [4\n        /*yield*/\n        , put({\n          type: type + \"_FAILURE\",\n          error: error_1.message ? error_1.message : error_1,\n          payload: error_1.body ? error_1.body : null,\n          requestPayload: payload,\n          meta: __assign({}, meta, failureSideEffects, {\n            fetchResponse: restType,\n            fetchStatus: FETCH_ERROR\n          })\n        })];\n\n      case 8:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put({\n          type: FETCH_ERROR,\n          error: error_1\n        })];\n\n      case 9:\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 14];\n\n      case 10:\n        return [4\n        /*yield*/\n        , cancelled()];\n\n      case 11:\n        if (!_b.sent()) return [3\n        /*break*/\n        , 13];\n        return [4\n        /*yield*/\n        , put({\n          type: FETCH_CANCEL\n        })];\n\n      case 12:\n        _b.sent();\n\n        return [2\n        /*return*/\n        ];\n\n      case 13:\n        return [7\n        /*endfinally*/\n        ];\n\n      case 14:\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport var takeFetchAction = function takeFetchAction(action) {\n  return action.meta && action.meta.fetch;\n};\n\nvar fetch = function fetch(dataProvider) {\n  return function watchFetch() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , takeEvery(takeFetchAction, handleFetch, dataProvider)];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\n\nexport default fetch;","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\n/**\n * Notification Side Effects\n */\n\nfunction handleNotification(_a) {\n  var body, level, _b, messageArgs;\n\n  var error = _a.error,\n      _c = _a.meta,\n      notification = _c.notification,\n      optimistic = _c.optimistic;\n  return __generator(this, function (_d) {\n    switch (_d.label) {\n      case 0:\n        body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;\n        if (!error) return [3\n        /*break*/\n        , 2];\n        return [4\n        /*yield*/\n        , put(showNotification(typeof error === 'string' ? error : error.message || body, level || 'warning', {\n          messageArgs: messageArgs,\n          undoable: false\n        }))];\n\n      case 1:\n        return [2\n        /*return*/\n        , _d.sent()];\n\n      case 2:\n        return [4\n        /*yield*/\n        , put(showNotification(body, level || 'info', {\n          messageArgs: messageArgs,\n          undoable: optimistic\n        }))];\n\n      case 3:\n        _d.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\n\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery( // @ts-ignore\n        function (action) {\n          return action.meta && action.meta.notification;\n        }, handleNotification)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Redirection Side Effects\n */\n\nexport function handleRedirection(_a) {\n  var payload = _a.payload,\n      requestPayload = _a.requestPayload,\n      _b = _a.meta,\n      basePath = _b.basePath,\n      redirectTo = _b.redirectTo;\n  return __generator(this, function (_c) {\n    switch (_c.label) {\n      case 0:\n        if (!!redirectTo) return [3\n        /*break*/\n        , 2];\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 1:\n        _c.sent();\n\n        return [2\n        /*return*/\n        ];\n\n      case 2:\n        return [4\n        /*yield*/\n        , put(push(resolveRedirectTo(redirectTo, basePath, payload ? payload.id || (payload.data ? payload.data.id : null) : requestPayload ? requestPayload.id : null, payload && payload.data ? payload.data : requestPayload && requestPayload.data ? requestPayload.data : null)))];\n\n      case 3:\n        _c.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery( // @ts-ignore\n        function (action) {\n          return action.meta && typeof action.meta.redirectTo !== 'undefined';\n        }, handleRedirection)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { cancel, delay, fork, put, takeEvery } from 'redux-saga/effects';\n/**\n * Distinct reducer on ids\n *\n * @example\n * addIds([1, 2, 3], { payload: { ids: [3, 4] } })\n *   => [1, 2, 3, 4]\n */\n\nvar addIds = function addIds(oldIds, _a) {\n  var ids = _a.payload.ids; // Using a Set ensure we only keep distinct values\n\n  var oldIdsSet = new Set(oldIds);\n  ids.forEach(function (id) {\n    return oldIdsSet.add(id);\n  });\n  return Array.from(oldIdsSet);\n}; // We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\n\n\nexport var finalizeFactory = function finalizeFactory(tasks, accumulations) {\n  /**\n   * Fetch the accumulated value after a delay\n   *\n   * As this gets canceled by subsequent calls to accumulate(), only the last\n   * call to finalize() will not be canceled. The delay acts as a\n   * debounce.\n   *\n   * @see https://redux-saga.js.org/docs/recipes/#debouncing\n   */\n  return function finalize(key, actionCreator) {\n    var accumulatedValue, action;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          // combined with cancel(), this debounces the calls\n          return [4\n          /*yield*/\n          , delay(50)];\n\n        case 1:\n          // combined with cancel(), this debounces the calls\n          _a.sent();\n\n          accumulatedValue = accumulations[key]; // Remove the latest accumulated value so that they do not interfere with later calls\n\n          delete accumulations[key];\n          action = actionCreator(key, accumulatedValue);\n          return [4\n          /*yield*/\n          , put(action)];\n\n        case 2:\n          _a.sent();\n\n          delete tasks[key];\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n}; // We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\n\nexport var accumulateFactory = function accumulateFactory(tasks, accumulations, finalize) {\n  /**\n   * Accumulate actions and eventually redispatch an action with the accumulated payload\n   *\n   * @example\n   * accumulate({\n   *    type: CRUD_GET_MANY_ACCUMULATE,\n   *    payload: { ids: [1, 2, 3], resource: 'posts' },\n   *    meta: { accumulate: crudGetMany }\n   * });\n   * accumulate({\n   *    type: CRUD_GET_MANY_ACCUMULATE,\n   *    payload: { ids: [4, 5], resource: 'posts' },\n   *    meta: { accumulate: crudGetMany }\n   * });\n   *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })\n   *\n   * @example\n   * accumulate({\n   *    type: CRUD_GET_MATCHING_ACCUMULATE,\n   *    meta: {\n   *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n   *      accumulateValues: () => true,\n   *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n   *    }\n   * });\n   * accumulate({\n   *    type: CRUD_GET_MATCHING_ACCUMULATE,\n   *    meta: {\n   *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n   *      accumulateValues: () => true,\n   *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n   *    }\n   * });\n   *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})\n   */\n  return function accumulate(action) {\n    var key, accumulateValues, _a, _b;\n\n    return __generator(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          key = action.meta.accumulateKey || action.payload.resource;\n          if (!tasks[key]) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , cancel(tasks[key])];\n\n        case 1:\n          _c.sent();\n\n          _c.label = 2;\n\n        case 2:\n          accumulateValues = action.meta.accumulateValues || addIds; // accumulateValues is a reducer function, it receives the previous accumulatedValues for\n          // the provided key, and must return the updated accumulatedValues\n\n          accumulations[key] = accumulateValues(accumulations[key], action);\n          _a = tasks;\n          _b = key;\n          return [4\n          /*yield*/\n          , fork(finalize, key, action.meta.accumulate)];\n\n        case 3:\n          _a[_b] = _c.sent();\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n};\nexport default function () {\n  var accumulations, tasks;\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        accumulations = {};\n        tasks = {};\n        return [4\n        /*yield*/\n        , takeEvery(function (action) {\n          return action.meta && action.meta.accumulate;\n        }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Refresh Side Effects\n */\n\nfunction handleRefresh() {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\n\nexport default function () {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        return [4\n        /*yield*/\n        , takeEvery(function (action) {\n          return action.meta && action.meta.refresh;\n        }, handleRefresh)];\n\n      case 1:\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n  var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        action = undoableAction.payload.action;\n        _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n        return [4\n        /*yield*/\n        , put(startOptimisticMode())];\n\n      case 1:\n        _b.sent(); // dispatch action in optimistic mode (no fetch), with success side effects\n\n\n        return [4\n        /*yield*/\n        , put(__assign({}, action, {\n          type: action.type + \"_OPTIMISTIC\",\n          meta: __assign({}, metaWithoutSideEffects, onSuccess, {\n            optimistic: true\n          })\n        }))];\n\n      case 2:\n        // dispatch action in optimistic mode (no fetch), with success side effects\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , race({\n          undo: take(UNDO),\n          complete: take(COMPLETE)\n        })];\n\n      case 3:\n        complete = _b.sent().complete;\n        return [4\n        /*yield*/\n        , put(stopOptimisticMode())];\n\n      case 4:\n        _b.sent();\n\n        if (!complete) return [3\n        /*break*/\n        , 6]; // if not cancelled, redispatch the action, this time immediate, and without success side effect\n\n        return [4\n        /*yield*/\n        , put(__assign({}, action, {\n          meta: __assign({}, metaWithoutSideEffects, {\n            onSuccess: {\n              refresh: true\n            },\n            onFailure: __assign({}, onFailure, {\n              refresh: true\n            })\n          })\n        }))];\n\n      case 5:\n        // if not cancelled, redispatch the action, this time immediate, and without success side effect\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 9];\n\n      case 6:\n        return [4\n        /*yield*/\n        , put(showNotification('ra.notification.canceled'))];\n\n      case 7:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 8:\n        _b.sent();\n\n        _b.label = 9;\n\n      case 9:\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport default function watchUndoable() {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        // @ts-ignore\n        return [4\n        /*yield*/\n        , takeEvery(UNDOABLE, handleUndoRace)];\n\n      case 1:\n        // @ts-ignore\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { all } from 'redux-saga/effects';\nimport auth from './auth';\nimport callback from './callback';\nimport fetch from './fetch';\nimport notification from './notification';\nimport redirection from './redirection';\nimport accumulate from './accumulate';\nimport refresh from './refresh';\nimport undo from './undo';\n/**\n * @param {Object} dataProvider A Data Provider function\n * @param {Function} authProvider An Authentication Provider object\n */\n\nexport default (function (dataProvider, authProvider) {\n  return function admin() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all([auth(authProvider)(), undo(), fetch(dataProvider)(), accumulate(), redirection(), refresh(), notification(), callback()])];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n  var dataProvider = _a.dataProvider,\n      history = _a.history,\n      _b = _a.customReducers,\n      customReducers = _b === void 0 ? {} : _b,\n      _c = _a.authProvider,\n      authProvider = _c === void 0 ? null : _c,\n      _d = _a.customSagas,\n      customSagas = _d === void 0 ? [] : _d,\n      initialState = _a.initialState;\n  var appReducer = createAppReducer(customReducers, history);\n\n  var resettableAppReducer = function resettableAppReducer(state, action) {\n    return appReducer(action.type !== CLEAR_STATE ? state : // Erase data from the store but keep location, notifications, ui prefs, etc.\n    __assign({}, state, {\n      admin: __assign({}, state.admin, {\n        resources: {},\n        customQueries: {},\n        references: {\n          oneToMany: {},\n          possibleValues: {}\n        }\n      })\n    }), action);\n  };\n\n  var saga = function rootSaga() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all([adminSaga(dataProvider, authProvider)].concat(customSagas).map(fork))];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n\n  var sagaMiddleware = createSagaMiddleware();\n  var typedWindow = window;\n  var composeEnhancers = process.env.NODE_ENV === 'development' && typeof typedWindow !== 'undefined' && typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    trace: true,\n    traceLimit: 25\n  }) || compose;\n  var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n  sagaMiddleware.run(saga);\n  return store;\n});","import { createContext } from 'react';\nvar TranslationContext = createContext({\n  locale: 'en',\n  setLocale: function setLocale() {\n    return Promise.resolve();\n  },\n  i18nProvider: {\n    translate: function translate(x) {\n      return x;\n    },\n    changeLocale: function changeLocale() {\n      return Promise.resolve();\n    },\n    getLocale: function getLocale() {\n      return 'en';\n    }\n  }\n});\nTranslationContext.displayName = 'TranslationContext';\nexport { TranslationContext };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useCallback, useMemo, Children } from 'react';\nimport { useSafeSetState } from '../util/hooks';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Creates a translation context, available to its children\n *\n * @example\n *     const MyApp = () => (\n *         <Provider store={store}>\n *             <TranslationProvider i18nProvider={i18nProvider}>\n *                 <!-- Child components go here -->\n *             </TranslationProvider>\n *         </Provider>\n *     );\n */\n\nvar TranslationProvider = function TranslationProvider(props) {\n  var i18nProvider = props.i18nProvider,\n      children = props.children;\n\n  var _a = useSafeSetState({\n    locale: i18nProvider ? i18nProvider.getLocale() : 'en',\n    i18nProvider: i18nProvider\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var setLocale = useCallback(function (newLocale) {\n    return setState({\n      locale: newLocale,\n      i18nProvider: i18nProvider\n    });\n  }, [i18nProvider, setState]); // Allow locale modification by including setLocale in the context\n  // This can't be done in the initial state because setState doesn't exist yet\n\n  var value = useMemo(function () {\n    return __assign({}, state, {\n      setLocale: setLocale\n    });\n  }, [setLocale, state]);\n  return React.createElement(TranslationContext.Provider, {\n    value: value\n  }, Children.only(children));\n};\n\nexport default TranslationProvider;","import React, { useContext } from 'react';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { createHashHistory } from 'history';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider } from '../dataProvider';\nimport createAdminStore from './createAdminStore';\nimport TranslationProvider from '../i18n/TranslationProvider';\n\nvar CoreAdminContext = function CoreAdminContext(_a) {\n  var authProvider = _a.authProvider,\n      dataProvider = _a.dataProvider,\n      i18nProvider = _a.i18nProvider,\n      children = _a.children,\n      history = _a.history,\n      customReducers = _a.customReducers,\n      customSagas = _a.customSagas,\n      initialState = _a.initialState;\n  var reduxIsAlreadyInitialized = !!useContext(ReactReduxContext);\n\n  if (!dataProvider) {\n    throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n  }\n\n  var finalAuthProvider = authProvider instanceof Function ? convertLegacyAuthProvider(authProvider) : authProvider;\n  var finalDataProvider = dataProvider instanceof Function ? convertLegacyDataProvider(dataProvider) : dataProvider;\n  var finalHistory = history || createHashHistory();\n\n  var renderCore = function renderCore() {\n    return React.createElement(AuthContext.Provider, {\n      value: finalAuthProvider\n    }, React.createElement(DataProviderContext.Provider, {\n      value: finalDataProvider\n    }, React.createElement(TranslationProvider, {\n      i18nProvider: i18nProvider\n    }, React.createElement(ConnectedRouter, {\n      history: finalHistory\n    }, children))));\n  };\n\n  if (reduxIsAlreadyInitialized) {\n    if (!history) {\n      throw new Error(\"Missing history prop.\\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\\nReact-admin uses this history for its own ConnectedRouter.\");\n    }\n\n    return renderCore();\n  } else {\n    return React.createElement(Provider, {\n      store: createAdminStore({\n        authProvider: finalAuthProvider,\n        customReducers: customReducers,\n        customSagas: customSagas,\n        dataProvider: finalDataProvider,\n        initialState: initialState,\n        history: finalHistory\n      })\n    }, renderCore());\n  }\n};\n\nexport default CoreAdminContext;","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS } from './types';\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\n\nexport default (function (legacyAuthProvider) {\n  var authProvider = function authProvider() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return legacyAuthProvider.apply(null, args);\n  };\n\n  authProvider.login = function (params) {\n    return legacyAuthProvider(AUTH_LOGIN, params);\n  };\n\n  authProvider.logout = function (params) {\n    return legacyAuthProvider(AUTH_LOGOUT, params);\n  };\n\n  authProvider.checkAuth = function (params) {\n    return legacyAuthProvider(AUTH_CHECK, params);\n  };\n\n  authProvider.checkError = function (error) {\n    return legacyAuthProvider(AUTH_ERROR, error);\n  };\n\n  authProvider.getPermissions = function (params) {\n    return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n  };\n\n  return authProvider;\n});","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource, polyglotI18nProvider } from 'react-admin';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(locale => messages[locale])\n */\n\nexport default (function (getMessages, initialLocale, polyglotOptions) {\n  if (initialLocale === void 0) {\n    initialLocale = 'en';\n  }\n\n  if (polyglotOptions === void 0) {\n    polyglotOptions = {};\n  }\n\n  var locale = initialLocale;\n  var messages = getMessages(initialLocale);\n\n  if (messages instanceof Promise) {\n    throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\" + initialLocale + \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\");\n  }\n\n  var polyglot = new Polyglot(__assign({\n    locale: locale,\n    phrases: __assign({\n      '': ''\n    }, messages)\n  }, polyglotOptions));\n\n  var _translate = polyglot.t.bind(polyglot);\n\n  return {\n    translate: function translate(key, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      return _translate(key, options);\n    },\n    changeLocale: function changeLocale(newLocale) {\n      return new Promise(function (resolve) {\n        // so we systematically return a Promise for the messages\n        // i18nProvider may return a Promise for language changes,\n        return resolve(getMessages(newLocale));\n      }).then(function (messages) {\n        locale = newLocale;\n        var newPolyglot = new Polyglot(__assign({\n          locale: newLocale,\n          phrases: __assign({\n            '': ''\n          }, messages)\n        }, polyglotOptions));\n        _translate = newPolyglot.t.bind(newPolyglot);\n      });\n    },\n    getLocale: function getLocale() {\n      return locale;\n    }\n  };\n});","import defaultMessages from 'ra-language-english';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nexport default polyglotI18nProvider(function () {\n  return defaultMessages;\n});","import { CoreAdminContext } from 'ra-core';\nimport defaultI18nProvider from './defaultI18nProvider';\nvar AdminContext = CoreAdminContext;\nAdminContext.defaultProps = {\n  i18nProvider: defaultI18nProvider\n};\nAdminContext.displayName = 'AdminContext';\nexport default AdminContext;","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport useNotify from '../sideEffect/useNotify';\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useAuthCheck.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\n\nvar useCheckAuth = function useCheckAuth() {\n  var authProvider = useAuthProvider();\n  var notify = useNotify();\n  var logout = useLogout();\n  var checkAuth = useCallback(function (params, logoutOnFailure, redirectTo) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (logoutOnFailure === void 0) {\n      logoutOnFailure = true;\n    }\n\n    if (redirectTo === void 0) {\n      redirectTo = defaultAuthParams.loginUrl;\n    }\n\n    return authProvider.checkAuth(params).catch(function (error) {\n      if (logoutOnFailure) {\n        logout({}, error && error.redirectTo ? error.redirectTo : redirectTo);\n        notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');\n      }\n\n      throw error;\n    });\n  }, [authProvider, logout, notify]);\n  return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\n\nvar checkAuthWithoutAuthProvider = function checkAuthWithoutAuthProvider() {\n  return Promise.resolve();\n};\n\nvar getErrorMessage = function getErrorMessage(error, defaultMessage) {\n  return typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? defaultMessage : error.message;\n};\n\nexport default useCheckAuth;","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nvar emptyParams = {};\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\nexport default (function (params) {\n  if (params === void 0) {\n    params = emptyParams;\n  }\n\n  var checkAuth = useCheckAuth();\n  useEffect(function () {\n    checkAuth(params).catch(function () {});\n  }, [checkAuth, params]);\n});","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\n\nvar useGetPermissions = function useGetPermissions() {\n  var authProvider = useAuthProvider();\n  var getPermissions = useCallback(function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    return authProvider.getPermissions(params);\n  }, [authProvider]);\n  return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\n\nvar getPermissionsWithoutProvider = function getPermissionsWithoutProvider() {\n  return Promise.resolve([]);\n};\n\nexport default useGetPermissions;","import { useEffect } from 'react';\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting user permissions\n *\n * Calls the authProvider.getPrmissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { permissions: [any], loading: false, loaded: true }\n * - error: { error: [error from provider], loading: false, loaded: true }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error, loading, loaded }.\n *\n * @example\n *     import { usePermissions } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { loaded, permissions } = usePermissions();\n *         if (loaded && permissions == 'editor') {\n *             return <PostEdit {...props} />\n *         } else {\n *             return <PostShow {...props} />\n *         }\n *     };\n */\n\nvar usePermissions = function usePermissions(params) {\n  if (params === void 0) {\n    params = emptyParams;\n  }\n\n  var _a = useSafeSetState({\n    loading: true,\n    loaded: false\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var getPermissions = useGetPermissions();\n  useEffect(function () {\n    getPermissions(params).then(function (permissions) {\n      setState({\n        loading: false,\n        loaded: true,\n        permissions: permissions\n      });\n    }).catch(function (error) {\n      setState({\n        loading: false,\n        loaded: true,\n        error: error\n      });\n    });\n  }, [getPermissions, params, setState]);\n  return state;\n};\n\nexport default usePermissions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Children, createElement } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissions from './usePermissions';\n\nvar isEmptyChildren = function isEmptyChildren(children) {\n  return Children.count(children) === 0;\n};\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\n\nvar WithPermissions = function WithPermissions(_a) {\n  var authParams = _a.authParams,\n      children = _a.children,\n      render = _a.render,\n      component = _a.component,\n      staticContext = _a.staticContext,\n      props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n\n  warning(render && children && !isEmptyChildren(children) || render && component || component && children && !isEmptyChildren(children), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n  useAuthenticated(authParams);\n  var permissions = usePermissions(authParams).permissions; // render even though the usePermissions() call isn't finished (optimistic rendering)\n\n  if (component) {\n    return createElement(component, __assign({\n      permissions: permissions\n    }, props));\n  } // @deprecated\n\n\n  if (render) {\n    return render(__assign({\n      permissions: permissions\n    }, props));\n  } // @deprecated\n\n\n  if (children) {\n    return children(__assign({\n      permissions: permissions\n    }, props));\n  }\n};\n\nexport default WithPermissions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Children, cloneElement, createElement } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\n\nvar RoutesWithLayout = function RoutesWithLayout(_a) {\n  var catchAll = _a.catchAll,\n      children = _a.children,\n      customRoutes = _a.customRoutes,\n      dashboard = _a.dashboard,\n      title = _a.title;\n  var childrenAsArray = React.Children.toArray(children);\n  var firstChild = childrenAsArray.length > 0 ? childrenAsArray[0] : null;\n  return React.createElement(Switch, null, customRoutes && customRoutes.map(function (route, key) {\n    return cloneElement(route, {\n      key: key\n    });\n  }), Children.map(children, function (child) {\n    return React.createElement(Route, {\n      key: child.props.name,\n      path: \"/\" + child.props.name,\n      render: function render(props) {\n        return cloneElement(child, __assign({\n          // The context prop instruct the Resource component to\n          // render itself as a standard component\n          intent: 'route'\n        }, props));\n      }\n    });\n  }), dashboard ? React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function render(routeProps) {\n      return React.createElement(WithPermissions, __assign({\n        authParams: {\n          route: 'dashboard'\n        },\n        component: dashboard\n      }, routeProps));\n    }\n  }) : firstChild ? React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function render() {\n      return React.createElement(Redirect, {\n        to: \"/\" + firstChild.props.name\n      });\n    }\n  }) : null, React.createElement(Route, {\n    render: function render(routeProps) {\n      return createElement(catchAll, __assign({}, routeProps, {\n        title: title\n      }));\n    }\n  }));\n};\n\nexport default RoutesWithLayout;","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status and restricting access to authenticated users\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n * If the authProvider returns a rejected promise, logs the user out.\n *\n * The return value updates according to the authProvider request state:\n *\n * - start:   { authenticated: false, loading: true, loaded: false }\n * - success: { authenticated: true,  loading: false, loaded: true }\n * - error:   { authenticated: false, loading: false, loaded: true }\n *\n * Useful in custom page components that can work both for connected and\n * anonymous users. For pages that can only work for connected users,\n * prefer the useAuthenticated() hook.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.\n *\n * @example\n *     import { useAuthState } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/bar\" render={() => {\n *              const { authenticated } = useAuthState({ myContext: 'foobar' });\n *              return authenticated ? <Bar /> : <BarNotAuthenticated />;\n *          }} />,\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\nvar useAuthState = function useAuthState(params) {\n  if (params === void 0) {\n    params = emptyParams;\n  }\n\n  var _a = useSafeSetState({\n    loading: true,\n    loaded: false,\n    authenticated: true\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var checkAuth = useCheckAuth();\n  useEffect(function () {\n    checkAuth(params, false).then(function () {\n      return setState({\n        loading: false,\n        loaded: true,\n        authenticated: true\n      });\n    }).catch(function () {\n      return setState({\n        loading: false,\n        loaded: true,\n        authenticated: false\n      });\n    });\n  }, [checkAuth, params, setState]);\n  return state;\n};\n\nexport default useAuthState;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar _this = this;\n\nimport React, { Children, useEffect, cloneElement, createElement } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport RoutesWithLayout from './RoutesWithLayout';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { Ready, useTimeout, useSafeSetState } from '../util';\n\nvar CoreAdminRouter = function CoreAdminRouter(props) {\n  var getPermissions = useGetPermissions();\n  var doLogout = useLogout();\n  var authenticated = useAuthState().authenticated;\n  var oneSecondHasPassed = useTimeout(1000);\n\n  var _a = useSafeSetState([]),\n      computedChildren = _a[0],\n      setComputedChildren = _a[1];\n\n  useEffect(function () {\n    if (typeof props.children === 'function') {\n      initializeResources();\n    }\n  }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var initializeResources = function initializeResources() {\n    return __awaiter(_this, void 0, void 0, function () {\n      var permissions, resolveChildren, childrenFuncResult, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , getPermissions()];\n\n          case 1:\n            permissions = _a.sent();\n            resolveChildren = props.children;\n            childrenFuncResult = resolveChildren(permissions);\n\n            if (childrenFuncResult.then) {\n              childrenFuncResult.then(function (resolvedChildren) {\n                return setComputedChildren(resolvedChildren.filter(function (child) {\n                  return child;\n                }).map(function (child) {\n                  return __assign({}, child, {\n                    props: __assign({}, child.props, {\n                      key: child.props.name\n                    })\n                  });\n                }));\n              });\n            } else {\n              setComputedChildren(childrenFuncResult.filter(function (child) {\n                return child;\n              }));\n            }\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            error_1 = _a.sent();\n            console.error(error_1);\n            doLogout();\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  var renderCustomRoutesWithoutLayout = function renderCustomRoutesWithoutLayout(route, routeProps) {\n    if (route.props.render) {\n      return route.props.render(__assign({}, routeProps, {\n        title: props.title\n      }));\n    }\n\n    if (route.props.component) {\n      return createElement(route.props.component, __assign({}, routeProps, {\n        title: props.title\n      }));\n    }\n  };\n\n  var layout = props.layout,\n      catchAll = props.catchAll,\n      children = props.children,\n      customRoutes = props.customRoutes,\n      dashboard = props.dashboard,\n      loading = props.loading,\n      logout = props.logout,\n      menu = props.menu,\n      theme = props.theme,\n      title = props.title;\n\n  if (process.env.NODE_ENV !== 'production' && typeof children !== 'function' && !children) {\n    return React.createElement(Ready, null);\n  }\n\n  if (typeof children === 'function' && (!computedChildren || computedChildren.length === 0)) {\n    if (oneSecondHasPassed) {\n      return React.createElement(Route, {\n        path: \"/\",\n        key: \"loading\",\n        component: loading\n      });\n    } else {\n      return null;\n    }\n  }\n\n  var childrenToRender = typeof children === 'function' ? computedChildren : children;\n  return React.createElement(\"div\", null, // as we need all of them and not just the one rendered\n  Children.map(childrenToRender, function (child) {\n    return cloneElement(child, {\n      key: child.props.name,\n      // The context prop instructs the Resource component to not render anything\n      // but simply to register itself as a known resource\n      intent: 'registration'\n    });\n  }), React.createElement(Switch, null, customRoutes.filter(function (route) {\n    return route.props.noLayout;\n  }).map(function (route, key) {\n    return cloneElement(route, {\n      key: key,\n      render: function render(routeProps) {\n        return renderCustomRoutesWithoutLayout(route, routeProps);\n      }\n    });\n  }), React.createElement(Route, {\n    path: \"/\",\n    render: function render() {\n      return createElement(layout, {\n        dashboard: dashboard,\n        logout: logout,\n        menu: menu,\n        theme: theme,\n        title: title\n      }, React.createElement(RoutesWithLayout, {\n        catchAll: catchAll,\n        customRoutes: customRoutes.filter(function (route) {\n          return !route.props.noLayout;\n        }),\n        dashboard: dashboard,\n        title: title\n      }, Children.map(childrenToRender, function (child) {\n        return cloneElement(child, {\n          key: child.props.name,\n          intent: 'route'\n        });\n      })));\n    }\n  })));\n};\n\nCoreAdminRouter.defaultProps = {\n  customRoutes: []\n};\nexport default CoreAdminRouter;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { createElement } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CoreAdminRouter from './CoreAdminRouter';\n\nvar DefaultLayout = function DefaultLayout(_a) {\n  var children = _a.children;\n  return React.createElement(React.Fragment, null, children);\n};\n\nvar CoreAdminUI = function CoreAdminUI(_a) {\n  var _b = _a.catchAll,\n      catchAll = _b === void 0 ? Noop : _b,\n      children = _a.children,\n      _c = _a.customRoutes,\n      customRoutes = _c === void 0 ? [] : _c,\n      dashboard = _a.dashboard,\n      _d = _a.layout,\n      layout = _d === void 0 ? DefaultLayout : _d,\n      _e = _a.loading,\n      loading = _e === void 0 ? Noop : _e,\n      _f = _a.loginPage,\n      loginPage = _f === void 0 ? false : _f,\n      logout = _a.logout,\n      menu = _a.menu,\n      // deprecated, use a custom layout instead\n  theme = _a.theme,\n      _g = _a.title,\n      title = _g === void 0 ? 'React Admin' : _g;\n  return React.createElement(Switch, null, loginPage !== false && loginPage !== true ? React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: function render(props) {\n      return createElement(loginPage, __assign({}, props, {\n        title: title,\n        theme: theme\n      }));\n    }\n  }) : null, React.createElement(Route, {\n    path: \"/\",\n    render: function render(props) {\n      return React.createElement(CoreAdminRouter, __assign({\n        catchAll: catchAll,\n        customRoutes: customRoutes,\n        dashboard: dashboard,\n        layout: layout,\n        loading: loading,\n        logout: logout && createElement(logout),\n        menu: menu,\n        theme: theme,\n        title: title\n      }, props), children);\n    }\n  }));\n};\n\nvar Noop = function Noop() {\n  return null;\n};\n\nexport default CoreAdminUI;","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\n\nvar useTranslate = function useTranslate() {\n  var _a = useContext(TranslationContext),\n      i18nProvider = _a.i18nProvider,\n      locale = _a.locale;\n\n  var translate = useCallback(function (key, options) {\n    return i18nProvider.translate(key, options);\n  }, // update the hook each time the locale changes\n  [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  return i18nProvider ? translate : identity;\n};\n\nvar identity = function identity(key) {\n  return key;\n};\n\nexport default useTranslate;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport NavigationRefresh from '@material-ui/icons/Refresh';\nimport { refreshView, useTranslate } from 'ra-core';\nvar defaultIcon = React.createElement(NavigationRefresh, null);\n\nvar RefreshIconButton = function RefreshIconButton(_a) {\n  var _b = _a.label,\n      label = _b === void 0 ? 'ra.action.refresh' : _b,\n      _c = _a.icon,\n      icon = _c === void 0 ? defaultIcon : _c,\n      onClick = _a.onClick,\n      className = _a.className,\n      rest = __rest(_a, [\"label\", \"icon\", \"onClick\", \"className\"]);\n\n  var dispatch = useDispatch();\n  var translate = useTranslate();\n  var handleClick = useCallback(function (event) {\n    event.preventDefault();\n    dispatch(refreshView());\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  }, [dispatch, onClick]);\n  return React.createElement(Tooltip, {\n    title: label && translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, __assign({\n    \"aria-label\": label && translate(label, {\n      _: label\n    }),\n    className: className,\n    color: \"inherit\",\n    onClick: handleClick\n  }, rest), icon));\n};\n\nRefreshIconButton.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.string,\n  icon: PropTypes.element\n};\nexport default RefreshIconButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport RefreshIconButton from '../button/RefreshIconButton';\nvar useStyles = makeStyles({\n  loader: {\n    margin: 14\n  }\n});\nexport var LoadingIndicator = function LoadingIndicator(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      rest = __rest(_a, [\"classes\", \"className\"]);\n\n  var loading = useSelector(function (state) {\n    return state.admin.loading > 0;\n  });\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return loading ? React.createElement(CircularProgress, __assign({\n    className: classNames('app-loader', classes.loader, className),\n    color: \"inherit\",\n    size: 18,\n    thickness: 5\n  }, rest)) : React.createElement(RefreshIconButton, null);\n};\nLoadingIndicator.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  isLoading: PropTypes.bool,\n  width: PropTypes.string\n};\nexport default LoadingIndicator;","import React, { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate } from 'ra-core';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nvar UserMenu = function UserMenu(props) {\n  var _a = useState(null),\n      anchorEl = _a[0],\n      setAnchorEl = _a[1];\n\n  var translate = useTranslate();\n  var children = props.children,\n      label = props.label,\n      icon = props.icon,\n      logout = props.logout;\n  if (!logout && !children) return null;\n  var open = Boolean(anchorEl);\n\n  var handleMenu = function handleMenu(event) {\n    return setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    return setAnchorEl(null);\n  };\n\n  return React.createElement(\"div\", null, React.createElement(Tooltip, {\n    title: label && translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, {\n    \"aria-label\": label && translate(label, {\n      _: label\n    }),\n    \"aria-owns\": open ? 'menu-appbar' : null,\n    \"aria-haspopup\": true,\n    color: \"inherit\",\n    onClick: handleMenu\n  }, icon)), React.createElement(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: open,\n    onClose: handleClose\n  }, Children.map(children, function (menuItem) {\n    return isValidElement(menuItem) ? cloneElement(menuItem, {\n      onClick: handleClose\n    }) : null;\n  }), logout));\n};\n\nUserMenu.propTypes = {\n  children: PropTypes.node,\n  label: PropTypes.string.isRequired,\n  logout: PropTypes.element,\n  icon: PropTypes.node\n};\nUserMenu.defaultProps = {\n  label: 'ra.auth.user_menu',\n  icon: React.createElement(AccountCircle, null)\n};\nexport default UserMenu;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\n\nfunction HideOnScroll(props) {\n  var children = props.children;\n  var trigger = useScrollTrigger();\n  return React.createElement(Slide, {\n    appear: false,\n    direction: \"down\",\n    in: !trigger\n  }, children);\n}\n\nHideOnScroll.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default HideOnScroll;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport classNames from 'classnames';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { toggleSidebar } from 'ra-core';\nimport LoadingIndicator from './LoadingIndicator';\nimport DefaultUserMenu from './UserMenu';\nimport HideOnScroll from './HideOnScroll';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    toolbar: {\n      paddingRight: 24\n    },\n    menuButton: {\n      marginLeft: '0.5em',\n      marginRight: '0.5em'\n    },\n    menuButtonIconClosed: {\n      transition: theme.transitions.create(['transform'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      transform: 'rotate(0deg)'\n    },\n    menuButtonIconOpen: {\n      transition: theme.transitions.create(['transform'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      transform: 'rotate(180deg)'\n    },\n    title: {\n      flex: 1,\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden'\n    }\n  };\n});\n\nvar AppBar = function AppBar(_a) {\n  var children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      logo = _a.logo,\n      logout = _a.logout,\n      open = _a.open,\n      title = _a.title,\n      userMenu = _a.userMenu,\n      rest = __rest(_a, [\"children\", \"classes\", \"className\", \"logo\", \"logout\", \"open\", \"title\", \"userMenu\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var dispatch = useDispatch();\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  return React.createElement(HideOnScroll, null, React.createElement(MuiAppBar, __assign({\n    className: className,\n    color: \"secondary\"\n  }, rest), React.createElement(Toolbar, {\n    disableGutters: true,\n    variant: isXSmall ? 'regular' : 'dense',\n    className: classes.toolbar\n  }, React.createElement(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: function onClick() {\n      return dispatch(toggleSidebar());\n    },\n    className: classNames(classes.menuButton)\n  }, React.createElement(MenuIcon, {\n    classes: {\n      root: open ? classes.menuButtonIconOpen : classes.menuButtonIconClosed\n    }\n  })), Children.count(children) === 0 ? React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    className: classes.title,\n    id: \"react-admin-title\"\n  }) : children, React.createElement(LoadingIndicator, null), cloneElement(userMenu, {\n    logout: logout\n  }))));\n};\n\nAppBar.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  logout: PropTypes.element,\n  open: PropTypes.bool,\n  userMenu: PropTypes.element\n};\nAppBar.defaultProps = {\n  userMenu: React.createElement(DefaultUserMenu, null)\n};\nexport default AppBar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Drawer, makeStyles, useMediaQuery } from '@material-ui/core';\nimport lodashGet from 'lodash/get';\nimport { setSidebarVisibility } from 'ra-core';\nexport var DRAWER_WIDTH = 240;\nexport var CLOSED_DRAWER_WIDTH = 55;\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    drawerPaper: (_a = {\n      position: 'relative',\n      height: 'auto',\n      overflowX: 'hidden',\n      width: function width(props) {\n        return props.open ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH) : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH);\n      },\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      backgroundColor: 'transparent',\n      marginTop: '0.5em',\n      borderRight: 'none'\n    }, _a[theme.breakpoints.only('xs')] = {\n      marginTop: 0,\n      height: '100vh',\n      position: 'inherit',\n      backgroundColor: theme.palette.background.default\n    }, _a[theme.breakpoints.up('md')] = {\n      border: 'none',\n      marginTop: '1.5em'\n    }, _a)\n  };\n});\n\nvar Sidebar = function Sidebar(_a) {\n  var children = _a.children,\n      closedSize = _a.closedSize,\n      size = _a.size,\n      rest = __rest(_a, [\"children\", \"closedSize\", \"size\"]);\n\n  var dispatch = useDispatch();\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('sm');\n  }); // FIXME negating isXSmall and isSmall should be enough, but unfortunately\n  // mui media queries use a two pass system and are always false at first\n  // see https://github.com/mui-org/material-ui/issues/14336\n\n  var isDesktop = useMediaQuery(function (theme) {\n    return theme.breakpoints.up('md');\n  });\n  useEffect(function () {\n    if (isDesktop) {\n      dispatch(setSidebarVisibility(true)); // FIXME renders with a closed sidebar at first\n    }\n  }, [isDesktop, dispatch]);\n  var open = useSelector(function (state) {\n    return state.admin.ui.sidebarOpen;\n  });\n  useSelector(function (state) {\n    return state.locale;\n  }); // force redraw on locale change\n\n  var handleClose = function handleClose() {\n    return dispatch(setSidebarVisibility(false));\n  };\n\n  var toggleSidebar = function toggleSidebar() {\n    return dispatch(setSidebarVisibility(!open));\n  };\n\n  var classes = useStyles({\n    open: open\n  });\n  return isXSmall ? React.createElement(Drawer, __assign({\n    variant: \"temporary\",\n    open: open,\n    PaperProps: {\n      className: classes.drawerPaper\n    },\n    onClose: toggleSidebar\n  }, rest), cloneElement(Children.only(children), {\n    onMenuClick: handleClose\n  })) : isSmall ? React.createElement(Drawer, __assign({\n    variant: \"permanent\",\n    open: open,\n    PaperProps: {\n      className: classes.drawerPaper\n    },\n    onClose: toggleSidebar\n  }, rest), cloneElement(Children.only(children), {\n    dense: true,\n    onMenuClick: handleClose\n  })) : React.createElement(Drawer, __assign({\n    variant: \"permanent\",\n    open: open,\n    PaperProps: {\n      className: classes.drawerPaper\n    },\n    onClose: toggleSidebar\n  }, rest), cloneElement(Children.only(children), {\n    dense: true\n  }));\n};\n\nSidebar.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default Sidebar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { forwardRef, cloneElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nvar NavLinkRef = React.forwardRef(function (props, ref) {\n  return React.createElement(NavLink, __assign({\n    innerRef: ref\n  }, props));\n});\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      color: theme.palette.text.secondary\n    },\n    active: {\n      color: theme.palette.text.primary\n    },\n    icon: {\n      minWidth: theme.spacing(5)\n    }\n  };\n});\nvar MenuItemLink = forwardRef(function (_a, ref) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      primaryText = _a.primaryText,\n      leftIcon = _a.leftIcon,\n      onClick = _a.onClick,\n      sidebarIsOpen = _a.sidebarIsOpen,\n      props = __rest(_a, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"onClick\", \"sidebarIsOpen\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var handleMenuTap = useCallback(function (e) {\n    onClick && onClick(e);\n  }, [onClick]);\n\n  var renderMenuItem = function renderMenuItem() {\n    return React.createElement(MenuItem, __assign({\n      className: classnames(classes.root, className),\n      activeClassName: classes.active,\n      component: NavLinkRef,\n      ref: ref\n    }, props, {\n      onClick: handleMenuTap\n    }), leftIcon && React.createElement(ListItemIcon, {\n      className: classes.icon\n    }, cloneElement(leftIcon, {\n      titleAccess: primaryText\n    })), primaryText);\n  };\n\n  if (sidebarIsOpen) {\n    return renderMenuItem();\n  }\n\n  return React.createElement(Tooltip, {\n    title: primaryText,\n    placement: \"right\"\n  }, renderMenuItem());\n});\nMenuItemLink.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  leftIcon: PropTypes.element,\n  onClick: PropTypes.func,\n  primaryText: PropTypes.node,\n  staticContext: PropTypes.object,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nexport default MenuItemLink;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { useTranslate } from 'ra-core';\nimport MenuItemLink from './MenuItemLink';\n\nvar DashboardMenuItem = function DashboardMenuItem(_a) {\n  var locale = _a.locale,\n      onClick = _a.onClick,\n      props = __rest(_a, [\"locale\", \"onClick\"]);\n\n  var translate = useTranslate();\n  return React.createElement(MenuItemLink, __assign({\n    onClick: onClick,\n    to: \"/\",\n    primaryText: translate('ra.page.dashboard'),\n    leftIcon: React.createElement(DashboardIcon, null),\n    exact: true,\n    dense: true\n  }, props));\n};\n\nDashboardMenuItem.propTypes = {\n  classes: PropTypes.object,\n  locale: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport default DashboardMenuItem;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport inflection from 'inflection';\nimport { makeStyles, useMediaQuery } from '@material-ui/core';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate } from 'ra-core';\nimport DashboardMenuItem from './DashboardMenuItem';\nimport MenuItemLink from './MenuItemLink';\nvar useStyles = makeStyles({\n  main: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start'\n  }\n});\n\nvar translatedResourceName = function translatedResourceName(resource, translate) {\n  return translate(\"resources.\" + resource.name + \".name\", {\n    smart_count: 2,\n    _: resource.options && resource.options.label ? translate(resource.options.label, {\n      smart_count: 2,\n      _: resource.options.label\n    }) : inflection.humanize(inflection.pluralize(resource.name))\n  });\n};\n\nvar Menu = function Menu(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      dense = _a.dense,\n      hasDashboard = _a.hasDashboard,\n      onMenuClick = _a.onMenuClick,\n      logout = _a.logout,\n      rest = __rest(_a, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  var open = useSelector(function (state) {\n    return state.admin.ui.sidebarOpen;\n  });\n  var resources = useSelector(getResources, shallowEqual);\n  useSelector(function (state) {\n    return state.router.location.pathname;\n  }); // used to force redraw on navigation\n\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest), hasDashboard && React.createElement(DashboardMenuItem, {\n    onClick: onMenuClick,\n    sidebarIsOpen: open\n  }), resources.filter(function (r) {\n    return r.hasList;\n  }).map(function (resource) {\n    return React.createElement(MenuItemLink, {\n      key: resource.name,\n      to: \"/\" + resource.name,\n      primaryText: translatedResourceName(resource, translate),\n      leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null),\n      onClick: onMenuClick,\n      dense: dense,\n      sidebarIsOpen: open\n    });\n  }), isXSmall && logout);\n};\n\nMenu.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  dense: PropTypes.bool,\n  hasDashboard: PropTypes.bool,\n  logout: PropTypes.element,\n  onMenuClick: PropTypes.func\n};\nMenu.defaultProps = {\n  onMenuClick: function onMenuClick() {\n    return null;\n  }\n};\nexport default Menu;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { hideNotification, getNotification, undo, complete, undoableEventEmitter, useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    error: {\n      backgroundColor: theme.palette.error.dark,\n      color: theme.palette.error.contrastText\n    },\n    warning: {\n      backgroundColor: theme.palette.error.light,\n      color: theme.palette.error.contrastText\n    },\n    undo: {\n      color: theme.palette.primary.light\n    }\n  };\n});\n\nvar Notification = function Notification(_a) {\n  var type = _a.type,\n      className = _a.className,\n      autoHideDuration = _a.autoHideDuration,\n      rest = __rest(_a, [\"type\", \"className\", \"autoHideDuration\"]);\n\n  var _b = useState(false),\n      open = _b[0],\n      setOpen = _b[1];\n\n  var notification = useSelector(getNotification);\n  var dispatch = useDispatch();\n  var translate = useTranslate();\n  var styles = useStyles({});\n  useEffect(function () {\n    setOpen(!!notification);\n  }, [notification]);\n  var handleRequestClose = useCallback(function () {\n    setOpen(false);\n  }, [setOpen]);\n  var handleExited = useCallback(function () {\n    if (notification && notification.undoable) {\n      dispatch(complete());\n      undoableEventEmitter.emit('end', {\n        isUndo: false\n      });\n    }\n\n    dispatch(hideNotification());\n  }, [dispatch, notification]);\n  var handleUndo = useCallback(function () {\n    dispatch(undo());\n    undoableEventEmitter.emit('end', {\n      isUndo: true\n    });\n  }, [dispatch]);\n  return React.createElement(Snackbar, __assign({\n    open: open,\n    message: notification && notification.message && translate(notification.message, notification.messageArgs),\n    autoHideDuration: notification && notification.autoHideDuration || autoHideDuration,\n    disableWindowBlurListener: notification && notification.undoable,\n    onExited: handleExited,\n    onClose: handleRequestClose,\n    ContentProps: {\n      className: classnames(styles[notification && notification.type || type], className)\n    },\n    action: notification && notification.undoable ? React.createElement(Button, {\n      color: \"primary\",\n      className: styles.undo,\n      size: \"small\",\n      onClick: handleUndo\n    }, translate('ra.action.undo')) : null\n  }, rest));\n};\n\nNotification.propTypes = {\n  type: PropTypes.string\n};\nNotification.defaultProps = {\n  type: 'info',\n  autoHideDuration: 4000\n};\nexport default Notification;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTranslate, warning } from 'ra-core';\n\nvar Title = function Title(_a) {\n  var className = _a.className,\n      defaultTitle = _a.defaultTitle,\n      locale = _a.locale,\n      record = _a.record,\n      title = _a.title,\n      rest = __rest(_a, [\"className\", \"defaultTitle\", \"locale\", \"record\", \"title\"]);\n\n  var translate = useTranslate();\n  var container = document.getElementById('react-admin-title');\n  if (!container) return null;\n  warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\n  var titleElement = !title ? React.createElement(\"span\", __assign({\n    className: className\n  }, rest), defaultTitle) : typeof title === 'string' ? React.createElement(\"span\", __assign({\n    className: className\n  }, rest), translate(title, {\n    _: title\n  })) : cloneElement(title, __assign({\n    className: className,\n    record: record\n  }, rest));\n  return createPortal(titleElement, container);\n};\n\nexport var TitlePropType = PropTypes.oneOfType([PropTypes.string, PropTypes.element]);\nTitle.propTypes = {\n  defaultTitle: PropTypes.string,\n  className: PropTypes.string,\n  locale: PropTypes.string,\n  record: PropTypes.object,\n  title: TitlePropType\n};\nexport default Title;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Report';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport History from '@material-ui/icons/History';\nimport Title, { TitlePropType } from './Title';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    container: (_a = {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }, _a[theme.breakpoints.down('sm')] = {\n      padding: '1em'\n    }, _a.fontFamily = 'Roboto, sans-serif', _a.opacity = 0.5, _a),\n    title: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    icon: {\n      width: '2em',\n      height: '2em',\n      marginRight: '0.5em'\n    },\n    panel: {\n      marginTop: '1em'\n    },\n    panelDetails: {\n      whiteSpace: 'pre-wrap'\n    },\n    toolbar: {\n      marginTop: '2em'\n    }\n  };\n});\n\nfunction goBack() {\n  window.history.go(-1);\n}\n\nvar Error = function Error(_a) {\n  var error = _a.error,\n      errorInfo = _a.errorInfo,\n      classesOverride = _a.classes,\n      className = _a.className,\n      title = _a.title,\n      rest = __rest(_a, [\"error\", \"errorInfo\", \"classes\", \"className\", \"title\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(Fragment, null, React.createElement(Title, {\n    defaultTitle: title\n  }), React.createElement(\"div\", __assign({\n    className: classnames(classes.container, className)\n  }, rest), React.createElement(\"h1\", {\n    className: classes.title,\n    role: \"alert\"\n  }, React.createElement(ErrorIcon, {\n    className: classes.icon\n  }), translate('ra.page.error')), React.createElement(\"div\", null, translate('ra.message.error')), process.env.NODE_ENV !== 'production' && React.createElement(ExpansionPanel, {\n    className: classes.panel\n  }, React.createElement(ExpansionPanelSummary, {\n    expandIcon: React.createElement(ExpandMoreIcon, null)\n  }, translate('ra.message.details')), React.createElement(ExpansionPanelDetails, {\n    className: classes.panelDetails\n  }, React.createElement(\"div\", null, React.createElement(\"h2\", null, translate(error.toString())), errorInfo.componentStack))), React.createElement(\"div\", {\n    className: classes.toolbar\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    icon: React.createElement(History, null),\n    onClick: goBack\n  }, translate('ra.action.back')))));\n};\n\nError.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  error: PropTypes.object.isRequired,\n  errorInfo: PropTypes.object,\n  title: TitlePropType\n};\nexport default Error;","export default {\n  palette: {\n    secondary: {\n      light: '#6ec6ff',\n      main: '#2196f3',\n      dark: '#0069c0',\n      contrastText: '#fff'\n    }\n  },\n  typography: {\n    title: {\n      fontWeight: 400\n    }\n  },\n  sidebar: {\n    width: 240,\n    closedWidth: 55\n  },\n  overrides: {\n    MuiFilledInput: {\n      root: {\n        backgroundColor: 'rgba(0, 0, 0, 0.04)',\n        '&$disabled': {\n          backgroundColor: 'rgba(0, 0, 0, 0.04)'\n        }\n      }\n    }\n  }\n};","import { isValidElementType } from 'react-is';\nexport default (function (props, propName, componentName) {\n  if (props[propName] && !isValidElementType(props[propName])) {\n    return new Error(\"Invalid prop '\" + propName + \"' supplied to '\" + componentName + \"': the prop is not a valid React component\");\n  }\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Component, createElement, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { withRouter } from 'react-router-dom';\nimport { createMuiTheme, withStyles, createStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport compose from 'recompose/compose';\nimport DefaultAppBar from './AppBar';\nimport DefaultSidebar from './Sidebar';\nimport DefaultMenu from './Menu';\nimport DefaultNotification from './Notification';\nimport DefaultError from './Error';\nimport defaultTheme from '../defaultTheme';\nimport { ComponentPropType } from 'ra-core';\n\nvar styles = function styles(theme) {\n  var _a, _b;\n\n  return createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      zIndex: 1,\n      minHeight: '100vh',\n      backgroundColor: theme.palette.background.default,\n      position: 'relative',\n      minWidth: 'fit-content',\n      width: '100%'\n    },\n    appFrame: (_a = {\n      display: 'flex',\n      flexDirection: 'column'\n    }, _a[theme.breakpoints.up('xs')] = {\n      marginTop: theme.spacing(6)\n    }, _a[theme.breakpoints.down('xs')] = {\n      marginTop: theme.spacing(7)\n    }, _a),\n    contentWithSidebar: {\n      display: 'flex',\n      flexGrow: 1\n    },\n    content: (_b = {\n      display: 'flex',\n      flexDirection: 'column',\n      flexGrow: 1,\n      flexBasis: 0,\n      padding: theme.spacing(3),\n      paddingTop: theme.spacing(1),\n      paddingLeft: 0\n    }, _b[theme.breakpoints.up('xs')] = {\n      paddingLeft: 5\n    }, _b[theme.breakpoints.down('sm')] = {\n      padding: 0\n    }, _b)\n  });\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var staticContext = _a.staticContext,\n      history = _a.history,\n      location = _a.location,\n      match = _a.match,\n      props = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n\n  return props;\n};\n\nvar Layout =\n/** @class */\nfunction (_super) {\n  __extends(Layout, _super);\n\n  function Layout(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      hasError: false,\n      errorMessage: null,\n      errorInfo: null\n    };\n    /**\n     * Reset the error state upon navigation\n     *\n     * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n     */\n\n    props.history.listen(function () {\n      if (_this.state.hasError) {\n        _this.setState({\n          hasError: false\n        });\n      }\n    });\n    return _this;\n  }\n\n  Layout.prototype.componentDidCatch = function (errorMessage, errorInfo) {\n    this.setState({\n      hasError: true,\n      errorMessage: errorMessage,\n      errorInfo: errorInfo\n    });\n  };\n\n  Layout.prototype.render = function () {\n    var _a = this.props,\n        appBar = _a.appBar,\n        children = _a.children,\n        classes = _a.classes,\n        className = _a.className,\n        customRoutes = _a.customRoutes,\n        error = _a.error,\n        dashboard = _a.dashboard,\n        logout = _a.logout,\n        menu = _a.menu,\n        notification = _a.notification,\n        open = _a.open,\n        sidebar = _a.sidebar,\n        title = _a.title,\n        props = __rest(_a, [\"appBar\", \"children\", \"classes\", \"className\", \"customRoutes\", \"error\", \"dashboard\", \"logout\", \"menu\", \"notification\", \"open\", \"sidebar\", \"title\"]);\n\n    var _b = this.state,\n        hasError = _b.hasError,\n        errorMessage = _b.errorMessage,\n        errorInfo = _b.errorInfo;\n    return React.createElement(\"div\", __assign({\n      className: classnames('layout', classes.root, className)\n    }, sanitizeRestProps(props)), React.createElement(\"div\", {\n      className: classes.appFrame\n    }, createElement(appBar, {\n      title: title,\n      open: open,\n      logout: logout\n    }), React.createElement(\"main\", {\n      className: classes.contentWithSidebar\n    }, createElement(sidebar, {\n      children: createElement(menu, {\n        logout: logout,\n        hasDashboard: !!dashboard\n      })\n    }), React.createElement(\"div\", {\n      className: classes.content\n    }, hasError ? createElement(error, {\n      error: errorMessage,\n      errorInfo: errorInfo,\n      title: title\n    }) : children)), createElement(notification)));\n  };\n\n  return Layout;\n}(Component);\n\nLayout.propTypes = {\n  appBar: ComponentPropType,\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  customRoutes: PropTypes.array,\n  dashboard: ComponentPropType,\n  error: ComponentPropType,\n  history: PropTypes.object.isRequired,\n  logout: PropTypes.element,\n  menu: ComponentPropType,\n  notification: ComponentPropType,\n  open: PropTypes.bool,\n  sidebar: ComponentPropType,\n  title: PropTypes.node.isRequired\n};\nLayout.defaultProps = {\n  appBar: DefaultAppBar,\n  error: DefaultError,\n  menu: DefaultMenu,\n  notification: DefaultNotification,\n  sidebar: DefaultSidebar\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    open: state.admin.ui.sidebarOpen\n  };\n};\n\nvar EnhancedLayout = compose(connect(mapStateToProps, {} // Avoid connect passing dispatch in props\n), withRouter, withStyles(styles))(Layout);\n\nvar LayoutWithTheme = function LayoutWithTheme(_a) {\n  var themeOverride = _a.theme,\n      props = __rest(_a, [\"theme\"]);\n\n  var themeProp = useRef(themeOverride);\n\n  var _b = useState(createMuiTheme(themeOverride)),\n      theme = _b[0],\n      setTheme = _b[1];\n\n  useEffect(function () {\n    if (themeProp.current !== themeOverride) {\n      themeProp.current = themeOverride;\n      setTheme(createMuiTheme(themeOverride));\n    }\n  }, [themeOverride, themeProp, theme, setTheme]);\n  return React.createElement(ThemeProvider, {\n    theme: theme\n  }, React.createElement(EnhancedLayout, __assign({}, props)));\n};\n\nLayoutWithTheme.propTypes = {\n  theme: PropTypes.object\n};\nLayoutWithTheme.defaultProps = {\n  theme: defaultTheme\n};\nexport default LayoutWithTheme;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { cloneElement } from 'react';\nimport useAuthenticated from './useAuthenticated';\n/**\n * Restrict access to children to authenticated users.\n * Redirects anonymous users to the login page.\n *\n * Use it to decorate your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @see useAuthenticated\n *\n * @example\n *     import { Authenticated } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <Authenticated authParams={{ foo: 'bar' }}>\n *                 <Foo />\n *             </Authenticated>\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\n\nvar Authenticated = function Authenticated(_a) {\n  var authParams = _a.authParams,\n      children = _a.children,\n      location = _a.location,\n      // kept for backwards compatibility, unused\n  rest = __rest(_a, [\"authParams\", \"children\", \"location\"]);\n\n  useAuthenticated(authParams); // render the child even though the useAuthenticated() call isn't finished (optimistic rendering)\n  // the above hook will log out if the authProvider doesn't validate that the user is authenticated\n\n  return cloneElement(children, rest);\n};\n\nexport default Authenticated;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HotTub from '@material-ui/icons/HotTub';\nimport History from '@material-ui/icons/History';\nimport classnames from 'classnames';\nimport { useTranslate, Authenticated } from 'ra-core';\nimport Title from './Title';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    container: (_a = {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    }, _a[theme.breakpoints.up('md')] = {\n      height: '100%'\n    }, _a[theme.breakpoints.down('sm')] = {\n      height: '100vh',\n      marginTop: '-3em'\n    }, _a),\n    icon: {\n      width: '9em',\n      height: '9em'\n    },\n    message: {\n      textAlign: 'center',\n      fontFamily: 'Roboto, sans-serif',\n      opacity: 0.5,\n      margin: '0 1em'\n    },\n    toolbar: {\n      textAlign: 'center',\n      marginTop: '2em'\n    }\n  };\n});\n\nfunction goBack() {\n  window.history.go(-1);\n}\n\nvar NotFound = function NotFound(_a) {\n  var className = _a.className,\n      classesOverride = _a.classes,\n      title = _a.title,\n      location = _a.location,\n      rest = __rest(_a, [\"className\", \"classes\", \"title\", \"location\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(Authenticated, {\n    location: location\n  }, React.createElement(\"div\", __assign({\n    className: classnames(classes.container, className)\n  }, rest), React.createElement(Title, {\n    defaultTitle: title\n  }), React.createElement(\"div\", {\n    className: classes.message\n  }, React.createElement(HotTub, {\n    className: classes.icon\n  }), React.createElement(\"h1\", null, translate('ra.page.not_found')), React.createElement(\"div\", null, translate('ra.message.not_found'), \".\")), React.createElement(\"div\", {\n    className: classes.toolbar\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    icon: React.createElement(History, null),\n    onClick: goBack\n  }, translate('ra.action.back')))));\n};\n\nNotFound.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  title: PropTypes.string,\n  location: PropTypes.object\n};\nexport default NotFound;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    container: (_a = {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    }, _a[theme.breakpoints.up('md')] = {\n      height: '100%'\n    }, _a[theme.breakpoints.down('sm')] = {\n      height: '100vh',\n      marginTop: '-3em'\n    }, _a),\n    icon: {\n      width: '9em',\n      height: '9em'\n    },\n    message: {\n      textAlign: 'center',\n      fontFamily: 'Roboto, sans-serif',\n      opacity: 0.5,\n      margin: '0 1em'\n    }\n  };\n});\n\nvar Loading = function Loading(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      _b = _a.loadingPrimary,\n      loadingPrimary = _b === void 0 ? 'ra.page.loading' : _b,\n      _c = _a.loadingSecondary,\n      loadingSecondary = _c === void 0 ? 'ra.message.loading' : _c;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(\"div\", {\n    className: classnames(classes.container, className)\n  }, React.createElement(\"div\", {\n    className: classes.message\n  }, React.createElement(CircularProgress, {\n    className: classes.icon,\n    color: \"primary\"\n  }), React.createElement(\"h1\", null, translate(loadingPrimary)), React.createElement(\"div\", null, translate(loadingSecondary), \".\")));\n};\n\nLoading.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  loadingPrimary: PropTypes.string,\n  loadingSecondary: PropTypes.string\n};\nLoading.defaultProps = {\n  loadingPrimary: 'ra.page.loading',\n  loadingSecondary: 'ra.message.loading'\n};\nexport default Loading;","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { useLocation, useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\n\nvar useLogin = function useLogin() {\n  var authProvider = useAuthProvider();\n  var location = useLocation();\n  var history = useHistory();\n  var nextPathName = location.state && location.state.nextPathname;\n  var login = useCallback(function (params, pathName) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (pathName === void 0) {\n      pathName = defaultAuthParams.afterLoginUrl;\n    }\n\n    return authProvider.login(params).then(function (ret) {\n      history.push(nextPathName || pathName);\n      return ret;\n    });\n  }, [authProvider, history, nextPathName]);\n  var loginWithoutProvider = useCallback(function (_, __) {\n    history.push(defaultAuthParams.afterLoginUrl);\n    return Promise.resolve();\n  }, [history]);\n  return authProvider ? login : loginWithoutProvider;\n};\n\nexport default useLogin;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    form: {\n      padding: '0 1em 1em 1em'\n    },\n    input: {\n      marginTop: '1em'\n    },\n    button: {\n      width: '100%'\n    },\n    icon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n});\n\nvar Input = function Input(_a) {\n  var _b = _a.meta,\n      touched = _b.touched,\n      error = _b.error,\n      // eslint-disable-line react/prop-types\n  inputProps = _a.input,\n      // eslint-disable-line react/prop-types\n  props = __rest(_a, [\"meta\", \"input\"]);\n\n  return React.createElement(TextField, __assign({\n    error: !!(touched && error),\n    helperText: touched && error\n  }, inputProps, props, {\n    fullWidth: true\n  }));\n};\n\nvar LoginForm = function LoginForm(_a) {\n  var redirectTo = _a.redirectTo;\n\n  var _b = useSafeSetState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var login = useLogin();\n  var translate = useTranslate();\n  var notify = useNotify();\n  var classes = useStyles({});\n\n  var validate = function validate(values) {\n    var errors = {\n      username: undefined,\n      password: undefined\n    };\n\n    if (!values.username) {\n      errors.username = translate('ra.validation.required');\n    }\n\n    if (!values.password) {\n      errors.password = translate('ra.validation.required');\n    }\n\n    return errors;\n  };\n\n  var submit = function submit(values) {\n    setLoading(true);\n    login(values, redirectTo).then(function () {\n      setLoading(false);\n    }).catch(function (error) {\n      setLoading(false);\n      notify(typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? 'ra.auth.sign_in_error' : error.message, 'warning');\n    });\n  };\n\n  return React.createElement(Form, {\n    onSubmit: submit,\n    validate: validate,\n    render: function render(_a) {\n      var handleSubmit = _a.handleSubmit;\n      return React.createElement(\"form\", {\n        onSubmit: handleSubmit,\n        noValidate: true\n      }, React.createElement(\"div\", {\n        className: classes.form\n      }, React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        autoFocus: true,\n        id: \"username\",\n        name: \"username\",\n        component: Input,\n        label: translate('ra.auth.username'),\n        disabled: loading\n      })), React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        id: \"password\",\n        name: \"password\",\n        component: Input,\n        label: translate('ra.auth.password'),\n        type: \"password\",\n        disabled: loading,\n        autoComplete: \"current-password\"\n      }))), React.createElement(CardActions, null, React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        color: \"primary\",\n        disabled: loading,\n        className: classes.button\n      }, loading && React.createElement(CircularProgress, {\n        className: classes.icon,\n        size: 18,\n        thickness: 2\n      }), translate('ra.auth.sign_in'))));\n    }\n  });\n};\n\nLoginForm.propTypes = {\n  redirectTo: PropTypes.string\n};\nexport default LoginForm;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar, createMuiTheme, makeStyles } from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport Notification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    main: {\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100vh',\n      height: '1px',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover'\n    },\n    card: {\n      minWidth: 300,\n      marginTop: '6em'\n    },\n    avatar: {\n      margin: '1em',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    icon: {\n      backgroundColor: theme.palette.secondary[500]\n    }\n  };\n});\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\n\nvar Login = function Login(_a) {\n  var theme = _a.theme,\n      classesOverride = _a.classes,\n      className = _a.className,\n      children = _a.children,\n      staticContext = _a.staticContext,\n      backgroundImage = _a.backgroundImage,\n      rest = __rest(_a, [\"theme\", \"classes\", \"className\", \"children\", \"staticContext\", \"backgroundImage\"]);\n\n  var containerRef = useRef();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var muiTheme = useMemo(function () {\n    return createMuiTheme(theme);\n  }, [theme]);\n  var backgroundImageLoaded = false;\n  var checkAuth = useCheckAuth();\n  var history = useHistory();\n  useEffect(function () {\n    checkAuth({}, false).then(function () {\n      // already authenticated, redirect to the home page\n      history.push('/');\n    }).catch(function () {// not authenticated, stay on the login page\n    });\n  }, [checkAuth, history]);\n\n  var updateBackgroundImage = function updateBackgroundImage() {\n    if (!backgroundImageLoaded && containerRef.current) {\n      containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n      backgroundImageLoaded = true;\n    }\n  }; // Load background image asynchronously to speed up time to interactive\n\n\n  var lazyLoadBackgroundImage = function lazyLoadBackgroundImage() {\n    if (backgroundImage) {\n      var img = new Image();\n      img.onload = updateBackgroundImage;\n      img.src = backgroundImage;\n    }\n  };\n\n  useEffect(function () {\n    if (!backgroundImageLoaded) {\n      lazyLoadBackgroundImage();\n    }\n  });\n  return React.createElement(ThemeProvider, {\n    theme: muiTheme\n  }, React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest, {\n    ref: containerRef\n  }), React.createElement(Card, {\n    className: classes.card\n  }, React.createElement(\"div\", {\n    className: classes.avatar\n  }, React.createElement(Avatar, {\n    className: classes.icon\n  }, React.createElement(LockIcon, null))), children), React.createElement(Notification, null)));\n};\n\nLogin.propTypes = {\n  backgroundImage: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  theme: PropTypes.object,\n  staticContext: PropTypes.object\n};\nLogin.defaultProps = {\n  backgroundImage: 'https://source.unsplash.com/random/1600x900/daily',\n  theme: defaultTheme,\n  children: React.createElement(DefaultLoginForm, null)\n};\nexport default Login;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItemIcon, MenuItem, makeStyles } from '@material-ui/core';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\nimport classnames from 'classnames';\nimport { useTranslate, useLogout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    menuItem: {\n      color: theme.palette.text.secondary\n    },\n    icon: {\n      minWidth: theme.spacing(5)\n    }\n  };\n});\n/**\n * Logout button component, to be passed to the Admin component\n *\n * Used for the Logout Menu item in the sidebar\n */\n\nvar LogoutWithRef = React.forwardRef(function Logout(props, ref) {\n  var className = props.className,\n      redirectTo = props.redirectTo,\n      rest = __rest(props, [\"className\", \"redirectTo\"]);\n\n  var classes = useStyles({}); // the empty {} is a temp fix for https://github.com/mui-org/material-ui/issues/15942\n\n  var translate = useTranslate();\n  var logout = useLogout(); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  var handleClick = useCallback(function () {\n    return logout(redirectTo);\n  }, [redirectTo, logout]);\n  return React.createElement(MenuItem, __assign({\n    className: classnames('logout', classes.menuItem, className),\n    onClick: handleClick,\n    ref: ref\n  }, rest), React.createElement(ListItemIcon, {\n    className: classes.icon\n  }, React.createElement(ExitIcon, null)), translate('ra.auth.logout'));\n});\nLogoutWithRef.propTypes = {\n  className: PropTypes.string,\n  redirectTo: PropTypes.string\n};\nexport default LogoutWithRef;","import { CoreAdminUI } from 'ra-core';\nimport { Layout as DefaultLayout, Loading, Login, Logout, NotFound } from 'ra-ui-materialui';\nvar AdminUI = CoreAdminUI;\nAdminUI.defaultProps = {\n  layout: DefaultLayout,\n  catchAll: NotFound,\n  loading: Loading,\n  loginPage: Login,\n  logout: Logout\n};\nAdminUI.displayName = 'AdminUI';\nexport default AdminUI;","import React from 'react';\nimport AdminContext from './AdminContext';\nimport AdminUI from './AdminUI';\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, redux, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </Admin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <Admin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import React, { useEffect, useState } from 'react';\n * import {\n *     AdminContext,\n *     AdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <AdminContext dataProvider={myDataProvider}>\n *         <Resources />\n *     </AdminContext>\n * );\n *\n * const Resources = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <AdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </AdminUI>\n *     );\n * };\n */\n\nvar Admin = function Admin(_a) {\n  var appLayout = _a.appLayout,\n      authProvider = _a.authProvider,\n      catchAll = _a.catchAll,\n      children = _a.children,\n      customReducers = _a.customReducers,\n      _b = _a.customRoutes,\n      customRoutes = _b === void 0 ? [] : _b,\n      customSagas = _a.customSagas,\n      dashboard = _a.dashboard,\n      dataProvider = _a.dataProvider,\n      history = _a.history,\n      i18nProvider = _a.i18nProvider,\n      initialState = _a.initialState,\n      layout = _a.layout,\n      loading = _a.loading,\n      locale = _a.locale,\n      loginPage = _a.loginPage,\n      logoutButton = _a.logoutButton,\n      menu = _a.menu,\n      // deprecated, use a custom layout instead\n  theme = _a.theme,\n      _c = _a.title,\n      title = _c === void 0 ? 'React Admin' : _c;\n\n  if (appLayout) {\n    console.warn('You are using deprecated prop \"appLayout\", it was replaced by \"layout\", see https://github.com/marmelab/react-admin/issues/2918');\n  }\n\n  if (loginPage === true && process.env.NODE_ENV !== 'production') {\n    console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');\n  }\n\n  if (locale) {\n    console.warn('You are using deprecated prop \"locale\". You must now pass the initial locale to your i18nProvider');\n  }\n\n  return React.createElement(AdminContext, {\n    authProvider: authProvider,\n    dataProvider: dataProvider,\n    i18nProvider: i18nProvider,\n    history: history,\n    customReducers: customReducers,\n    customSagas: customSagas,\n    initialState: initialState\n  }, React.createElement(AdminUI, {\n    layout: appLayout || layout,\n    customRoutes: customRoutes,\n    dashboard: dashboard,\n    menu: menu,\n    catchAll: catchAll,\n    theme: theme,\n    title: title,\n    loading: loading,\n    loginPage: loginPage,\n    logout: authProvider ? logoutButton : undefined\n  }, children));\n};\n\nexport default Admin;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nimport { registerResource, unregisterResource } from '../actions';\nvar defaultOptions = {};\n\nvar ResourceRegister = function ResourceRegister(_a) {\n  var name = _a.name,\n      list = _a.list,\n      create = _a.create,\n      edit = _a.edit,\n      show = _a.show,\n      icon = _a.icon,\n      _b = _a.options,\n      options = _b === void 0 ? defaultOptions : _b;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(registerResource({\n      name: name,\n      options: options,\n      hasList: !!list,\n      hasEdit: !!edit,\n      hasShow: !!show,\n      hasCreate: !!create,\n      icon: icon\n    }));\n    return function () {\n      return dispatch(unregisterResource(name));\n    };\n  }, [dispatch, name, create, edit, icon, list, show, options]);\n  return null;\n};\n\nvar ResourceRoutes = function ResourceRoutes(_a) {\n  var name = _a.name,\n      match = _a.match,\n      list = _a.list,\n      create = _a.create,\n      edit = _a.edit,\n      show = _a.show,\n      _b = _a.options,\n      options = _b === void 0 ? defaultOptions : _b;\n  var isRegistered = useSelector(function (state) {\n    return state.admin.resources[name] ? true : false;\n  });\n  var basePath = match ? match.path : ''; // match tends to change even on the same route ; using memo to avoid an extra render\n\n  return useMemo(function () {\n    // if the registration hasn't finished, no need to render\n    if (!isRegistered) {\n      return null;\n    }\n\n    var props = {\n      resource: name,\n      options: options,\n      hasList: !!list,\n      hasEdit: !!edit,\n      hasShow: !!show,\n      hasCreate: !!create\n    };\n    return React.createElement(Switch, null, create && React.createElement(Route, {\n      path: basePath + \"/create\",\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: create,\n          basePath: basePath\n        }, routeProps, props));\n      }\n    }), show && React.createElement(Route, {\n      path: basePath + \"/:id/show\",\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: show,\n          basePath: basePath,\n          id: decodeURIComponent(routeProps.match.params.id)\n        }, routeProps, props));\n      }\n    }), edit && React.createElement(Route, {\n      path: basePath + \"/:id\",\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: edit,\n          basePath: basePath,\n          id: decodeURIComponent(routeProps.match.params.id)\n        }, routeProps, props));\n      }\n    }), list && React.createElement(Route, {\n      path: \"\" + basePath,\n      render: function render(routeProps) {\n        return React.createElement(WithPermissions, __assign({\n          component: list,\n          basePath: basePath\n        }, routeProps, props));\n      }\n    }));\n  }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nvar Resource = function Resource(_a) {\n  var _b = _a.intent,\n      intent = _b === void 0 ? 'route' : _b,\n      props = __rest(_a, [\"intent\"]);\n\n  return intent === 'registration' ? React.createElement(ResourceRegister, __assign({}, props)) : React.createElement(ResourceRoutes, __assign({}, props));\n};\n\nexport default Resource;","export default {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n};\n","export const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = theme => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { CHANGE_THEME } from './configuration/actions';\n\nexport default (previousState = 'light', { type, payload }) => {\n    if (type === CHANGE_THEME) {\n        return payload;\n    }\n    return previousState;\n};\n","import React from 'react';\n\nconst Logo = props => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#fff\"\n        >\n            <path\n                d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\"\n                style={{\n                    InkscapeFontSpecification: \"'Permanent Marker'\",\n                }}\n            />\n            <path\n                d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\"\n                style={{\n                    InkscapeFontSpecification: \"'Permanent Marker'\",\n                }}\n            />\n            <path\n                d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\"\n                style={{\n                    InkscapeFontSpecification: \"'Permanent Marker'\",\n                }}\n            />\n            <path\n                d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\"\n                style={{\n                    InkscapeFontSpecification: \"'Permanent Marker'\",\n                }}\n            />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import React, { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n        />\n    );\n});\n\nconst CustomUserMenu = props => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = props => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\n\nvar checkMinimumRequiredProps = function checkMinimumRequiredProps(displayName, requiredProps) {\n  return function (WrappedComponent) {\n    return function (props) {\n      useCheckMinimumRequiredProps(displayName, requiredProps, props);\n      return React.createElement(WrappedComponent, __assign({}, props));\n    };\n  };\n};\n\nexport default checkMinimumRequiredProps; // Not a hook but named that way to avoid conflicts with the old one\n\nexport var useCheckMinimumRequiredProps = function useCheckMinimumRequiredProps(displayName, requiredProps, props) {\n  var propNames = Object.keys(props);\n  var missingProps = requiredProps.filter(function (prop) {\n    return !propNames.includes(prop);\n  });\n\n  if (missingProps.length > 0) {\n    throw new Error(\"<\" + displayName + \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\" + displayName + \" = props => (\\n    <\" + displayName + \" {...props}></\" + displayName + \">\\n);\\n\\nThe missing props are: \" + missingProps.join(', '));\n  }\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\n\nvar oppositeOrder = function oppositeOrder(direction) {\n  return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\n\n\nvar queryReducer = function queryReducer(previousState, _a) {\n  var type = _a.type,\n      payload = _a.payload;\n\n  switch (type) {\n    case SET_SORT:\n      if (payload.sort === previousState.sort) {\n        return __assign({}, previousState, {\n          order: oppositeOrder(previousState.order),\n          page: 1\n        });\n      }\n\n      return __assign({}, previousState, {\n        sort: payload.sort,\n        order: payload.order || SORT_ASC,\n        page: 1\n      });\n\n    case SET_PAGE:\n      return __assign({}, previousState, {\n        page: payload\n      });\n\n    case SET_PER_PAGE:\n      return __assign({}, previousState, {\n        page: 1,\n        perPage: payload\n      });\n\n    case SET_FILTER:\n      {\n        return __assign({}, previousState, {\n          page: 1,\n          filter: payload\n        });\n      }\n\n    default:\n      return previousState;\n  }\n};\n\nexport default queryReducer;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { shallowEqual } from 'recompose';\n\nvar isObject = function isObject(obj) {\n  return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nvar isEmpty = function isEmpty(obj) {\n  return obj instanceof Date ? false : obj === '' || obj === null || shallowEqual(obj, {});\n};\n\nvar removeEmpty = function removeEmpty(object) {\n  return Object.keys(object).reduce(function (acc, key) {\n    var _a;\n\n    var child = object[key];\n\n    if (isObject(object[key])) {\n      child = removeEmpty(object[key]);\n    }\n\n    return isEmpty(child) ? acc : __assign({}, acc, (_a = {}, _a[key] = child, _a));\n  }, {});\n};\n\nexport default removeEmpty;","var removeKey = function removeKey(target, path) {\n  return Object.keys(target).reduce(function (acc, key) {\n    var _a;\n\n    if (key !== path) {\n      return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n    }\n\n    return acc;\n  }, {});\n};\n\nvar deepRemoveKey = function deepRemoveKey(target, path) {\n  var _a;\n\n  var paths = path.split('.');\n\n  if (paths.length === 1) {\n    return removeKey(target, path);\n  }\n\n  var deepKey = paths[0];\n  var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n\n  if (Object.keys(deep).length === 0) {\n    return removeKey(target, deepKey);\n  }\n\n  return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\n\nexport default deepRemoveKey;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useCallback, useState, useMemo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport queryReducer, { SET_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nimport removeKey from '../util/removeKey';\nimport { useHistory } from 'react-router-dom';\nvar emptyObject = {};\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\n\nvar useListParams = function useListParams(_a) {\n  var resource = _a.resource,\n      location = _a.location,\n      filterDefaultValues = _a.filterDefaultValues,\n      _b = _a.sort,\n      sort = _b === void 0 ? defaultSort : _b,\n      _c = _a.perPage,\n      perPage = _c === void 0 ? 10 : _c,\n      _d = _a.debounce,\n      debounce = _d === void 0 ? 500 : _d;\n\n  var _e = useState({}),\n      displayedFilters = _e[0],\n      setDisplayedFilters = _e[1];\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var params = useSelector(function (reduxState) {\n    return reduxState.admin.resources[resource].list;\n  }, shallowEqual).params;\n  var requestSignature = [location.search, resource, params, filterDefaultValues, JSON.stringify(sort), perPage];\n  var query = useMemo(function () {\n    return getQuery({\n      location: location,\n      params: params,\n      filterDefaultValues: filterDefaultValues,\n      sort: sort,\n      perPage: perPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var changeParams = useCallback(function (action) {\n    var newParams = queryReducer(query, action);\n    history.push({\n      search: \"?\" + stringify(__assign({}, newParams, {\n        filter: JSON.stringify(newParams.filter)\n      }))\n    });\n    dispatch(changeListParams(resource, newParams));\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var setSort = useCallback(function (newSort) {\n    return changeParams({\n      type: SET_SORT,\n      payload: {\n        sort: newSort\n      }\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var setPage = useCallback(function (newPage) {\n    return changeParams({\n      type: SET_PAGE,\n      payload: newPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var setPerPage = useCallback(function (newPerPage) {\n    return changeParams({\n      type: SET_PER_PAGE,\n      payload: newPerPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var filterValues = query.filter || emptyObject;\n  var debouncedSetFilters = lodashDebounce(function (newFilters) {\n    return changeParams({\n      type: SET_FILTER,\n      payload: removeEmpty(newFilters)\n    });\n  }, debounce);\n  var setFilters = useCallback(function (filters) {\n    return debouncedSetFilters(filters);\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var hideFilter = useCallback(function (filterName) {\n    setDisplayedFilters(function (previousFilters) {\n      var _a;\n\n      return __assign({}, previousFilters, (_a = {}, _a[filterName] = false, _a));\n    });\n    var newFilters = removeKey(filterValues, filterName);\n    setFilters(newFilters);\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    var _a;\n\n    setDisplayedFilters(function (previousFilters) {\n      var _a;\n\n      return __assign({}, previousFilters, (_a = {}, _a[filterName] = true, _a));\n    });\n\n    if (typeof defaultValue !== 'undefined') {\n      setFilters(__assign({}, filterValues, (_a = {}, _a[filterName] = defaultValue, _a)));\n    }\n  }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return [__assign({\n    displayedFilters: displayedFilters,\n    filterValues: filterValues,\n    requestSignature: requestSignature\n  }, query), {\n    changeParams: changeParams,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    setFilters: setFilters,\n    hideFilter: hideFilter,\n    showFilter: showFilter\n  }];\n};\n\nexport var validQueryParams = ['page', 'perPage', 'sort', 'order', 'filter'];\nexport var parseQueryFromLocation = function parseQueryFromLocation(_a) {\n  var search = _a.search;\n  var query = pickBy(parse(search), function (v, k) {\n    return validQueryParams.indexOf(k) !== -1;\n  });\n\n  if (query.filter && typeof query.filter === 'string') {\n    try {\n      query.filter = JSON.parse(query.filter);\n    } catch (err) {\n      delete query.filter;\n    }\n  }\n\n  return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {object} params\n */\n\nexport var hasCustomParams = function hasCustomParams(params) {\n  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\n\nexport var getQuery = function getQuery(_a) {\n  var location = _a.location,\n      params = _a.params,\n      filterDefaultValues = _a.filterDefaultValues,\n      sort = _a.sort,\n      perPage = _a.perPage;\n  var queryFromLocation = parseQueryFromLocation(location);\n  var query = Object.keys(queryFromLocation).length > 0 ? queryFromLocation : hasCustomParams(params) ? __assign({}, params) : {\n    filter: filterDefaultValues || {}\n  };\n\n  if (!query.sort) {\n    query.sort = sort.field;\n    query.order = sort.order;\n  }\n\n  if (!query.perPage) {\n    query.perPage = perPage;\n  }\n\n  if (!query.page) {\n    query.page = 1;\n  }\n\n  return __assign({}, query, {\n    page: getNumberOrDefault(query.page, 1),\n    perPage: getNumberOrDefault(query.perPage, 10)\n  });\n};\nexport var getNumberOrDefault = function getNumberOrDefault(possibleNumber, defaultValue) {\n  return (typeof possibleNumber === 'string' ? parseInt(possibleNumber, 10) : possibleNumber) || defaultValue;\n};\nexport default useListParams;","import { useCallback } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { setListSelectedIds, toggleListItem } from '../actions/listActions';\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\n\nvar useSelectItems = function useSelectItems(resource) {\n  var dispatch = useDispatch();\n  var selectedIds = useSelector(function (reduxState) {\n    return reduxState.admin.resources[resource].list.selectedIds;\n  }, shallowEqual);\n  var selectionModifiers = {\n    select: useCallback(function (newIds) {\n      dispatch(setListSelectedIds(resource, newIds));\n    }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n    ),\n    toggle: useCallback(function (id) {\n      dispatch(toggleListItem(resource, id));\n    }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n    ),\n    clearSelection: useCallback(function () {\n      dispatch(setListSelectedIds(resource, []));\n    }, [resource])\n  };\n  return [selectedIds, selectionModifiers];\n};\n\nexport default useSelectItems;","import { useSelector } from 'react-redux';\n/**\n * Get the UI version from the store\n *\n * The UI version is an integer incremented by the refresh button;\n * it serves to force running fetch hooks again.\n */\n\nvar useVersion = function useVersion() {\n  return useSelector(function (reduxState) {\n    return reduxState.admin.ui.viewVersion;\n  });\n};\n\nexport default useVersion;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { isValidElement, useEffect, useMemo } from 'react';\nimport inflection from 'inflection';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport useListParams from './useListParams';\nimport useRecordSelection from './useRecordSelection';\nimport useVersion from './useVersion';\nimport { useTranslate } from '../i18n';\nimport { SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { CRUD_GET_LIST } from '../actions';\nimport { useNotify } from '../sideEffect';\nimport useQueryWithStore from '../dataProvider/useQueryWithStore';\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\n\nvar useListController = function useListController(props) {\n  useCheckMinimumRequiredProps('List', ['basePath', 'location', 'resource'], props);\n  var basePath = props.basePath,\n      resource = props.resource,\n      hasCreate = props.hasCreate,\n      location = props.location,\n      filterDefaultValues = props.filterDefaultValues,\n      _a = props.sort,\n      sort = _a === void 0 ? defaultSort : _a,\n      _b = props.perPage,\n      perPage = _b === void 0 ? 10 : _b,\n      filter = props.filter,\n      _c = props.debounce,\n      debounce = _c === void 0 ? 500 : _c;\n\n  if (filter && isValidElement(filter)) {\n    throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n  }\n\n  var translate = useTranslate();\n  var notify = useNotify();\n  var version = useVersion();\n\n  var _d = useListParams({\n    resource: resource,\n    location: location,\n    filterDefaultValues: filterDefaultValues,\n    sort: sort,\n    perPage: perPage,\n    debounce: debounce\n  }),\n      query = _d[0],\n      queryModifiers = _d[1];\n\n  var _e = useRecordSelection(resource),\n      selectedIds = _e[0],\n      selectionModifiers = _e[1];\n  /**\n   * We don't use useGetList() here because we want the list of ids to be\n   * always available for optimistic rendering, and therefore we need a\n   * custom action (CRUD_GET_LIST), a custom reducer for ids and total\n   * (admin.resources.[resource].list.ids and admin.resources.[resource].list.total)\n   * and a custom selector for these reducers.\n   * Also we don't want that calls to useGetList() in userland change\n   * the list of ids in the main List view.\n   */\n\n\n  var _f = useQueryWithStore({\n    type: 'getList',\n    resource: resource,\n    payload: {\n      pagination: {\n        page: query.page,\n        perPage: query.perPage\n      },\n      sort: {\n        field: query.sort,\n        order: query.order\n      },\n      filter: __assign({}, query.filter, filter)\n    }\n  }, {\n    action: CRUD_GET_LIST,\n    version: version,\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    }\n  }, function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].list.ids : null;\n  }, function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].list.total : null;\n  }),\n      ids = _f.data,\n      total = _f.total,\n      loading = _f.loading,\n      loaded = _f.loaded;\n\n  var data = useSelector(function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].data : null;\n  }, shallowEqual);\n  useEffect(function () {\n    if (query.page <= 0 || !loading && query.page > 1 && (ids || []).length === 0) {\n      // query for a page that doesn't exist, set page to 1\n      queryModifiers.setPage(1);\n    }\n  }, [loading, query.page, ids, queryModifiers]);\n  var currentSort = useMemo(function () {\n    return {\n      field: query.sort,\n      order: query.order\n    };\n  }, [query.sort, query.order]);\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 2,\n    _: inflection.humanize(inflection.pluralize(resource))\n  });\n  var defaultTitle = translate('ra.page.list', {\n    name: resourceName\n  });\n  return {\n    basePath: basePath,\n    currentSort: currentSort,\n    data: data,\n    defaultTitle: defaultTitle,\n    displayedFilters: query.displayedFilters,\n    filterValues: query.filterValues,\n    hasCreate: hasCreate,\n    ids: ids,\n    loading: loading,\n    loaded: loaded,\n    onSelect: selectionModifiers.select,\n    onToggleItem: selectionModifiers.toggle,\n    onUnselectItems: selectionModifiers.clearSelection,\n    page: query.page,\n    perPage: query.perPage,\n    resource: resource,\n    selectedIds: selectedIds,\n    setFilters: queryModifiers.setFilters,\n    hideFilter: queryModifiers.hideFilter,\n    showFilter: queryModifiers.showFilter,\n    setPage: queryModifiers.setPage,\n    setPerPage: queryModifiers.setPerPage,\n    setSort: queryModifiers.setSort,\n    total: total,\n    version: version\n  };\n};\n\nexport var injectedProps = ['basePath', 'currentSort', 'data', 'defaultTitle', 'displayedFilters', 'filterValues', 'hasCreate', 'hideFilter', 'ids', 'loading', 'loaded', 'onSelect', 'onToggleItem', 'onUnselectItems', 'page', 'perPage', 'refresh', 'resource', 'selectedIds', 'setFilters', 'setPage', 'setPerPage', 'setSort', 'showFilter', 'total', 'version'];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\n\nexport var getListControllerProps = function getListControllerProps(props) {\n  return injectedProps.reduce(function (acc, key) {\n    var _a;\n\n    return __assign({}, acc, (_a = {}, _a[key] = props[key], _a));\n  }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\n\nexport var sanitizeListRestProps = function sanitizeListRestProps(props) {\n  return Object.keys(props).filter(function (propName) {\n    return !injectedProps.includes(propName);\n  }).reduce(function (acc, key) {\n    var _a;\n\n    return __assign({}, acc, (_a = {}, _a[key] = props[key], _a));\n  }, {});\n};\nexport default useListController;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field } from 'react-final-form';\nimport IconButton from '@material-ui/core/IconButton';\nimport ActionHide from '@material-ui/icons/HighlightOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar emptyRecord = {};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var alwaysOn = _a.alwaysOn,\n      props = __rest(_a, [\"alwaysOn\"]);\n\n  return props;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    body: {\n      display: 'flex',\n      alignItems: 'flex-end'\n    },\n    spacer: {\n      width: theme.spacing(2)\n    },\n    hideButton: {}\n  };\n});\n\nvar FilterFormInput = function FilterFormInput(_a) {\n  var filterElement = _a.filterElement,\n      handleHide = _a.handleHide,\n      classesOverride = _a.classes,\n      resource = _a.resource,\n      variant = _a.variant,\n      margin = _a.margin;\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(\"div\", {\n    \"data-source\": filterElement.props.source,\n    className: classnames('filter-field', classes.body)\n  }, !filterElement.props.alwaysOn && React.createElement(IconButton, {\n    className: classnames('hide-filter', classes.hideButton),\n    onClick: handleHide,\n    \"data-key\": filterElement.props.source,\n    title: translate('ra.action.remove_filter')\n  }, React.createElement(ActionHide, null)), React.createElement(Field, __assign({\n    allowEmpty: true\n  }, sanitizeRestProps(filterElement.props), {\n    name: filterElement.props.source,\n    component: filterElement.type,\n    resource: resource,\n    record: emptyRecord,\n    variant: variant,\n    margin: margin\n  })), React.createElement(\"div\", {\n    className: classes.spacer\n  }, \"\\xA0\"));\n};\n\nFilterFormInput.propTypes = {\n  filterElement: PropTypes.node,\n  handleHide: PropTypes.func,\n  classes: PropTypes.object,\n  resource: PropTypes.string\n};\nexport default FilterFormInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, FormSpy } from 'react-final-form';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport FilterFormInput from './FilterFormInput';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    form: {\n      marginTop: -theme.spacing(2),\n      paddingTop: 0,\n      display: 'flex',\n      alignItems: 'flex-end',\n      flexWrap: 'wrap',\n      minHeight: theme.spacing(9.5)\n    },\n    clearFix: {\n      clear: 'right'\n    }\n  };\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var anyTouched = _a.anyTouched,\n      asyncValidate = _a.asyncValidate,\n      asyncValidating = _a.asyncValidating,\n      autofill = _a.autofill,\n      blur = _a.blur,\n      change = _a.change,\n      clearAsyncError = _a.clearAsyncError,\n      clearFields = _a.clearFields,\n      clearSubmit = _a.clearSubmit,\n      clearSubmitErrors = _a.clearSubmitErrors,\n      destroy = _a.destroy,\n      dirty = _a.dirty,\n      dirtyFields = _a.dirtyFields,\n      dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit,\n      dirtySinceLastSubmit = _a.dirtySinceLastSubmit,\n      dispatch = _a.dispatch,\n      displayedFilters = _a.displayedFilters,\n      errors = _a.errors,\n      filters = _a.filters,\n      filterValues = _a.filterValues,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      hasSubmitErrors = _a.hasSubmitErrors,\n      hasValidationErrors = _a.hasValidationErrors,\n      hideFilter = _a.hideFilter,\n      initialize = _a.initialize,\n      initialized = _a.initialized,\n      initialValues = _a.initialValues,\n      invalid = _a.invalid,\n      modified = _a.modified,\n      pristine = _a.pristine,\n      pure = _a.pure,\n      reset = _a.reset,\n      resetSection = _a.resetSection,\n      save = _a.save,\n      setFilter = _a.setFilter,\n      setFilters = _a.setFilters,\n      submit = _a.submit,\n      submitAsSideEffect = _a.submitAsSideEffect,\n      submitError = _a.submitError,\n      submitErrors = _a.submitErrors,\n      submitFailed = _a.submitFailed,\n      submitSucceeded = _a.submitSucceeded,\n      submitting = _a.submitting,\n      touch = _a.touch,\n      touched = _a.touched,\n      triggerSubmit = _a.triggerSubmit,\n      untouch = _a.untouch,\n      valid = _a.valid,\n      validate = _a.validate,\n      validating = _a.validating,\n      values = _a.values,\n      visited = _a.visited,\n      __versions = _a.__versions,\n      props = __rest(_a, [\"anyTouched\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"displayedFilters\", \"errors\", \"filters\", \"filterValues\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"hideFilter\", \"initialize\", \"initialized\", \"initialValues\", \"invalid\", \"modified\", \"pristine\", \"pure\", \"reset\", \"resetSection\", \"save\", \"setFilter\", \"setFilters\", \"submit\", \"submitAsSideEffect\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"touched\", \"triggerSubmit\", \"untouch\", \"valid\", \"validate\", \"validating\", \"values\", \"visited\", \"__versions\"]);\n\n  return props;\n};\n\nexport var FilterForm = function FilterForm(_a) {\n  var _b = _a.classes,\n      classes = _b === void 0 ? {} : _b,\n      className = _a.className,\n      resource = _a.resource,\n      margin = _a.margin,\n      variant = _a.variant,\n      filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      hideFilter = _a.hideFilter,\n      initialValues = _a.initialValues,\n      rest = __rest(_a, [\"classes\", \"className\", \"resource\", \"margin\", \"variant\", \"filters\", \"displayedFilters\", \"hideFilter\", \"initialValues\"]);\n\n  useEffect(function () {\n    filters.forEach(function (filter) {\n      if (filter.props.alwaysOn && filter.props.defaultValue) {\n        throw new Error('Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.');\n      }\n    });\n  }, [filters]);\n\n  var getShownFilters = function getShownFilters() {\n    return filters.filter(function (filterElement) {\n      return filterElement.props.alwaysOn || displayedFilters[filterElement.props.source] || typeof lodashGet(initialValues, filterElement.props.source) !== 'undefined';\n    });\n  };\n\n  var handleHide = useCallback(function (event) {\n    return hideFilter(event.currentTarget.dataset.key);\n  }, [hideFilter]);\n  return React.createElement(\"form\", __assign({\n    className: classnames(className, classes.form)\n  }, sanitizeRestProps(rest), {\n    onSubmit: handleSubmit\n  }), getShownFilters().map(function (filterElement) {\n    return React.createElement(FilterFormInput, {\n      key: filterElement.props.source,\n      filterElement: filterElement,\n      handleHide: handleHide,\n      resource: resource,\n      margin: margin,\n      variant: variant\n    });\n  }), React.createElement(\"div\", {\n    className: classes.clearFix\n  }));\n};\n\nvar handleSubmit = function handleSubmit(event) {\n  event.preventDefault();\n  return false;\n};\n\nFilterForm.propTypes = {\n  resource: PropTypes.string.isRequired,\n  filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n  displayedFilters: PropTypes.object.isRequired,\n  hideFilter: PropTypes.func.isRequired,\n  initialValues: PropTypes.object,\n  classes: PropTypes.object,\n  className: PropTypes.string\n};\nexport var mergeInitialValuesWithDefaultValues = function mergeInitialValuesWithDefaultValues(_a) {\n  var initialValues = _a.initialValues,\n      filters = _a.filters;\n  return __assign({}, filters.filter(function (filterElement) {\n    return filterElement.props.alwaysOn && filterElement.props.defaultValue;\n  }).reduce(function (acc, filterElement) {\n    return lodashSet(__assign({}, acc), filterElement.props.source, filterElement.props.defaultValue);\n  }, {}), initialValues);\n};\n\nvar EnhancedFilterForm = function EnhancedFilterForm(_a) {\n  var classesOverride = _a.classes,\n      props = __rest(_a, [\"classes\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(props);\n\n  var initialValues = props.initialValues,\n      rest = __rest(props, [\"initialValues\"]);\n\n  return React.createElement(Form, {\n    onSubmit: handleFinalFormSubmit,\n    initialValues: mergedInitialValuesWithDefaultValues,\n    render: function render(formProps) {\n      return React.createElement(React.Fragment, null, React.createElement(FormSpy, {\n        subscription: FormSpySubscription,\n        onChange: function onChange(_a) {\n          var pristine = _a.pristine,\n              values = _a.values;\n\n          if (pristine) {\n            return;\n          }\n\n          props && props.setFilters(values);\n        }\n      }), React.createElement(FilterForm, __assign({\n        classes: classes\n      }, formProps, rest)));\n    }\n  });\n};\n\nvar handleFinalFormSubmit = function handleFinalFormSubmit() {}; // Options to instruct the FormSpy that it should only listen to the values and pristine changes\n\n\nvar FormSpySubscription = {\n  values: true,\n  pristine: true\n};\nexport default EnhancedFilterForm;","import React from 'react';\nimport pure from 'recompose/pure';\nimport useTranslate from '../i18n/useTranslate';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nexport var FieldTitle = function FieldTitle(_a) {\n  var resource = _a.resource,\n      source = _a.source,\n      label = _a.label,\n      isRequired = _a.isRequired;\n  var translate = useTranslate();\n  return React.createElement(\"span\", null, translate.apply(void 0, getFieldLabelTranslationArgs({\n    label: label,\n    resource: resource,\n    source: source\n  })), isRequired && ' *');\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nFieldTitle.displayName = 'FieldTitle';\nexport default pure(FieldTitle);","import inflection from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\n\nexport default (function (options) {\n  if (!options) {\n    return [''];\n  }\n\n  var label = options.label,\n      resource = options.resource,\n      source = options.source;\n  return typeof label !== 'undefined' ? [label, {\n    _: label\n  }] : typeof source !== 'undefined' ? [\"resources.\" + resource + \".fields.\" + source, {\n    _: inflection.transform(source, ['underscore', 'humanize'])\n  }] : [''];\n});","import React, { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { FieldTitle } from 'ra-core';\nvar FilterButtonMenuItem = forwardRef(function (_a, ref) {\n  var filter = _a.filter,\n      onShow = _a.onShow,\n      resource = _a.resource;\n  var handleShow = useCallback(function () {\n    onShow({\n      source: filter.source,\n      defaultValue: filter.defaultValue\n    });\n  }, [filter.defaultValue, filter.source, onShow]);\n  return React.createElement(MenuItem, {\n    className: \"new-filter-item\",\n    \"data-key\": filter.source,\n    \"data-default-value\": filter.defaultValue,\n    key: filter.source,\n    onClick: handleShow,\n    ref: ref\n  }, React.createElement(FieldTitle, {\n    label: filter.label,\n    source: filter.source,\n    resource: resource\n  }));\n});\nFilterButtonMenuItem.propTypes = {\n  filter: PropTypes.object.isRequired,\n  onShow: PropTypes.func.isRequired,\n  resource: PropTypes.string.isRequired\n};\nexport default FilterButtonMenuItem;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button as MuiButton, Tooltip, IconButton, useMediaQuery, makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles({\n  button: {\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  label: {\n    paddingLeft: '0.5em'\n  },\n  labelRightIcon: {\n    paddingRight: '0.5em'\n  },\n  smallIcon: {\n    fontSize: 20\n  },\n  mediumIcon: {\n    fontSize: 22\n  },\n  largeIcon: {\n    fontSize: 24\n  }\n});\n\nvar Button = function Button(_a) {\n  var _b;\n\n  var _c = _a.alignIcon,\n      alignIcon = _c === void 0 ? 'left' : _c,\n      children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      color = _a.color,\n      disabled = _a.disabled,\n      label = _a.label,\n      size = _a.size,\n      rest = __rest(_a, [\"alignIcon\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"label\", \"size\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n  return isXSmall ? label && !disabled ? React.createElement(Tooltip, {\n    title: translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, __assign({\n    \"aria-label\": translate(label, {\n      _: label\n    }),\n    className: className,\n    color: color\n  }, rest), children)) : React.createElement(IconButton, __assign({\n    className: className,\n    color: color,\n    disabled: disabled\n  }, rest), children) : React.createElement(MuiButton, __assign({\n    className: classnames(classes.button, className),\n    color: color,\n    size: size,\n    \"aria-label\": label ? translate(label, {\n      _: label\n    }) : undefined,\n    disabled: disabled\n  }, rest), alignIcon === 'left' && children && React.cloneElement(children, {\n    className: classes[size + \"Icon\"]\n  }), label && React.createElement(\"span\", {\n    className: classnames((_b = {}, _b[classes.label] = alignIcon === 'left', _b[classes.labelRightIcon] = alignIcon !== 'left', _b))\n  }, translate(label, {\n    _: label\n  })), alignIcon === 'right' && children && React.cloneElement(children, {\n    className: classes[size + \"Icon\"]\n  }));\n};\n\nButton.propTypes = {\n  alignIcon: PropTypes.string,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large'])\n};\nButton.defaultProps = {\n  color: 'primary',\n  size: 'small'\n};\nexport default Button;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport FilterButtonMenuItem from './FilterButtonMenuItem';\nimport Button from '../button/Button';\nvar useStyles = makeStyles({\n  root: {\n    display: 'inline-block'\n  }\n});\n\nvar FilterButton = function FilterButton(_a) {\n  var filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      filterValues = _a.filterValues,\n      showFilter = _a.showFilter,\n      classesOverride = _a.classes,\n      className = _a.className,\n      resource = _a.resource,\n      rest = __rest(_a, [\"filters\", \"displayedFilters\", \"filterValues\", \"showFilter\", \"classes\", \"className\", \"resource\"]);\n\n  var _b = useState(false),\n      open = _b[0],\n      setOpen = _b[1];\n\n  var anchorEl = useRef();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var hiddenFilters = filters.filter(function (filterElement) {\n    return !filterElement.props.alwaysOn && !displayedFilters[filterElement.props.source] && typeof lodashGet(filterValues, filterElement.props.source) === 'undefined';\n  });\n  var handleClickButton = useCallback(function (event) {\n    // This prevents ghost click.\n    event.preventDefault();\n    setOpen(true);\n    anchorEl.current = event.currentTarget;\n  }, [anchorEl, setOpen]);\n  var handleRequestClose = useCallback(function () {\n    setOpen(false);\n  }, [setOpen]);\n  var handleShow = useCallback(function (_a) {\n    var source = _a.source,\n        defaultValue = _a.defaultValue;\n    showFilter(source, defaultValue);\n    setOpen(false);\n  }, [showFilter, setOpen]);\n  if (hiddenFilters.length === 0) return null;\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.root, className)\n  }, rest), React.createElement(Button, {\n    className: \"add-filter\",\n    label: \"ra.action.add_filter\",\n    onClick: handleClickButton\n  }, React.createElement(ContentFilter, null)), React.createElement(Menu, {\n    open: open,\n    anchorEl: anchorEl.current,\n    onClose: handleRequestClose\n  }, hiddenFilters.map(function (filterElement) {\n    return React.createElement(FilterButtonMenuItem, {\n      key: filterElement.props.source,\n      filter: filterElement.props,\n      resource: resource,\n      onShow: handleShow\n    });\n  })));\n};\n\nFilterButton.propTypes = {\n  resource: PropTypes.string.isRequired,\n  filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n  displayedFilters: PropTypes.object.isRequired,\n  filterValues: PropTypes.object.isRequired,\n  showFilter: PropTypes.func.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string\n};\nexport default FilterButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps } from 'ra-core';\nimport FilterForm from './FilterForm';\nimport FilterButton from './FilterButton';\nvar useStyles = makeStyles({\n  button: {},\n  form: {}\n});\n\nvar Filter = function Filter(props) {\n  var classes = useStyles({\n    classes: props.classes\n  });\n\n  var renderButton = function renderButton() {\n    var classesOverride = props.classes,\n        context = props.context,\n        resource = props.resource,\n        children = props.children,\n        showFilter = props.showFilter,\n        hideFilter = props.hideFilter,\n        displayedFilters = props.displayedFilters,\n        filterValues = props.filterValues,\n        variant = props.variant,\n        rest = __rest(props, [\"classes\", \"context\", \"resource\", \"children\", \"showFilter\", \"hideFilter\", \"displayedFilters\", \"filterValues\", \"variant\"]);\n\n    return React.createElement(FilterButton, __assign({\n      className: classes.button,\n      resource: resource,\n      filters: React.Children.toArray(children),\n      showFilter: showFilter,\n      displayedFilters: displayedFilters,\n      filterValues: filterValues\n    }, sanitizeListRestProps(rest)));\n  };\n\n  var renderForm = function renderForm() {\n    var classesOverride = props.classes,\n        context = props.context,\n        resource = props.resource,\n        children = props.children,\n        hideFilter = props.hideFilter,\n        displayedFilters = props.displayedFilters,\n        showFilter = props.showFilter,\n        filterValues = props.filterValues,\n        setFilters = props.setFilters,\n        rest = __rest(props, [\"classes\", \"context\", \"resource\", \"children\", \"hideFilter\", \"displayedFilters\", \"showFilter\", \"filterValues\", \"setFilters\"]);\n\n    return React.createElement(FilterForm, __assign({\n      className: classes.form,\n      resource: resource,\n      filters: React.Children.toArray(children),\n      hideFilter: hideFilter,\n      displayedFilters: displayedFilters,\n      initialValues: filterValues,\n      setFilters: setFilters\n    }, sanitizeListRestProps(rest)));\n  };\n\n  return props.context === 'button' ? renderButton() : renderForm();\n};\n\nFilter.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  context: PropTypes.oneOf(['form', 'button']),\n  displayedFilters: PropTypes.object,\n  filterValues: PropTypes.object,\n  hideFilter: PropTypes.func,\n  setFilters: PropTypes.func,\n  showFilter: PropTypes.func,\n  resource: PropTypes.string.isRequired\n};\nexport default Filter;","import lodashMemoize from 'lodash/memoize';\n/* eslint-disable no-underscore-dangle */\n\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\n\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\n\nvar isEmpty = function isEmpty(value) {\n  return typeof value === 'undefined' || value === null || value === '' || Array.isArray(value) && value.length === 0;\n};\n\nvar getMessage = function getMessage(message, messageArgs, value, values) {\n  return typeof message === 'function' ? message({\n    args: messageArgs,\n    value: value,\n    values: values\n  }) : messageArgs ? {\n    message: message,\n    args: messageArgs\n  } : message;\n}; // If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\n\n\nvar memoize = function memoize(fn) {\n  return lodashMemoize(fn, function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return JSON.stringify(args);\n  });\n}; // Compose multiple validators into a single one for use with final-form\n\n\nexport var composeValidators = function composeValidators() {\n  var validators = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    validators[_i] = arguments[_i];\n  }\n\n  return function (value, values, meta) {\n    var allValidators = Array.isArray(validators[0]) ? validators[0] : validators;\n    return allValidators.reduce(function (error, validator) {\n      return error || typeof validator === 'function' && validator(value, values, meta);\n    }, undefined);\n  };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\n\nexport var required = memoize(function (message) {\n  if (message === void 0) {\n    message = 'ra.validation.required';\n  }\n\n  return Object.assign(function (value, values) {\n    return isEmpty(value) ? getMessage(message, undefined, value, values) : undefined;\n  }, {\n    isRequired: true\n  });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\n\nexport var minLength = memoize(function (min, message) {\n  if (message === void 0) {\n    message = 'ra.validation.minLength';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value.length < min ? getMessage(message, {\n      min: min\n    }, value, values) : undefined;\n  };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\n\nexport var maxLength = memoize(function (max, message) {\n  if (message === void 0) {\n    message = 'ra.validation.maxLength';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value.length > max ? getMessage(message, {\n      max: max\n    }, value, values) : undefined;\n  };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\n\nexport var minValue = memoize(function (min, message) {\n  if (message === void 0) {\n    message = 'ra.validation.minValue';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value < min ? getMessage(message, {\n      min: min\n    }, value, values) : undefined;\n  };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\n\nexport var maxValue = memoize(function (max, message) {\n  if (message === void 0) {\n    message = 'ra.validation.maxValue';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && value > max ? getMessage(message, {\n      max: max\n    }, value, values) : undefined;\n  };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\n\nexport var number = memoize(function (message) {\n  if (message === void 0) {\n    message = 'ra.validation.number';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && isNaN(Number(value)) ? getMessage(message, undefined, value, values) : undefined;\n  };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\n\nexport var regex = lodashMemoize(function (pattern, message) {\n  if (message === void 0) {\n    message = 'ra.validation.regex';\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && typeof value === 'string' && !pattern.test(value) ? getMessage(message, {\n      pattern: pattern\n    }, value, values) : undefined;\n  };\n}, function (pattern, message) {\n  return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\n\nexport var email = memoize(function (message) {\n  if (message === void 0) {\n    message = 'ra.validation.email';\n  }\n\n  return regex(EMAIL_REGEX, message);\n});\n\nvar oneOfTypeMessage = function oneOfTypeMessage(_a) {\n  var args = _a.args;\n  return {\n    message: 'ra.validation.oneOf',\n    args: args\n  };\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\n\n\nexport var choices = memoize(function (list, message) {\n  if (message === void 0) {\n    message = oneOfTypeMessage;\n  }\n\n  return function (value, values) {\n    return !isEmpty(value) && list.indexOf(value) === -1 ? getMessage(message, {\n      list: list\n    }, value, values) : undefined;\n  };\n});","var isRequired = function isRequired(validate) {\n  if (validate && validate.isRequired) {\n    return true;\n  }\n\n  if (Array.isArray(validate)) {\n    return validate.some(function (it) {\n      return it.isRequired;\n    });\n  }\n\n  return false;\n};\n\nexport default isRequired;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useField as useFinalFormField } from 'react-final-form';\nimport { composeValidators } from './validate';\nimport isRequired from './isRequired';\nimport { useCallback } from 'react';\n\nvar useInput = function useInput(_a) {\n  var defaultValue = _a.defaultValue,\n      id = _a.id,\n      name = _a.name,\n      source = _a.source,\n      validate = _a.validate,\n      customOnBlur = _a.onBlur,\n      customOnChange = _a.onChange,\n      customOnFocus = _a.onFocus,\n      options = __rest(_a, [\"defaultValue\", \"id\", \"name\", \"source\", \"validate\", \"onBlur\", \"onChange\", \"onFocus\"]);\n\n  var finalName = name || source;\n  var sanitizedValidate = Array.isArray(validate) ? composeValidators(validate) : validate;\n\n  var _b = useFinalFormField(finalName, __assign({\n    initialValue: defaultValue,\n    validate: sanitizedValidate\n  }, options)),\n      input = _b.input,\n      meta = _b.meta; // Extract the event handlers so that we can provide ours\n  // allowing users to provide theirs without breaking the form\n\n\n  var onBlur = input.onBlur,\n      onChange = input.onChange,\n      onFocus = input.onFocus,\n      inputProps = __rest(input, [\"onBlur\", \"onChange\", \"onFocus\"]);\n\n  var handleBlur = useCallback(function (event) {\n    onBlur(event);\n\n    if (typeof customOnBlur === 'function') {\n      customOnBlur(event);\n    }\n  }, [onBlur, customOnBlur]);\n  var handleChange = useCallback(function (event) {\n    onChange(event);\n\n    if (typeof customOnChange === 'function') {\n      customOnChange(event);\n    }\n  }, [onChange, customOnChange]);\n  var handleFocus = useCallback(function (event) {\n    onFocus(event);\n\n    if (typeof customOnFocus === 'function') {\n      customOnFocus(event);\n    }\n  }, [onFocus, customOnFocus]); // If there is an input prop, this input has already been enhanced by final-form\n  // This is required in for inputs used inside other inputs (such as the SelectInput inside a ReferenceInput)\n\n  if (options.input) {\n    return {\n      id: id || source,\n      input: options.input,\n      meta: options.meta,\n      isRequired: isRequired(validate)\n    };\n  }\n\n  return {\n    id: id || source,\n    input: __assign({}, inputProps, {\n      onBlur: handleBlur,\n      onChange: handleChange,\n      onFocus: handleFocus\n    }),\n    meta: meta,\n    isRequired: isRequired(validate)\n  };\n};\n\nexport default useInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport MuiTextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles({\n  clearIcon: {\n    height: 16,\n    width: 0\n  },\n  visibleClearIcon: {\n    width: 16\n  },\n  clearButton: {\n    height: 24,\n    padding: 0,\n    width: 0\n  },\n  visibleClearButton: {\n    width: 24\n  },\n  selectAdornment: {\n    position: 'absolute',\n    right: 24\n  },\n  inputAdornedEnd: {\n    paddingRight: 0\n  }\n});\n\nvar handleMouseDownClearButton = function handleMouseDownClearButton(event) {\n  event.preventDefault();\n};\n/**\n * An override of the default Material-UI TextField which is resettable\n */\n\n\nfunction ResettableTextField(_a) {\n  var _b, _c;\n\n  var classesOverride = _a.classes,\n      clearAlwaysVisible = _a.clearAlwaysVisible,\n      InputProps = _a.InputProps,\n      value = _a.value,\n      resettable = _a.resettable,\n      disabled = _a.disabled,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      _e = _a.margin,\n      margin = _e === void 0 ? 'dense' : _e,\n      props = __rest(_a, [\"classes\", \"clearAlwaysVisible\", \"InputProps\", \"value\", \"resettable\", \"disabled\", \"variant\", \"margin\"]);\n\n  var _f = useState(false),\n      showClear = _f[0],\n      setShowClear = _f[1];\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur;\n  var handleClickClearButton = useCallback(function (event) {\n    event.preventDefault();\n    onChange('');\n  }, [onChange]);\n  var handleFocus = useCallback(function (event) {\n    setShowClear(true);\n    onFocus && onFocus(event);\n  }, [onFocus]);\n  var handleBlur = useCallback(function (event) {\n    setShowClear(false);\n    onBlur && onBlur(event);\n  }, [onBlur]);\n\n  var clearButton = classes.clearButton,\n      clearIcon = classes.clearIcon,\n      inputAdornedEnd = classes.inputAdornedEnd,\n      selectAdornment = classes.selectAdornment,\n      visibleClearButton = classes.visibleClearButton,\n      visibleClearIcon = classes.visibleClearIcon,\n      restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornedEnd\", \"selectAdornment\", \"visibleClearButton\", \"visibleClearIcon\"]);\n\n  return React.createElement(MuiTextField, __assign({\n    classes: restClasses,\n    value: value,\n    InputProps: __assign({\n      classes: props.select && variant === 'filled' ? {\n        adornedEnd: inputAdornedEnd\n      } : {},\n      endAdornment: resettable && value && React.createElement(InputAdornment, {\n        position: \"end\",\n        classes: {\n          root: props.select ? selectAdornment : null\n        }\n      }, React.createElement(IconButton, {\n        className: classNames(clearButton, (_b = {}, _b[visibleClearButton] = clearAlwaysVisible || showClear, _b)),\n        \"aria-label\": translate('ra.action.clear_input_value'),\n        title: translate('ra.action.clear_input_value'),\n        disableRipple: true,\n        onClick: handleClickClearButton,\n        onMouseDown: handleMouseDownClearButton,\n        disabled: disabled\n      }, React.createElement(ClearIcon, {\n        className: classNames(clearIcon, (_c = {}, _c[visibleClearIcon] = clearAlwaysVisible || showClear, _c))\n      })))\n    }, InputProps),\n    disabled: disabled,\n    variant: variant,\n    margin: margin\n  }, props, {\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }));\n}\n\nResettableTextField.propTypes = {\n  classes: PropTypes.object,\n  clearAlwaysVisible: PropTypes.bool,\n  disabled: PropTypes.bool,\n  InputProps: PropTypes.object,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  resettable: PropTypes.bool,\n  value: PropTypes.any.isRequired\n};\nexport default ResettableTextField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport { useTranslate } from '../i18n';\n\nvar ValidationError = function ValidationError(_a) {\n  var error = _a.error;\n  var translate = useTranslate();\n\n  if (error.message) {\n    var _b = error,\n        message = _b.message,\n        args = _b.args;\n    return React.createElement(React.Fragment, null, translate(message, __assign({\n      _: message\n    }, args)));\n  }\n\n  return React.createElement(React.Fragment, null, translate(error, {\n    _: error\n  }));\n};\n\nexport default ValidationError;","import React from 'react';\nimport { useTranslate, ValidationError } from 'ra-core';\n\nvar InputHelperText = function InputHelperText(_a) {\n  var helperText = _a.helperText,\n      touched = _a.touched,\n      error = _a.error;\n  var translate = useTranslate();\n  return touched && error ? React.createElement(ValidationError, {\n    error: error\n  }) : helperText ? React.createElement(React.Fragment, null, translate(helperText, {\n    _: helperText\n  })) : null;\n};\n\nexport default InputHelperText;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nexport default (function (_a) {\n  var alwaysOn = _a.alwaysOn,\n      basePath = _a.basePath,\n      component = _a.component,\n      defaultValue = _a.defaultValue,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      locale = _a.locale,\n      meta = _a.meta,\n      options = _a.options,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      record = _a.record,\n      resource = _a.resource,\n      allowEmpty = _a.allowEmpty,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translate = _a.translate,\n      translateChoice = _a.translateChoice,\n      rest = __rest(_a, [\"alwaysOn\", \"basePath\", \"component\", \"defaultValue\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"options\", \"optionText\", \"optionValue\", \"record\", \"resource\", \"allowEmpty\", \"source\", \"textAlign\", \"translate\", \"translateChoice\"]);\n\n  return rest;\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeRestProps from './sanitizeRestProps';\n/**\n * An Input component for a string\n *\n * @example\n * <TextInput source=\"first_name\" />\n *\n * You can customize the `type` props (which defaults to \"text\").\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\n * @example\n * <TextInput source=\"email\" type=\"email\" />\n * <NumberInput source=\"nb_views\" />\n *\n * The object passed as `options` props is passed to the <ResettableTextField> component\n */\n\nexport var TextInput = function TextInput(_a) {\n  var label = _a.label,\n      format = _a.format,\n      helperText = _a.helperText,\n      onBlur = _a.onBlur,\n      onFocus = _a.onFocus,\n      onChange = _a.onChange,\n      options = _a.options,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      validate = _a.validate,\n      rest = __rest(_a, [\"label\", \"format\", \"helperText\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n\n  var _b = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'text',\n    validate: validate\n  }, rest)),\n      id = _b.id,\n      input = _b.input,\n      isRequired = _b.isRequired,\n      _c = _b.meta,\n      error = _c.error,\n      touched = _c.touched;\n\n  return React.createElement(ResettableTextField, __assign({\n    id: id\n  }, input, {\n    label: label !== '' && label !== false && React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null\n  }, options, sanitizeRestProps(rest)));\n};\nTextInput.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nTextInput.defaultProps = {\n  options: {}\n};\nexport default TextInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles, InputAdornment } from '@material-ui/core';\nimport { useTranslate } from 'ra-core';\nimport TextInput from './TextInput';\nvar useStyles = makeStyles({\n  input: {\n    marginTop: 32\n  }\n});\n\nvar SearchInput = function SearchInput(_a) {\n  var classesOverride = _a.classes,\n      props = __rest(_a, [\"classes\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(TextInput, __assign({\n    hiddenLabel: true,\n    label: \"\",\n    placeholder: translate('ra.action.search'),\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\"\n      }, React.createElement(SearchIcon, {\n        color: \"disabled\"\n      }))\n    },\n    className: classes.input\n  }, props));\n};\n\nSearchInput.propTypes = {\n  classes: PropTypes.object\n};\nexport default SearchInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\n/**\n * Convert Date object to String\n *\n * @param {Date} value value to convert\n * @returns {String} A standardized date (yyyy-MM-dd), to be passed to an <input type=\"date\" />\n */\n\nvar convertDateToString = function convertDateToString(value) {\n  if (!(value instanceof Date) || isNaN(value.getDate())) return;\n  var pad = '00';\n  var yyyy = value.getFullYear().toString();\n  var MM = (value.getMonth() + 1).toString();\n  var dd = value.getDate().toString();\n  return yyyy + \"-\" + (pad + MM).slice(-2) + \"-\" + (pad + dd).slice(-2);\n};\n\nvar dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\n\nvar getStringFromDate = function getStringFromDate(value) {\n  // null, undefined and empty string values should not go through dateFormatter\n  // otherwise, it returns undefined and will make the input an uncontrolled one.\n  if (value == null || value === '') {\n    return '';\n  }\n\n  if (value instanceof Date) {\n    return convertDateToString(value);\n  } // valid dates should not be converted\n\n\n  if (dateRegex.test(value)) {\n    return value;\n  }\n\n  return convertDateToString(new Date(value));\n};\n\nexport var DateInput = function DateInput(_a) {\n  var _b = _a.format,\n      format = _b === void 0 ? getStringFromDate : _b,\n      label = _a.label,\n      options = _a.options,\n      source = _a.source,\n      resource = _a.resource,\n      helperText = _a.helperText,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      parse = _a.parse,\n      validate = _a.validate,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      rest = __rest(_a, [\"format\", \"label\", \"options\", \"source\", \"resource\", \"helperText\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\", \"variant\"]);\n\n  var _e = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _e.id,\n      input = _e.input,\n      isRequired = _e.isRequired,\n      _f = _e.meta,\n      error = _f.error,\n      touched = _f.touched;\n\n  return React.createElement(TextField, __assign({\n    id: id\n  }, input, {\n    variant: variant,\n    margin: margin,\n    type: \"date\",\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    InputLabelProps: {\n      shrink: true\n    }\n  }, options, sanitizeRestProps(rest)));\n};\nDateInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nDateInput.defaultProps = {\n  options: {}\n};\nexport default DateInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useInput, useTranslate, FieldTitle } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: {\n      width: theme.spacing(16)\n    }\n  };\n});\n\nvar getBooleanFromString = function getBooleanFromString(value) {\n  if (value === 'true') return true;\n  if (value === 'false') return false;\n  return null;\n};\n\nvar getStringFromBoolean = function getStringFromBoolean(value) {\n  if (value === true) return 'true';\n  if (value === false) return 'false';\n  return '';\n};\n\nvar NullableBooleanInput = function NullableBooleanInput(_a) {\n  var className = _a.className,\n      _b = _a.format,\n      format = _b === void 0 ? getStringFromBoolean : _b,\n      helperText = _a.helperText,\n      label = _a.label,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      _d = _a.parse,\n      parse = _d === void 0 ? getBooleanFromString : _d,\n      resource = _a.resource,\n      source = _a.source,\n      validate = _a.validate,\n      _e = _a.variant,\n      variant = _e === void 0 ? 'filled' : _e,\n      rest = __rest(_a, [\"className\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"parse\", \"resource\", \"source\", \"validate\", \"variant\"]);\n\n  var classes = useStyles({});\n  var translate = useTranslate();\n\n  var _f = useInput({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'checkbox',\n    validate: validate\n  }),\n      id = _f.id,\n      input = _f.input,\n      isRequired = _f.isRequired,\n      _g = _f.meta,\n      error = _g.error,\n      touched = _g.touched;\n\n  return React.createElement(TextField, __assign({\n    id: id\n  }, input, {\n    select: true,\n    margin: margin,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null,\n    className: classnames(classes.input, className),\n    variant: variant\n  }, options, sanitizeRestProps(rest)), React.createElement(MenuItem, {\n    value: \"\"\n  }, translate('ra.boolean.null')), React.createElement(MenuItem, {\n    value: \"false\"\n  }, translate('ra.boolean.false')), React.createElement(MenuItem, {\n    value: \"true\"\n  }, translate('ra.boolean.true')));\n};\n\nNullableBooleanInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nexport default NullableBooleanInput;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  var _a, _b;\n\n  return {\n    toolbar: (_a = {\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n      paddingRight: 0\n    }, _a[theme.breakpoints.up('xs')] = {\n      paddingLeft: 0\n    }, _a[theme.breakpoints.down('xs')] = {\n      paddingLeft: theme.spacing(2),\n      backgroundColor: theme.palette.background.paper\n    }, _a),\n    actions: (_b = {\n      paddingTop: theme.spacing(3),\n      minHeight: theme.spacing(5)\n    }, _b[theme.breakpoints.down('xs')] = {\n      padding: theme.spacing(1),\n      backgroundColor: theme.palette.background.paper\n    }, _b)\n  };\n});\nvar defaultClasses = {}; // avoid needless updates\n\nvar ListToolbar = function ListToolbar(_a) {\n  var _b = _a.classes,\n      classes = _b === void 0 ? defaultClasses : _b,\n      filters = _a.filters,\n      filterValues = _a.filterValues,\n      // dynamically set via the UI by the user\n  permanentFilter = _a.permanentFilter,\n      // set in the List component by the developer\n  actions = _a.actions,\n      exporter = _a.exporter,\n      rest = __rest(_a, [\"classes\", \"filters\", \"filterValues\", \"permanentFilter\", \"actions\", \"exporter\"]);\n\n  var styles = useStyles({\n    classes: classes\n  });\n  return React.createElement(Toolbar, {\n    className: styles.toolbar\n  }, filters && React.cloneElement(filters, __assign({}, rest, {\n    filterValues: filterValues,\n    context: 'form'\n  })), React.createElement(\"span\", null), actions && React.cloneElement(actions, __assign({}, rest, {\n    className: styles.actions,\n    exporter: exporter,\n    filters: filters,\n    filterValues: filterValues,\n    permanentFilter: permanentFilter\n  }, actions.props)));\n};\n\nListToolbar.propTypes = {\n  classes: PropTypes.object,\n  filters: PropTypes.element,\n  permanentFilter: PropTypes.object,\n  actions: PropTypes.element,\n  exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool])\n};\nexport default React.memo(ListToolbar);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    actions: {\n      flexShrink: 0,\n      color: theme.palette.text.secondary,\n      marginLeft: 20\n    },\n    hellip: {\n      padding: '1.2em'\n    }\n  };\n});\n\nfunction PaginationActions(_a) {\n  var classesOverride = _a.classes,\n      page = _a.page,\n      rowsPerPage = _a.rowsPerPage,\n      count = _a.count,\n      onChangePage = _a.onChangePage;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  /**\n   * Warning: material-ui's page is 0-based\n   */\n\n  var range = function range() {\n    var nbPages = Math.ceil(count / rowsPerPage) || 1;\n\n    if (isNaN(page) || nbPages === 1) {\n      return [];\n    }\n\n    var input = []; // display page links around the current page\n\n    if (page > 1) {\n      input.push(1);\n    }\n\n    if (page === 3) {\n      input.push(2);\n    }\n\n    if (page > 3) {\n      input.push('.');\n    }\n\n    if (page > 0) {\n      input.push(page);\n    }\n\n    input.push(page + 1);\n\n    if (page < nbPages - 1) {\n      input.push(page + 2);\n    }\n\n    if (page === nbPages - 4) {\n      input.push(nbPages - 1);\n    }\n\n    if (page < nbPages - 4) {\n      input.push('.');\n    }\n\n    if (page < nbPages - 2) {\n      input.push(nbPages);\n    }\n\n    return input;\n  };\n\n  var getNbPages = function getNbPages() {\n    return Math.ceil(count / rowsPerPage) || 1;\n  };\n\n  var prevPage = function prevPage(event) {\n    if (page === 0) {\n      throw new Error(translate('ra.navigation.page_out_from_begin'));\n    }\n\n    onChangePage(event, page - 1);\n  };\n\n  var nextPage = function nextPage(event) {\n    if (page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_from_end'));\n    }\n\n    onChangePage(event, page + 1);\n  };\n\n  var gotoPage = function gotoPage(event) {\n    var page = parseInt(event.currentTarget.dataset.page, 10);\n\n    if (page < 0 || page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n        page: page + 1\n      }));\n    }\n\n    onChangePage(event, page);\n  };\n\n  var renderPageNums = function renderPageNums() {\n    return range().map(function (pageNum, index) {\n      return pageNum === '.' ? React.createElement(\"span\", {\n        key: \"hyphen_\" + index,\n        className: classes.hellip\n      }, \"\\u2026\") : React.createElement(Button, {\n        className: \"page-number\",\n        color: pageNum === page + 1 ? 'default' : 'primary',\n        key: pageNum,\n        \"data-page\": pageNum - 1,\n        onClick: gotoPage,\n        size: \"small\"\n      }, pageNum);\n    });\n  };\n\n  var nbPages = getNbPages();\n  if (nbPages === 1) return React.createElement(\"div\", {\n    className: classes.actions\n  });\n  return React.createElement(\"div\", {\n    className: classes.actions\n  }, page > 0 && React.createElement(Button, {\n    color: \"primary\",\n    key: \"prev\",\n    onClick: prevPage,\n    className: \"previous-page\",\n    size: \"small\"\n  }, React.createElement(ChevronLeft, null), translate('ra.navigation.prev')), renderPageNums(), page !== nbPages - 1 && React.createElement(Button, {\n    color: \"primary\",\n    key: \"next\",\n    onClick: nextPage,\n    className: \"next-page\",\n    size: \"small\"\n  }, translate('ra.navigation.next'), React.createElement(ChevronRight, null)));\n}\n/**\n * PaginationActions propTypes are copied over from material-uis\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\n\n\nPaginationActions.propTypes = {\n  backIconButtonProps: PropTypes.object,\n  count: PropTypes.number.isRequired,\n  classes: PropTypes.object,\n  nextIconButtonProps: PropTypes.object,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired\n};\nexport default React.memo(PaginationActions);","import React from 'react';\nimport pure from 'recompose/pure';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'ra-core';\n\nvar PaginationLimit = function PaginationLimit() {\n  var translate = useTranslate();\n  return React.createElement(CardContent, null, React.createElement(Typography, {\n    variant: \"body2\"\n  }, translate('ra.navigation.no_results')));\n};\n\nexport default pure(PaginationLimit);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery } from '@material-ui/core';\nimport { useTranslate, sanitizeListRestProps } from 'ra-core';\nimport PaginationActions from './PaginationActions';\nimport PaginationLimit from './PaginationLimit';\nvar emptyArray = [];\n\nvar Pagination = function Pagination(_a) {\n  var loading = _a.loading,\n      page = _a.page,\n      perPage = _a.perPage,\n      rowsPerPageOptions = _a.rowsPerPageOptions,\n      total = _a.total,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      rest = __rest(_a, [\"loading\", \"page\", \"perPage\", \"rowsPerPageOptions\", \"total\", \"setPage\", \"setPerPage\"]);\n\n  useEffect(function () {\n    if (page < 1 || isNaN(page)) {\n      setPage(1);\n    }\n  }, [page, setPage]);\n  var translate = useTranslate();\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('sm');\n  });\n\n  var getNbPages = function getNbPages() {\n    return Math.ceil(total / perPage) || 1;\n  };\n  /**\n   * Warning: material-ui's page is 0-based\n   */\n\n\n  var handlePageChange = useCallback(function (event, page) {\n    event && event.stopPropagation();\n\n    if (page < 0 || page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n        page: page + 1\n      }));\n    }\n\n    setPage(page + 1);\n  }, [total, perPage, setPage, translate] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var handlePerPageChange = useCallback(function (event) {\n    setPerPage(event.target.value);\n  }, [setPerPage]);\n  var labelDisplayedRows = useCallback(function (_a) {\n    var from = _a.from,\n        to = _a.to,\n        count = _a.count;\n    return translate('ra.navigation.page_range_info', {\n      offsetBegin: from,\n      offsetEnd: to,\n      total: count\n    });\n  }, [translate]);\n\n  if (total === 0) {\n    return loading ? React.createElement(Toolbar, {\n      variant: \"dense\"\n    }) : React.createElement(PaginationLimit, null);\n  }\n\n  if (isSmall) {\n    return React.createElement(TablePagination, __assign({\n      count: total,\n      rowsPerPage: perPage,\n      page: page - 1,\n      onChangePage: handlePageChange,\n      rowsPerPageOptions: emptyArray,\n      component: \"span\",\n      labelDisplayedRows: labelDisplayedRows\n    }, sanitizeListRestProps(rest)));\n  }\n\n  return React.createElement(TablePagination, __assign({\n    count: total,\n    rowsPerPage: perPage,\n    page: page - 1,\n    onChangePage: handlePageChange,\n    onChangeRowsPerPage: handlePerPageChange,\n    ActionsComponent: PaginationActions,\n    component: \"span\",\n    labelRowsPerPage: translate('ra.navigation.page_rows_per_page'),\n    labelDisplayedRows: labelDisplayedRows,\n    rowsPerPageOptions: rowsPerPageOptions\n  }, sanitizeListRestProps(rest)));\n};\n\nPagination.propTypes = {\n  ids: PropTypes.array,\n  loading: PropTypes.bool,\n  page: PropTypes.number,\n  perPage: PropTypes.number,\n  rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n  setPage: PropTypes.func,\n  setPerPage: PropTypes.func,\n  total: PropTypes.number\n};\nPagination.defaultProps = {\n  rowsPerPageOptions: [5, 10, 25]\n};\nexport default React.memo(Pagination);","import { DELETE_MANY } from '../../core';\nexport var crudDeleteMany = function crudDeleteMany(resource, ids, basePath, refresh) {\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_DELETE_MANY,\n    payload: {\n      ids: ids\n    },\n    meta: {\n      resource: resource,\n      fetch: DELETE_MANY,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.deleted',\n          level: 'info',\n          messageArgs: {\n            smart_count: ids.length\n          }\n        },\n        basePath: basePath,\n        refresh: refresh,\n        unselectAll: true\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';\nexport var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';\nexport var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';\nexport var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    contentText: {\n      minWidth: 400\n    },\n    confirmPrimary: {\n      color: theme.palette.primary.main\n    },\n    confirmWarning: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n    iconPaddingStyle: {\n      paddingRight: '0.5em'\n    }\n  };\n});\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\n\nvar Confirm = function Confirm(_a) {\n  var _b;\n\n  var isOpen = _a.isOpen,\n      loading = _a.loading,\n      title = _a.title,\n      content = _a.content,\n      confirm = _a.confirm,\n      cancel = _a.cancel,\n      confirmColor = _a.confirmColor,\n      onClose = _a.onClose,\n      onConfirm = _a.onConfirm,\n      classesOverride = _a.classes,\n      _c = _a.translateOptions,\n      translateOptions = _c === void 0 ? {} : _c;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var handleConfirm = useCallback(function (e) {\n    e.stopPropagation();\n    onConfirm();\n  }, [onConfirm]);\n  var handleClick = useCallback(function (e) {\n    e.stopPropagation();\n  }, []);\n  return React.createElement(Dialog, {\n    open: isOpen,\n    onClose: onClose,\n    onClick: handleClick,\n    \"aria-labelledby\": \"alert-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\"\n  }, translate(title, __assign({\n    _: title\n  }, translateOptions))), React.createElement(DialogContent, null, React.createElement(DialogContentText, {\n    className: classes.contentText\n  }, translate(content, __assign({\n    _: content\n  }, translateOptions)))), React.createElement(DialogActions, null, React.createElement(Button, {\n    disabled: loading,\n    onClick: onClose\n  }, React.createElement(AlertError, {\n    className: classes.iconPaddingStyle\n  }), translate(cancel, {\n    _: cancel\n  })), React.createElement(Button, {\n    disabled: loading,\n    onClick: handleConfirm,\n    className: classnames('ra-confirm', (_b = {}, _b[classes.confirmWarning] = confirmColor === 'warning', _b[classes.confirmPrimary] = confirmColor === 'primary', _b)),\n    autoFocus: true\n  }, React.createElement(ActionCheck, {\n    className: classes.iconPaddingStyle\n  }), translate(confirm, {\n    _: confirm\n  }))));\n};\n\nConfirm.propTypes = {\n  cancel: PropTypes.string.isRequired,\n  classes: PropTypes.object,\n  confirm: PropTypes.string.isRequired,\n  confirmColor: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool,\n  loading: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired\n};\nConfirm.defaultProps = {\n  cancel: 'ra.action.cancel',\n  classes: {},\n  confirm: 'ra.action.confirm',\n  confirmColor: 'primary',\n  isOpen: false\n};\nexport default Confirm;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport inflection from 'inflection';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      classes = _a.classes,\n      crudDeleteMany = _a.crudDeleteMany,\n      filterValues = _a.filterValues,\n      label = _a.label,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"crudDeleteMany\", \"filterValues\", \"label\", \"resource\", \"selectedIds\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n});\n\nvar BulkDeleteWithConfirmButton = function BulkDeleteWithConfirmButton(_a) {\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      crudDeleteMany = _a.crudDeleteMany,\n      icon = _a.icon,\n      label = _a.label,\n      onClick = _a.onClick,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"crudDeleteMany\", \"icon\", \"label\", \"onClick\", \"resource\", \"selectedIds\"]);\n\n  var _b = useState(false),\n      isOpen = _b[0],\n      setOpen = _b[1];\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var unselectAll = useUnselectAll();\n  var refresh = useRefresh();\n  var translate = useTranslate();\n\n  var _c = useDeleteMany(resource, selectedIds, {\n    action: CRUD_DELETE_MANY,\n    onSuccess: function onSuccess() {\n      refresh();\n      notify('ra.notification.deleted', 'info', {\n        smart_count: selectedIds.length\n      });\n      unselectAll(resource);\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    }\n  }),\n      deleteMany = _c[0],\n      loading = _c[1].loading;\n\n  var handleClick = function handleClick(e) {\n    setOpen(true);\n    e.stopPropagation();\n  };\n\n  var handleDialogClose = function handleDialogClose() {\n    setOpen(false);\n  };\n\n  var handleDelete = function handleDelete() {\n    deleteMany();\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  };\n\n  return React.createElement(Fragment, null, React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    className: classes.deleteButton\n  }, sanitizeRestProps(rest)), icon), React.createElement(Confirm, {\n    isOpen: isOpen,\n    loading: loading,\n    title: \"ra.message.bulk_delete_title\",\n    content: \"ra.message.bulk_delete_content\",\n    translateOptions: {\n      smart_count: selectedIds.length,\n      name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n        smart_count: selectedIds.length,\n        _: inflection.inflect(resource, selectedIds.length)\n      }), true)\n    },\n    onConfirm: handleDelete,\n    onClose: handleDialogClose\n  }));\n};\n\nBulkDeleteWithConfirmButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  label: PropTypes.string,\n  resource: PropTypes.string.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  icon: PropTypes.element\n};\nBulkDeleteWithConfirmButton.defaultProps = {\n  label: 'ra.action.delete',\n  icon: React.createElement(ActionDelete, null)\n};\nexport default BulkDeleteWithConfirmButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY } from 'ra-core';\nimport Button from './Button';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      classes = _a.classes,\n      dispatchCrudDeleteMany = _a.dispatchCrudDeleteMany,\n      filterValues = _a.filterValues,\n      label = _a.label,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      startUndoable = _a.startUndoable,\n      undoable = _a.undoable,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"dispatchCrudDeleteMany\", \"filterValues\", \"label\", \"resource\", \"selectedIds\", \"startUndoable\", \"undoable\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n});\n\nvar BulkDeleteWithUndoButton = function BulkDeleteWithUndoButton(_a) {\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      icon = _a.icon,\n      label = _a.label,\n      onClick = _a.onClick,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      startUndoable = _a.startUndoable,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"icon\", \"label\", \"onClick\", \"resource\", \"selectedIds\", \"startUndoable\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var unselectAll = useUnselectAll();\n  var refresh = useRefresh();\n\n  var _b = useDeleteMany(resource, selectedIds, {\n    action: CRUD_DELETE_MANY,\n    onSuccess: function onSuccess() {\n      notify('ra.notification.deleted', 'info', {\n        smart_count: selectedIds.length\n      }, true);\n      unselectAll(resource);\n      refresh();\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    },\n    undoable: true\n  }),\n      deleteMany = _b[0],\n      loading = _b[1].loading;\n\n  var handleClick = function handleClick() {\n    deleteMany();\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  };\n\n  return React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    className: classes.deleteButton,\n    disabled: loading\n  }, sanitizeRestProps(rest)), icon);\n};\n\nBulkDeleteWithUndoButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  label: PropTypes.string,\n  resource: PropTypes.string.isRequired,\n  startUndoable: PropTypes.func,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  icon: PropTypes.element\n};\nBulkDeleteWithUndoButton.defaultProps = {\n  label: 'ra.action.delete',\n  undoable: true,\n  icon: React.createElement(ActionDelete, null)\n};\nexport default BulkDeleteWithUndoButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport BulkDeleteWithConfirmButton from './BulkDeleteWithConfirmButton';\nimport BulkDeleteWithUndoButton from './BulkDeleteWithUndoButton';\n\nvar BulkDeleteButton = function BulkDeleteButton(_a) {\n  var undoable = _a.undoable,\n      props = __rest(_a, [\"undoable\"]);\n\n  return undoable ? React.createElement(BulkDeleteWithUndoButton, __assign({}, props)) : React.createElement(BulkDeleteWithConfirmButton, __assign({}, props));\n};\n\nBulkDeleteButton.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  resource: PropTypes.string.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  undoable: PropTypes.bool,\n  icon: PropTypes.element\n};\nBulkDeleteButton.defaultProps = {\n  undoable: true\n};\nexport default BulkDeleteButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: (_a = {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-start',\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(1),\n      minHeight: theme.spacing(5)\n    }, _a[theme.breakpoints.up('xs')] = {\n      paddingLeft: 0,\n      paddingRight: 0\n    }, _a[theme.breakpoints.down('sm')] = {\n      paddingRight: theme.spacing(2)\n    }, _a[theme.breakpoints.down('xs')] = {\n      padding: theme.spacing(1),\n      backgroundColor: theme.palette.background.paper\n    }, _a)\n  };\n});\n\nvar TopToolbar = function TopToolbar(_a) {\n  var className = _a.className,\n      children = _a.children,\n      rest = __rest(_a, [\"className\", \"children\"]);\n\n  var classes = useStyles();\n  return React.createElement(Toolbar, __assign({\n    className: classnames(classes.root, className)\n  }, rest), children);\n};\n\nTopToolbar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nexport default TopToolbar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { useTranslate, sanitizeListRestProps } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    toolbar: {\n      zIndex: 3,\n      color: theme.palette.type === 'light' ? theme.palette.primary.main : theme.palette.text.primary,\n      justifyContent: 'space-between',\n      backgroundColor: theme.palette.type === 'light' ? lighten(theme.palette.primary.light, 0.85) : theme.palette.primary.dark,\n      minHeight: theme.spacing(8),\n      height: theme.spacing(8),\n      transition: theme.transitions.create('height') + \", \" + theme.transitions.create('min-height')\n    },\n    buttons: {},\n    collapsed: {\n      minHeight: 0,\n      height: 0,\n      overflowY: 'hidden'\n    },\n    title: {\n      flex: '0 0 auto'\n    }\n  };\n});\n\nvar BulkActionsToolbar = function BulkActionsToolbar(_a) {\n  var _b;\n\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      filterValues = _a.filterValues,\n      label = _a.label,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      children = _a.children,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\", \"resource\", \"selectedIds\", \"children\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(Toolbar, __assign({\n    \"data-test\": \"bulk-actions-toolbar\",\n    className: classnames(classes.toolbar, (_b = {}, _b[classes.collapsed] = selectedIds.length === 0, _b))\n  }, sanitizeListRestProps(rest)), React.createElement(\"div\", {\n    className: classes.title\n  }, React.createElement(Typography, {\n    color: \"inherit\",\n    variant: \"subtitle1\"\n  }, translate(label, {\n    _: label,\n    smart_count: selectedIds.length\n  }))), React.createElement(TopToolbar, null, Children.map(children, function (child) {\n    return cloneElement(Children.only(child), {\n      basePath: basePath,\n      filterValues: filterValues,\n      resource: resource,\n      selectedIds: selectedIds\n    });\n  })));\n};\n\nBulkActionsToolbar.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  basePath: PropTypes.string,\n  filterValues: PropTypes.object,\n  label: PropTypes.string,\n  resource: PropTypes.string,\n  selectedIds: PropTypes.array\n};\nBulkActionsToolbar.defaultProps = {\n  label: 'ra.action.bulk_actions'\n};\nexport default BulkActionsToolbar;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport { Fab, makeStyles, useMediaQuery } from '@material-ui/core';\nimport ContentAdd from '@material-ui/icons/Add';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'ra-core';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    floating: {\n      color: theme.palette.getContrastText(theme.palette.primary.main),\n      margin: 0,\n      top: 'auto',\n      right: 20,\n      bottom: 60,\n      left: 'auto',\n      position: 'fixed',\n      zIndex: 1000\n    },\n    floatingLink: {\n      color: 'inherit'\n    }\n  };\n});\n\nvar CreateButton = function CreateButton(_a) {\n  var _b = _a.basePath,\n      basePath = _b === void 0 ? '' : _b,\n      className = _a.className,\n      classesOverride = _a.classes,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.create' : _c,\n      _d = _a.icon,\n      icon = _d === void 0 ? React.createElement(ContentAdd, null) : _d,\n      rest = __rest(_a, [\"basePath\", \"className\", \"classes\", \"label\", \"icon\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('sm');\n  });\n  return isSmall ? React.createElement(Fab, __assign({\n    component: Link,\n    color: \"primary\",\n    className: classnames(classes.floating, className),\n    to: basePath + \"/create\",\n    \"aria-label\": label && translate(label)\n  }, rest), icon) : React.createElement(Button, __assign({\n    component: Link,\n    to: basePath + \"/create\",\n    className: className,\n    label: label\n  }, rest), icon);\n};\n\nCreateButton.propTypes = {\n  basePath: PropTypes.string,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  label: PropTypes.string,\n  size: PropTypes.string,\n  icon: PropTypes.element\n};\nvar enhance = onlyUpdateForKeys(['basePath', 'label', 'translate']);\nexport default enhance(CreateButton);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { downloadCSV, useDataProvider, useNotify } from 'ra-core';\nimport jsonExport from 'jsonexport/dist';\nimport Button from './Button';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      rest = __rest(_a, [\"basePath\"]);\n\n  return rest;\n};\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\n\n\nexport var getRelatedIds = function getRelatedIds(records, field) {\n  return Array.from(new Set(records.filter(function (record) {\n    return record[field] != null;\n  }).map(function (record) {\n    return record[field];\n  }).reduce(function (ids, value) {\n    return ids.concat(value);\n  }, [])));\n};\n/**\n * Helper function for calling the data provider with GET_MANY\n * via redux and saga, and getting a Promise in return\n *\n * @example\n *     fetchRelatedRecords(records, 'post_id', 'posts').then(posts =>\n *          posts.map(record => ({\n *              ...record,\n *              post_title: posts[record.post_id].title,\n *          }));\n */\n\nvar fetchRelatedRecords = function fetchRelatedRecords(dataProvider) {\n  return function (data, field, resource) {\n    return dataProvider.getMany(resource, {\n      ids: getRelatedIds(data, field)\n    }).then(function (_a) {\n      var data = _a.data;\n      return data.reduce(function (acc, post) {\n        acc[post.id] = post;\n        return acc;\n      }, {});\n    });\n  };\n};\n\nvar DefaultIcon = React.createElement(DownloadIcon, null);\nvar defaultFilter = {};\n\nvar ExportButton = function ExportButton(_a) {\n  var exporter = _a.exporter,\n      sort = _a.sort,\n      _b = _a.filter,\n      filter = _b === void 0 ? defaultFilter : _b,\n      _c = _a.maxResults,\n      maxResults = _c === void 0 ? 1000 : _c,\n      resource = _a.resource,\n      onClick = _a.onClick,\n      _d = _a.label,\n      label = _d === void 0 ? 'ra.action.export' : _d,\n      _e = _a.icon,\n      icon = _e === void 0 ? DefaultIcon : _e,\n      rest = __rest(_a, [\"exporter\", \"sort\", \"filter\", \"maxResults\", \"resource\", \"onClick\", \"label\", \"icon\"]);\n\n  var dataProvider = useDataProvider();\n  var notify = useNotify();\n  var handleClick = useCallback(function (event) {\n    dataProvider.getList(resource, {\n      sort: sort,\n      filter: filter,\n      pagination: {\n        page: 1,\n        perPage: maxResults\n      }\n    }).then(function (_a) {\n      var data = _a.data;\n      return exporter ? exporter(data, fetchRelatedRecords(dataProvider), dataProvider) : jsonExport(data, function (err, csv) {\n        return downloadCSV(csv, resource);\n      });\n    }).catch(function (error) {\n      console.error(error);\n      notify('ra.notification.http_error', 'warning');\n    });\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [dataProvider, exporter, filter, maxResults, notify, onClick, resource, sort]);\n  return React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label\n  }, sanitizeRestProps(rest)), icon);\n};\n\nExportButton.propTypes = {\n  basePath: PropTypes.string,\n  exporter: PropTypes.func,\n  filter: PropTypes.object,\n  label: PropTypes.string,\n  maxResults: PropTypes.number,\n  resource: PropTypes.string.isRequired,\n  sort: PropTypes.exact({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  icon: PropTypes.element\n};\nexport default ExportButton;","export default (function (csv, filename) {\n  var fakeLink = document.createElement('a');\n  fakeLink.style.display = 'none';\n  document.body.appendChild(fakeLink);\n  var blob = new Blob([csv], {\n    type: 'text/csv'\n  });\n\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n    // Manage IE11+ & Edge\n    window.navigator.msSaveOrOpenBlob(blob, filename + \".csv\");\n  } else {\n    fakeLink.setAttribute('href', URL.createObjectURL(blob));\n    fakeLink.setAttribute('download', filename + \".csv\");\n    fakeLink.click();\n  }\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nimport { CreateButton, ExportButton } from '../button';\n\nvar ListActions = function ListActions(_a) {\n  var currentSort = _a.currentSort,\n      className = _a.className,\n      resource = _a.resource,\n      filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      exporter = _a.exporter,\n      filterValues = _a.filterValues,\n      permanentFilter = _a.permanentFilter,\n      hasCreate = _a.hasCreate,\n      basePath = _a.basePath,\n      selectedIds = _a.selectedIds,\n      onUnselectItems = _a.onUnselectItems,\n      showFilter = _a.showFilter,\n      total = _a.total,\n      rest = __rest(_a, [\"currentSort\", \"className\", \"resource\", \"filters\", \"displayedFilters\", \"exporter\", \"filterValues\", \"permanentFilter\", \"hasCreate\", \"basePath\", \"selectedIds\", \"onUnselectItems\", \"showFilter\", \"total\"]);\n\n  return useMemo(function () {\n    return React.createElement(TopToolbar, __assign({\n      className: className\n    }, sanitizeListRestProps(rest)), filters && cloneElement(filters, {\n      resource: resource,\n      showFilter: showFilter,\n      displayedFilters: displayedFilters,\n      filterValues: filterValues,\n      context: 'button'\n    }), hasCreate && React.createElement(CreateButton, {\n      basePath: basePath\n    }), exporter !== false && React.createElement(ExportButton, {\n      disabled: total === 0,\n      resource: resource,\n      sort: currentSort,\n      filter: __assign({}, filterValues, permanentFilter),\n      exporter: exporter\n    }));\n  }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n};\n\nListActions.propTypes = {\n  basePath: PropTypes.string,\n  className: PropTypes.string,\n  currentSort: PropTypes.object,\n  displayedFilters: PropTypes.object,\n  exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  filters: PropTypes.element,\n  filterValues: PropTypes.object,\n  hasCreate: PropTypes.bool,\n  resource: PropTypes.string,\n  onUnselectItems: PropTypes.func.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.any),\n  showFilter: PropTypes.func,\n  total: PropTypes.number\n};\nListActions.defaultProps = {\n  selectedIds: [],\n  onUnselectItems: function onUnselectItems() {\n    return null;\n  }\n};\nexport default ListActions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useCheckMinimumRequiredProps, useListController, getListControllerProps, ComponentPropType } from 'ra-core';\nimport Title, { TitlePropType } from '../layout/Title';\nimport ListToolbar from './ListToolbar';\nimport DefaultPagination from './Pagination';\nimport BulkDeleteButton from '../button/BulkDeleteButton';\nimport BulkActionsToolbar from './BulkActionsToolbar';\nimport DefaultActions from './ListActions';\n\nvar DefaultBulkActionButtons = function DefaultBulkActionButtons(props) {\n  return React.createElement(BulkDeleteButton, __assign({}, props));\n};\n\nexport var useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: {},\n    main: {\n      display: 'flex'\n    },\n    content: (_a = {\n      marginTop: 0,\n      transition: theme.transitions.create('margin-top'),\n      position: 'relative',\n      flex: '1 1 auto'\n    }, _a[theme.breakpoints.down('xs')] = {\n      boxShadow: 'none'\n    }, _a),\n    bulkActionsDisplayed: {\n      marginTop: -theme.spacing(8),\n      transition: theme.transitions.create('margin-top')\n    },\n    actions: {\n      zIndex: 2,\n      display: 'flex',\n      justifyContent: 'flex-end',\n      flexWrap: 'wrap'\n    },\n    noResults: {\n      padding: 20\n    }\n  };\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var actions = _a.actions,\n      basePath = _a.basePath,\n      changeListParams = _a.changeListParams,\n      children = _a.children,\n      classes = _a.classes,\n      className = _a.className,\n      crudGetList = _a.crudGetList,\n      currentSort = _a.currentSort,\n      data = _a.data,\n      defaultTitle = _a.defaultTitle,\n      displayedFilters = _a.displayedFilters,\n      exporter = _a.exporter,\n      filter = _a.filter,\n      filterDefaultValues = _a.filterDefaultValues,\n      filters = _a.filters,\n      filterValues = _a.filterValues,\n      hasCreate = _a.hasCreate,\n      hasEdit = _a.hasEdit,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      hideFilter = _a.hideFilter,\n      history = _a.history,\n      ids = _a.ids,\n      loading = _a.loading,\n      loaded = _a.loaded,\n      locale = _a.locale,\n      location = _a.location,\n      match = _a.match,\n      onSelect = _a.onSelect,\n      onToggleItem = _a.onToggleItem,\n      onUnselectItems = _a.onUnselectItems,\n      options = _a.options,\n      page = _a.page,\n      pagination = _a.pagination,\n      params = _a.params,\n      permissions = _a.permissions,\n      perPage = _a.perPage,\n      push = _a.push,\n      query = _a.query,\n      refresh = _a.refresh,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      setFilters = _a.setFilters,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      setSelectedIds = _a.setSelectedIds,\n      setSort = _a.setSort,\n      showFilter = _a.showFilter,\n      sort = _a.sort,\n      title = _a.title,\n      toggleItem = _a.toggleItem,\n      total = _a.total,\n      version = _a.version,\n      rest = __rest(_a, [\"actions\", \"basePath\", \"changeListParams\", \"children\", \"classes\", \"className\", \"crudGetList\", \"currentSort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"exporter\", \"filter\", \"filterDefaultValues\", \"filters\", \"filterValues\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"hideFilter\", \"history\", \"ids\", \"loading\", \"loaded\", \"locale\", \"location\", \"match\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"options\", \"page\", \"pagination\", \"params\", \"permissions\", \"perPage\", \"push\", \"query\", \"refresh\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSelectedIds\", \"setSort\", \"showFilter\", \"sort\", \"title\", \"toggleItem\", \"total\", \"version\"]);\n\n  return rest;\n};\n\nexport var ListView = function ListView(props) {\n  var _a;\n\n  var actions = props.actions,\n      aside = props.aside,\n      filter = props.filter,\n      filters = props.filters,\n      bulkActionButtons = props.bulkActionButtons,\n      pagination = props.pagination,\n      children = props.children,\n      className = props.className,\n      classesOverride = props.classes,\n      Content = props.component,\n      exporter = props.exporter,\n      title = props.title,\n      rest = __rest(props, [\"actions\", \"aside\", \"filter\", \"filters\", \"bulkActionButtons\", \"pagination\", \"children\", \"className\", \"classes\", \"component\", \"exporter\", \"title\"]);\n\n  useCheckMinimumRequiredProps('List', ['children'], props);\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var defaultTitle = rest.defaultTitle,\n      version = rest.version;\n  var controllerProps = getListControllerProps(rest);\n  return React.createElement(\"div\", __assign({\n    className: classnames('list-page', classes.root, className)\n  }, sanitizeRestProps(rest)), React.createElement(Title, {\n    title: title,\n    defaultTitle: defaultTitle\n  }), (filters || actions) && React.createElement(ListToolbar, __assign({\n    filters: filters\n  }, controllerProps, {\n    actions: actions,\n    exporter: exporter,\n    permanentFilter: filter\n  })), React.createElement(\"div\", {\n    className: classes.main\n  }, React.createElement(Content, {\n    className: classnames(classes.content, (_a = {}, _a[classes.bulkActionsDisplayed] = controllerProps.selectedIds.length > 0, _a)),\n    key: version\n  }, bulkActionButtons !== false && bulkActionButtons && React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons), children && cloneElement(Children.only(children), __assign({}, controllerProps, {\n    hasBulkActions: bulkActionButtons !== false\n  })), pagination && cloneElement(pagination, controllerProps)), aside && cloneElement(aside, controllerProps)));\n};\nListView.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  basePath: PropTypes.string,\n  bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n  children: PropTypes.element,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  component: ComponentPropType,\n  currentSort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.object,\n  defaultTitle: PropTypes.string,\n  displayedFilters: PropTypes.object,\n  exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  filterDefaultValues: PropTypes.object,\n  filters: PropTypes.element,\n  filterValues: PropTypes.object,\n  hasCreate: PropTypes.bool,\n  hideFilter: PropTypes.func,\n  ids: PropTypes.array,\n  loading: PropTypes.bool,\n  onSelect: PropTypes.func,\n  onToggleItem: PropTypes.func,\n  onUnselectItems: PropTypes.func,\n  page: PropTypes.number,\n  pagination: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n  perPage: PropTypes.number,\n  refresh: PropTypes.func,\n  resource: PropTypes.string,\n  selectedIds: PropTypes.array,\n  setFilters: PropTypes.func,\n  setPage: PropTypes.func,\n  setPerPage: PropTypes.func,\n  setSort: PropTypes.func,\n  showFilter: PropTypes.func,\n  title: TitlePropType,\n  total: PropTypes.number,\n  version: PropTypes.number\n};\nListView.defaultProps = {\n  actions: React.createElement(DefaultActions, null),\n  classes: {},\n  component: Card,\n  bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n  pagination: React.createElement(DefaultPagination, null)\n};\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * Props:\n *   - title\n *   - perPage\n *   - sort\n *   - filter (the permanent filter to apply to the query)\n *   - actions\n *   - filters (a React component used to display the filter form)\n *   - pagination\n *\n * @example\n *     const PostFilter = (props) => (\n *         <Filter {...props}>\n *             <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *             <TextInput label=\"Title\" source=\"title\" />\n *         </Filter>\n *     );\n *     export const PostList = (props) => (\n *         <List {...props}\n *             title=\"List of posts\"\n *             sort={{ field: 'published_at' }}\n *             filter={{ is_published: true }}\n *             filters={PostFilter}\n *         >\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"title\" />\n *                 <EditButton />\n *             </Datagrid>\n *         </List>\n *     );\n */\n\nvar List = function List(props) {\n  return React.createElement(ListView, __assign({}, props, useListController(props)));\n};\n\nList.propTypes = {\n  // the props you can change\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  bulkActionButtons: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  filter: PropTypes.object,\n  filterDefaultValues: PropTypes.object,\n  filters: PropTypes.element,\n  pagination: PropTypes.element,\n  perPage: PropTypes.number.isRequired,\n  sort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  title: TitlePropType,\n  // the props managed by react-admin\n  authProvider: PropTypes.func,\n  hasCreate: PropTypes.bool.isRequired,\n  hasEdit: PropTypes.bool.isRequired,\n  hasList: PropTypes.bool.isRequired,\n  hasShow: PropTypes.bool.isRequired,\n  location: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired,\n  path: PropTypes.string,\n  resource: PropTypes.string.isRequired\n};\nList.defaultProps = {\n  filter: {},\n  perPage: 10\n};\nexport default List;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport shouldUpdate from 'recompose/shouldUpdate';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate } from 'ra-core'; // remove the sort icons when not active\n\nvar useStyles = makeStyles({\n  icon: {\n    display: 'none'\n  },\n  active: {\n    '& $icon': {\n      display: 'inline'\n    }\n  }\n});\nexport var DatagridHeaderCell = function DatagridHeaderCell(_a) {\n  var className = _a.className,\n      classesOverride = _a.classes,\n      field = _a.field,\n      currentSort = _a.currentSort,\n      updateSort = _a.updateSort,\n      resource = _a.resource,\n      isSorting = _a.isSorting,\n      rest = __rest(_a, [\"className\", \"classes\", \"field\", \"currentSort\", \"updateSort\", \"resource\", \"isSorting\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  return React.createElement(TableCell, __assign({\n    className: classnames(className, field.props.headerClassName),\n    align: field.props.textAlign,\n    variant: \"head\"\n  }, rest), field.props.sortable !== false && (field.props.sortBy || field.props.source) ? React.createElement(Tooltip, {\n    title: translate('ra.action.sort'),\n    placement: field.props.textAlign === 'right' ? 'bottom-end' : 'bottom-start',\n    enterDelay: 300\n  }, React.createElement(TableSortLabel, {\n    active: currentSort.field === (field.props.sortBy || field.props.source),\n    direction: currentSort.order === 'ASC' ? 'asc' : 'desc',\n    \"data-sort\": field.props.sortBy || field.props.source,\n    onClick: updateSort,\n    classes: classes\n  }, React.createElement(FieldTitle, {\n    label: field.props.label,\n    source: field.props.source,\n    resource: resource\n  }))) : React.createElement(FieldTitle, {\n    label: field.props.label,\n    source: field.props.source,\n    resource: resource\n  }));\n};\nDatagridHeaderCell.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  field: PropTypes.element,\n  currentSort: PropTypes.shape({\n    sort: PropTypes.string,\n    order: PropTypes.string\n  }).isRequired,\n  isSorting: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resource: PropTypes.string,\n  updateSort: PropTypes.func.isRequired\n};\nexport default shouldUpdate(function (props, nextProps) {\n  return props.updateSort !== nextProps.updateSort || nextProps.isSorting && props.sortable !== nextProps.sortable;\n})(DatagridHeaderCell);","import React, { memo } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.grey[300],\n      display: 'flex'\n    }\n  };\n});\n\nvar Placeholder = function Placeholder(_a) {\n  var classesOverride = _a.classes;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, \"\\xA0\");\n};\n\nvar times = function times(nbChildren, fn) {\n  return Array.from({\n    length: nbChildren\n  }, function (_, key) {\n    return fn(key);\n  });\n};\n\nvar DatagridLoading = function DatagridLoading(_a) {\n  var classes = _a.classes,\n      className = _a.className,\n      expand = _a.expand,\n      hasBulkActions = _a.hasBulkActions,\n      nbChildren = _a.nbChildren,\n      _b = _a.nbFakeLines,\n      nbFakeLines = _b === void 0 ? 5 : _b,\n      size = _a.size;\n  return React.createElement(Table, {\n    className: classnames(classes.table, className),\n    size: size\n  }, React.createElement(TableHead, null, React.createElement(TableRow, {\n    className: classes.row\n  }, expand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classes.expandHeader\n  }), hasBulkActions && React.createElement(TableCell, {\n    padding: \"checkbox\",\n    className: classes.expandIconCell\n  }, React.createElement(Checkbox, {\n    className: \"select-all\",\n    color: \"primary\",\n    checked: false\n  })), times(nbChildren, function (key) {\n    return React.createElement(TableCell, {\n      variant: \"head\",\n      className: classes.headerCell,\n      key: key\n    }, React.createElement(Placeholder, null));\n  }))), React.createElement(TableBody, null, times(nbFakeLines, function (key1) {\n    return React.createElement(TableRow, {\n      key: key1,\n      style: {\n        opacity: 1 / (key1 + 1)\n      }\n    }, expand && React.createElement(TableCell, {\n      padding: \"none\",\n      className: classes.expandIconCell\n    }, React.createElement(IconButton, {\n      className: classes.expandIcon,\n      component: \"div\",\n      \"aria-hidden\": \"true\"\n    }, React.createElement(ExpandMoreIcon, null))), hasBulkActions && React.createElement(TableCell, {\n      padding: \"checkbox\",\n      className: classes.expandIconCell\n    }, React.createElement(Checkbox, {\n      className: \"select-all\",\n      color: \"primary\",\n      checked: false\n    })), times(nbChildren, function (key2) {\n      return React.createElement(TableCell, {\n        className: classes.rowCell,\n        key: key2\n      }, React.createElement(Placeholder, null));\n    }));\n  })));\n};\n\nexport default memo(DatagridLoading);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport classnames from 'classnames';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var cellClassName = _a.cellClassName,\n      className = _a.className,\n      field = _a.field,\n      formClassName = _a.formClassName,\n      headerClassName = _a.headerClassName,\n      record = _a.record,\n      basePath = _a.basePath,\n      resource = _a.resource,\n      rest = __rest(_a, [\"cellClassName\", \"className\", \"field\", \"formClassName\", \"headerClassName\", \"record\", \"basePath\", \"resource\"]);\n\n  return rest;\n};\n\nexport var DatagridCell = function DatagridCell(_a) {\n  var className = _a.className,\n      field = _a.field,\n      record = _a.record,\n      basePath = _a.basePath,\n      resource = _a.resource,\n      rest = __rest(_a, [\"className\", \"field\", \"record\", \"basePath\", \"resource\"]);\n\n  return React.createElement(TableCell, __assign({\n    className: classnames(className, field.props.cellClassName),\n    align: field.props.textAlign\n  }, sanitizeRestProps(rest)), React.cloneElement(field, {\n    record: record,\n    basePath: field.props.basePath || basePath,\n    resource: resource\n  }));\n};\nDatagridCell.propTypes = {\n  className: PropTypes.string,\n  field: PropTypes.element,\n  record: PropTypes.object,\n  basePath: PropTypes.string,\n  resource: PropTypes.string\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nDatagridCell.displayName = 'DatagridCell';\nexport default DatagridCell;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { memo } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classNames from 'classnames';\nimport { useTranslate } from 'ra-core';\n\nvar ExpandRowButton = function ExpandRowButton(_a) {\n  var _b;\n\n  var classes = _a.classes,\n      expanded = _a.expanded,\n      expandContentId = _a.expandContentId,\n      props = __rest(_a, [\"classes\", \"expanded\", \"expandContentId\"]);\n\n  var translate = useTranslate();\n  return React.createElement(IconButton, __assign({\n    \"aria-label\": translate(expanded ? 'ra.action.close' : 'ra.action.expand'),\n    \"aria-expanded\": expanded,\n    \"aria-controls\": expandContentId,\n    className: classNames(classes.expandIcon, (_b = {}, _b[classes.expanded] = expanded, _b)),\n    component: \"div\",\n    tabIndex: -1,\n    \"aria-hidden\": \"true\"\n  }, props), React.createElement(ExpandMoreIcon, null));\n};\n\nexport default memo(ExpandRowButton);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar _this = this;\n\nimport React, { Fragment, isValidElement, cloneElement, createElement, useState, useEffect, useCallback, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableRow, Checkbox } from '@material-ui/core';\nimport { linkToRecord } from 'ra-core';\nimport isEqual from 'lodash/isEqual';\nimport DatagridCell from './DatagridCell';\nimport ExpandRowButton from './ExpandRowButton';\nimport { useHistory } from 'react-router-dom';\n\nvar computeNbColumns = function computeNbColumns(expand, children, hasBulkActions) {\n  return expand ? 1 + ( // show expand button\n  hasBulkActions ? 1 : 0) + // checkbox column\n  React.Children.toArray(children).filter(function (child) {\n    return !!child;\n  }).length // non-null children\n  : 0;\n}; // we don't need to compute columns if there is no expand panel;\n\n\nvar defaultClasses = {};\n\nvar DatagridRow = function DatagridRow(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      _b = _a.classes,\n      classes = _b === void 0 ? defaultClasses : _b,\n      className = _a.className,\n      expand = _a.expand,\n      hasBulkActions = _a.hasBulkActions,\n      hover = _a.hover,\n      id = _a.id,\n      onToggleItem = _a.onToggleItem,\n      record = _a.record,\n      resource = _a.resource,\n      rowClick = _a.rowClick,\n      selected = _a.selected,\n      style = _a.style,\n      rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"id\", \"onToggleItem\", \"record\", \"resource\", \"rowClick\", \"selected\", \"style\"]);\n\n  var _c = useState(false),\n      expanded = _c[0],\n      setExpanded = _c[1];\n\n  var _d = useState(computeNbColumns(expand, children, hasBulkActions)),\n      nbColumns = _d[0],\n      setNbColumns = _d[1];\n\n  useEffect(function () {\n    // Fields can be hidden dynamically based on permissions;\n    // The expand panel must span over the remaining columns\n    // So we must recompute the number of columns to span on\n    var newNbColumns = computeNbColumns(expand, children, hasBulkActions);\n\n    if (newNbColumns !== nbColumns) {\n      setNbColumns(newNbColumns);\n    }\n  }, [expand, nbColumns, children, hasBulkActions]);\n  var history = useHistory();\n  var handleToggleExpand = useCallback(function (event) {\n    setExpanded(!expanded);\n    event.stopPropagation();\n  }, [expanded]);\n  var handleToggleSelection = useCallback(function (event) {\n    onToggleItem(id);\n    event.stopPropagation();\n  }, [id, onToggleItem]);\n  var handleClick = useCallback(function (event) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var effect, _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!rowClick) return [2\n            /*return*/\n            ];\n            if (!(typeof rowClick === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , rowClick(id, basePath, record)];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = rowClick;\n            _b.label = 3;\n\n          case 3:\n            effect = _a;\n\n            switch (effect) {\n              case 'edit':\n                history.push(linkToRecord(basePath, id));\n                return [2\n                /*return*/\n                ];\n\n              case 'show':\n                history.push(linkToRecord(basePath, id, 'show'));\n                return [2\n                /*return*/\n                ];\n\n              case 'expand':\n                handleToggleExpand(event);\n                return [2\n                /*return*/\n                ];\n\n              case 'toggleSelection':\n                handleToggleSelection(event);\n                return [2\n                /*return*/\n                ];\n\n              default:\n                if (effect) history.push(effect);\n                return [2\n                /*return*/\n                ];\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [basePath, history, handleToggleExpand, handleToggleSelection, id, record, rowClick]);\n  return React.createElement(Fragment, null, React.createElement(TableRow, __assign({\n    className: className,\n    key: id,\n    style: style,\n    hover: hover,\n    onClick: handleClick\n  }, rest), expand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classes.expandIconCell\n  }, React.createElement(ExpandRowButton, {\n    classes: classes,\n    expanded: expanded,\n    onClick: handleToggleExpand,\n    expandContentId: id + \"-expand\"\n  })), hasBulkActions && React.createElement(TableCell, {\n    padding: \"checkbox\"\n  }, React.createElement(Checkbox, {\n    color: \"primary\",\n    className: \"select-item \" + classes.checkbox,\n    checked: selected,\n    onClick: handleToggleSelection\n  })), React.Children.map(children, function (field, index) {\n    return isValidElement(field) ? React.createElement(DatagridCell, __assign({\n      key: id + \"-\" + (field.props.source || index),\n      className: classnames(\"column-\" + field.props.source, classes.rowCell),\n      record: record\n    }, {\n      field: field,\n      basePath: basePath,\n      resource: resource\n    })) : null;\n  })), expand && expanded && React.createElement(TableRow, {\n    key: id + \"-expand\",\n    id: id + \"-expand\"\n  }, React.createElement(TableCell, {\n    colSpan: nbColumns\n  }, isValidElement(expand) ? cloneElement(expand, {\n    record: record,\n    basePath: basePath,\n    resource: resource,\n    id: String(id)\n  }) : createElement(expand, {\n    record: record,\n    basePath: basePath,\n    resource: resource,\n    id: String(id)\n  }))));\n};\n\nDatagridRow.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool.isRequired,\n  hover: PropTypes.bool,\n  id: PropTypes.any,\n  onToggleItem: PropTypes.func,\n  record: PropTypes.object.isRequired,\n  resource: PropTypes.string,\n  rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  selected: PropTypes.bool,\n  style: PropTypes.object\n};\nDatagridRow.defaultProps = {\n  hasBulkActions: false,\n  hover: true,\n  record: {},\n  selected: false\n};\n\nvar areEqual = function areEqual(prevProps, nextProps) {\n  var _ = prevProps.children,\n      prevPropsWithoutChildren = __rest(prevProps, [\"children\"]);\n\n  var __ = nextProps.children,\n      nextPropsWithoutChildren = __rest(nextProps, [\"children\"]);\n\n  return isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\n\nexport var PureDatagridRow = memo(DatagridRow, areEqual);\nPureDatagridRow.displayName = 'PureDatagridRow';\nexport default DatagridRow;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport TableBody from '@material-ui/core/TableBody';\nimport classnames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport DatagridRow, { PureDatagridRow } from './DatagridRow';\n\nvar DatagridBody = function DatagridBody(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      classes = _a.classes,\n      className = _a.className,\n      data = _a.data,\n      expand = _a.expand,\n      hasBulkActions = _a.hasBulkActions,\n      hover = _a.hover,\n      ids = _a.ids,\n      onToggleItem = _a.onToggleItem,\n      resource = _a.resource,\n      row = _a.row,\n      rowClick = _a.rowClick,\n      rowStyle = _a.rowStyle,\n      selectedIds = _a.selectedIds,\n      styles = _a.styles,\n      version = _a.version,\n      rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"row\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"styles\", \"version\"]);\n\n  return React.createElement(TableBody, __assign({\n    className: classnames('datagrid-body', className)\n  }, rest), ids.map(function (id, rowIndex) {\n    var _a;\n\n    return cloneElement(row, {\n      basePath: basePath,\n      classes: classes,\n      className: classnames(classes.row, (_a = {}, _a[classes.rowEven] = rowIndex % 2 === 0, _a[classes.rowOdd] = rowIndex % 2 !== 0, _a[classes.clickableRow] = rowClick, _a)),\n      expand: expand,\n      hasBulkActions: hasBulkActions,\n      hover: hover,\n      id: id,\n      key: id,\n      onToggleItem: onToggleItem,\n      record: data[id],\n      resource: resource,\n      rowClick: rowClick,\n      selected: selectedIds.includes(id),\n      style: rowStyle ? rowStyle(data[id], rowIndex) : null\n    }, children);\n  }));\n};\n\nDatagridBody.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  data: PropTypes.object.isRequired,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool.isRequired,\n  hover: PropTypes.bool,\n  ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n  onToggleItem: PropTypes.func,\n  resource: PropTypes.string,\n  row: PropTypes.element,\n  rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  rowStyle: PropTypes.func,\n  selectedIds: PropTypes.arrayOf(PropTypes.any),\n  styles: PropTypes.object,\n  version: PropTypes.number\n};\nDatagridBody.defaultProps = {\n  data: {},\n  hasBulkActions: false,\n  ids: [],\n  row: React.createElement(DatagridRow, null)\n}; // trick material-ui Table into thinking this is one of the child type it supports\n\nDatagridBody.muiName = 'TableBody';\n\nvar areEqual = function areEqual(prevProps, nextProps) {\n  var _ = prevProps.children,\n      prevPropsWithoutChildren = __rest(prevProps, [\"children\"]);\n\n  var __ = nextProps.children,\n      nextPropsWithoutChildren = __rest(nextProps, [\"children\"]);\n\n  return isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\n\nexport var PureDatagridBody = memo(DatagridBody, areEqual); // trick material-ui Table into thinking this is one of the child type it supports\n\nPureDatagridBody.muiName = 'TableBody';\nPureDatagridBody.defaultProps = {\n  row: React.createElement(PureDatagridRow, null)\n};\nexport default DatagridBody;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { isValidElement, Children, cloneElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps } from 'ra-core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\nimport DatagridLoading from './DatagridLoading';\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    table: {\n      tableLayout: 'auto'\n    },\n    thead: {},\n    tbody: {},\n    headerRow: {},\n    headerCell: {},\n    checkbox: {},\n    row: {},\n    clickableRow: {\n      cursor: 'pointer'\n    },\n    rowEven: {},\n    rowOdd: {},\n    rowCell: {},\n    expandHeader: {\n      padding: 0,\n      width: theme.spacing(6)\n    },\n    expandIconCell: {\n      width: theme.spacing(6)\n    },\n    expandIcon: {\n      padding: theme.spacing(1),\n      transform: 'rotate(-90deg)',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n    expanded: {\n      transform: 'rotate(0deg)'\n    }\n  };\n});\n/**\n * The Datagrid component renders a list of records as a table.\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\n *\n * Props:\n *  - rowStyle\n *\n * @example Display all posts as a datagrid\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <Datagrid rowStyle={postRowStyle}>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <TextField source=\"body\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n */\n\nfunction Datagrid(_a) {\n  var classesOverride = _a.classes,\n      props = __rest(_a, [\"classes\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  var basePath = props.basePath,\n      _b = props.optimized,\n      optimized = _b === void 0 ? false : _b,\n      _c = props.body,\n      body = _c === void 0 ? optimized ? React.createElement(PureDatagridBody, null) : React.createElement(DatagridBody, null) : _c,\n      children = props.children,\n      className = props.className,\n      currentSort = props.currentSort,\n      data = props.data,\n      expand = props.expand,\n      hasBulkActions = props.hasBulkActions,\n      hover = props.hover,\n      ids = props.ids,\n      loading = props.loading,\n      loaded = props.loaded,\n      onSelect = props.onSelect,\n      onToggleItem = props.onToggleItem,\n      resource = props.resource,\n      rowClick = props.rowClick,\n      rowStyle = props.rowStyle,\n      selectedIds = props.selectedIds,\n      setSort = props.setSort,\n      _d = props.size,\n      size = _d === void 0 ? 'small' : _d,\n      total = props.total,\n      version = props.version,\n      rest = __rest(props, [\"basePath\", \"optimized\", \"body\", \"children\", \"className\", \"currentSort\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"loading\", \"loaded\", \"onSelect\", \"onToggleItem\", \"resource\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"setSort\", \"size\", \"total\", \"version\"]);\n\n  var updateSort = useCallback(function (event) {\n    event.stopPropagation();\n    setSort(event.currentTarget.dataset.sort);\n  }, [setSort]);\n  var handleSelectAll = useCallback(function (event) {\n    if (event.target.checked) {\n      onSelect(ids.concat(selectedIds.filter(function (id) {\n        return !ids.includes(id);\n      })));\n    } else {\n      onSelect([]);\n    }\n  }, [ids, onSelect, selectedIds]);\n  /**\n   * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet\n   * if loaded is true, the data for the list has at least been returned once by the dataProvider\n   * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)\n   */\n\n  if (loaded === false) {\n    return React.createElement(DatagridLoading, {\n      classes: classes,\n      className: className,\n      expand: expand,\n      hasBulkActions: hasBulkActions,\n      nbChildren: React.Children.count(children),\n      size: size\n    });\n  }\n  /**\n   * Once loaded, the data for the list may be empty. Instead of\n   * displaying the table header with zero data rows,\n   * the datagrid displays nothing in this case.\n   */\n\n\n  if (loaded && (ids.length === 0 || total === 0)) {\n    return null;\n  }\n  /**\n   * After the initial load, if the data for the list isn't empty,\n   * and even if the data is refreshing (e.g. after a filter change),\n   * the datagrid displays the current data.\n   */\n\n\n  return React.createElement(Table, __assign({\n    className: classnames(classes.table, className),\n    size: size\n  }, sanitizeListRestProps(rest)), React.createElement(TableHead, {\n    className: classes.thead\n  }, React.createElement(TableRow, {\n    className: classnames(classes.row, classes.headerRow)\n  }, expand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classes.expandHeader\n  }), hasBulkActions && React.createElement(TableCell, {\n    padding: \"checkbox\"\n  }, React.createElement(Checkbox, {\n    className: \"select-all\",\n    color: \"primary\",\n    checked: selectedIds.length > 0 && ids.length > 0 && ids.every(function (id) {\n      return selectedIds.includes(id);\n    }),\n    onChange: handleSelectAll\n  })), Children.map(children, function (field, index) {\n    return isValidElement(field) ? React.createElement(DatagridHeaderCell, {\n      className: classes.headerCell,\n      currentSort: currentSort,\n      field: field,\n      isSorting: currentSort.field === (field.props.sortBy || field.props.source),\n      key: field.props.source || index,\n      resource: resource,\n      updateSort: updateSort\n    }) : null;\n  }))), cloneElement(body, {\n    basePath: basePath,\n    className: classes.tbody,\n    classes: classes,\n    expand: expand,\n    rowClick: rowClick,\n    data: data,\n    hasBulkActions: hasBulkActions,\n    hover: hover,\n    ids: ids,\n    onToggleItem: onToggleItem,\n    resource: resource,\n    rowStyle: rowStyle,\n    selectedIds: selectedIds,\n    version: version\n  }, children));\n}\n\nDatagrid.propTypes = {\n  basePath: PropTypes.string,\n  body: PropTypes.element,\n  children: PropTypes.node.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  currentSort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.object.isRequired,\n  expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n  hasBulkActions: PropTypes.bool.isRequired,\n  hover: PropTypes.bool,\n  ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n  loading: PropTypes.bool,\n  onSelect: PropTypes.func,\n  onToggleItem: PropTypes.func,\n  resource: PropTypes.string,\n  rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  rowStyle: PropTypes.func,\n  selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n  setSort: PropTypes.func,\n  total: PropTypes.number,\n  version: PropTypes.number\n};\nDatagrid.defaultProps = {\n  data: {},\n  hasBulkActions: false,\n  ids: [],\n  selectedIds: []\n};\nexport default Datagrid;","import omit from 'lodash/omit';\nexport default (function (props) {\n  return omit(props, ['addLabel', 'allowEmpty', 'basePath', 'cellClassName', 'className', 'formClassName', 'headerClassName', 'label', 'linkType', 'link', 'locale', 'record', 'resource', 'sortable', 'sortBy', 'source', 'textAlign', 'translateChoice']);\n});","import PropTypes from 'prop-types';\nexport var fieldPropTypes = {\n  addLabel: PropTypes.bool,\n  sortBy: PropTypes.string,\n  source: PropTypes.string,\n  label: PropTypes.string,\n  sortable: PropTypes.bool,\n  className: PropTypes.string,\n  cellClassName: PropTypes.string,\n  headerClassName: PropTypes.string,\n  textAlign: PropTypes.oneOf(['right', 'left'])\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n\nvar toLocaleStringSupportsLocales = function () {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n  try {\n    new Date().toLocaleString('i');\n  } catch (error) {\n    return error instanceof RangeError;\n  }\n\n  return false;\n}();\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\n\n\nexport var DateField = function DateField(_a) {\n  var className = _a.className,\n      locales = _a.locales,\n      options = _a.options,\n      record = _a.record,\n      _b = _a.showTime,\n      showTime = _b === void 0 ? false : _b,\n      source = _a.source,\n      rest = __rest(_a, [\"className\", \"locales\", \"options\", \"record\", \"showTime\", \"source\"]);\n\n  if (!record) {\n    return null;\n  }\n\n  var value = get(record, source);\n\n  if (value == null) {\n    return null;\n  }\n\n  var date = value instanceof Date ? value : new Date(value);\n  var dateString = showTime ? toLocaleStringSupportsLocales ? date.toLocaleString(locales, options) : date.toLocaleString() : toLocaleStringSupportsLocales ? date.toLocaleDateString(locales, options) : date.toLocaleDateString();\n  return React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)), dateString);\n};\nvar EnhancedDateField = pure(DateField);\nEnhancedDateField.defaultProps = {\n  addLabel: true\n};\nEnhancedDateField.propTypes = __assign({}, Typography.propTypes, fieldPropTypes, {\n  locales: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  options: PropTypes.object,\n  showTime: PropTypes.bool\n});\nEnhancedDateField.displayName = 'EnhancedDateField';\nexport default EnhancedDateField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\nvar hasNumberFormat = !!(typeof Intl === 'object' && Intl && typeof Intl.NumberFormat === 'function');\n/**\n * Display a numeric value as a locale string.\n *\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n * @example\n * <NumberField source=\"score\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span>567</span>\n *\n * <NumberField source=\"score\" className=\"red\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span class=\"red\">567</span>\n *\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\n * // renders the record { id: 1234, share: 0.2545 } as\n * <span>25%</span>\n *\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>$25.99</span>\n *\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>25,99 $US</span>\n */\n\nexport var NumberField = function NumberField(_a) {\n  var className = _a.className,\n      record = _a.record,\n      source = _a.source,\n      locales = _a.locales,\n      options = _a.options,\n      textAlign = _a.textAlign,\n      rest = __rest(_a, [\"className\", \"record\", \"source\", \"locales\", \"options\", \"textAlign\"]);\n\n  if (!record) {\n    return null;\n  }\n\n  var value = get(record, source);\n\n  if (value == null) {\n    return null;\n  }\n\n  return React.createElement(Typography, __assign({\n    variant: \"body2\",\n    component: \"span\",\n    className: className\n  }, sanitizeRestProps(rest)), hasNumberFormat ? value.toLocaleString(locales, options) : value);\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nNumberField.displayName = 'NumberField';\nvar EnhancedNumberField = pure(NumberField);\nEnhancedNumberField.defaultProps = {\n  addLabel: true,\n  textAlign: 'right'\n};\nEnhancedNumberField.propTypes = __assign({}, Typography.propTypes, fieldPropTypes, {\n  locales: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  options: PropTypes.object\n});\nEnhancedNumberField.displayName = 'EnhancedNumberField';\nexport default EnhancedNumberField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport FalseIcon from '@material-ui/icons/Clear';\nimport TrueIcon from '@material-ui/icons/Done';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport compose from 'recompose/compose';\nimport { useTranslate } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeRestProps from './sanitizeRestProps';\nvar useStyles = makeStyles({\n  label: {\n    // Move the text out of the flow of the container.\n    position: 'absolute',\n    // Reduce its height and width to just one pixel.\n    height: 1,\n    width: 1,\n    // Hide any overflowing elements or text.\n    overflow: 'hidden',\n    // Clip the box to zero pixels.\n    clip: 'rect(0, 0, 0, 0)',\n    // Text won't wrap to a second line.\n    whiteSpace: 'nowrap'\n  }\n});\nexport var BooleanField = function BooleanField(_a) {\n  var className = _a.className,\n      classesOverride = _a.classes,\n      source = _a.source,\n      _b = _a.record,\n      record = _b === void 0 ? {} : _b,\n      valueLabelTrue = _a.valueLabelTrue,\n      valueLabelFalse = _a.valueLabelFalse,\n      rest = __rest(_a, [\"className\", \"classes\", \"source\", \"record\", \"valueLabelTrue\", \"valueLabelFalse\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var translate = useTranslate();\n  var value = get(record, source);\n  var ariaLabel = value ? valueLabelTrue : valueLabelFalse;\n\n  if (!ariaLabel) {\n    ariaLabel = value === false ? 'ra.boolean.false' : 'ra.boolean.true';\n  }\n\n  if (value === false) {\n    return React.createElement(Typography, __assign({\n      component: \"span\",\n      variant: \"body2\",\n      className: className\n    }, sanitizeRestProps(rest)), React.createElement(\"span\", {\n      className: classes.label\n    }, translate(ariaLabel, {\n      _: ariaLabel\n    })), React.createElement(FalseIcon, {\n      \"data-testid\": \"false\"\n    }));\n  }\n\n  if (value === true) {\n    return React.createElement(Typography, __assign({\n      component: \"span\",\n      variant: \"body2\",\n      className: className\n    }, sanitizeRestProps(rest)), React.createElement(\"span\", {\n      className: classes.label\n    }, translate(ariaLabel, {\n      _: ariaLabel\n    })), React.createElement(TrueIcon, {\n      \"data-testid\": \"true\"\n    }));\n  }\n\n  return React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)));\n};\nvar EnhancedBooleanField = compose(pure)(BooleanField);\nEnhancedBooleanField.defaultProps = {\n  addLabel: true\n};\nEnhancedBooleanField.propTypes = __assign({}, Typography.propTypes, fieldPropTypes, {\n  valueLabelFalse: PropTypes.string,\n  valueLabelTrue: PropTypes.string\n});\nEnhancedBooleanField.displayName = 'EnhancedBooleanField';\nexport default EnhancedBooleanField;","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate } from 'react-admin';\nimport segments from '../segments/data';\n\nconst styles = {\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n};\n\nconst SegmentsField = ({ record }) => {\n    const translate = useTranslate();\n    return (\n        <span style={styles.main}>\n            {record.groups &&\n                record.groups.map(segment => (\n                    <Chip\n                        key={segment}\n                        style={styles.chip}\n                        label={translate(\n                            segments.find(s => s.id === segment).name\n                        )}\n                    />\n                ))}\n        </span>\n    );\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import { isValidElement, cloneElement, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\n\nvar useChoices = function useChoices(_a) {\n  var _b = _a.optionText,\n      optionText = _b === void 0 ? 'name' : _b,\n      _c = _a.optionValue,\n      optionValue = _c === void 0 ? 'id' : _c,\n      _d = _a.translateChoice,\n      translateChoice = _d === void 0 ? true : _d;\n  var translate = useTranslate();\n  var getChoiceText = useCallback(function (choice) {\n    if (isValidElement(optionText)) {\n      return cloneElement(optionText, {\n        record: choice\n      });\n    }\n\n    var choiceName = typeof optionText === 'function' ? optionText(choice) : get(choice, optionText);\n    return translateChoice ? translate(choiceName, {\n      _: choiceName\n    }) : choiceName;\n  }, [optionText, translate, translateChoice]);\n  var getChoiceValue = useCallback(function (choice) {\n    return get(choice, optionValue);\n  }, [optionValue]);\n  return {\n    getChoiceText: getChoiceText,\n    getChoiceValue: getChoiceValue\n  };\n};\n\nexport default useChoices;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useInput, FieldTitle, useTranslate, useChoices } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var addLabel = _a.addLabel,\n      allowEmpty = _a.allowEmpty,\n      emptyValue = _a.emptyValue,\n      basePath = _a.basePath,\n      choices = _a.choices,\n      className = _a.className,\n      component = _a.component,\n      crudGetMatching = _a.crudGetMatching,\n      crudGetOne = _a.crudGetOne,\n      defaultValue = _a.defaultValue,\n      filter = _a.filter,\n      filterToQuery = _a.filterToQuery,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      locale = _a.locale,\n      meta = _a.meta,\n      onChange = _a.onChange,\n      options = _a.options,\n      optionValue = _a.optionValue,\n      optionText = _a.optionText,\n      disableValue = _a.disableValue,\n      perPage = _a.perPage,\n      record = _a.record,\n      reference = _a.reference,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      sort = _a.sort,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translate = _a.translate,\n      translateChoice = _a.translateChoice,\n      validation = _a.validation,\n      rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"emptyValue\", \"basePath\", \"choices\", \"className\", \"component\", \"crudGetMatching\", \"crudGetOne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"disableValue\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: {\n      minWidth: theme.spacing(20)\n    }\n  };\n});\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <Select> component\n *\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\n * ];\n *\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\n * ];\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\n *\n */\n\nvar SelectInput = function SelectInput(_a) {\n  var allowEmpty = _a.allowEmpty,\n      _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      className = _a.className,\n      disableValue = _a.disableValue,\n      emptyText = _a.emptyText,\n      emptyValue = _a.emptyValue,\n      format = _a.format,\n      helperText = _a.helperText,\n      label = _a.label,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      translateChoice = _a.translateChoice,\n      validate = _a.validate,\n      rest = __rest(_a, [\"allowEmpty\", \"choices\", \"className\", \"disableValue\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles({});\n\n  var _c = useChoices({\n    optionText: optionText,\n    optionValue: optionValue,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _c.getChoiceText,\n      getChoiceValue = _c.getChoiceValue;\n\n  var _d = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _d.id,\n      input = _d.input,\n      isRequired = _d.isRequired,\n      _e = _d.meta,\n      error = _e.error,\n      touched = _e.touched;\n\n  var renderEmptyItemOption = useCallback(function () {\n    return React.isValidElement(emptyText) ? React.cloneElement(emptyText) : translate(emptyText, {\n      _: emptyText\n    });\n  }, [emptyText, translate]);\n  var renderMenuItemOption = useCallback(function (choice) {\n    return getChoiceText(choice);\n  }, [getChoiceText]);\n  return React.createElement(ResettableTextField, __assign({\n    id: id\n  }, input, {\n    select: true,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    className: classes.input + \" \" + className,\n    clearAlwaysVisible: true,\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null\n  }, options, sanitizeRestProps(rest)), allowEmpty ? React.createElement(MenuItem, {\n    value: emptyValue,\n    key: \"null\",\n    \"aria-label\": translate('ra.action.clear_input_value'),\n    title: translate('ra.action.clear_input_value')\n  }, renderEmptyItemOption()) : null, choices.map(function (choice) {\n    return React.createElement(MenuItem, {\n      key: getChoiceValue(choice),\n      value: getChoiceValue(choice),\n      disabled: get(choice, disableValue)\n    }, renderMenuItemOption(choice));\n  }));\n};\n\nSelectInput.propTypes = {\n  allowEmpty: PropTypes.bool.isRequired,\n  emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  emptyValue: PropTypes.any,\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  label: PropTypes.string,\n  options: PropTypes.object,\n  optionText: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.element]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  disableValue: PropTypes.string,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool\n};\nSelectInput.defaultProps = {\n  allowEmpty: false,\n  emptyText: '',\n  emptyValue: '',\n  options: {},\n  optionText: 'name',\n  optionValue: 'id',\n  translateChoice: true,\n  disableValue: 'disabled'\n};\nexport default SelectInput;","import React from 'react';\nimport { useTranslate, SelectInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\nconst SegmentInput = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link as RRLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    link: {\n      textDecoration: 'none',\n      color: theme.palette.primary.main\n    }\n  };\n});\n\nvar Link = function Link(_a) {\n  var to = _a.to,\n      children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      rest = __rest(_a, [\"to\", \"children\", \"classes\", \"className\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(RRLink, __assign({\n    to: to,\n    className: classNames(classes.link, className)\n  }, rest), children);\n};\n\nLink.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\nexport default Link;","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst AvatarField = ({ record, size, className }) => (\n    <Avatar\n        src={`${record.avatar}?size=${size}x${size}`}\n        size={size}\n        style={{ width: size, height: size }}\n        className={className}\n    />\n);\n\nAvatarField.defaultProps = {\n    size: 25,\n};\n\nexport default AvatarField;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\nconst FullNameField = ({ record = {}, size }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    );\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerLinkField = props => (\n    <Link to={`/customers/${props.record.id}`}>\n        <FullNameField {...props} />\n    </Link>\n);\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React from 'react';\nimport { NumberField } from 'react-admin';\n\nconst colored = WrappedComponent => {\n    const Colored = props =>\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <WrappedComponent {...props} />\n            </span>\n        ) : (\n            <WrappedComponent {...props} />\n        );\n\n    Colored.displayName = `Colored(${WrappedComponent.displayName})`;\n\n    return Colored;\n};\n\nconst ColoredNumberField = colored(NumberField);\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button'; // useful to prevent click bubbling in a datagrid with rowClick\n\nvar stopPropagation = function stopPropagation(e) {\n  return e.stopPropagation();\n};\n\nvar EditButton = function EditButton(_a) {\n  var _b = _a.basePath,\n      basePath = _b === void 0 ? '' : _b,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.edit' : _c,\n      _d = _a.record,\n      record = _d === void 0 ? {} : _d,\n      _e = _a.icon,\n      icon = _e === void 0 ? React.createElement(ContentCreate, null) : _e,\n      rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n\n  return React.createElement(Button, __assign({\n    component: Link,\n    to: linkToRecord(basePath, record.id),\n    label: label,\n    onClick: stopPropagation\n  }, rest), icon);\n};\n\nEditButton.propTypes = {\n  basePath: PropTypes.string,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  icon: PropTypes.element\n};\nexport default EditButton;","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DateField, EditButton, useTranslate, NumberField } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\nconst MobileGrid = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${\n                                    data[id].last_name\n                                }`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"last_seen\"\n                                type=\"date\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                parseInt(data[id].nb_commands, 10) || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                                className={classes.nb_commands}\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, makeStyles } from '@material-ui/core';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\n\nconst VisitorFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles({\n    nb_commands: { color: 'purple' },\n});\n\nconst VisitorList = props => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    return (\n        <List\n            {...props}\n            filters={<VisitorFilter />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" type=\"date\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import { useCallback } from 'react'; // @ts-ignore\n\nimport inflection from 'inflection';\nimport { parse } from 'query-string';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useCreate } from '../dataProvider';\nimport { useNotify, useRedirect } from '../sideEffect';\nimport { useTranslate } from '../i18n';\nimport { useVersion } from '.';\nimport { CRUD_CREATE } from '../actions';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\n\nvar useCreateController = function useCreateController(props) {\n  useCheckMinimumRequiredProps('Create', ['basePath', 'location', 'resource'], props);\n  var basePath = props.basePath,\n      resource = props.resource,\n      location = props.location,\n      _a = props.record,\n      record = _a === void 0 ? {} : _a,\n      hasShow = props.hasShow,\n      hasEdit = props.hasEdit,\n      successMessage = props.successMessage;\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var recordToUse = getRecord(location, record);\n  var version = useVersion();\n\n  var _b = useCreate(resource),\n      create = _b[0],\n      saving = _b[1].loading;\n\n  var save = useCallback(function (data, redirectTo, _a) {\n    if (redirectTo === void 0) {\n      redirectTo = 'list';\n    }\n\n    var _b = _a === void 0 ? {} : _a,\n        onSuccess = _b.onSuccess,\n        onFailure = _b.onFailure;\n\n    return create({\n      payload: {\n        data: data\n      }\n    }, {\n      action: CRUD_CREATE,\n      onSuccess: onSuccess ? onSuccess : function (_a) {\n        var newRecord = _a.data;\n        notify(successMessage || 'ra.notification.created', 'info', {\n          smart_count: 1\n        });\n        redirect(redirectTo, basePath, newRecord.id, newRecord);\n      },\n      onFailure: onFailure ? onFailure : function (error) {\n        notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n      }\n    });\n  }, [create, notify, successMessage, redirect, basePath]);\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 1,\n    _: inflection.humanize(inflection.singularize(resource))\n  });\n  var defaultTitle = translate('ra.page.create', {\n    name: \"\" + resourceName\n  });\n  return {\n    loading: false,\n    loaded: true,\n    saving: saving,\n    defaultTitle: defaultTitle,\n    save: save,\n    resource: resource,\n    basePath: basePath,\n    record: recordToUse,\n    redirect: getDefaultRedirectRoute(hasShow, hasEdit),\n    version: version\n  };\n};\n\nexport default useCreateController;\nexport var getRecord = function getRecord(_a, record) {\n  var state = _a.state,\n      search = _a.search;\n\n  if (record === void 0) {\n    record = {};\n  }\n\n  return state && state.record ? state.record : search ? JSON.parse(parse(search).source) : record;\n};\n\nvar getDefaultRedirectRoute = function getDefaultRedirectRoute(hasShow, hasEdit) {\n  if (hasEdit) {\n    return 'edit';\n  }\n\n  if (hasShow) {\n    return 'show';\n  }\n\n  return 'list';\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Title, { TitlePropType } from './Title';\n\nvar TitleForRecord = function TitleForRecord(_a) {\n  var defaultTitle = _a.defaultTitle,\n      record = _a.record,\n      title = _a.title;\n  return record ? React.createElement(Title, {\n    title: title,\n    record: record,\n    defaultTitle: defaultTitle\n  }) : '';\n};\n\nTitleForRecord.propTypes = {\n  defaultTitle: PropTypes.any,\n  record: PropTypes.object,\n  title: TitlePropType\n};\nexport default TitleForRecord;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useCheckMinimumRequiredProps, useCreateController } from 'ra-core';\nimport TitleForRecord from '../layout/TitleForRecord';\n/**\n * Page component for the Create view\n *\n * The `<Create>` component renders the page title and actions.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The `<Create>` component accepts the following props:\n *\n * - title\n * - actions\n *\n * Both expect an element for value.\n *\n * @example\n *     // in src/posts.js\n *     import React from 'react';\n *     import { Create, SimpleForm, TextInput } from 'react-admin';\n *\n *     export const PostCreate = (props) => (\n *         <Create {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Create>\n *     );\n *\n *     // in src/App.js\n *     import React from 'react';\n *     import { Admin, Resource } from 'react-admin';\n *\n *     import { PostCreate } from './posts';\n *\n *     const App = () => (\n *         <Admin dataProvider={...}>\n *             <Resource name=\"posts\" create={PostCreate} />\n *         </Admin>\n *     );\n *     export default App;\n */\n\nvar Create = function Create(props) {\n  return React.createElement(CreateView, __assign({}, props, useCreateController(props)));\n};\n\nCreate.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  hasCreate: PropTypes.bool,\n  hasEdit: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  resource: PropTypes.string.isRequired,\n  title: PropTypes.node,\n  record: PropTypes.object,\n  hasList: PropTypes.bool,\n  successMessage: PropTypes.string\n};\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: {},\n    main: {\n      display: 'flex'\n    },\n    noActions: (_a = {}, _a[theme.breakpoints.up('sm')] = {\n      marginTop: '1em'\n    }, _a),\n    card: {\n      flex: '1 1 auto'\n    }\n  };\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var actions = _a.actions,\n      children = _a.children,\n      className = _a.className,\n      crudCreate = _a.crudCreate,\n      loading = _a.loading,\n      loaded = _a.loaded,\n      saving = _a.saving,\n      resource = _a.resource,\n      title = _a.title,\n      hasCreate = _a.hasCreate,\n      hasEdit = _a.hasEdit,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      match = _a.match,\n      location = _a.location,\n      history = _a.history,\n      options = _a.options,\n      locale = _a.locale,\n      permissions = _a.permissions,\n      successMessage = _a.successMessage,\n      rest = __rest(_a, [\"actions\", \"children\", \"className\", \"crudCreate\", \"loading\", \"loaded\", \"saving\", \"resource\", \"title\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"match\", \"location\", \"history\", \"options\", \"locale\", \"permissions\", \"successMessage\"]);\n\n  return rest;\n};\n\nexport var CreateView = function CreateView(props) {\n  var _a;\n\n  var actions = props.actions,\n      aside = props.aside,\n      basePath = props.basePath,\n      children = props.children,\n      classesOverride = props.classes,\n      className = props.className,\n      defaultTitle = props.defaultTitle,\n      hasList = props.hasList,\n      hasShow = props.hasShow,\n      _b = props.record,\n      record = _b === void 0 ? {} : _b,\n      redirect = props.redirect,\n      resource = props.resource,\n      save = props.save,\n      saving = props.saving,\n      title = props.title,\n      version = props.version,\n      rest = __rest(props, [\"actions\", \"aside\", \"basePath\", \"children\", \"classes\", \"className\", \"defaultTitle\", \"hasList\", \"hasShow\", \"record\", \"redirect\", \"resource\", \"save\", \"saving\", \"title\", \"version\"]);\n\n  useCheckMinimumRequiredProps('Create', ['children'], props);\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(\"div\", __assign({\n    className: classnames('create-page', classes.root, className)\n  }, sanitizeRestProps(rest)), React.createElement(TitleForRecord, {\n    title: title,\n    record: record,\n    defaultTitle: defaultTitle\n  }), actions && cloneElement(actions, __assign({\n    basePath: basePath,\n    resource: resource,\n    hasList: hasList\n  }, actions.props)), React.createElement(\"div\", {\n    className: classnames(classes.main, (_a = {}, _a[classes.noActions] = !actions, _a))\n  }, React.createElement(Card, {\n    className: classes.card\n  }, cloneElement(Children.only(children), {\n    basePath: basePath,\n    record: record,\n    redirect: typeof children.props.redirect === 'undefined' ? redirect : children.props.redirect,\n    resource: resource,\n    save: save,\n    saving: saving,\n    version: version\n  })), aside && cloneElement(aside, {\n    basePath: basePath,\n    record: record,\n    resource: resource,\n    save: save,\n    saving: saving,\n    version: version\n  })));\n};\nCreateView.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  defaultTitle: PropTypes.any,\n  hasList: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  resource: PropTypes.string,\n  save: PropTypes.func,\n  title: PropTypes.node\n};\nCreateView.defaultProps = {\n  classes: {}\n};\nexport default Create;","import merge from 'lodash/merge';\n/**\n * Because final-form removes undefined and empty string values completely\n * (the key for the empty field is removed from the values), we have to check\n * wether this value was initially provided so that it is correctly sent to\n * the backend.\n * See https://github.com/final-form/react-final-form/issues/130#issuecomment-493447888\n *\n * @param initialValues The initial values provided to the form\n * @param values The current form values\n */\n\nvar sanitizeEmptyValues = function sanitizeEmptyValues(initialValues, values) {\n  // For every field initialy provided, we check wether it value has been removed\n  // and set it explicitly to an empty string\n  var initialValuesWithEmptyFields = Object.keys(initialValues).reduce(function (acc, key) {\n    if (typeof values[key] === 'object' && values[key] !== null) {\n      acc[key] = sanitizeEmptyValues(initialValues[key], values[key]);\n    } else {\n      acc[key] = typeof values[key] === 'undefined' ? '' : values[key];\n    }\n\n    return acc;\n  }, {}); // Finaly, we merge back the values to not miss any which wasn't initialy provided\n\n  return merge(initialValuesWithEmptyFields, values);\n};\n\nexport default sanitizeEmptyValues;","import { useEffect } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Restore the record values which should override any default values specified on the form.\n */\n\nvar useInitializeFormWithRecord = function useInitializeFormWithRecord(record) {\n  var form = useForm();\n  useEffect(function () {\n    if (!record) {\n      return;\n    }\n\n    var registeredFields = form.getRegisteredFields(); // react-final-form does not provide a way to set multiple values in one call.\n    // Using batch ensure we don't get rerenders until all our values are set\n\n    form.batch(function () {\n      Object.keys(record).forEach(function (key) {\n        // We have to check the record key is actually registered as a field\n        // as some record keys may not have a matching input\n        if (registeredFields.some(function (field) {\n          return field === key;\n        })) {\n          form.change(key, record[key]);\n          form.resetFieldState(key);\n        }\n      });\n    });\n  }, [form, record]);\n};\n\nexport default useInitializeFormWithRecord;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport default function getFormInitialValues(initialValues, defaultValue, record) {\n  var finalInitialValues = __assign({}, initialValues, record);\n\n  if (typeof defaultValue !== 'undefined') {\n    console.warn('\"defaultValue\" is deprecated, please use \"initialValues\" instead');\n  }\n\n  if (typeof defaultValue === 'object') {\n    finalInitialValues = __assign({}, defaultValue, finalInitialValues);\n  } else if (typeof defaultValue === 'function') {\n    finalInitialValues = __assign({}, defaultValue(record), finalInitialValues);\n  }\n\n  return finalInitialValues;\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentSave from '@material-ui/icons/Save';\nimport classnames from 'classnames';\nimport { useTranslate, useNotify } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    button: {\n      position: 'relative'\n    },\n    leftIcon: {\n      marginRight: theme.spacing(1)\n    },\n    icon: {\n      fontSize: 18\n    }\n  };\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      className = _a.className,\n      classes = _a.classes,\n      saving = _a.saving,\n      label = _a.label,\n      invalid = _a.invalid,\n      variant = _a.variant,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      submitOnEnter = _a.submitOnEnter,\n      record = _a.record,\n      redirect = _a.redirect,\n      resource = _a.resource,\n      locale = _a.locale,\n      undoable = _a.undoable,\n      rest = __rest(_a, [\"basePath\", \"className\", \"classes\", \"saving\", \"label\", \"invalid\", \"variant\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"submitOnEnter\", \"record\", \"redirect\", \"resource\", \"locale\", \"undoable\"]);\n\n  return rest;\n};\n\nvar SaveButton = function SaveButton(_a) {\n  var className = _a.className,\n      _b = _a.classes,\n      classesOverride = _b === void 0 ? {} : _b,\n      invalid = _a.invalid,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.save' : _c,\n      pristine = _a.pristine,\n      redirect = _a.redirect,\n      saving = _a.saving,\n      submitOnEnter = _a.submitOnEnter,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'contained' : _d,\n      icon = _a.icon,\n      onClick = _a.onClick,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      rest = __rest(_a, [\"className\", \"classes\", \"invalid\", \"label\", \"pristine\", \"redirect\", \"saving\", \"submitOnEnter\", \"variant\", \"icon\", \"onClick\", \"handleSubmitWithRedirect\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var translate = useTranslate(); // We handle the click event through mousedown because of an issue when\n  // the button is not as the same place when mouseup occurs, preventing the click\n  // event to fire.\n  // It can happen when some errors appear under inputs, pushing the button\n  // towards the window bottom.\n\n  var handleMouseDown = function handleMouseDown(event) {\n    if (saving) {\n      // prevent double submission\n      event.preventDefault();\n    } else {\n      if (invalid) {\n        notify('ra.message.invalid_form', 'warning');\n      } // always submit form explicitly regardless of button type\n\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      handleSubmitWithRedirect(redirect);\n    }\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }; // As we handle the \"click\" through the mousedown event, we have to make sure we cancel\n  // the default click in case the issue mentionned above does not occur.\n  // Otherwise, this would trigger a standard HTML submit, not the final-form one.\n\n\n  var handleClick = function handleClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  var type = submitOnEnter ? 'submit' : 'button';\n  var displayedLabel = label && translate(label, {\n    _: label\n  });\n  return React.createElement(Button, __assign({\n    className: classnames(classes.button, className),\n    variant: variant,\n    type: type,\n    onMouseDown: handleMouseDown,\n    onClick: handleClick,\n    color: saving ? 'default' : 'primary',\n    \"aria-label\": displayedLabel\n  }, sanitizeRestProps(rest)), saving && saving.redirect === redirect ? React.createElement(CircularProgress, {\n    size: 18,\n    thickness: 2,\n    className: classes.leftIcon\n  }) : cloneElement(icon, {\n    className: classnames(classes.leftIcon, classes.icon)\n  }), displayedLabel);\n};\n\nSaveButton.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  handleSubmitWithRedirect: PropTypes.func,\n  invalid: PropTypes.bool,\n  label: PropTypes.string,\n  pristine: PropTypes.bool,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\n  icon: PropTypes.element\n};\nSaveButton.defaultProps = {\n  icon: React.createElement(ContentSave, null)\n};\nexport default SaveButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useDelete, useRefresh, useNotify, useRedirect, CRUD_DELETE } from 'ra-core';\nimport Button from './Button';\nexport var sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      classes = _a.classes,\n      filterValues = _a.filterValues,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      label = _a.label,\n      pristine = _a.pristine,\n      resource = _a.resource,\n      saving = _a.saving,\n      selectedIds = _a.selectedIds,\n      undoable = _a.undoable,\n      redirect = _a.redirect,\n      submitOnEnter = _a.submitOnEnter,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"label\", \"pristine\", \"resource\", \"saving\", \"selectedIds\", \"undoable\", \"redirect\", \"submitOnEnter\"]);\n\n  return rest;\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n});\n\nvar DeleteWithUndoButton = function DeleteWithUndoButton(_a) {\n  var _b = _a.label,\n      label = _b === void 0 ? 'ra.action.delete' : _b,\n      classesOverride = _a.classes,\n      className = _a.className,\n      icon = _a.icon,\n      onClick = _a.onClick,\n      resource = _a.resource,\n      record = _a.record,\n      basePath = _a.basePath,\n      redirectTo = _a.redirect,\n      rest = __rest(_a, [\"label\", \"classes\", \"className\", \"icon\", \"onClick\", \"resource\", \"record\", \"basePath\", \"redirect\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n\n  var _c = useDelete(resource, record && record.id, record, {\n    action: CRUD_DELETE,\n    onSuccess: function onSuccess() {\n      notify('ra.notification.deleted', 'info', {\n        smart_count: 1\n      }, true);\n      redirect(redirectTo, basePath);\n      refresh();\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    },\n    undoable: true\n  }),\n      deleteOne = _c[0],\n      loading = _c[1].loading;\n\n  var handleDelete = useCallback(function (event) {\n    event.stopPropagation();\n    deleteOne();\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  }, [deleteOne, onClick]);\n  return React.createElement(Button, __assign({\n    onClick: handleDelete,\n    disabled: loading,\n    label: label,\n    className: classnames('ra-delete-button', classes.deleteButton, className),\n    key: \"button\"\n  }, sanitizeRestProps(rest)), icon);\n};\n\nDeleteWithUndoButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  icon: PropTypes.element\n};\nDeleteWithUndoButton.defaultProps = {\n  redirect: 'list',\n  undoable: true,\n  icon: React.createElement(ActionDelete, null)\n};\nexport default DeleteWithUndoButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Fragment, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { useTranslate, useDelete, useRefresh, useNotify, useRedirect, CRUD_DELETE } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      classes = _a.classes,\n      filterValues = _a.filterValues,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      label = _a.label,\n      pristine = _a.pristine,\n      resource = _a.resource,\n      saving = _a.saving,\n      selectedIds = _a.selectedIds,\n      submitOnEnter = _a.submitOnEnter,\n      redirect = _a.redirect,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"label\", \"pristine\", \"resource\", \"saving\", \"selectedIds\", \"submitOnEnter\", \"redirect\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    deleteButton: {\n      color: theme.palette.error.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.error.main, 0.12),\n        // Reset on mouse devices\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n});\n\nvar DeleteWithConfirmButton = function DeleteWithConfirmButton(_a) {\n  var basePath = _a.basePath,\n      classesOverride = _a.classes,\n      className = _a.className,\n      icon = _a.icon,\n      _b = _a.label,\n      label = _b === void 0 ? 'ra.action.delete' : _b,\n      onClick = _a.onClick,\n      record = _a.record,\n      resource = _a.resource,\n      redirectTo = _a.redirect,\n      rest = __rest(_a, [\"basePath\", \"classes\", \"className\", \"icon\", \"label\", \"onClick\", \"record\", \"resource\", \"redirect\"]);\n\n  var _c = useState(false),\n      open = _c[0],\n      setOpen = _c[1];\n\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  var _d = useDelete(resource, record && record.id, record, {\n    action: CRUD_DELETE,\n    onSuccess: function onSuccess() {\n      notify('ra.notification.deleted', 'info', {\n        smart_count: 1\n      });\n      redirect(redirectTo, basePath);\n      refresh();\n    },\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    },\n    undoable: false\n  }),\n      deleteOne = _d[0],\n      loading = _d[1].loading;\n\n  var handleClick = function handleClick(e) {\n    setOpen(true);\n    e.stopPropagation();\n  };\n\n  var handleDialogClose = function handleDialogClose(e) {\n    setOpen(false);\n    e.stopPropagation();\n  };\n\n  var handleDelete = useCallback(function () {\n    deleteOne();\n\n    if (typeof onClick === 'function') {\n      onClick();\n    }\n  }, [deleteOne, onClick]);\n  return React.createElement(Fragment, null, React.createElement(Button, __assign({\n    onClick: handleClick,\n    label: label,\n    className: classnames('ra-delete-button', classes.deleteButton, className),\n    key: \"button\"\n  }, sanitizeRestProps(rest)), icon), React.createElement(Confirm, {\n    isOpen: open,\n    loading: loading,\n    title: \"ra.message.delete_title\",\n    content: \"ra.message.delete_content\",\n    translateOptions: {\n      name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.singularize(resource)\n      }), true),\n      id: record.id\n    },\n    onConfirm: handleDelete,\n    onClose: handleDialogClose\n  }));\n};\n\nDeleteWithConfirmButton.propTypes = {\n  basePath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  icon: PropTypes.element\n};\nDeleteWithConfirmButton.defaultProps = {\n  redirect: 'list',\n  icon: React.createElement(ActionDelete, null)\n};\nexport default DeleteWithConfirmButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DeleteWithUndoButton from './DeleteWithUndoButton';\nimport DeleteWithConfirmButton from './DeleteWithConfirmButton';\n\nvar DeleteButton = function DeleteButton(_a) {\n  var undoable = _a.undoable,\n      props = __rest(_a, [\"undoable\"]);\n\n  return undoable ? React.createElement(DeleteWithUndoButton, __assign({}, props)) : React.createElement(DeleteWithConfirmButton, __assign({}, props));\n};\n\nDeleteButton.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  undoable: PropTypes.bool,\n  icon: PropTypes.element\n};\nDeleteButton.defaultProps = {\n  undoable: true\n};\nexport default DeleteButton;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, Fragment, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from '../button';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    toolbar: {\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900]\n    },\n    desktopToolbar: {\n      marginTop: theme.spacing(2)\n    },\n    mobileToolbar: {\n      position: 'fixed',\n      bottom: 0,\n      left: 0,\n      right: 0,\n      padding: '16px',\n      width: '100%',\n      boxSizing: 'border-box',\n      flexShrink: 0,\n      zIndex: 2\n    },\n    defaultToolbar: {\n      flex: 1,\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    spacer: (_a = {}, _a[theme.breakpoints.down('xs')] = {\n      height: '5em'\n    }, _a)\n  };\n});\n\nvar valueOrDefault = function valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n};\n\nvar Toolbar = function Toolbar(_a) {\n  var _b;\n\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      handleSubmit = _a.handleSubmit,\n      handleSubmitWithRedirect = _a.handleSubmitWithRedirect,\n      invalid = _a.invalid,\n      pristine = _a.pristine,\n      record = _a.record,\n      redirect = _a.redirect,\n      resource = _a.resource,\n      saving = _a.saving,\n      submitOnEnter = _a.submitOnEnter,\n      undoable = _a.undoable,\n      width = _a.width,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(Fragment, null, React.createElement(MuiToolbar, __assign({\n    className: classnames(classes.toolbar, (_b = {}, _b[classes.mobileToolbar] = width === 'xs', _b[classes.desktopToolbar] = width !== 'xs', _b), className),\n    role: \"toolbar\"\n  }, rest), Children.count(children) === 0 ? React.createElement(\"div\", {\n    className: classes.defaultToolbar\n  }, React.createElement(SaveButton, {\n    handleSubmitWithRedirect: handleSubmitWithRedirect,\n    invalid: invalid,\n    redirect: redirect,\n    saving: saving,\n    submitOnEnter: submitOnEnter\n  }), record && typeof record.id !== 'undefined' && React.createElement(DeleteButton, {\n    basePath: basePath,\n    record: record,\n    resource: resource,\n    undoable: undoable\n  })) : Children.map(children, function (button) {\n    return button && isValidElement(button) ? React.cloneElement(button, {\n      basePath: basePath,\n      handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n      handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n      invalid: invalid,\n      pristine: pristine,\n      record: record,\n      resource: resource,\n      saving: saving,\n      submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n      undoable: valueOrDefault(button.props.undoable, undoable)\n    }) : null;\n  })), React.createElement(\"div\", {\n    className: classes.spacer\n  }));\n};\n\nToolbar.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  handleSubmit: PropTypes.func,\n  handleSubmitWithRedirect: PropTypes.func,\n  invalid: PropTypes.bool,\n  pristine: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  undoable: PropTypes.bool,\n  width: PropTypes.string\n};\nToolbar.defaultProps = {\n  submitOnEnter: true\n};\nexport default withWidth({\n  initialWidth: 'xs'\n})(Toolbar);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useLocation } from 'react-router-dom';\nexport var getTabFullPath = function getTabFullPath(tab, index, baseUrl) {\n  return \"\" + baseUrl + (tab.props.path ? \"/\" + tab.props.path : index > 0 ? \"/\" + index : '');\n};\n\nvar TabbedFormTabs = function TabbedFormTabs(_a) {\n  var children = _a.children,\n      classes = _a.classes,\n      url = _a.url,\n      tabsWithErrors = _a.tabsWithErrors,\n      rest = __rest(_a, [\"children\", \"classes\", \"url\", \"tabsWithErrors\"]);\n\n  var location = useLocation();\n  var validTabPaths = Children.map(children, function (tab, index) {\n    if (!isValidElement(tab)) return undefined;\n    return getTabFullPath(tab, index, url);\n  }); // This ensure we don't get warnings from material-ui Tabs component when\n  // the current location pathname targets a dynamically added Tab\n  // In the case the targeted Tab is not present at first render (when\n  // using permissions for example) we temporarily switch to the first\n  // available tab. The current location will be applied again on the\n  // first render containing the targeted tab. This is almost transparent\n  // for the user who may just see an short tab selection animation\n\n  var tabValue = validTabPaths.includes(location.pathname) ? location.pathname : validTabPaths[0];\n  return React.createElement(Tabs, __assign({\n    value: tabValue,\n    indicatorColor: \"primary\"\n  }, rest), Children.map(children, function (tab, index) {\n    if (!isValidElement(tab)) return null; // Builds the full tab tab which is the concatenation of the last matched route in the\n    // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\n    // and the tab path.\n    // This will be used as the Tab's value\n\n    var tabPath = getTabFullPath(tab, index, url);\n    return cloneElement(tab, {\n      intent: 'header',\n      value: tabPath,\n      className: tabsWithErrors.includes(tab.props.label) && location.pathname !== tabPath ? classes.errorTabButton : null\n    });\n  }));\n};\n\nTabbedFormTabs.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  url: PropTypes.string,\n  tabsWithErrors: PropTypes.arrayOf(PropTypes.string)\n};\nexport default TabbedFormTabs;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, useCallback, isValidElement, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Form } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport { Route } from 'react-router-dom';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useInitializeFormWithRecord, sanitizeEmptyValues } from 'ra-core';\nimport get from 'lodash/get';\nimport getFormInitialValues from './getFormInitialValues';\nimport Toolbar from './Toolbar';\nimport TabbedFormTabs, { getTabFullPath } from './TabbedFormTabs';\nimport { useRouteMatch, useLocation } from 'react-router-dom';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    errorTabButton: {\n      color: theme.palette.error.main\n    },\n    content: {\n      paddingTop: theme.spacing(1),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  };\n});\n\nvar TabbedForm = function TabbedForm(_a) {\n  var initialValues = _a.initialValues,\n      defaultValue = _a.defaultValue,\n      saving = _a.saving,\n      props = __rest(_a, [\"initialValues\", \"defaultValue\", \"saving\"]);\n\n  var redirect = useRef(props.redirect); // We don't use state here for two reasons:\n  // 1. There no way to execute code only after the state has been updated\n  // 2. We don't want the form to rerender when redirect is changed\n\n  var setRedirect = function setRedirect(newRedirect) {\n    redirect.current = newRedirect;\n  };\n\n  var translate = useTranslate();\n  var classes = useStyles();\n  var finalInitialValues = getFormInitialValues(initialValues, defaultValue, props.record);\n\n  var submit = function submit(values) {\n    var finalRedirect = typeof redirect.current === undefined ? props.redirect : redirect.current;\n    var finalValues = sanitizeEmptyValues(finalInitialValues, values);\n    props.save(finalValues, finalRedirect);\n  };\n\n  return React.createElement(Form, __assign({\n    key: props.version,\n    initialValues: finalInitialValues,\n    onSubmit: submit,\n    mutators: __assign({}, arrayMutators),\n    setRedirect: setRedirect,\n    keepDirtyOnReinitialize: true,\n    subscription: defaultSubscription\n  }, props, {\n    render: function render(formProps) {\n      return React.createElement(TabbedFormView, __assign({\n        classes: classes,\n        saving: formProps.submitting || saving,\n        translate: translate\n      }, props, formProps));\n    }\n  }));\n};\n\nvar defaultSubscription = {\n  submitting: true,\n  pristine: true,\n  valid: true,\n  invalid: true\n};\nexport default TabbedForm;\nexport var TabbedFormView = function TabbedFormView(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      _b = _a.classes,\n      classes = _b === void 0 ? {} : _b,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      invalid = _a.invalid,\n      pristine = _a.pristine,\n      record = _a.record,\n      defaultRedirect = _a.redirect,\n      resource = _a.resource,\n      saving = _a.saving,\n      setRedirect = _a.setRedirect,\n      submitOnEnter = _a.submitOnEnter,\n      tabs = _a.tabs,\n      toolbar = _a.toolbar,\n      translate = _a.translate,\n      undoable = _a.undoable,\n      value = _a.value,\n      version = _a.version,\n      variant = _a.variant,\n      margin = _a.margin,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"classes\", \"form\", \"handleSubmit\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"setRedirect\", \"submitOnEnter\", \"tabs\", \"toolbar\", \"translate\", \"undoable\", \"value\", \"version\", \"variant\", \"margin\"]);\n\n  useInitializeFormWithRecord(record);\n  var handleSubmitWithRedirect = useCallback(function (redirect) {\n    if (redirect === void 0) {\n      redirect = defaultRedirect;\n    }\n\n    setRedirect(redirect);\n    handleSubmit();\n  }, [setRedirect, defaultRedirect, handleSubmit]);\n  var tabsWithErrors = findTabsWithErrors(children, form.getState().errors);\n  var match = useRouteMatch();\n  var location = useLocation();\n  var url = match ? match.url : location.pathname;\n  return React.createElement(\"form\", __assign({\n    className: classnames('tabbed-form', className),\n    key: version\n  }, sanitizeRestProps(rest)), React.cloneElement(tabs, {\n    classes: classes,\n    url: url,\n    tabsWithErrors: tabsWithErrors\n  }, children), React.createElement(Divider, null), React.createElement(\"div\", {\n    className: classes.content\n  }, Children.map(children, function (tab, index) {\n    return tab && React.createElement(Route, {\n      exact: true,\n      path: getTabFullPath(tab, index, url)\n    }, function (routeProps) {\n      return isValidElement(tab) ? React.cloneElement(tab, {\n        intent: 'content',\n        resource: resource,\n        record: record,\n        basePath: basePath,\n        hidden: !routeProps.match,\n        variant: variant,\n        margin: margin\n      }) : null;\n    });\n  })), toolbar && React.cloneElement(toolbar, {\n    basePath: basePath,\n    className: 'toolbar',\n    handleSubmitWithRedirect: handleSubmitWithRedirect,\n    handleSubmit: handleSubmit,\n    invalid: invalid,\n    pristine: pristine,\n    record: record,\n    redirect: defaultRedirect,\n    resource: resource,\n    saving: saving,\n    submitOnEnter: submitOnEnter,\n    undoable: undoable\n  }));\n};\nTabbedFormView.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  handleSubmit: PropTypes.func,\n  invalid: PropTypes.bool,\n  location: PropTypes.object,\n  match: PropTypes.object,\n  pristine: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  resource: PropTypes.string,\n  save: PropTypes.func,\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  tabs: PropTypes.element.isRequired,\n  tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n  toolbar: PropTypes.element,\n  translate: PropTypes.func,\n  undoable: PropTypes.bool,\n  validate: PropTypes.func,\n  value: PropTypes.number,\n  version: PropTypes.number\n};\nTabbedFormView.defaultProps = {\n  submitOnEnter: true,\n  tabs: React.createElement(TabbedFormTabs, null),\n  toolbar: React.createElement(Toolbar, null)\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var anyTouched = _a.anyTouched,\n      array = _a.array,\n      asyncBlurFields = _a.asyncBlurFields,\n      asyncValidate = _a.asyncValidate,\n      asyncValidating = _a.asyncValidating,\n      autofill = _a.autofill,\n      blur = _a.blur,\n      change = _a.change,\n      clearAsyncError = _a.clearAsyncError,\n      clearFields = _a.clearFields,\n      clearSubmit = _a.clearSubmit,\n      clearSubmitErrors = _a.clearSubmitErrors,\n      destroy = _a.destroy,\n      dirty = _a.dirty,\n      dirtyFields = _a.dirtyFields,\n      dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit,\n      dirtySinceLastSubmit = _a.dirtySinceLastSubmit,\n      dispatch = _a.dispatch,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      hasSubmitErrors = _a.hasSubmitErrors,\n      hasValidationErrors = _a.hasValidationErrors,\n      initialize = _a.initialize,\n      initialized = _a.initialized,\n      initialValues = _a.initialValues,\n      pristine = _a.pristine,\n      pure = _a.pure,\n      redirect = _a.redirect,\n      reset = _a.reset,\n      resetSection = _a.resetSection,\n      save = _a.save,\n      staticContext = _a.staticContext,\n      submit = _a.submit,\n      submitAsSideEffect = _a.submitAsSideEffect,\n      submitError = _a.submitError,\n      submitErrors = _a.submitErrors,\n      submitFailed = _a.submitFailed,\n      submitSucceeded = _a.submitSucceeded,\n      submitting = _a.submitting,\n      touch = _a.touch,\n      translate = _a.translate,\n      triggerSubmit = _a.triggerSubmit,\n      undoable = _a.undoable,\n      untouch = _a.untouch,\n      valid = _a.valid,\n      validate = _a.validate,\n      validating = _a.validating,\n      _reduxForm = _a._reduxForm,\n      props = __rest(_a, [\"anyTouched\", \"array\", \"asyncBlurFields\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialize\", \"initialized\", \"initialValues\", \"pristine\", \"pure\", \"redirect\", \"reset\", \"resetSection\", \"save\", \"staticContext\", \"submit\", \"submitAsSideEffect\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"translate\", \"triggerSubmit\", \"undoable\", \"untouch\", \"valid\", \"validate\", \"validating\", \"_reduxForm\"]);\n\n  return props;\n};\n\nexport var findTabsWithErrors = function findTabsWithErrors(children, errors) {\n  return Children.toArray(children).reduce(function (acc, child) {\n    if (!isValidElement(child)) {\n      return acc;\n    }\n\n    var inputs = Children.toArray(child.props.children);\n\n    if (inputs.some(function (input) {\n      return isValidElement(input) && get(errors, input.props.source);\n    })) {\n      return acc.concat([child.props.label]);\n    }\n\n    return acc;\n  }, []);\n};","import { useContext } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Get the current locale from the TranslationContext\n *\n * This hook rerenders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n */\n\nvar useLocale = function useLocale() {\n  var locale = useContext(TranslationContext).locale;\n  return locale;\n};\n\nexport default useLocale;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport { default as warning } from '../util/warning';\nimport useTranslate from './useTranslate';\nimport useLocale from './useLocale';\n/**\n * Higher-Order Component for getting access to the `locale` and the `translate` function in props.\n *\n * Requires that the app is decorated by the <TranslationProvider> to inject\n * the translation dictionaries and function in the context.\n *\n * @example\n *     import React from 'react';\n *     import { translate } from 'react-admin';\n *\n *     const MyHelloButton = ({ translate }) => (\n *         <button>{translate('myroot.hello.world')}</button>\n *     );\n *\n *     export default translate(MyHelloButton);\n *\n * @param {*} BaseComponent The component to decorate\n */\n\nvar withTranslate = function withTranslate(BaseComponent) {\n  warning(typeof BaseComponent === 'string', \"The translate function is a Higher Order Component, and should not be called directly with a translation key. Use the translate function passed as prop to your component props instead:\\n\\nconst MyHelloButton = ({ translate }) => (\\n    <button>{translate('myroot.hello.world')}</button>\\n);\");\n\n  var TranslatedComponent = function TranslatedComponent(props) {\n    var translate = useTranslate();\n    var locale = useLocale();\n    return React.createElement(BaseComponent, __assign({\n      translate: translate,\n      locale: locale\n    }, props));\n  };\n\n  TranslatedComponent.defaultProps = BaseComponent.defaultProps;\n  return TranslatedComponent;\n};\n\nexport default withTranslate;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    label: {\n      position: 'relative'\n    },\n    value: {\n      fontFamily: theme.typography.fontFamily,\n      color: 'currentColor',\n      padding: theme.spacing(1) + \"px 0 \" + theme.spacing(1) / 2 + \"px\",\n      border: 0,\n      boxSizing: 'content-box',\n      verticalAlign: 'middle',\n      background: 'none',\n      margin: 0,\n      display: 'block',\n      width: '100%'\n    }\n  };\n});\n/**\n * Use any component as read-only Input, labeled just like other Inputs.\n *\n * Useful to use a Field in the Edit or Create components.\n * The child component will receive the current record.\n *\n * This component name doesn't have a typo. We had to choose between\n * the American English \"Labeled\", and the British English \"Labelled\".\n * We flipped a coin.\n *\n * @example\n * <Labeled label=\"Comments\">\n *     <FooComponent source=\"title\" />\n * </Labeled>\n */\n\nexport var Labeled = function Labeled(_a) {\n  var children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      fullWidth = _a.fullWidth,\n      id = _a.id,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      _b = _a.margin,\n      margin = _b === void 0 ? 'dense' : _b,\n      meta = _a.meta,\n      resource = _a.resource,\n      source = _a.source,\n      rest = __rest(_a, [\"children\", \"className\", \"classes\", \"fullWidth\", \"id\", \"input\", \"isRequired\", \"label\", \"margin\", \"meta\", \"resource\", \"source\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  if (!label && !source) {\n    // @ts-ignore\n    var name_1 = children && children.type && children.type.name;\n    throw new Error(\"Cannot create label for component <\" + name_1 + \">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props\");\n  }\n\n  var restProps = fullWidth ? __assign({}, rest, {\n    fullWidth: fullWidth\n  }) : rest;\n  return React.createElement(FormControl, {\n    className: className,\n    fullWidth: fullWidth,\n    error: meta && meta.touched && !!meta.error,\n    margin: margin\n  }, React.createElement(InputLabel, {\n    htmlFor: id,\n    shrink: true,\n    className: classes.label\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource,\n    isRequired: isRequired\n  })), React.createElement(\"div\", {\n    className: classes.value\n  }, children && typeof children.type !== 'string' ? React.cloneElement(children, __assign({\n    input: input,\n    resource: resource\n  }, restProps)) : children));\n};\nLabeled.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n  input: PropTypes.object,\n  isRequired: PropTypes.bool,\n  label: PropTypes.string,\n  meta: PropTypes.object,\n  onChange: PropTypes.func,\n  record: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  labelStyle: PropTypes.object\n};\nexport default Labeled;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Labeled from '../input/Labeled';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      record = _a.record,\n      rest = __rest(_a, [\"basePath\", \"record\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: {\n      width: theme.spacing(32)\n    }\n  };\n});\nexport var FormInput = function FormInput(_a) {\n  var _b, _c;\n\n  var input = _a.input,\n      classesOverride = _a.classes,\n      rest = __rest(_a, [\"input\", \"classes\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return input ? React.createElement(\"div\", {\n    className: classnames('ra-input', \"ra-input-\" + input.props.source, input.props.formClassName)\n  }, input.props.addLabel ? React.createElement(Labeled, __assign({\n    id: input.props.id || input.props.source\n  }, input.props, sanitizeRestProps(rest)), React.cloneElement(input, __assign({\n    className: classnames((_b = {}, _b[classes.input] = !input.props.fullWidth, _b), input.props.className),\n    id: input.props.id || input.props.source\n  }, rest))) : React.cloneElement(input, __assign({\n    className: classnames((_c = {}, _c[classes.input] = !input.props.fullWidth, _c), input.props.className),\n    id: input.props.id || input.props.source\n  }, rest))) : null;\n};\nFormInput.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  input: PropTypes.object\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nFormInput.displayName = 'FormInput';\nexport default FormInput;","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport MuiTab from '@material-ui/core/Tab';\nimport classnames from 'classnames';\nimport { translate } from 'ra-core';\nimport FormInput from './FormInput';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var contentClassName = _a.contentClassName,\n      label = _a.label,\n      icon = _a.icon,\n      value = _a.value,\n      translate = _a.translate,\n      rest = __rest(_a, [\"contentClassName\", \"label\", \"icon\", \"value\", \"translate\"]);\n\n  return rest;\n};\n\nvar hiddenStyle = {\n  display: 'none'\n};\n\nvar FormTab =\n/** @class */\nfunction (_super) {\n  __extends(FormTab, _super);\n\n  function FormTab() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.renderHeader = function (_a) {\n      var className = _a.className,\n          label = _a.label,\n          icon = _a.icon,\n          value = _a.value,\n          translate = _a.translate,\n          rest = __rest(_a, [\"className\", \"label\", \"icon\", \"value\", \"translate\"]);\n\n      var to = {\n        pathname: value\n      };\n      return React.createElement(MuiTab, __assign({\n        key: label,\n        label: translate(label, {\n          _: label\n        }),\n        value: value,\n        icon: icon,\n        className: classnames('form-tab', className),\n        component: Link,\n        to: to\n      }, sanitizeRestProps(rest)));\n    };\n\n    _this.renderContent = function (_a) {\n      var contentClassName = _a.contentClassName,\n          children = _a.children,\n          hidden = _a.hidden,\n          basePath = _a.basePath,\n          record = _a.record,\n          resource = _a.resource,\n          variant = _a.variant,\n          margin = _a.margin;\n      return React.createElement(\"span\", {\n        style: hidden ? hiddenStyle : null,\n        className: contentClassName\n      }, React.Children.map(children, function (input) {\n        return input && React.createElement(FormInput, {\n          basePath: basePath,\n          input: input,\n          record: record,\n          resource: resource,\n          variant: variant,\n          margin: margin\n        });\n      }));\n    };\n\n    return _this;\n  }\n\n  FormTab.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        intent = _a.intent,\n        rest = __rest(_a, [\"children\", \"intent\"]);\n\n    return intent === 'header' ? this.renderHeader(rest) : this.renderContent(__assign({\n      children: children\n    }, rest));\n  };\n\n  return FormTab;\n}(Component);\n\nFormTab.propTypes = {\n  className: PropTypes.string,\n  contentClassName: PropTypes.string,\n  children: PropTypes.node,\n  intent: PropTypes.oneOf(['header', 'content']),\n  hidden: PropTypes.bool,\n  icon: PropTypes.element,\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string,\n  translate: PropTypes.func.isRequired,\n  value: PropTypes.string\n};\nFormTab.displayName = 'FormTab';\nexport default translate(FormTab);","import React from 'react';\nimport { Create, DateInput, FormTab, TabbedForm, TextInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nexport const styles = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst VisitorCreate = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.customers.tabs.identity\">\n                    <TextInput\n                        autoFocus\n                        source=\"first_name\"\n                        formClassName={classes.first_name}\n                    />\n                    <TextInput\n                        source=\"last_name\"\n                        formClassName={classes.last_name}\n                    />\n                    <TextInput\n                        type=\"email\"\n                        source=\"email\"\n                        validation={{ email: true }}\n                        fullWidth={true}\n                        formClassName={classes.email}\n                    />\n                    <DateInput source=\"birthday\" />\n                </FormTab>\n                <FormTab\n                    label=\"resources.customers.tabs.address\"\n                    path=\"address\"\n                >\n                    <TextInput\n                        source=\"address\"\n                        formClassName={classes.address}\n                        multiline={true}\n                        fullWidth={true}\n                    />\n                    <TextInput\n                        source=\"zipcode\"\n                        formClassName={classes.zipcode}\n                    />\n                    <TextInput source=\"city\" formClassName={classes.city} />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default VisitorCreate;\n","import { UPDATE } from '../../core';\nexport var crudUpdate = function crudUpdate(resource, id, data, previousData, basePath, redirectTo, refresh) {\n  if (redirectTo === void 0) {\n    redirectTo = 'show';\n  }\n\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_UPDATE,\n    payload: {\n      id: id,\n      data: data,\n      previousData: previousData\n    },\n    meta: {\n      resource: resource,\n      fetch: UPDATE,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.updated',\n          level: 'info',\n          messageArgs: {\n            smart_count: 1\n          }\n        },\n        refresh: refresh,\n        redirectTo: redirectTo,\n        basePath: basePath\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_UPDATE = 'RA/CRUD_UPDATE';\nexport var CRUD_UPDATE_LOADING = 'RA/CRUD_UPDATE_LOADING';\nexport var CRUD_UPDATE_FAILURE = 'RA/CRUD_UPDATE_FAILURE';\nexport var CRUD_UPDATE_SUCCESS = 'RA/CRUD_UPDATE_SUCCESS';","import { useCallback } from 'react';\nimport inflection from 'inflection';\nimport useVersion from './useVersion';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useNotify, useRedirect, useRefresh } from '../sideEffect';\nimport { useGetOne, useUpdate } from '../dataProvider';\nimport { useTranslate } from '../i18n';\nimport { CRUD_GET_ONE, CRUD_UPDATE } from '../actions';\n/**\n * Prepare data for the Edit view\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = props => {\n *     const controllerProps = useEditController(props);\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\n\nvar useEditController = function useEditController(props) {\n  useCheckMinimumRequiredProps('Edit', ['basePath', 'resource'], props);\n  var basePath = props.basePath,\n      id = props.id,\n      resource = props.resource,\n      successMessage = props.successMessage,\n      _a = props.undoable,\n      undoable = _a === void 0 ? true : _a;\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var version = useVersion();\n\n  var _b = useGetOne(resource, id, {\n    version: version,\n    action: CRUD_GET_ONE,\n    onFailure: function onFailure() {\n      notify('ra.notification.item_doesnt_exist', 'warning');\n      redirect('list', basePath);\n      refresh();\n    }\n  }),\n      record = _b.data,\n      loading = _b.loading,\n      loaded = _b.loaded;\n\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 1,\n    _: inflection.humanize(inflection.singularize(resource))\n  });\n  var defaultTitle = translate('ra.page.edit', {\n    name: \"\" + resourceName,\n    id: id,\n    record: record\n  });\n\n  var _c = useUpdate(resource, id, {}, // set by the caller\n  record),\n      update = _c[0],\n      saving = _c[1].loading;\n\n  var save = useCallback(function (data, redirectTo) {\n    if (redirectTo === void 0) {\n      redirectTo = 'list';\n    }\n\n    return update({\n      payload: {\n        data: data\n      }\n    }, {\n      action: CRUD_UPDATE,\n      onSuccess: function onSuccess() {\n        notify(successMessage || 'ra.notification.updated', 'info', {\n          smart_count: 1\n        }, undoable);\n        redirect(redirectTo, basePath, data.id, data);\n      },\n      onFailure: function onFailure(error) {\n        return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n      },\n      undoable: undoable\n    });\n  }, [basePath, notify, redirect, undoable, update, successMessage]);\n  return {\n    loading: loading,\n    loaded: loaded,\n    saving: saving,\n    defaultTitle: defaultTitle,\n    save: save,\n    resource: resource,\n    basePath: basePath,\n    record: record,\n    version: version\n  };\n};\n\nexport default useEditController;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport shouldUpdate from 'recompose/shouldUpdate';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button'; // useful to prevent click bubbling in a datagrid with rowClick\n\nvar stopPropagation = function stopPropagation(e) {\n  return e.stopPropagation();\n};\n\nvar ShowButton = function ShowButton(_a) {\n  var _b = _a.basePath,\n      basePath = _b === void 0 ? '' : _b,\n      _c = _a.label,\n      label = _c === void 0 ? 'ra.action.show' : _c,\n      _d = _a.record,\n      record = _d === void 0 ? {} : _d,\n      _e = _a.icon,\n      icon = _e === void 0 ? React.createElement(ImageEye, null) : _e,\n      rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n\n  return React.createElement(Button, __assign({\n    component: Link,\n    to: linkToRecord(basePath, record.id) + \"/show\",\n    label: label,\n    onClick: stopPropagation\n  }, rest), icon);\n};\n\nShowButton.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  icon: PropTypes.element\n};\nvar enhance = shouldUpdate(function (props, nextProps) {\n  return props.translate !== nextProps.translate || props.record && nextProps.record && props.record.id !== nextProps.record.id || props.basePath !== nextProps.basePath || props.record == null && nextProps.record != null;\n});\nexport default enhance(ShowButton);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ShowButton } from '../button';\nimport TopToolbar from '../layout/TopToolbar';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var basePath = _a.basePath,\n      className = _a.className,\n      record = _a.record,\n      hasShow = _a.hasShow,\n      hasList = _a.hasList,\n      resource = _a.resource,\n      rest = __rest(_a, [\"basePath\", \"className\", \"record\", \"hasShow\", \"hasList\", \"resource\"]);\n\n  return rest;\n};\n/**\n * Action Toolbar for the Edit view\n *\n * Internal component. If you want to add or remove actions for a Edit view,\n * write your own EditActions Component. Then, in the <Edit> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, ShowButton, Edit } from 'react-admin';\n *\n *     const PostEditActions = ({ basePath, record, resource }) => (\n *         <TopToolbar>\n *             <ShowButton basePath={basePath} record={record} />\n *             // Add your custom actions here\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostEdit = (props) => (\n *         <Edit actions={<PostEditActions />} {...props}>\n *             ...\n *         </Edit>\n *     );\n */\n\n\nvar EditActions = function EditActions(_a) {\n  var basePath = _a.basePath,\n      className = _a.className,\n      data = _a.data,\n      hasShow = _a.hasShow,\n      rest = __rest(_a, [\"basePath\", \"className\", \"data\", \"hasShow\"]);\n\n  return React.createElement(TopToolbar, __assign({\n    className: className\n  }, sanitizeRestProps(rest)), hasShow && React.createElement(ShowButton, {\n    basePath: basePath,\n    record: data\n  }));\n};\n\nEditActions.propTypes = {\n  basePath: PropTypes.string,\n  className: PropTypes.string,\n  data: PropTypes.object,\n  hasShow: PropTypes.bool,\n  resource: PropTypes.string\n};\nexport default EditActions;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useEditController } from 'ra-core';\nimport DefaultActions from './EditActions';\nimport TitleForRecord from '../layout/TitleForRecord';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The `<Edit>` component accepts the following props:\n *\n * - aside\n * - title\n * - actions\n *\n * They all expect an element for value.\n *\n * @example\n *     // in src/posts.js\n *     import React from 'react';\n *     import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n *     export const PostEdit = (props) => (\n *         <Edit {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n *\n *     // in src/App.js\n *     import React from 'react';\n *     import { Admin, Resource } from 'react-admin';\n *\n *     import { PostEdit } from './posts';\n *\n *     const App = () => (\n *         <Admin dataProvider={...}>\n *             <Resource name=\"posts\" edit={PostEdit} />\n *         </Admin>\n *     );\n *     export default App;\n */\n\nvar Edit = function Edit(props) {\n  return React.createElement(EditView, __assign({}, props, useEditController(props)));\n};\n\nEdit.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  hasCreate: PropTypes.bool,\n  hasEdit: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  hasList: PropTypes.bool,\n  id: PropTypes.any.isRequired,\n  resource: PropTypes.string.isRequired,\n  title: PropTypes.node,\n  successMessage: PropTypes.string\n};\nexport var useStyles = makeStyles({\n  root: {},\n  main: {\n    display: 'flex'\n  },\n  noActions: {\n    marginTop: '1em'\n  },\n  card: {\n    flex: '1 1 auto'\n  }\n});\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var data = _a.data,\n      hasCreate = _a.hasCreate,\n      hasEdit = _a.hasEdit,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      id = _a.id,\n      loading = _a.loading,\n      loaded = _a.loaded,\n      saving = _a.saving,\n      resource = _a.resource,\n      title = _a.title,\n      version = _a.version,\n      match = _a.match,\n      location = _a.location,\n      history = _a.history,\n      options = _a.options,\n      locale = _a.locale,\n      permissions = _a.permissions,\n      undoable = _a.undoable,\n      successMessage = _a.successMessage,\n      rest = __rest(_a, [\"data\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"id\", \"loading\", \"loaded\", \"saving\", \"resource\", \"title\", \"version\", \"match\", \"location\", \"history\", \"options\", \"locale\", \"permissions\", \"undoable\", \"successMessage\"]);\n\n  return rest;\n};\n\nexport var EditView = function EditView(_a) {\n  var _b;\n\n  var actions = _a.actions,\n      aside = _a.aside,\n      basePath = _a.basePath,\n      children = _a.children,\n      classesOverride = _a.classes,\n      className = _a.className,\n      defaultTitle = _a.defaultTitle,\n      hasList = _a.hasList,\n      hasShow = _a.hasShow,\n      record = _a.record,\n      redirect = _a.redirect,\n      resource = _a.resource,\n      save = _a.save,\n      saving = _a.saving,\n      title = _a.title,\n      undoable = _a.undoable,\n      version = _a.version,\n      rest = __rest(_a, [\"actions\", \"aside\", \"basePath\", \"children\", \"classes\", \"className\", \"defaultTitle\", \"hasList\", \"hasShow\", \"record\", \"redirect\", \"resource\", \"save\", \"saving\", \"title\", \"undoable\", \"version\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  if (typeof actions === 'undefined' && hasShow) {\n    actions = React.createElement(DefaultActions, null);\n  }\n\n  if (!children) {\n    return null;\n  }\n\n  return React.createElement(\"div\", __assign({\n    className: classnames('edit-page', classes.root, className)\n  }, sanitizeRestProps(rest)), React.createElement(TitleForRecord, {\n    title: title,\n    record: record,\n    defaultTitle: defaultTitle\n  }), actions && cloneElement(actions, __assign({\n    basePath: basePath,\n    data: record,\n    hasShow: hasShow,\n    hasList: hasList,\n    resource: resource\n  }, actions.props)), React.createElement(\"div\", {\n    className: classnames(classes.main, (_b = {}, _b[classes.noActions] = !actions, _b))\n  }, React.createElement(Card, {\n    className: classes.card\n  }, record ? cloneElement(Children.only(children), {\n    basePath: basePath,\n    record: record,\n    redirect: typeof children.props.redirect === 'undefined' ? redirect : children.props.redirect,\n    resource: resource,\n    save: save,\n    saving: saving,\n    undoable: undoable,\n    version: version\n  }) : React.createElement(CardContent, null, \"\\xA0\")), aside && React.cloneElement(aside, {\n    basePath: basePath,\n    record: record,\n    resource: resource,\n    version: version,\n    save: save,\n    saving: saving\n  })));\n};\nEditView.propTypes = {\n  actions: PropTypes.element,\n  aside: PropTypes.element,\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  defaultTitle: PropTypes.any,\n  hasList: PropTypes.bool,\n  hasShow: PropTypes.bool,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  resource: PropTypes.string,\n  save: PropTypes.func,\n  title: PropTypes.node,\n  version: PropTypes.number\n};\nEditView.defaultProps = {\n  classes: {}\n};\nexport default Edit;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC } from '../reducer/admin/resource/list/queryReducer';\n\nvar sortReducer = function sortReducer(state, action) {\n  switch (action.type) {\n    case 'SET_SORT':\n      return action.payload.sort;\n\n    case 'SET_SORT_FIELD':\n      {\n        var field = action.payload.field;\n        var order = state.field === field ? state.order === SORT_ASC ? SORT_DESC : SORT_ASC : SORT_ASC;\n        return {\n          field: field,\n          order: order\n        };\n      }\n\n    case 'SET_SORT_ORDER':\n      {\n        var order = action.payload.order;\n        return __assign({}, state, {\n          order: order\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport var defaultSort = {\n  field: 'id',\n  order: 'DESC'\n};\n/**\n * set the sort { field, order }\n * @name setSort\n * @function\n * @param {Sort} sort the sort object\n */\n\n/**\n * set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n\n/**\n * set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order the sort order eiather ASC or DESC\n */\n\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {String} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\n\nexport default (function (initialSort) {\n  if (initialSort === void 0) {\n    initialSort = defaultSort;\n  }\n\n  var _a = useReducer(sortReducer, initialSort),\n      sort = _a[0],\n      dispatch = _a[1];\n\n  var isFirstRender = useRef(true);\n  useEffect(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    dispatch({\n      type: 'SET_SORT',\n      payload: {\n        sort: initialSort\n      }\n    });\n  }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return {\n    setSort: useCallback(function (sort) {\n      return dispatch({\n        type: 'SET_SORT',\n        payload: {\n          sort: sort\n        }\n      });\n    }, [dispatch]),\n    setSortField: useCallback(function (field) {\n      return dispatch({\n        type: 'SET_SORT_FIELD',\n        payload: {\n          field: field\n        }\n      });\n    }, [dispatch]),\n    setSortOrder: useCallback(function (order) {\n      return dispatch({\n        type: 'SET_SORT_ORDER',\n        payload: {\n          order: order\n        }\n      });\n    }, [dispatch]),\n    sort: sort\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\n\nvar paginationReducer = function paginationReducer(prevState, nextState) {\n  return __assign({}, prevState, nextState);\n};\n\nvar defaultPagination = {\n  page: 1,\n  perPage: 25\n};\n/**\n * @name setNumber\n * @function\n * @param {number} state the state value\n */\n\n/**\n * @typedef PaginationProps\n * @type {Object}\n * @property {number} page: The page number.\n * @property {number} perPage: The number of item per page.\n * @property {setNumber} setPage: Set the page number\n * @property {setNumber} setPerPage: Set the per page number\n */\n\n/**\n * Hooks to provide pagination state (apge and perPage)\n *\n * @example\n *\n * const { page, setpage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationProps} The pagination props\n */\n\nexport default (function (initialPagination) {\n  if (initialPagination === void 0) {\n    initialPagination = {};\n  }\n\n  var _a = useReducer(paginationReducer, __assign({}, defaultPagination, initialPagination)),\n      pagination = _a[0],\n      setPagination = _a[1];\n\n  var isFirstRender = useRef(true);\n  var setPerPage = useCallback(function (perPage) {\n    return setPagination({\n      perPage: perPage\n    });\n  }, []);\n  var setPage = useCallback(function (page) {\n    return setPagination({\n      page: page\n    });\n  }, []);\n  useEffect(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    setPerPage(initialPagination.perPage || 25);\n  }, [initialPagination.perPage, setPerPage]);\n  return {\n    page: pagination.page,\n    perPage: pagination.perPage,\n    pagination: pagination,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setPagination: setPagination\n  };\n});","import get from 'lodash/get';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nvar defaultFilter = {};\n/**\n * @typedef ReferenceManyProps\n * @type {Object}\n * @property {Object} data: the referenced records dictionary by their ids.\n * @property {Object} ids: the list of referenced records ids.\n * @property {boolean} loaded: boolean indicating if the references has already be loaded loaded\n * @property {string | false} referenceBasePath base path of the related record\n */\n\n/**\n * Fetch reference records, and return them when avaliable\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loaded, referenceRecord, resourceLinkPath } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     basePath: '/comments',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} option\n * @param {string} option.resource The current resource name\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The current resource record\n * @param {string} option.target The target resource key\n * @param {Object} option.filter The filter applied on the recorded records list\n * @param {string} option.source The key of the linked resource identifier\n * @param {string} option.basePath basepath to current resource\n * @param {number} option.page the page number\n * @param {number} option.perPage the number of item per page\n * @param {object} option.sort the sort to apply to the referenced records\n *\n * @returns {ReferenceManyProps} The reference many props\n */\n\nvar useReferenceManyFieldController = function useReferenceManyFieldController(_a) {\n  var resource = _a.resource,\n      reference = _a.reference,\n      record = _a.record,\n      target = _a.target,\n      _b = _a.filter,\n      filter = _b === void 0 ? defaultFilter : _b,\n      source = _a.source,\n      basePath = _a.basePath,\n      page = _a.page,\n      perPage = _a.perPage,\n      _c = _a.sort,\n      sort = _c === void 0 ? {\n    field: 'id',\n    order: 'DESC'\n  } : _c;\n  var referenceId = get(record, source);\n  var notify = useNotify();\n\n  var _d = useGetManyReference(reference, target, referenceId, {\n    page: page,\n    perPage: perPage\n  }, sort, filter, resource, {\n    onFailure: function onFailure(error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', 'warning');\n    }\n  }),\n      data = _d.data,\n      ids = _d.ids,\n      total = _d.total,\n      loading = _d.loading,\n      loaded = _d.loaded;\n\n  var referenceBasePath = basePath.replace(resource, reference);\n  return {\n    data: data,\n    ids: ids,\n    loaded: loaded,\n    loading: loading,\n    referenceBasePath: referenceBasePath,\n    total: total\n  };\n};\n\nexport default useReferenceManyFieldController;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Fragment, cloneElement, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSortState, usePaginationState, useReferenceManyFieldController } from 'ra-core';\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n */\n\nexport var ReferenceManyField = function ReferenceManyField(props) {\n  var children = props.children,\n      initialSort = props.sort,\n      initialPerPage = props.perPage,\n      resource = props.resource,\n      reference = props.reference,\n      record = props.record,\n      target = props.target,\n      filter = props.filter,\n      source = props.source,\n      basePath = props.basePath;\n\n  if (React.Children.count(children) !== 1) {\n    throw new Error('<ReferenceManyField> only accepts a single child (like <Datagrid>)');\n  }\n\n  var _a = useSortState(initialSort),\n      sort = _a.sort,\n      setSortField = _a.setSortField;\n\n  var _b = usePaginationState({\n    perPage: initialPerPage\n  }),\n      page = _b.page,\n      perPage = _b.perPage,\n      setPage = _b.setPage,\n      setPerPage = _b.setPerPage;\n\n  var controllerProps = useReferenceManyFieldController({\n    resource: resource,\n    reference: reference,\n    record: record,\n    target: target,\n    filter: filter,\n    source: source,\n    basePath: basePath,\n    page: page,\n    perPage: perPage,\n    sort: sort\n  });\n  return React.createElement(ReferenceManyFieldView, __assign({}, props, __assign({\n    currentSort: sort,\n    page: page,\n    perPage: perPage,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSortField\n  }, controllerProps)));\n};\nReferenceManyField.propTypes = {\n  addLabel: PropTypes.bool,\n  basePath: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  filter: PropTypes.object,\n  label: PropTypes.string,\n  perPage: PropTypes.number,\n  record: PropTypes.object,\n  reference: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  sortBy: PropTypes.string,\n  source: PropTypes.string.isRequired,\n  sort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  target: PropTypes.string.isRequired\n};\nReferenceManyField.defaultProps = {\n  filter: {},\n  perPage: 25,\n  sort: {\n    field: 'id',\n    order: 'DESC'\n  },\n  source: 'id',\n  addLabel: true\n};\nexport var ReferenceManyFieldView = function ReferenceManyFieldView(_a) {\n  var children = _a.children,\n      className = _a.className,\n      currentSort = _a.currentSort,\n      data = _a.data,\n      ids = _a.ids,\n      loaded = _a.loaded,\n      page = _a.page,\n      pagination = _a.pagination,\n      perPage = _a.perPage,\n      reference = _a.reference,\n      referenceBasePath = _a.referenceBasePath,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      setSort = _a.setSort,\n      total = _a.total;\n  return React.createElement(Fragment, null, cloneElement(Children.only(children), {\n    className: className,\n    resource: reference,\n    ids: ids,\n    loaded: loaded,\n    data: data,\n    basePath: referenceBasePath,\n    currentSort: currentSort,\n    setSort: setSort,\n    total: total\n  }), pagination && total !== undefined && cloneElement(pagination, {\n    page: page,\n    perPage: perPage,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    total: total\n  }));\n};\nReferenceManyFieldView.propTypes = {\n  children: PropTypes.element,\n  className: PropTypes.string,\n  currentSort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.object,\n  ids: PropTypes.array,\n  loaded: PropTypes.bool,\n  pagination: PropTypes.element,\n  reference: PropTypes.string,\n  referenceBasePath: PropTypes.string,\n  setSort: PropTypes.func\n};\nexport default ReferenceManyField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n\nvar TextField = function TextField(_a) {\n  var className = _a.className,\n      source = _a.source,\n      _b = _a.record,\n      record = _b === void 0 ? {} : _b,\n      rest = __rest(_a, [\"className\", \"source\", \"record\"]);\n\n  var value = get(record, source);\n  return React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)), value && typeof value !== 'string' ? JSON.stringify(value) : value);\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\n\nTextField.displayName = 'TextField';\nvar EnhancedTextField = pure(TextField);\nEnhancedTextField.defaultProps = {\n  addLabel: true\n};\nEnhancedTextField.propTypes = __assign({}, Typography.propTypes, fieldPropTypes);\nEnhancedTextField.displayName = 'EnhancedTextField';\nexport default EnhancedTextField;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * @example\n * <FunctionField source=\"last_name\" label=\"Name\" render={record => `${record.first_name} ${record.last_name}`} />\n */\n\nvar FunctionField = function FunctionField(_a) {\n  var className = _a.className,\n      _b = _a.record,\n      record = _b === void 0 ? {} : _b,\n      source = _a.source,\n      render = _a.render,\n      rest = __rest(_a, [\"className\", \"record\", \"source\", \"render\"]);\n\n  return record ? React.createElement(Typography, __assign({\n    component: \"span\",\n    variant: \"body2\",\n    className: className\n  }, sanitizeRestProps(rest)), render(record, source)) : null;\n};\n\nvar EnhancedFunctionField = pure(FunctionField);\nEnhancedFunctionField.defaultProps = {\n  addLabel: true\n};\nEnhancedFunctionField.propTypes = __assign({}, Typography.propTypes, fieldPropTypes);\nEnhancedFunctionField.displayName = 'EnhancedFunctionField';\nexport default EnhancedFunctionField;","import React from 'react';\nimport { FunctionField } from 'react-admin';\n\nconst render = record => record.basket.length;\n\nconst NbItemsField = props => <FunctionField {...props} render={render} />;\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import { useGetMany } from '../dataProvider';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n */\n\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loading, loaded, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {ReferenceProps} The reference record\n */\n\nexport var useReference = function useReference(_a) {\n  var reference = _a.reference,\n      id = _a.id;\n\n  var _b = useGetMany(reference, [id]),\n      data = _b.data,\n      error = _b.error,\n      loading = _b.loading,\n      loaded = _b.loaded;\n\n  return {\n    referenceRecord: error ? undefined : data[0],\n    error: error,\n    loading: loading,\n    loaded: loaded\n  };\n};\nexport default useReference;","import get from 'lodash/get';\nimport { linkToRecord } from '../../util';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n * @property {string | false} resourceLinkPath link to the page of the related record (depends on link) (false is no link)\n */\n\n/**\n * Get the link toward the referenced resource\n *\n * @example\n *\n * const linkPath = getResourceLinkPath({\n *      basePath: '/comments',\n *      link: 'edit',\n *      reference: 'users',\n *      record: {\n *          userId: 7\n *      },\n *      resource: 'comments',\n *      source: 'userId',\n * });\n *\n * @param {Object} option\n * @param {string} option.basePath basepath to current resource\n * @param {string | false | LinkToFunctionType} option.link=\"edit\" The link toward the referenced record. 'edit', 'show' or false for no link (default to edit). Alternatively a function that returns a string\n * @param {string | false | LinkToFunctionType} [option.linkType] DEPRECATED : old name for link\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The The current resource record\n * @param {string} option.resource The current resource name\n * @param {string} option.source The key of the linked resource identifier\n *\n * @returns {ReferenceProps} The reference props\n */\n\nvar getResourceLinkPath = function getResourceLinkPath(_a) {\n  var basePath = _a.basePath,\n      _b = _a.link,\n      link = _b === void 0 ? 'edit' : _b,\n      linkType = _a.linkType,\n      reference = _a.reference,\n      _c = _a.record,\n      record = _c === void 0 ? {\n    id: ''\n  } : _c,\n      resource = _a.resource,\n      source = _a.source;\n  var sourceId = get(record, source);\n  var rootPath = basePath.replace(resource, reference); // Backward compatibility: keep linkType but with warning\n\n  var getResourceLinkPath = function getResourceLinkPath(linkTo) {\n    return !linkTo ? false : typeof linkTo === 'function' ? linkTo(record, reference) : linkToRecord(rootPath, sourceId, linkTo);\n  };\n\n  if (linkType !== undefined) {\n    console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />\");\n  }\n\n  var resourceLinkPath = getResourceLinkPath(linkType !== undefined ? linkType : link);\n  return resourceLinkPath;\n};\n\nexport default getResourceLinkPath;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport Progress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      margin: theme.spacing(1) + \"px 0\",\n      width: theme.spacing(20) + \"px\"\n    }\n  };\n});\n/**\n * Progress bar formatted to replace an input or a field in a form layout\n *\n * Avoids visual jumps when replaced by value or form input\n *\n * @see ReferenceField\n * @see ReferenceInput\n *\n * @param {object} classes CSS class names\n */\n\nvar LinearProgress = function LinearProgress(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      rest = __rest(_a, [\"classes\", \"className\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(Progress, __assign({\n    className: classnames(classes.root, className)\n  }, rest));\n};\n\nLinearProgress.propTypes = {\n  classes: PropTypes.object,\n  className: PropTypes.string\n}; // wat? TypeScript looses the displayName if we don't set it explicitly\n\nLinearProgress.displayName = 'LinearProgress';\nexport default LinearProgress;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Error as ErrorIcon } from '@material-ui/icons';\nimport { useReference, getResourceLinkPath } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Link from '../Link';\nimport sanitizeRestProps from './sanitizeRestProps';\n/**\n * Fetch reference record, and delegate rendering to child component.\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * By default, includes a link to the <Edit> page of the related record\n * (`/users/:userId` in the previous example).\n *\n * Set the `link` prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * You can also prevent `<ReferenceField>` from adding link to children by setting\n * `link` to false.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * Alternatively, you can also pass a custom function to `link`. It must take reference and record\n * as arguments and return a string\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(reference, record) => \"/path/to/${reference}/${record}\"}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\n\nvar ReferenceField = function ReferenceField(_a) {\n  var children = _a.children,\n      record = _a.record,\n      source = _a.source,\n      props = __rest(_a, [\"children\", \"record\", \"source\"]);\n\n  if (React.Children.count(children) !== 1) {\n    throw new Error('<ReferenceField> only accepts a single child');\n  }\n\n  var id = get(record, source);\n\n  var _b = useReference(__assign({}, props, {\n    id: id\n  })),\n      loaded = _b.loaded,\n      error = _b.error,\n      referenceRecord = _b.referenceRecord;\n\n  var resourceLinkPath = getResourceLinkPath(__assign({\n    record: record,\n    source: source\n  }, props));\n  return React.createElement(PureReferenceFieldView, __assign({}, props, {\n    loaded: loaded,\n    error: error,\n    referenceRecord: referenceRecord,\n    resourceLinkPath: resourceLinkPath\n  }), children);\n};\n\nReferenceField.propTypes = {\n  addLabel: PropTypes.bool,\n  basePath: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  cellClassName: PropTypes.string,\n  headerClassName: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  reference: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  sortBy: PropTypes.string,\n  source: PropTypes.string.isRequired,\n  translateChoice: PropTypes.func,\n  linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  link: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]).isRequired\n};\nReferenceField.defaultProps = {\n  addLabel: true,\n  classes: {},\n  link: 'edit',\n  record: {}\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    link: {\n      color: theme.palette.primary.main\n    }\n  };\n}); // useful to prevent click bubbling in a datagrid with rowClick\n\nvar stopPropagation = function stopPropagation(e) {\n  return e.stopPropagation();\n};\n\nexport var ReferenceFieldView = function ReferenceFieldView(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      classesOverride = _a.classes,\n      error = _a.error,\n      loaded = _a.loaded,\n      record = _a.record,\n      reference = _a.reference,\n      referenceRecord = _a.referenceRecord,\n      resource = _a.resource,\n      resourceLinkPath = _a.resourceLinkPath,\n      source = _a.source,\n      _b = _a.translateChoice,\n      translateChoice = _b === void 0 ? false : _b,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"classes\", \"error\", \"loaded\", \"record\", \"reference\", \"referenceRecord\", \"resource\", \"resourceLinkPath\", \"source\", \"translateChoice\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  if (!loaded) {\n    return React.createElement(LinearProgress, null);\n  }\n\n  if (error) {\n    return React.createElement(ErrorIcon, {\n      \"aria-errormessage\": error.message ? error.message : error,\n      color: \"error\",\n      fontSize: \"small\"\n    });\n  }\n\n  if (!referenceRecord) {\n    return null;\n  }\n\n  if (resourceLinkPath) {\n    return React.createElement(Link, {\n      to: resourceLinkPath,\n      className: className,\n      onClick: stopPropagation\n    }, cloneElement(Children.only(children), __assign({\n      className: classnames(children.props.className, classes.link // force color override for Typography components\n      ),\n      record: referenceRecord,\n      resource: reference,\n      basePath: basePath,\n      translateChoice: translateChoice\n    }, sanitizeRestProps(rest))));\n  }\n\n  return cloneElement(Children.only(children), __assign({\n    record: referenceRecord,\n    resource: reference,\n    basePath: basePath,\n    translateChoice: translateChoice\n  }, sanitizeRestProps(rest)));\n};\nReferenceFieldView.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  loading: PropTypes.bool,\n  record: PropTypes.object,\n  reference: PropTypes.string,\n  referenceRecord: PropTypes.object,\n  resource: PropTypes.string,\n  resourceLinkPath: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool\n};\nvar PureReferenceFieldView = memo(ReferenceFieldView);\nexport default ReferenceField;","import React from 'react';\nimport { ReferenceField, TextField } from 'react-admin';\n\nconst ProductReferenceField = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React from 'react';\nimport Icon from '@material-ui/icons/Stars';\n\nconst style = { opacity: 0.87, width: 20, height: 20 };\n\nconst StarRatingField = ({ record }) => (\n    <span>\n        {Array(record.rating)\n            .fill(true)\n            .map((_, i) => (\n                <Icon key={i} style={style} />\n            ))}\n    </span>\n);\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, Select, MenuItem, InputLabel, Input, FilledInput, FormHelperText, FormControl, Chip } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { FieldTitle, useInput, useChoices } from 'ra-core';\nimport InputHelperText from './InputHelperText';\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var addLabel = _a.addLabel,\n      allowEmpty = _a.allowEmpty,\n      basePath = _a.basePath,\n      choices = _a.choices,\n      classNamInputWithOptionsPropse = _a.classNamInputWithOptionsPropse,\n      componenInputWithOptionsPropst = _a.componenInputWithOptionsPropst,\n      crudGetMInputWithOptionsPropsatching = _a.crudGetMInputWithOptionsPropsatching,\n      crudGetOInputWithOptionsPropsne = _a.crudGetOInputWithOptionsPropsne,\n      defaultValue = _a.defaultValue,\n      filter = _a.filter,\n      filterToQuery = _a.filterToQuery,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      loaded = _a.loaded,\n      locale = _a.locale,\n      meta = _a.meta,\n      onChange = _a.onChange,\n      options = _a.options,\n      optionValue = _a.optionValue,\n      optionText = _a.optionText,\n      perPage = _a.perPage,\n      record = _a.record,\n      reference = _a.reference,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      sort = _a.sort,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translate = _a.translate,\n      translateChoice = _a.translateChoice,\n      validation = _a.validation,\n      rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"basePath\", \"choices\", \"classNamInputWithOptionsPropse\", \"componenInputWithOptionsPropst\", \"crudGetMInputWithOptionsPropsatching\", \"crudGetOInputWithOptionsPropsne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n\n  return rest;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    chip: {\n      margin: theme.spacing(1 / 4)\n    },\n    select: {\n      height: 'auto',\n      overflow: 'auto'\n    }\n  };\n});\n/**\n * An Input component for a select box allowing multiple selections, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <SelectArrayInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectArrayInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\n\nvar SelectArrayInput = function SelectArrayInput(_a) {\n  var _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      classesOverride = _a.classes,\n      className = _a.className,\n      format = _a.format,\n      helperText = _a.helperText,\n      label = _a.label,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      translateChoice = _a.translateChoice,\n      validate = _a.validate,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      rest = __rest(_a, [\"choices\", \"classes\", \"className\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\", \"variant\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n\n  var _e = useChoices({\n    optionText: optionText,\n    optionValue: optionValue,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _e.getChoiceText,\n      getChoiceValue = _e.getChoiceValue;\n\n  var _f = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _f.id,\n      input = _f.input,\n      isRequired = _f.isRequired,\n      _g = _f.meta,\n      error = _g.error,\n      touched = _g.touched;\n\n  var renderMenuItemOption = useCallback(function (choice) {\n    return getChoiceText(choice);\n  }, [getChoiceText]);\n  var renderMenuItem = useCallback(function (choice) {\n    return choice ? React.createElement(MenuItem, {\n      key: getChoiceValue(choice),\n      value: getChoiceValue(choice)\n    }, renderMenuItemOption(choice)) : null;\n  }, [getChoiceValue, renderMenuItemOption]);\n  return React.createElement(FormControl, __assign({\n    margin: margin,\n    className: classnames(classes.root, className),\n    error: touched && !!error,\n    variant: variant\n  }, sanitizeRestProps(rest)), React.createElement(InputLabel, {\n    htmlFor: id,\n    shrink: true,\n    variant: variant\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource,\n    isRequired: isRequired\n  })), React.createElement(Select, __assign({\n    autoWidth: true,\n    multiple: true,\n    input: variant === 'standard' ? React.createElement(Input, {\n      id: id\n    }) : React.createElement(FilledInput, {\n      id: id\n    }),\n    error: !!(touched && error),\n    renderValue: function renderValue(selected) {\n      return React.createElement(\"div\", {\n        className: classes.chips\n      }, selected.map(function (item) {\n        return choices.find(function (choice) {\n          return getChoiceValue(choice) === item;\n        });\n      }).map(function (item) {\n        return React.createElement(Chip, {\n          key: getChoiceValue(item),\n          label: renderMenuItemOption(item),\n          className: classes.chip\n        });\n      }));\n    },\n    \"data-testid\": \"selectArray\",\n    variant: variant\n  }, input, {\n    value: input.value || []\n  }, options), choices.map(renderMenuItem)), touched && error || helperText ? React.createElement(FormHelperText, null, React.createElement(InputHelperText, {\n    touched: touched,\n    error: error,\n    helperText: helperText\n  })) : null);\n};\n\nSelectArrayInput.propTypes = {\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  label: PropTypes.string,\n  options: PropTypes.object,\n  optionText: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.element]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool\n};\nSelectArrayInput.defaultProps = {\n  options: {},\n  optionText: 'name',\n  optionValue: 'id',\n  translateChoice: true\n};\nexport default SelectArrayInput;","import React from 'react';\nimport { useTranslate, SelectArrayInput } from 'react-admin';\n\nimport segments from '../segments/data';\n\nconst SegmentsInput = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n};\n\nexport default SegmentsInput;\n","import React from 'react';\nimport {\n    Datagrid,\n    DateField,\n    DateInput,\n    Edit,\n    EditButton,\n    FormTab,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceManyField,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from '../orders/NbItemsField';\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { styles } from './VisitorCreate';\n\nconst useStyles = makeStyles(styles);\n\nconst VisitorTitle = ({ record }) =>\n    record ? <FullNameField record={record} size={32} /> : null;\n\nconst VisitorEdit = props => {\n    const classes = useStyles();\n    return (\n        <Edit title={<VisitorTitle />} {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.customers.tabs.identity\">\n                    <TextInput\n                        source=\"first_name\"\n                        formClassName={classes.first_name}\n                    />\n                    <TextInput\n                        source=\"last_name\"\n                        formClassName={classes.last_name}\n                    />\n                    <TextInput\n                        type=\"email\"\n                        source=\"email\"\n                        validation={{ email: true }}\n                        fullWidth={true}\n                        formClassName={classes.email}\n                    />\n                    <DateInput source=\"birthday\" />\n                </FormTab>\n                <FormTab\n                    label=\"resources.customers.tabs.address\"\n                    path=\"address\"\n                >\n                    <TextInput\n                        source=\"address\"\n                        formClassName={classes.address}\n                        multiline={true}\n                        fullWidth={true}\n                    />\n                    <TextInput\n                        source=\"zipcode\"\n                        formClassName={classes.zipcode}\n                    />\n                    <TextInput source=\"city\" formClassName={classes.city} />\n                </FormTab>\n                <FormTab label=\"resources.customers.tabs.orders\" path=\"orders\">\n                    <ReferenceManyField\n                        addLabel={false}\n                        sort={{ field: 'date', order: 'DESC' }}\n                        reference=\"commands\"\n                        target=\"customer_id\"\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <TextField source=\"reference\" />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n                <FormTab\n                    label=\"resources.customers.tabs.reviews\"\n                    path=\"reviews\"\n                >\n                    <ReferenceManyField\n                        addLabel={false}\n                        sort={{ field: 'date', order: 'DESC' }}\n                        reference=\"reviews\"\n                        target=\"customer_id\"\n                        fullWidth\n                    >\n                        <Datagrid filter={{ status: 'approved' }}>\n                            <DateField source=\"date\" />\n                            <ProductReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <EditButton style={{ padding: 0 }} />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n                <FormTab label=\"resources.customers.tabs.stats\" path=\"stats\">\n                    <SegmentsInput />\n                    <NullableBooleanInput source=\"has_newsletter\" />\n                    <DateField\n                        source=\"first_seen\"\n                        style={{ width: 128, display: 'inline-block' }}\n                    />\n                    <DateField\n                        source=\"latest_purchase\"\n                        style={{ width: 128, display: 'inline-block' }}\n                    />\n                    <DateField\n                        source=\"last_seen\"\n                        style={{ width: 128, display: 'inline-block' }}\n                    />\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","var isMatchingReferencesError = function isMatchingReferencesError(matchingReferences) {\n  return matchingReferences && matchingReferences.error !== undefined;\n};\n\nexport var getStatusForInput = function getStatusForInput(_a) {\n  var input = _a.input,\n      matchingReferences = _a.matchingReferences,\n      referenceRecord = _a.referenceRecord,\n      _b = _a.translate,\n      translate = _b === void 0 ? function (x) {\n    return x;\n  } : _b;\n  var matchingReferencesError = isMatchingReferencesError(matchingReferences) ? translate(matchingReferences.error, {\n    _: matchingReferences.error\n  }) : null;\n  var selectedReferenceError = input.value && !referenceRecord ? translate('ra.input.references.single_missing', {\n    _: 'ra.input.references.single_missing'\n  }) : null;\n  return {\n    waiting: input.value && selectedReferenceError && !matchingReferences || !input.value && !matchingReferences,\n    error: input.value && selectedReferenceError && matchingReferencesError || !input.value && matchingReferencesError ? input.value ? selectedReferenceError : matchingReferencesError : null,\n    warning: selectedReferenceError || matchingReferencesError,\n    choices: Array.isArray(matchingReferences) ? matchingReferences : [referenceRecord].filter(function (choice) {\n      return choice;\n    })\n  };\n};\nexport var REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport var REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport var REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\nexport var getSelectedReferencesStatus = function getSelectedReferencesStatus(input, referenceRecords) {\n  return !input.value || input.value.length === referenceRecords.length ? REFERENCES_STATUS_READY : referenceRecords.length > 0 ? REFERENCES_STATUS_INCOMPLETE : REFERENCES_STATUS_EMPTY;\n};\nexport var getStatusForArrayInput = function getStatusForArrayInput(_a) {\n  var input = _a.input,\n      matchingReferences = _a.matchingReferences,\n      referenceRecords = _a.referenceRecords,\n      _b = _a.translate,\n      translate = _b === void 0 ? function (x) {\n    return x;\n  } : _b; // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n  // or \"incomplete\" (Not all of the reference data was found)\n  // or \"ready\" (all references data was found or there is no references from input.value)\n\n  var selectedReferencesDataStatus = getSelectedReferencesStatus(input, referenceRecords);\n  var matchingReferencesError = isMatchingReferencesError(matchingReferences) ? translate(matchingReferences.error, {\n    _: matchingReferences.error\n  }) : null;\n  return {\n    waiting: !matchingReferences && input.value && selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY || !matchingReferences && !input.value,\n    error: matchingReferencesError && (!input.value || input.value && selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ? translate('ra.input.references.all_missing', {\n      _: 'ra.input.references.all_missing'\n    }) : null,\n    warning: matchingReferencesError || input.value && selectedReferencesDataStatus !== REFERENCES_STATUS_READY ? matchingReferencesError || translate('ra.input.references.many_missing', {\n      _: 'ra.input.references.many_missing'\n    }) : null,\n    choices: Array.isArray(matchingReferences) ? matchingReferences : referenceRecords\n  };\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { crudGetMany, crudGetMatching } from './dataActions';\nexport var CRUD_GET_MANY_ACCUMULATE = 'RA/CRUD_GET_MANY_ACCUMULATE';\nexport var crudGetManyAccumulate = function crudGetManyAccumulate(resource, ids) {\n  return {\n    type: CRUD_GET_MANY_ACCUMULATE,\n    payload: {\n      resource: resource,\n      ids: ids\n    },\n    meta: {\n      accumulate: crudGetMany\n    }\n  };\n};\nexport var CRUD_GET_MATCHING_ACCUMULATE = 'RA/CRUD_GET_MATCHING_ACCUMULATE';\nexport var crudGetMatchingAccumulate = function crudGetMatchingAccumulate(reference, relatedTo, pagination, sort, filter) {\n  var action = crudGetMatching(reference, relatedTo, pagination, sort, filter);\n  return {\n    type: CRUD_GET_MATCHING_ACCUMULATE,\n    meta: {\n      accumulate: function accumulate() {\n        return action;\n      },\n      accumulateValues: function accumulateValues() {\n        return true;\n      },\n      accumulateKey: JSON.stringify(__assign({\n        resource: reference,\n        relatedTo: relatedTo\n      }, action.payload))\n    }\n  };\n};","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { crudGetMatchingAccumulate } from '../../actions/accumulateActions';\nimport { getPossibleReferences, getPossibleReferenceValues, getReferenceResource } from '../../reducer';\nimport { useDeepCompareEffect } from '../../util/hooks';\n\nvar defaultReferenceSource = function defaultReferenceSource(resource, source) {\n  return resource + \"@\" + source;\n};\n\nexport default (function (_a) {\n  var reference = _a.reference,\n      _b = _a.referenceSource,\n      referenceSource = _b === void 0 ? defaultReferenceSource : _b,\n      resource = _a.resource,\n      source = _a.source,\n      filter = _a.filter,\n      pagination = _a.pagination,\n      sort = _a.sort,\n      id = _a.id;\n  var dispatch = useDispatch();\n  useDeepCompareEffect(function () {\n    dispatch(crudGetMatchingAccumulate(reference, referenceSource(resource, source), pagination, sort, filter));\n  }, [dispatch, filter, reference, referenceSource, resource, source, pagination, sort]);\n  var matchingReferences = useGetMatchingReferenceSelector({\n    referenceSource: referenceSource,\n    filter: filter,\n    reference: reference,\n    resource: resource,\n    source: source,\n    id: id\n  });\n\n  if (!matchingReferences) {\n    return {\n      loading: true,\n      error: null,\n      matchingReferences: null\n    };\n  }\n\n  if (matchingReferences.error) {\n    return {\n      loading: false,\n      matchingReferences: null,\n      error: matchingReferences.error\n    };\n  }\n\n  return {\n    loading: false,\n    error: null,\n    matchingReferences: matchingReferences\n  };\n});\n\nvar useGetMatchingReferenceSelector = function useGetMatchingReferenceSelector(_a) {\n  var referenceSource = _a.referenceSource,\n      filter = _a.filter,\n      reference = _a.reference,\n      resource = _a.resource,\n      source = _a.source,\n      id = _a.id;\n  var getMatchingReferences = useCallback(function (state) {\n    var referenceResource = getReferenceResource(state, {\n      reference: reference\n    });\n    var possibleValues = getPossibleReferenceValues(state, {\n      referenceSource: referenceSource,\n      resource: resource,\n      source: source\n    });\n    return getPossibleReferences(referenceResource, possibleValues, [id]);\n  }, [referenceSource, reference, resource, source, id]);\n  return useSelector(getMatchingReferences);\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\n\nvar defaultFilterToQuery = function defaultFilterToQuery(v) {\n  return {\n    q: v\n  };\n};\n\nvar emptyFilter = {};\n/**\n * @name setFilter\n * @function\n * @param {string} the value\n */\n\n/**\n * @typedef FilterProps\n * @type {Object}\n * @property {Object} filter: The filter object.\n * @property {setFilter} setFilter: Update the filter with the given string\n */\n\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter inital value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {FilterProps} The filter props\n */\n\nexport default (function (_a) {\n  var _b = _a.filterToQuery,\n      filterToQuery = _b === void 0 ? defaultFilterToQuery : _b,\n      _c = _a.permanentFilter,\n      permanentFilter = _c === void 0 ? emptyFilter : _c,\n      _d = _a.debounceTime,\n      debounceTime = _d === void 0 ? 500 : _d;\n  var permanentFilterProp = useRef(permanentFilter);\n  var latestValue = useRef();\n\n  var _e = useState(__assign({}, permanentFilter, filterToQuery(''))),\n      filter = _e[0],\n      setFilterValue = _e[1];\n\n  useEffect(function () {\n    if (permanentFilterProp.current !== permanentFilter) {\n      permanentFilterProp.current = permanentFilter;\n      setFilterValue(__assign({}, permanentFilter, filterToQuery(latestValue.current)));\n    }\n  }, [permanentFilter, permanentFilterProp, filterToQuery]);\n  var setFilter = useCallback(debounce(function (value) {\n    setFilterValue(__assign({}, permanentFilter, filterToQuery(value)));\n    latestValue.current = value;\n  }, debounceTime), []);\n  return {\n    filter: filter,\n    setFilter: setFilter\n  };\n});","import { getStatusForInput as getDataStatus } from './referenceDataStatus';\nimport useTranslate from '../../i18n/useTranslate';\nimport useReference from '../useReference';\nimport useGetMatchingReferences from './useGetMatchingReferences';\nimport usePaginationState from '../usePaginationState';\nimport { useSortState } from '..';\nimport useFilterState from '../useFilterState';\n\nvar defaultReferenceSource = function defaultReferenceSource(resource, source) {\n  return resource + \"@\" + source;\n};\n\nvar defaultFilter = {};\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getMatching()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilter`\n * function. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function option\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n *      filterToQuery: searchText => ({ title: searchText })\n * });\n */\n\nvar useReferenceInputController = function useReferenceInputController(_a) {\n  var input = _a.input,\n      _b = _a.perPage,\n      perPage = _b === void 0 ? 25 : _b,\n      _c = _a.filter,\n      filter = _c === void 0 ? defaultFilter : _c,\n      reference = _a.reference,\n      filterToQuery = _a.filterToQuery,\n      _d = _a.referenceSource,\n      referenceSource = _d === void 0 ? defaultReferenceSource : _d,\n      resource = _a.resource,\n      sortOverride = _a.sort,\n      source = _a.source;\n  var translate = useTranslate();\n\n  var _e = usePaginationState({\n    perPage: perPage\n  }),\n      pagination = _e.pagination,\n      setPagination = _e.setPagination;\n\n  var _f = useSortState(sortOverride),\n      sort = _f.sort,\n      setSort = _f.setSort;\n\n  var _g = useFilterState({\n    permanentFilter: filter,\n    filterToQuery: filterToQuery\n  }),\n      filterValue = _g.filter,\n      setFilter = _g.setFilter;\n\n  var matchingReferences = useGetMatchingReferences({\n    reference: reference,\n    referenceSource: referenceSource,\n    filter: filterValue,\n    pagination: pagination,\n    sort: sort,\n    resource: resource,\n    source: source,\n    id: input.value\n  }).matchingReferences;\n  var referenceRecord = useReference({\n    id: input.value,\n    reference: reference\n  }).referenceRecord;\n  var dataStatus = getDataStatus({\n    input: input,\n    matchingReferences: matchingReferences,\n    referenceRecord: referenceRecord,\n    translate: translate\n  });\n  return {\n    choices: dataStatus.choices,\n    error: dataStatus.error,\n    loading: dataStatus.waiting,\n    filter: filterValue,\n    setFilter: setFilter,\n    pagination: pagination,\n    setPagination: setPagination,\n    sort: sort,\n    setSort: setSort,\n    warning: dataStatus.warning\n  };\n};\n\nexport default useReferenceInputController;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\n\nvar ReferenceError = function ReferenceError(_a) {\n  var label = _a.label,\n      error = _a.error;\n  return React.createElement(TextField, {\n    error: true,\n    disabled: true,\n    label: label,\n    value: error,\n    margin: \"normal\"\n  });\n};\n\nReferenceError.propTypes = {\n  error: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport default ReferenceError;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, useReferenceInputController } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Labeled from './Labeled';\nimport ReferenceError from './ReferenceError';\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getMatching()`), then delegates rendering\n * to a subcomponent, to which it passes the possible choices\n * as the `choices` attribute.\n *\n * Use it with a selector component as child, like `<AutocompleteInput>`,\n * `<SelectInput>`, or `<RadioButtonGroupInput>`.\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <AutocompleteInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      perPage={100}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * The enclosed component may filter results. ReferenceInput passes a `setFilter`\n * function as prop to its child component. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function prop:\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filterToQuery={searchText => ({ title: searchText })}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n */\n\nexport var ReferenceInput = function ReferenceInput(_a) {\n  var format = _a.format,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      parse = _a.parse,\n      validate = _a.validate,\n      props = __rest(_a, [\"format\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\"]);\n\n  var inputProps = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    validate: validate\n  }, props));\n  return React.createElement(ReferenceInputView, __assign({}, inputProps, props, useReferenceInputController(__assign({}, props, inputProps))));\n};\nReferenceInput.propTypes = {\n  allowEmpty: PropTypes.bool.isRequired,\n  basePath: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  filter: PropTypes.object,\n  filterToQuery: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  onChange: PropTypes.func,\n  perPage: PropTypes.number,\n  record: PropTypes.object,\n  reference: PropTypes.string.isRequired,\n  resource: PropTypes.string,\n  sort: PropTypes.shape({\n    field: PropTypes.string,\n    order: PropTypes.oneOf(['ASC', 'DESC'])\n  }),\n  source: PropTypes.string\n};\nReferenceInput.defaultProps = {\n  allowEmpty: false,\n  filter: {},\n  filterToQuery: function filterToQuery(searchText) {\n    return {\n      q: searchText\n    };\n  },\n  perPage: 25,\n  sort: {\n    field: 'id',\n    order: 'DESC'\n  }\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var allowEmpty = _a.allowEmpty,\n      basePath = _a.basePath,\n      choices = _a.choices,\n      className = _a.className,\n      component = _a.component,\n      crudGetMatching = _a.crudGetMatching,\n      crudGetOne = _a.crudGetOne,\n      defaultValue = _a.defaultValue,\n      filter = _a.filter,\n      filterToQuery = _a.filterToQuery,\n      formClassName = _a.formClassName,\n      initializeForm = _a.initializeForm,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      label = _a.label,\n      locale = _a.locale,\n      meta = _a.meta,\n      onChange = _a.onChange,\n      optionValue = _a.optionValue,\n      optionText = _a.optionText,\n      perPage = _a.perPage,\n      record = _a.record,\n      reference = _a.reference,\n      referenceSource = _a.referenceSource,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      sort = _a.sort,\n      source = _a.source,\n      textAlign = _a.textAlign,\n      translateChoice = _a.translateChoice,\n      validation = _a.validation,\n      rest = __rest(_a, [\"allowEmpty\", \"basePath\", \"choices\", \"className\", \"component\", \"crudGetMatching\", \"crudGetOne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"locale\", \"meta\", \"onChange\", \"optionValue\", \"optionText\", \"perPage\", \"record\", \"reference\", \"referenceSource\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translateChoice\", \"validation\"]);\n\n  return rest;\n};\n\nexport var ReferenceInputView = function ReferenceInputView(_a) {\n  var allowEmpty = _a.allowEmpty,\n      basePath = _a.basePath,\n      children = _a.children,\n      choices = _a.choices,\n      classes = _a.classes,\n      className = _a.className,\n      error = _a.error,\n      helperText = _a.helperText,\n      id = _a.id,\n      input = _a.input,\n      isRequired = _a.isRequired,\n      loading = _a.loading,\n      label = _a.label,\n      meta = _a.meta,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      setPagination = _a.setPagination,\n      setSort = _a.setSort,\n      source = _a.source,\n      warning = _a.warning,\n      rest = __rest(_a, [\"allowEmpty\", \"basePath\", \"children\", \"choices\", \"classes\", \"className\", \"error\", \"helperText\", \"id\", \"input\", \"isRequired\", \"loading\", \"label\", \"meta\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"source\", \"warning\"]);\n\n  if (Children.count(children) !== 1) {\n    throw new Error('<ReferenceInput> only accepts a single child');\n  }\n\n  if (loading) {\n    return React.createElement(Labeled, {\n      id: id,\n      label: label,\n      source: source,\n      resource: resource,\n      className: className,\n      isRequired: isRequired,\n      meta: meta,\n      input: input\n    }, React.createElement(LinearProgress, null));\n  } // This is not a final-form error but an unrecoverable error from the\n  // useReferenceInputController hook\n\n\n  if (error) {\n    return React.createElement(ReferenceError, {\n      label: label,\n      error: error\n    });\n  } // When the useReferenceInputController returns a warning, it means there it\n  // had an issue trying to load the referenced record\n  // We display it by overriding the final-form meta\n\n\n  var finalMeta = warning ? __assign({}, meta, {\n    error: warning\n  }) : meta;\n  return cloneElement(children, __assign({\n    allowEmpty: allowEmpty,\n    classes: classes,\n    className: className,\n    input: input,\n    isRequired: isRequired,\n    label: label,\n    resource: resource,\n    meta: finalMeta,\n    source: source,\n    choices: choices,\n    basePath: basePath,\n    setFilter: setFilter,\n    setPagination: setPagination,\n    setSort: setSort,\n    translateChoice: false\n  }, sanitizeRestProps(rest)));\n};\nexport default ReferenceInput;","import { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set';\nimport useChoices from './useChoices';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowEmpty A boolean indicating whether an empty suggestion should be added\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check wether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned, excluding the empty one if `allowEmpty` is `true`\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\n\nvar useSuggestions = function useSuggestions(_a) {\n  var allowEmpty = _a.allowEmpty,\n      choices = _a.choices,\n      _b = _a.emptyText,\n      emptyText = _b === void 0 ? '' : _b,\n      _c = _a.emptyValue,\n      emptyValue = _c === void 0 ? null : _c,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      matchSuggestion = _a.matchSuggestion,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      selectedItem = _a.selectedItem,\n      _d = _a.suggestionLimit,\n      suggestionLimit = _d === void 0 ? 0 : _d,\n      translateChoice = _a.translateChoice;\n  var translate = useTranslate();\n\n  var _e = useChoices({\n    optionText: optionText,\n    optionValue: optionValue,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _e.getChoiceText,\n      getChoiceValue = _e.getChoiceValue;\n\n  var getSuggestions = useCallback(getSuggestionsFactory({\n    allowEmpty: allowEmpty,\n    choices: choices,\n    emptyText: translate(emptyText, {\n      _: emptyText\n    }),\n    emptyValue: emptyValue,\n    getChoiceText: getChoiceText,\n    getChoiceValue: getChoiceValue,\n    limitChoicesToValue: limitChoicesToValue,\n    matchSuggestion: matchSuggestion,\n    optionText: optionText,\n    optionValue: optionValue,\n    selectedItem: selectedItem,\n    suggestionLimit: suggestionLimit\n  }), [allowEmpty, choices, emptyText, emptyValue, getChoiceText, getChoiceValue, limitChoicesToValue, matchSuggestion, optionText, optionValue, selectedItem, suggestionLimit, translate]);\n  return {\n    getChoiceText: getChoiceText,\n    getChoiceValue: getChoiceValue,\n    getSuggestions: getSuggestions\n  };\n};\n\nexport default useSuggestions;\n\nvar escapeRegExp = function escapeRegExp(value) {\n  return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\n\n\nvar defaultMatchSuggestion = function defaultMatchSuggestion(getChoiceText) {\n  return function (filter, suggestion) {\n    var suggestionText = getChoiceText(suggestion);\n    var isReactElement = isValidElement(suggestionText);\n    return isReactElement ? false : suggestionText.match( // We must escape any RegExp reserved characters to avoid errors\n    // For example, the filter might contains * which must be escaped as \\*\n    new RegExp(escapeRegExp(filter), 'i'));\n  };\n};\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n    *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n    *   optionText: 'name',\n    *   optionValue: 'id',\n    *   getSuggestionText: choice => choice[optionText],\n    * })('pub')\n    *\n    * // Will return [{ id: 2, name: 'publisher' }]\n   \n */\n\n\nexport var getSuggestionsFactory = function getSuggestionsFactory(_a) {\n  var _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      allowEmpty = _a.allowEmpty,\n      emptyText = _a.emptyText,\n      emptyValue = _a.emptyValue,\n      optionText = _a.optionText,\n      optionValue = _a.optionValue,\n      getChoiceText = _a.getChoiceText,\n      getChoiceValue = _a.getChoiceValue,\n      _c = _a.limitChoicesToValue,\n      limitChoicesToValue = _c === void 0 ? false : _c,\n      _d = _a.matchSuggestion,\n      matchSuggestion = _d === void 0 ? defaultMatchSuggestion(getChoiceText) : _d,\n      selectedItem = _a.selectedItem,\n      _e = _a.suggestionLimit,\n      suggestionLimit = _e === void 0 ? 0 : _e;\n  return function (filter) {\n    var suggestions = []; // if an item is selected and matches the filter\n\n    if (selectedItem && !Array.isArray(selectedItem) && matchSuggestion(filter, selectedItem)) {\n      if (limitChoicesToValue) {\n        // display only the selected item\n        suggestions = choices.filter(function (choice) {\n          return getChoiceValue(choice) === getChoiceValue(selectedItem);\n        });\n      } else {\n        // ignore the filter to show more choices\n        suggestions = removeAlreadySelectedSuggestions(choices, selectedItem, getChoiceValue);\n      }\n    } else {\n      suggestions = choices.filter(function (choice) {\n        return matchSuggestion(filter, choice);\n      });\n      suggestions = removeAlreadySelectedSuggestions(suggestions, selectedItem, getChoiceValue);\n    }\n\n    suggestions = limitSuggestions(suggestions, suggestionLimit);\n\n    if (allowEmpty) {\n      suggestions = addEmptySuggestion(suggestions, {\n        optionText: optionText,\n        optionValue: optionValue,\n        emptyText: emptyText,\n        emptyValue: emptyValue\n      });\n    }\n\n    return suggestions;\n  };\n};\n/**\n * @example\n *\n * removeAlreadySelectedSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  [{ id: 1, name: 'foo'}]\n * );\n *\n * // Will return [{ id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param selectedItems List of selection\n * @param getChoiceValue Converter function from suggestion to value\n */\n\nvar removeAlreadySelectedSuggestions = function removeAlreadySelectedSuggestions(suggestions, selectedItems, getChoiceValue) {\n  if (!selectedItems) {\n    return suggestions;\n  }\n\n  var selectedValues = Array.isArray(selectedItems) ? selectedItems.map(getChoiceValue) : [getChoiceValue(selectedItems)];\n  return suggestions.filter(function (suggestion) {\n    return !selectedValues.includes(getChoiceValue(suggestion));\n  });\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\n\n\nvar limitSuggestions = function limitSuggestions(suggestions, limit) {\n  if (limit === void 0) {\n    limit = 0;\n  }\n\n  return Number.isInteger(limit) && limit > 0 ? suggestions.slice(0, limit) : suggestions;\n};\n/**\n * addEmptySuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n */\n\n\nvar addEmptySuggestion = function addEmptySuggestion(suggestions, _a) {\n  var _b = _a.optionText,\n      optionText = _b === void 0 ? 'name' : _b,\n      _c = _a.optionValue,\n      optionValue = _c === void 0 ? 'id' : _c,\n      _d = _a.emptyText,\n      emptyText = _d === void 0 ? '' : _d,\n      _e = _a.emptyValue,\n      emptyValue = _e === void 0 ? null : _e;\n  var newSuggestions = suggestions;\n  var emptySuggestion = {};\n  set(emptySuggestion, optionValue, emptyValue);\n\n  if (typeof optionText === 'string') {\n    set(emptySuggestion, optionText, emptyText);\n  }\n\n  return [].concat(emptySuggestion, newSuggestions);\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport { makeStyles, Paper, Popper } from '@material-ui/core';\nvar useStyles = makeStyles({\n  suggestionsContainer: {\n    zIndex: 2\n  },\n  suggestionsPaper: {\n    maxHeight: '50vh',\n    overflowY: 'auto'\n  }\n});\n\nvar AutocompleteSuggestionList = function AutocompleteSuggestionList(_a) {\n  var children = _a.children,\n      isOpen = _a.isOpen,\n      menuProps = _a.menuProps,\n      inputEl = _a.inputEl,\n      _b = _a.classes,\n      classesOverride = _b === void 0 ? undefined : _b,\n      suggestionsContainerProps = _a.suggestionsContainerProps;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(Popper, __assign({\n    open: isOpen,\n    anchorEl: inputEl,\n    className: classes.suggestionsContainer,\n    modifiers: {}\n  }, suggestionsContainerProps), React.createElement(\"div\", __assign({}, isOpen ? menuProps : {}), React.createElement(Paper, {\n    square: true,\n    style: {\n      marginTop: 8,\n      minWidth: inputEl ? inputEl.clientWidth : null\n    },\n    className: classes.suggestionsPaper\n  }, children)));\n};\n\nexport default AutocompleteSuggestionList;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { isValidElement, cloneElement } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { makeStyles, MenuItem } from '@material-ui/core';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      fontWeight: 400\n    },\n    selected: {\n      fontWeight: 500\n    },\n    suggestion: {\n      display: 'block',\n      fontFamily: theme.typography.fontFamily\n    },\n    suggestionText: {\n      fontWeight: 300\n    },\n    highlightedSuggestionText: {\n      fontWeight: 500\n    }\n  };\n});\n\nvar AutocompleteSuggestionItem = function AutocompleteSuggestionItem(_a) {\n  var _b;\n\n  var suggestion = _a.suggestion,\n      index = _a.index,\n      highlightedIndex = _a.highlightedIndex,\n      isSelected = _a.isSelected,\n      filterValue = _a.filterValue,\n      classesOverride = _a.classes,\n      getSuggestionText = _a.getSuggestionText,\n      rest = __rest(_a, [\"suggestion\", \"index\", \"highlightedIndex\", \"isSelected\", \"filterValue\", \"classes\", \"getSuggestionText\"]);\n\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var isHighlighted = highlightedIndex === index;\n  var suggestionText = getSuggestionText(suggestion);\n  var matches;\n  var parts;\n\n  if (!isValidElement(suggestionText)) {\n    matches = match(suggestionText, filterValue);\n    parts = parse(suggestionText, matches);\n  }\n\n  return React.createElement(MenuItem, __assign({\n    key: suggestionText,\n    selected: isHighlighted,\n    className: classnames(classes.root, (_b = {}, _b[classes.selected] = isSelected, _b))\n  }, rest), isValidElement(suggestionText) ? cloneElement(suggestionText, {\n    filterValue: filterValue\n  }) : React.createElement(\"div\", {\n    className: classes.suggestion\n  }, parts.map(function (part, index) {\n    return part.highlight ? React.createElement(\"span\", {\n      key: index,\n      className: classes.highlightedSuggestionText\n    }, part.text) : React.createElement(\"strong\", {\n      key: index,\n      className: classes.suggestionText\n    }, part.text);\n  })));\n};\n\nexport default AutocompleteSuggestionItem;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback, useEffect, useRef, useState, useMemo, isValidElement } from 'react';\nimport Downshift from 'downshift';\nimport classNames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles, TextField } from '@material-ui/core';\nimport { useInput, FieldTitle, useSuggestions, warning } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport AutocompleteSuggestionList from './AutocompleteSuggestionList';\nimport AutocompleteSuggestionItem from './AutocompleteSuggestionItem';\n/**\n * An Input component for an autocomplete field, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <AutocompleteInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * Note that you must also specify the `matchSuggestion` prop\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue);\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <AutoComplete> component\n *\n * @example\n * <AutocompleteInput source=\"author_id\" options={{ fullWidthInput: true }} />\n */\n\nvar AutocompleteInput = function AutocompleteInput(_a) {\n  var allowEmpty = _a.allowEmpty,\n      classesOverride = _a.classes,\n      _b = _a.choices,\n      choices = _b === void 0 ? [] : _b,\n      emptyText = _a.emptyText,\n      emptyValue = _a.emptyValue,\n      format = _a.format,\n      helperText = _a.helperText,\n      idOverride = _a.id,\n      inputOverride = _a.input,\n      isRequiredOverride = _a.isRequired,\n      label = _a.label,\n      limitChoicesToValue = _a.limitChoicesToValue,\n      _c = _a.margin,\n      margin = _c === void 0 ? 'dense' : _c,\n      matchSuggestion = _a.matchSuggestion,\n      metaOverride = _a.meta,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      _d = _a.options,\n      _e = _d === void 0 ? {} : _d,\n      suggestionsContainerProps = _e.suggestionsContainerProps,\n      labelProps = _e.labelProps,\n      InputProps = _e.InputProps,\n      options = __rest(_e, [\"suggestionsContainerProps\", \"labelProps\", \"InputProps\"]),\n      _f = _a.optionText,\n      optionText = _f === void 0 ? 'name' : _f,\n      _g = _a.optionValue,\n      optionValue = _g === void 0 ? 'id' : _g,\n      parse = _a.parse,\n      resource = _a.resource,\n      setFilter = _a.setFilter,\n      shouldRenderSuggestionsOverride = _a.shouldRenderSuggestions,\n      source = _a.source,\n      suggestionLimit = _a.suggestionLimit,\n      _h = _a.translateChoice,\n      translateChoice = _h === void 0 ? true : _h,\n      validate = _a.validate,\n      _j = _a.variant,\n      variant = _j === void 0 ? 'filled' : _j,\n      rest = __rest(_a, [\"allowEmpty\", \"classes\", \"choices\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"id\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"margin\", \"matchSuggestion\", \"meta\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"setFilter\", \"shouldRenderSuggestions\", \"source\", \"suggestionLimit\", \"translateChoice\", \"validate\", \"variant\"]);\n\n  warning(isValidElement(optionText) && !matchSuggestion, \"If the optionText prop is a React element, you must also specify the matchSuggestion prop:\\n<AutocompleteInput\\n    matchSuggestion={(filterValue, suggestion) => true}\\n/>\\n        \");\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var inputEl = useRef();\n  var anchorEl = useRef();\n\n  var _k = useInput(__assign({\n    format: format,\n    id: idOverride,\n    input: inputOverride,\n    isRequired: isRequiredOverride,\n    meta: metaOverride,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    validate: validate\n  }, rest)),\n      id = _k.id,\n      input = _k.input,\n      isRequired = _k.isRequired,\n      _l = _k.meta,\n      touched = _l.touched,\n      error = _l.error;\n\n  var _m = useState(''),\n      filterValue = _m[0],\n      setFilterValue = _m[1];\n\n  var getSuggestionFromValue = useCallback(function (value) {\n    return choices.find(function (choice) {\n      return get(choice, optionValue) === value;\n    });\n  }, [choices, optionValue]);\n  var selectedItem = useMemo(function () {\n    return getSuggestionFromValue(input.value) || null;\n  }, [input.value, getSuggestionFromValue]);\n\n  var _o = useSuggestions({\n    allowEmpty: allowEmpty,\n    choices: choices,\n    emptyText: emptyText,\n    emptyValue: emptyValue,\n    limitChoicesToValue: limitChoicesToValue,\n    matchSuggestion: matchSuggestion,\n    optionText: optionText,\n    optionValue: optionValue,\n    selectedItem: selectedItem,\n    suggestionLimit: suggestionLimit,\n    translateChoice: translateChoice\n  }),\n      getChoiceText = _o.getChoiceText,\n      getChoiceValue = _o.getChoiceValue,\n      getSuggestions = _o.getSuggestions;\n\n  var handleFilterChange = useCallback(function (eventOrValue) {\n    var event = eventOrValue;\n    var value = event.target ? event.target.value : eventOrValue;\n\n    if (setFilter) {\n      setFilter(value);\n    }\n  }, [setFilter]); // We must reset the filter every time the value changes to ensure we\n  // display at least some choices even if the input has a value.\n  // Otherwise, it would only display the currently selected one and the user\n  // would have to first clear the input before seeing any other choices\n\n  useEffect(function () {\n    handleFilterChange(''); // If we have a value, set the filter to its text so that\n    // Downshift displays it correctly\n\n    setFilterValue(input.value ? getChoiceText(selectedItem) : '');\n  }, [input.value, handleFilterChange, selectedItem, getChoiceText]);\n  var handleChange = useCallback(function (item) {\n    input.onChange(getChoiceValue(item));\n  }, [getChoiceValue, input]); // This function ensures that the suggestion list stay aligned to the\n  // input element even if it moves (because user scrolled for example)\n\n  var updateAnchorEl = function updateAnchorEl() {\n    if (!inputEl.current) {\n      return;\n    }\n\n    var inputPosition = inputEl.current.getBoundingClientRect(); // It works by implementing a mock element providing the only method used\n    // by the PopOver component, getBoundingClientRect, which will return a\n    // position based on the input position\n\n    if (!anchorEl.current) {\n      anchorEl.current = {\n        getBoundingClientRect: function getBoundingClientRect() {\n          return inputPosition;\n        }\n      };\n    } else {\n      var anchorPosition = anchorEl.current.getBoundingClientRect();\n\n      if (anchorPosition.x !== inputPosition.x || anchorPosition.y !== inputPosition.y) {\n        anchorEl.current = {\n          getBoundingClientRect: function getBoundingClientRect() {\n            return inputPosition;\n          }\n        };\n      }\n    }\n  };\n\n  var storeInputRef = function storeInputRef(input) {\n    inputEl.current = input;\n    updateAnchorEl();\n  };\n\n  var handleBlur = useCallback(function (event) {\n    handleFilterChange(''); // If we had a value before, set the filter back to its text so that\n    // Downshift displays it correctly\n\n    setFilterValue(input.value ? getChoiceText(selectedItem) : '');\n    input.onBlur(event);\n  }, [getChoiceText, handleFilterChange, input, selectedItem]);\n  var handleFocus = useCallback(function (openMenu) {\n    return function (event) {\n      openMenu(event);\n      input.onFocus(event);\n    };\n  }, [input]);\n\n  var shouldRenderSuggestions = function shouldRenderSuggestions(val) {\n    if (shouldRenderSuggestionsOverride !== undefined && typeof shouldRenderSuggestionsOverride === 'function') {\n      return shouldRenderSuggestionsOverride(val);\n    }\n\n    return true;\n  };\n\n  return React.createElement(Downshift, __assign({\n    inputValue: filterValue,\n    onChange: handleChange,\n    selectedItem: selectedItem,\n    itemToString: function itemToString(item) {\n      return getChoiceValue(item);\n    }\n  }, rest), function (_a) {\n    var _b;\n\n    var getInputProps = _a.getInputProps,\n        getItemProps = _a.getItemProps,\n        getLabelProps = _a.getLabelProps,\n        getMenuProps = _a.getMenuProps,\n        isOpen = _a.isOpen,\n        inputValue = _a.inputValue,\n        highlightedIndex = _a.highlightedIndex,\n        openMenu = _a.openMenu;\n    var isMenuOpen = isOpen && shouldRenderSuggestions(filterValue);\n\n    var _c = getInputProps({\n      onBlur: handleBlur,\n      onFocus: handleFocus(openMenu)\n    }),\n        downshiftId = _c.id,\n        // We want to ignore this to correctly link our label and the input\n    value = _c.value,\n        onBlur = _c.onBlur,\n        _onChange = _c.onChange,\n        onFocus = _c.onFocus,\n        ref = _c.ref,\n        inputProps = __rest(_c, [\"id\", \"value\", \"onBlur\", \"onChange\", \"onFocus\", \"ref\"]);\n\n    var suggestions = getSuggestions(filterValue);\n    return React.createElement(\"div\", {\n      className: classes.container\n    }, React.createElement(TextField, __assign({\n      id: id,\n      name: input.name,\n      InputProps: {\n        inputRef: storeInputRef,\n        classes: {\n          root: classNames(classes.inputRoot, (_b = {}, _b[classes.inputRootFilled] = variant === 'filled', _b)),\n          input: classes.inputInput\n        },\n        onBlur: onBlur,\n        onChange: function onChange(event) {\n          handleFilterChange(event);\n          setFilterValue(event.target.value);\n\n          _onChange(event);\n        },\n        onFocus: onFocus\n      },\n      error: !!(touched && error),\n      label: React.createElement(FieldTitle, __assign({\n        label: label\n      }, labelProps, {\n        source: source,\n        resource: resource,\n        isRequired: isRequired\n      })),\n      InputLabelProps: getLabelProps({\n        htmlFor: id\n      }),\n      helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n        touched: touched,\n        error: error,\n        helperText: helperText\n      }) : null,\n      variant: variant,\n      margin: margin,\n      value: filterValue\n    }, inputProps, options)), React.createElement(AutocompleteSuggestionList, {\n      isOpen: isMenuOpen,\n      menuProps: getMenuProps({}, // https://github.com/downshift-js/downshift/issues/235\n      {\n        suppressRefError: true\n      }),\n      inputEl: inputEl.current,\n      suggestionsContainerProps: suggestionsContainerProps\n    }, suggestions.map(function (suggestion, index) {\n      return React.createElement(AutocompleteSuggestionItem, __assign({\n        key: getChoiceValue(suggestion),\n        suggestion: suggestion,\n        index: index,\n        highlightedIndex: highlightedIndex,\n        isSelected: input.value === getChoiceValue(suggestion),\n        filterValue: filterValue,\n        getSuggestionText: getChoiceText\n      }, getItemProps({\n        item: suggestion\n      })));\n    })));\n  });\n};\n\nvar useStyles = makeStyles(function (theme) {\n  var chipBackgroundColor = theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.09)' : 'rgba(255, 255, 255, 0.09)';\n  return {\n    root: {\n      flexGrow: 1,\n      height: 250\n    },\n    container: {\n      flexGrow: 1,\n      position: 'relative'\n    },\n    paper: {\n      position: 'absolute',\n      zIndex: 1,\n      marginTop: theme.spacing(1),\n      left: 0,\n      right: 0\n    },\n    chip: {\n      margin: theme.spacing(0.5, 0.5, 0.5, 0)\n    },\n    chipContainerFilled: {\n      margin: '27px 12px 10px 0'\n    },\n    inputRoot: {\n      flexWrap: 'wrap'\n    },\n    inputRootFilled: {\n      flexWrap: 'wrap',\n      '& $chip': {\n        backgroundColor: chipBackgroundColor\n      }\n    },\n    inputInput: {\n      width: 'auto',\n      flexGrow: 1\n    },\n    divider: {\n      height: theme.spacing(2)\n    }\n  };\n});\nexport default AutocompleteInput;","import React from 'react';\nimport { ReferenceField } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\nconst MobileGrid = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                                className={classes.total}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React, { Fragment } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    EditButton,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport {\n    makeStyles,\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n} from '@material-ui/core';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport MobileGrid from './MobileGrid';\n\nconst OrderFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={choice =>\n                    `${choice.first_name} ${choice.last_name}`\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nclass TabbedDatagrid extends React.Component {\n    tabs = [\n        { id: 'ordered', name: 'ordered' },\n        { id: 'delivered', name: 'delivered' },\n        { id: 'cancelled', name: 'cancelled' },\n    ];\n\n    state = { ordered: [], delivered: [], cancelled: [] };\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.ids !== state[props.filterValues.status]) {\n            return { ...state, [props.filterValues.status]: props.ids };\n        }\n        return null;\n    }\n\n    handleChange = (event, value) => {\n        const { filterValues, setFilters } = this.props;\n        setFilters({ ...filterValues, status: value });\n    };\n\n    render() {\n        const { isXSmall, classes, filterValues, ...props } = this.props;\n\n        return (\n            <Fragment>\n                <Tabs\n                    variant=\"fullWidth\"\n                    centered\n                    value={filterValues.status}\n                    indicatorColor=\"primary\"\n                    onChange={this.handleChange}\n                >\n                    {this.tabs.map(choice => (\n                        <Tab\n                            key={choice.id}\n                            label={choice.name}\n                            value={choice.id}\n                        />\n                    ))}\n                </Tabs>\n                <Divider />\n                {isXSmall ? (\n                    <MobileGrid\n                        {...props}\n                        ids={this.state[filterValues.status]}\n                    />\n                ) : (\n                    <div>\n                        {filterValues.status === 'ordered' && (\n                            <Datagrid\n                                {...props}\n                                ids={this.state.ordered}\n                                optimized\n                                rowClick=\"edit\"\n                            >\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        )}\n                        {filterValues.status === 'delivered' && (\n                            <Datagrid {...props} ids={this.state.delivered}>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        )}\n                        {filterValues.status === 'cancelled' && (\n                            <Datagrid {...props} ids={this.state.cancelled}>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        )}\n                    </div>\n                )}\n            </Fragment>\n        );\n    }\n}\n\nconst StyledTabbedDatagrid = props => {\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    return <TabbedDatagrid classes={classes} isXSmall={isXSmall} {...props} />;\n};\n\nconst OrderList = ({ classes, ...props }) => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <StyledTabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  var _a;\n\n  return {\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n      '&:first-child': {\n        paddingTop: 16\n      },\n      '&:last-child': (_a = {\n        paddingBottom: 16\n      }, _a[theme.breakpoints.only('xs')] = {\n        paddingBottom: 70\n      }, _a)\n    }\n  };\n});\n/**\n * Overrides material-ui CardContent to allow inner content\n *\n * When using several CardContent inside the same Card, the top and bottom\n * padding double the spacing between each CardContent, leading to too much\n * wasted space. Use this component as a CardContent alternative.\n */\n\nvar CardContentInner = function CardContentInner(_a) {\n  var classesOverride = _a.classes,\n      className = _a.className,\n      children = _a.children;\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  return React.createElement(CardContent, {\n    className: classnames(classes.root, className)\n  }, children);\n};\n\nCardContentInner.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  children: PropTypes.node\n};\nexport default CardContentInner;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { Children, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport classnames from 'classnames';\nimport { useTranslate, useInitializeFormWithRecord, sanitizeEmptyValues } from 'ra-core';\nimport getFormInitialValues from './getFormInitialValues';\nimport FormInput from './FormInput';\nimport Toolbar from './Toolbar';\nimport CardContentInner from '../layout/CardContentInner';\n\nvar SimpleForm = function SimpleForm(_a) {\n  var initialValues = _a.initialValues,\n      defaultValue = _a.defaultValue,\n      saving = _a.saving,\n      props = __rest(_a, [\"initialValues\", \"defaultValue\", \"saving\"]);\n\n  var redirect = useRef(props.redirect); // We don't use state here for two reasons:\n  // 1. There no way to execute code only after the state has been updated\n  // 2. We don't want the form to rerender when redirect is changed\n\n  var setRedirect = function setRedirect(newRedirect) {\n    redirect.current = newRedirect;\n  };\n\n  var translate = useTranslate();\n  var finalInitialValues = getFormInitialValues(initialValues, defaultValue, props.record);\n\n  var submit = function submit(values) {\n    var finalRedirect = typeof redirect.current === undefined ? props.redirect : redirect.current;\n    var finalValues = sanitizeEmptyValues(finalInitialValues, values);\n    props.save(finalValues, finalRedirect);\n  };\n\n  return React.createElement(Form, __assign({\n    key: props.version,\n    initialValues: finalInitialValues,\n    onSubmit: submit,\n    mutators: __assign({}, arrayMutators),\n    keepDirtyOnReinitialize: true,\n    subscription: defaultSubscription\n  }, props, {\n    render: function render(formProps) {\n      return React.createElement(SimpleFormView, __assign({\n        saving: formProps.submitting || saving,\n        translate: translate,\n        setRedirect: setRedirect\n      }, props, formProps));\n    }\n  }));\n};\n\nvar defaultSubscription = {\n  submitting: true,\n  pristine: true,\n  valid: true,\n  invalid: true\n};\nexport default SimpleForm;\n\nvar SimpleFormView = function SimpleFormView(_a) {\n  var basePath = _a.basePath,\n      children = _a.children,\n      className = _a.className,\n      invalid = _a.invalid,\n      form = _a.form,\n      pristine = _a.pristine,\n      record = _a.record,\n      defaultRedirect = _a.redirect,\n      resource = _a.resource,\n      saving = _a.saving,\n      setRedirect = _a.setRedirect,\n      submitOnEnter = _a.submitOnEnter,\n      toolbar = _a.toolbar,\n      undoable = _a.undoable,\n      version = _a.version,\n      handleSubmit = _a.handleSubmit,\n      variant = _a.variant,\n      margin = _a.margin,\n      rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"invalid\", \"form\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"setRedirect\", \"submitOnEnter\", \"toolbar\", \"undoable\", \"version\", \"handleSubmit\", \"variant\", \"margin\"]);\n\n  useInitializeFormWithRecord(record);\n  var handleSubmitWithRedirect = useCallback(function (redirect) {\n    if (redirect === void 0) {\n      redirect = defaultRedirect;\n    }\n\n    setRedirect(redirect);\n    handleSubmit();\n  }, [setRedirect, defaultRedirect, handleSubmit]);\n  return React.createElement(\"form\", __assign({\n    className: classnames('simple-form', className)\n  }, sanitizeRestProps(rest)), React.createElement(CardContentInner, {\n    key: version\n  }, Children.map(children, function (input) {\n    return React.createElement(FormInput, {\n      basePath: basePath,\n      input: input,\n      record: record,\n      resource: resource,\n      variant: variant,\n      margin: margin\n    });\n  })), toolbar && React.cloneElement(toolbar, {\n    basePath: basePath,\n    handleSubmitWithRedirect: handleSubmitWithRedirect,\n    handleSubmit: handleSubmit,\n    invalid: invalid,\n    pristine: pristine,\n    record: record,\n    redirect: defaultRedirect,\n    resource: resource,\n    saving: saving,\n    submitOnEnter: submitOnEnter,\n    undoable: undoable\n  }));\n};\n\nSimpleFormView.propTypes = {\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  handleSubmit: PropTypes.func,\n  invalid: PropTypes.bool,\n  pristine: PropTypes.bool,\n  record: PropTypes.object,\n  resource: PropTypes.string,\n  redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n  save: PropTypes.func,\n  saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  submitOnEnter: PropTypes.bool,\n  toolbar: PropTypes.element,\n  undoable: PropTypes.bool,\n  validate: PropTypes.func,\n  version: PropTypes.number\n};\nSimpleFormView.defaultProps = {\n  submitOnEnter: true,\n  toolbar: React.createElement(Toolbar, null)\n};\n\nvar sanitizeRestProps = function sanitizeRestProps(_a) {\n  var anyTouched = _a.anyTouched,\n      array = _a.array,\n      asyncBlurFields = _a.asyncBlurFields,\n      asyncValidate = _a.asyncValidate,\n      asyncValidating = _a.asyncValidating,\n      autofill = _a.autofill,\n      blur = _a.blur,\n      change = _a.change,\n      clearAsyncError = _a.clearAsyncError,\n      clearFields = _a.clearFields,\n      clearSubmit = _a.clearSubmit,\n      clearSubmitErrors = _a.clearSubmitErrors,\n      destroy = _a.destroy,\n      dirty = _a.dirty,\n      dirtyFields = _a.dirtyFields,\n      dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit,\n      dirtySinceLastSubmit = _a.dirtySinceLastSubmit,\n      dispatch = _a.dispatch,\n      form = _a.form,\n      handleSubmit = _a.handleSubmit,\n      hasSubmitErrors = _a.hasSubmitErrors,\n      hasValidationErrors = _a.hasValidationErrors,\n      initialize = _a.initialize,\n      initialized = _a.initialized,\n      initialValues = _a.initialValues,\n      pristine = _a.pristine,\n      pure = _a.pure,\n      redirect = _a.redirect,\n      reset = _a.reset,\n      resetSection = _a.resetSection,\n      save = _a.save,\n      setRedirect = _a.setRedirect,\n      submit = _a.submit,\n      submitError = _a.submitError,\n      submitErrors = _a.submitErrors,\n      submitAsSideEffect = _a.submitAsSideEffect,\n      submitFailed = _a.submitFailed,\n      submitSucceeded = _a.submitSucceeded,\n      submitting = _a.submitting,\n      touch = _a.touch,\n      translate = _a.translate,\n      triggerSubmit = _a.triggerSubmit,\n      undoable = _a.undoable,\n      untouch = _a.untouch,\n      valid = _a.valid,\n      validate = _a.validate,\n      validating = _a.validating,\n      _reduxForm = _a._reduxForm,\n      props = __rest(_a, [\"anyTouched\", \"array\", \"asyncBlurFields\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialize\", \"initialized\", \"initialValues\", \"pristine\", \"pure\", \"redirect\", \"reset\", \"resetSection\", \"save\", \"setRedirect\", \"submit\", \"submitError\", \"submitErrors\", \"submitAsSideEffect\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"translate\", \"triggerSubmit\", \"undoable\", \"untouch\", \"valid\", \"validate\", \"validating\", \"_reduxForm\"]);\n\n  return props;\n};","import PropTypes from 'prop-types';\n/**\n * Common PropTypes for all react-admin inputs\n */\n\nvar InputPropTypes = {\n  label: PropTypes.string,\n  resource: PropTypes.string,\n  source: PropTypes.string\n};\nexport default InputPropTypes;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Switch from '@material-ui/core/Switch';\nimport { FieldTitle, useInput } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\nimport InputPropTypes from './InputPropTypes';\n\nvar BooleanInput = function BooleanInput(_a) {\n  var format = _a.format,\n      label = _a.label,\n      fullWidth = _a.fullWidth,\n      helperText = _a.helperText,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onFocus = _a.onFocus,\n      options = _a.options,\n      parse = _a.parse,\n      resource = _a.resource,\n      source = _a.source,\n      validate = _a.validate,\n      rest = __rest(_a, [\"format\", \"label\", \"fullWidth\", \"helperText\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n\n  var _b = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'checkbox',\n    validate: validate\n  }, rest)),\n      id = _b.id,\n      _c = _b.input,\n      finalFormOnChange = _c.onChange,\n      type = _c.type,\n      value = _c.value,\n      inputProps = __rest(_c, [\"onChange\", \"type\", \"value\"]),\n      isRequired = _b.isRequired,\n      _d = _b.meta,\n      error = _d.error,\n      touched = _d.touched;\n\n  var handleChange = useCallback(function (event, value) {\n    finalFormOnChange(value);\n  }, [finalFormOnChange]);\n  return React.createElement(FormGroup, __assign({}, sanitizeRestProps(rest)), React.createElement(FormControlLabel, {\n    control: React.createElement(Switch, __assign({\n      id: id,\n      color: \"primary\",\n      checked: !!value,\n      onChange: handleChange\n    }, inputProps, options)),\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    })\n  }), touched && error || helperText ? React.createElement(FormHelperText, {\n    error: !!error\n  }, React.createElement(InputHelperText, {\n    touched: touched,\n    error: error,\n    helperText: helperText\n  })) : null);\n};\n\nBooleanInput.propTypes = __assign({}, InputPropTypes, {\n  options: PropTypes.shape(Switch.propTypes)\n});\nBooleanInput.defaultProps = {\n  options: {}\n};\nexport default BooleanInput;","import React from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        state => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n            return productIds\n                .map(\n                    productId => state.admin.resources.products.data[productId]\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {});\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        item =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    Edit,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\n\nconst OrderTitle = ({ record }) => {\n    const translate = useTranslate();\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst OrderEdit = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            {...props}\n        >\n            <SimpleForm>\n                <DateInput source=\"date\" />\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput\n                        optionText={choice =>\n                            `${choice.first_name} ${choice.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n                <SelectInput\n                    source=\"status\"\n                    choices={[\n                        { id: 'delivered', name: 'delivered' },\n                        { id: 'ordered', name: 'ordered' },\n                        { id: 'cancelled', name: 'cancelled' },\n                        {\n                            id: 'unknown',\n                            name: 'unknown',\n                            disabled: true,\n                        },\n                    ]}\n                />\n                <BooleanInput source=\"returned\" />\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import React from 'react';\n\nconst AddressField = ({ record }) => (\n    <span>\n        {record.address}, {record.city} {record.zipcode}\n    </span>\n);\n\nexport default AddressField;\n","import inflection from 'inflection';\nimport useVersion from './useVersion';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useGetOne } from '../dataProvider';\nimport { useTranslate } from '../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../sideEffect';\nimport { CRUD_GET_ONE } from '../actions';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\n\nvar useShowController = function useShowController(props) {\n  useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n  var basePath = props.basePath,\n      id = props.id,\n      resource = props.resource;\n  var translate = useTranslate();\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var version = useVersion();\n\n  var _a = useGetOne(resource, id, {\n    version: version,\n    action: CRUD_GET_ONE,\n    onFailure: function onFailure() {\n      notify('ra.notification.item_doesnt_exist', 'warning');\n      redirect('list', basePath);\n      refresh();\n    }\n  }),\n      record = _a.data,\n      loading = _a.loading,\n      loaded = _a.loaded;\n\n  var resourceName = translate(\"resources.\" + resource + \".name\", {\n    smart_count: 1,\n    _: inflection.humanize(inflection.singularize(resource))\n  });\n  var defaultTitle = translate('ra.page.show', {\n    name: \"\" + resourceName,\n    id: id,\n    record: record\n  });\n  return {\n    loading: loading,\n    loaded: loaded,\n    defaultTitle: defaultTitle,\n    resource: resource,\n    basePath: basePath,\n    record: record,\n    version: version\n  };\n};\n\nexport default useShowController;","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { useShowController, ReferenceField, TextField } from 'react-admin';\n\nimport Basket from '../orders/Basket';\n\nconst CustomerField = ({ record }) => (\n    <Typography>\n        {record.first_name} {record.last_name}\n        <br />\n        {record.address}\n        <br />\n        {record.city}, {record.zipcode}\n    </Typography>\n);\n\nconst InvoiceShow = props => {\n    const { record } = useShowController(props);\n    if (!record) return null;\n    return (\n        <Card style={{ width: 600, margin: 'auto' }}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} align=\"right\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div style={{ height: 20 }}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div style={{ margin: '10px 0' }}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n","import React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    Filter,\n    DateInput,\n} from 'react-admin';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = props => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoiceList = props => (\n    <List {...props} filters={<ListFilters />} perPage={25}>\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport sanitizeRestProps from './sanitizeRestProps';\n\nvar convertStringToNumber = function convertStringToNumber(value) {\n  var _float = parseFloat(value);\n\n  return isNaN(_float) ? null : _float;\n};\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n */\n\n\nvar NumberInput = function NumberInput(_a) {\n  var format = _a.format,\n      helperText = _a.helperText,\n      label = _a.label,\n      _b = _a.margin,\n      margin = _b === void 0 ? 'dense' : _b,\n      onBlur = _a.onBlur,\n      onFocus = _a.onFocus,\n      onChange = _a.onChange,\n      options = _a.options,\n      _c = _a.parse,\n      parse = _c === void 0 ? convertStringToNumber : _c,\n      resource = _a.resource,\n      source = _a.source,\n      step = _a.step,\n      validate = _a.validate,\n      _d = _a.variant,\n      variant = _d === void 0 ? 'filled' : _d,\n      overrideInputProps = _a.inputProps,\n      rest = __rest(_a, [\"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"step\", \"validate\", \"variant\", \"inputProps\"]);\n\n  var _e = useInput(__assign({\n    format: format,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    parse: parse,\n    resource: resource,\n    source: source,\n    type: 'number',\n    validate: validate\n  }, rest)),\n      id = _e.id,\n      input = _e.input,\n      isRequired = _e.isRequired,\n      _f = _e.meta,\n      error = _f.error,\n      touched = _f.touched;\n\n  var inputProps = __assign({}, overrideInputProps, {\n    step: step\n  });\n\n  return React.createElement(TextField, __assign({\n    id: id\n  }, input, {\n    variant: variant,\n    error: !!(touched && error),\n    helperText: touched && error || helperText ? React.createElement(InputHelperText, {\n      touched: touched,\n      error: error,\n      helperText: helperText\n    }) : null,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    margin: margin,\n    inputProps: inputProps\n  }, options, sanitizeRestProps(rest)));\n};\n\nNumberInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  step: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nNumberInput.defaultProps = {\n  options: {},\n  step: 'any',\n  textAlign: 'right'\n};\nexport default NumberInput;","import React from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth from '@material-ui/core/withWidth';\nimport { Link } from 'react-router-dom';\nimport { NumberField } from 'react-admin';\nimport { linkToRecord } from 'ra-core';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '-2px',\n    },\n    gridList: {\n        width: '100%',\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = width => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren, fn) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = ({ width, nbItems = 10 }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {' '}\n                {times(nbItems, key => (\n                    <GridListTile key={key}>\n                        <div className={classes.placeholder} />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst LoadedGridList = ({ ids, data, basePath, width }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {ids.map(id => (\n                    <GridListTile\n                        component={Link}\n                        key={id}\n                        to={linkToRecord(basePath, data[id].id)}\n                    >\n                        <img src={data[id].thumbnail} alt=\"\" />\n                        <GridListTileBar\n                            className={classes.tileBar}\n                            title={data[id].reference}\n                            subtitle={\n                                <span>\n                                    {data[id].width}x{data[id].height},{' '}\n                                    <NumberField\n                                        className={classes.price}\n                                        source=\"price\"\n                                        record={data[id]}\n                                        color=\"inherit\"\n                                        options={{\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        }}\n                                    />\n                                </span>\n                            }\n                        />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst GridList = ({ loaded, ...props }) =>\n    loaded ? <LoadedGridList {...props} /> : <LoadingGridList {...props} />;\n\nexport default withWidth()(GridList);\n","import React from 'react';\nimport {\n    Filter,\n    List,\n    NumberInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    useTranslate,\n} from 'react-admin';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from './GridList';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ProductList = props => (\n    <List\n        {...props}\n        filters={<ProductFilter />}\n        perPage={20}\n        sort={{ field: 'id', order: 'ASC' }}\n    >\n        <GridList />\n    </List>\n);\n\nexport default ProductList;\n","// converted from vendor (node_modules/quill/dist/quill.snow.css) using the jss cli\nexport default {\n  '.ql-container': {\n    boxSizing: 'border-box',\n    fontFamily: 'Helvetica, Arial, sans-serif',\n    fontSize: 13,\n    height: '100%',\n    margin: 0,\n    position: 'relative'\n  },\n  '.ql-container.ql-disabled .ql-tooltip': {\n    visibility: 'hidden'\n  },\n  '.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before': {\n    pointerEvents: 'none'\n  },\n  '.ql-clipboard': {\n    left: -100000,\n    height: 1,\n    overflowY: 'hidden',\n    position: 'absolute',\n    top: '50%'\n  },\n  '.ql-clipboard p': {\n    margin: '0',\n    padding: '0'\n  },\n  '.ql-editor': {\n    boxSizing: 'border-box',\n    lineHeight: '1.42',\n    height: '100%',\n    outline: 'none',\n    overflowY: 'auto',\n    padding: '12px 15px',\n    tabSize: '4',\n    textAlign: 'left',\n    whiteSpace: 'pre-wrap',\n    wordWrap: 'break-word'\n  },\n  '.ql-editor > *': {\n    cursor: 'text'\n  },\n  '.ql-editor p, .ql-editor ol, .ql-editor ul, .ql-editor pre, .ql-editor blockquote, .ql-editor h1, .ql-editor h2, .ql-editor h3, .ql-editor h4, .ql-editor h5, .ql-editor h6': {\n    margin: '0',\n    padding: '0',\n    counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol, .ql-editor ul': {\n    paddingLeft: '1.5em'\n  },\n  '.ql-editor ol > li, .ql-editor ul > li': {\n    listStyleType: 'none'\n  },\n  '.ql-editor ul > li::before': {\n    content: \"'\\\\2022'\"\n  },\n  '.ql-editor ul[data-checked=true], .ql-editor ul[data-checked=false]': {\n    pointerEvents: 'none'\n  },\n  '.ql-editor ul[data-checked=true] > li *, .ql-editor ul[data-checked=false] > li *': {\n    pointerEvents: 'all'\n  },\n  '.ql-editor ul[data-checked=true] > li::before, .ql-editor ul[data-checked=false] > li::before': {\n    color: '#777',\n    cursor: 'pointer',\n    pointerEvents: 'all'\n  },\n  '.ql-editor ul[data-checked=true] > li::before': {\n    content: \"'\\\\2611'\"\n  },\n  '.ql-editor ul[data-checked=false] > li::before': {\n    content: \"'\\\\2610'\"\n  },\n  '.ql-editor li::before': {\n    display: 'inline-block',\n    whiteSpace: 'nowrap',\n    width: '1.2em'\n  },\n  '.ql-editor li:not(.ql-direction-rtl)::before': {\n    marginLeft: '-1.5em',\n    marginRight: '0.3em',\n    textAlign: 'right'\n  },\n  '.ql-editor li.ql-direction-rtl::before': {\n    marginLeft: '0.3em',\n    marginRight: '-1.5em'\n  },\n  '.ql-editor ol li:not(.ql-direction-rtl), .ql-editor ul li:not(.ql-direction-rtl)': {\n    paddingLeft: '1.5em'\n  },\n  '.ql-editor ol li.ql-direction-rtl, .ql-editor ul li.ql-direction-rtl': {\n    paddingRight: '1.5em'\n  },\n  '.ql-editor ol li': {\n    counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    counterIncrement: 'list-0'\n  },\n  '.ql-editor ol li:before': {\n    content: \"counter(list-0, decimal) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-1': {\n    counterIncrement: 'list-1',\n    counterReset: 'list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-1:before': {\n    content: \"counter(list-1, lower-alpha) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-2': {\n    counterIncrement: 'list-2',\n    counterReset: 'list-3 list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-2:before': {\n    content: \"counter(list-2, lower-roman) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-3': {\n    counterIncrement: 'list-3',\n    counterReset: 'list-4 list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-3:before': {\n    content: \"counter(list-3, decimal) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-4': {\n    counterIncrement: 'list-4',\n    counterReset: 'list-5 list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-4:before': {\n    content: \"counter(list-4, lower-alpha) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-5': {\n    counterIncrement: 'list-5',\n    counterReset: 'list-6 list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-5:before': {\n    content: \"counter(list-5, lower-roman) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-6': {\n    counterIncrement: 'list-6',\n    counterReset: 'list-7 list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-6:before': {\n    content: \"counter(list-6, decimal) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-7': {\n    counterIncrement: 'list-7',\n    counterReset: 'list-8 list-9'\n  },\n  '.ql-editor ol li.ql-indent-7:before': {\n    content: \"counter(list-7, lower-alpha) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-8': {\n    counterIncrement: 'list-8',\n    counterReset: 'list-9'\n  },\n  '.ql-editor ol li.ql-indent-8:before': {\n    content: \"counter(list-8, lower-roman) '. '\"\n  },\n  '.ql-editor ol li.ql-indent-9': {\n    counterIncrement: 'list-9'\n  },\n  '.ql-editor ol li.ql-indent-9:before': {\n    content: \"counter(list-9, decimal) '. '\"\n  },\n  '.ql-editor .ql-indent-1:not(.ql-direction-rtl)': {\n    paddingLeft: '3em'\n  },\n  '.ql-editor li.ql-indent-1:not(.ql-direction-rtl)': {\n    paddingLeft: '4.5em'\n  },\n  '.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right': {\n    paddingRight: '3em'\n  },\n  '.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right': {\n    paddingRight: '4.5em'\n  },\n  '.ql-editor .ql-indent-2:not(.ql-direction-rtl)': {\n    paddingLeft: '6em'\n  },\n  '.ql-editor li.ql-indent-2:not(.ql-direction-rtl)': {\n    paddingLeft: '7.5em'\n  },\n  '.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right': {\n    paddingRight: '6em'\n  },\n  '.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right': {\n    paddingRight: '7.5em'\n  },\n  '.ql-editor .ql-indent-3:not(.ql-direction-rtl)': {\n    paddingLeft: '9em'\n  },\n  '.ql-editor li.ql-indent-3:not(.ql-direction-rtl)': {\n    paddingLeft: '10.5em'\n  },\n  '.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right': {\n    paddingRight: '9em'\n  },\n  '.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right': {\n    paddingRight: '10.5em'\n  },\n  '.ql-editor .ql-indent-4:not(.ql-direction-rtl)': {\n    paddingLeft: '12em'\n  },\n  '.ql-editor li.ql-indent-4:not(.ql-direction-rtl)': {\n    paddingLeft: '13.5em'\n  },\n  '.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right': {\n    paddingRight: '12em'\n  },\n  '.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right': {\n    paddingRight: '13.5em'\n  },\n  '.ql-editor .ql-indent-5:not(.ql-direction-rtl)': {\n    paddingLeft: '15em'\n  },\n  '.ql-editor li.ql-indent-5:not(.ql-direction-rtl)': {\n    paddingLeft: '16.5em'\n  },\n  '.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right': {\n    paddingRight: '15em'\n  },\n  '.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right': {\n    paddingRight: '16.5em'\n  },\n  '.ql-editor .ql-indent-6:not(.ql-direction-rtl)': {\n    paddingLeft: '18em'\n  },\n  '.ql-editor li.ql-indent-6:not(.ql-direction-rtl)': {\n    paddingLeft: '19.5em'\n  },\n  '.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right': {\n    paddingRight: '18em'\n  },\n  '.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right': {\n    paddingRight: '19.5em'\n  },\n  '.ql-editor .ql-indent-7:not(.ql-direction-rtl)': {\n    paddingLeft: '21em'\n  },\n  '.ql-editor li.ql-indent-7:not(.ql-direction-rtl)': {\n    paddingLeft: '22.5em'\n  },\n  '.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right': {\n    paddingRight: '21em'\n  },\n  '.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right': {\n    paddingRight: '22.5em'\n  },\n  '.ql-editor .ql-indent-8:not(.ql-direction-rtl)': {\n    paddingLeft: '24em'\n  },\n  '.ql-editor li.ql-indent-8:not(.ql-direction-rtl)': {\n    paddingLeft: '25.5em'\n  },\n  '.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right': {\n    paddingRight: '24em'\n  },\n  '.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right': {\n    paddingRight: '25.5em'\n  },\n  '.ql-editor .ql-indent-9:not(.ql-direction-rtl)': {\n    paddingLeft: '27em'\n  },\n  '.ql-editor li.ql-indent-9:not(.ql-direction-rtl)': {\n    paddingLeft: '28.5em'\n  },\n  '.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right': {\n    paddingRight: '27em'\n  },\n  '.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right': {\n    paddingRight: '28.5em'\n  },\n  '.ql-editor .ql-video': {\n    display: 'block',\n    maxWidth: '100%'\n  },\n  '.ql-editor .ql-video.ql-align-center': {\n    margin: '0 auto'\n  },\n  '.ql-editor .ql-video.ql-align-right': {\n    margin: '0 0 0 auto'\n  },\n  '.ql-editor .ql-bg-black': {\n    backgroundColor: '#000'\n  },\n  '.ql-editor .ql-bg-red': {\n    backgroundColor: '#e60000'\n  },\n  '.ql-editor .ql-bg-orange': {\n    backgroundColor: '#f90'\n  },\n  '.ql-editor .ql-bg-yellow': {\n    backgroundColor: '#ff0'\n  },\n  '.ql-editor .ql-bg-green': {\n    backgroundColor: '#008a00'\n  },\n  '.ql-editor .ql-bg-blue': {\n    backgroundColor: '#06c'\n  },\n  '.ql-editor .ql-bg-purple': {\n    backgroundColor: '#93f'\n  },\n  '.ql-editor .ql-color-white': {\n    color: '#fff'\n  },\n  '.ql-editor .ql-color-red': {\n    color: '#e60000'\n  },\n  '.ql-editor .ql-color-orange': {\n    color: '#f90'\n  },\n  '.ql-editor .ql-color-yellow': {\n    color: '#ff0'\n  },\n  '.ql-editor .ql-color-green': {\n    color: '#008a00'\n  },\n  '.ql-editor .ql-color-blue': {\n    color: '#06c'\n  },\n  '.ql-editor .ql-color-purple': {\n    color: '#93f'\n  },\n  '.ql-editor .ql-font-serif': {\n    fontFamily: 'Georgia, Times New Roman, serif'\n  },\n  '.ql-editor .ql-font-monospace': {\n    fontFamily: 'Monaco, Courier New, monospace'\n  },\n  '.ql-editor .ql-size-small': {\n    fontSize: '0.75em'\n  },\n  '.ql-editor .ql-size-large': {\n    fontSize: '1.5em'\n  },\n  '.ql-editor .ql-size-huge': {\n    fontSize: '2.5em'\n  },\n  '.ql-editor .ql-direction-rtl': {\n    direction: 'rtl',\n    textAlign: 'inherit'\n  },\n  '.ql-editor .ql-align-center': {\n    textAlign: 'center'\n  },\n  '.ql-editor .ql-align-justify': {\n    textAlign: 'justify'\n  },\n  '.ql-editor .ql-align-right': {\n    textAlign: 'right'\n  },\n  '.ql-editor.ql-blank::before': {\n    color: 'rgba(0,0,0,0.6)',\n    content: 'attr(data-placeholder)',\n    fontStyle: 'italic',\n    left: 15,\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: 15\n  },\n  '.ql-snow.ql-toolbar:after, .ql-snow .ql-toolbar:after': {\n    clear: 'both',\n    content: \"''\",\n    display: 'table'\n  },\n  '.ql-snow.ql-toolbar button, .ql-snow .ql-toolbar button': {\n    background: 'none',\n    border: 'none',\n    cursor: 'pointer',\n    display: 'inline-block',\n    float: 'left',\n    height: 24,\n    padding: '3px 5px',\n    width: 28\n  },\n  '.ql-snow.ql-toolbar button svg, .ql-snow .ql-toolbar button svg': {\n    float: 'left',\n    height: '100%'\n  },\n  '.ql-snow.ql-toolbar button:active:hover, .ql-snow .ql-toolbar button:active:hover': {\n    outline: 'none'\n  },\n  '.ql-snow.ql-toolbar input.ql-image[type=file], .ql-snow .ql-toolbar input.ql-image[type=file]': {\n    display: 'none'\n  },\n  '.ql-snow.ql-toolbar button:hover, .ql-snow .ql-toolbar button:hover, .ql-snow.ql-toolbar button:focus, .ql-snow .ql-toolbar button:focus, .ql-snow.ql-toolbar button.ql-active, .ql-snow .ql-toolbar button.ql-active, .ql-snow.ql-toolbar .ql-picker-label:hover, .ql-snow .ql-toolbar .ql-picker-label:hover, .ql-snow.ql-toolbar .ql-picker-label.ql-active, .ql-snow .ql-toolbar .ql-picker-label.ql-active, .ql-snow.ql-toolbar .ql-picker-item:hover, .ql-snow .ql-toolbar .ql-picker-item:hover, .ql-snow.ql-toolbar .ql-picker-item.ql-selected, .ql-snow .ql-toolbar .ql-picker-item.ql-selected': {\n    color: '#06c'\n  },\n  '.ql-snow.ql-toolbar button:hover .ql-fill, .ql-snow .ql-toolbar button:hover .ql-fill, .ql-snow.ql-toolbar button:focus .ql-fill, .ql-snow .ql-toolbar button:focus .ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill': {\n    fill: '#06c'\n  },\n  '.ql-snow.ql-toolbar button:hover .ql-stroke, .ql-snow .ql-toolbar button:hover .ql-stroke, .ql-snow.ql-toolbar button:focus .ql-stroke, .ql-snow .ql-toolbar button:focus .ql-stroke, .ql-snow.ql-toolbar button.ql-active .ql-stroke, .ql-snow .ql-toolbar button.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow.ql-toolbar button:hover .ql-stroke-miter, .ql-snow .ql-toolbar button:hover .ql-stroke-miter, .ql-snow.ql-toolbar button:focus .ql-stroke-miter, .ql-snow .ql-toolbar button:focus .ql-stroke-miter, .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter': {\n    stroke: '#06c'\n  },\n  '@media (pointer: coarse)': {\n    '.ql-snow.ql-toolbar button:hover:not(.ql-active), .ql-snow .ql-toolbar button:hover:not(.ql-active)': {\n      color: '#444'\n    },\n    '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill': {\n      fill: '#444'\n    },\n    '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter': {\n      stroke: '#444'\n    }\n  },\n  '.ql-snow': {\n    boxSizing: 'border-box'\n  },\n  '.ql-snow *': {\n    boxSizing: 'border-box'\n  },\n  '.ql-snow .ql-hidden': {\n    display: 'none'\n  },\n  '.ql-snow .ql-out-bottom, .ql-snow .ql-out-top': {\n    visibility: 'hidden'\n  },\n  '.ql-snow .ql-tooltip': {\n    position: 'absolute',\n    transform: 'translateY(10px)',\n    backgroundColor: '#fff',\n    border: '1px solid #ccc',\n    boxShadow: '0px 0px 5px #ddd',\n    color: '#444',\n    padding: '5px 12px',\n    whiteSpace: 'nowrap',\n    zIndex: 1\n  },\n  '.ql-snow .ql-tooltip a': {\n    cursor: 'pointer',\n    textDecoration: 'none',\n    lineHeight: '26px'\n  },\n  '.ql-snow .ql-tooltip.ql-flip': {\n    transform: 'translateY(-10px)'\n  },\n  '.ql-snow .ql-formats': {\n    display: 'inline-block',\n    verticalAlign: 'middle'\n  },\n  '.ql-snow .ql-formats:after': {\n    clear: 'both',\n    content: \"''\",\n    display: 'table'\n  },\n  '.ql-snow .ql-stroke': {\n    fill: 'none',\n    stroke: '#444',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n    strokeWidth: '2'\n  },\n  '.ql-snow .ql-stroke-miter': {\n    fill: 'none',\n    stroke: '#444',\n    strokeMiterlimit: '10',\n    strokeWidth: '2'\n  },\n  '.ql-snow .ql-fill, .ql-snow .ql-stroke.ql-fill': {\n    fill: '#444'\n  },\n  '.ql-snow .ql-empty': {\n    fill: 'none'\n  },\n  '.ql-snow .ql-even': {\n    fillRule: 'evenodd'\n  },\n  '.ql-snow .ql-thin, .ql-snow .ql-stroke.ql-thin': {\n    strokeWidth: '1'\n  },\n  '.ql-snow .ql-transparent': {\n    opacity: '0.4'\n  },\n  '.ql-snow .ql-direction svg:last-child': {\n    display: 'none'\n  },\n  '.ql-snow .ql-direction.ql-active svg:last-child': {\n    display: 'inline'\n  },\n  '.ql-snow .ql-direction.ql-active svg:first-child': {\n    display: 'none'\n  },\n  '.ql-snow .ql-editor h1': {\n    fontSize: '2em'\n  },\n  '.ql-snow .ql-editor h2': {\n    fontSize: '1.5em'\n  },\n  '.ql-snow .ql-editor h3': {\n    fontSize: '1.17em'\n  },\n  '.ql-snow .ql-editor h4': {\n    fontSize: '1em'\n  },\n  '.ql-snow .ql-editor h5': {\n    fontSize: '0.83em'\n  },\n  '.ql-snow .ql-editor h6': {\n    fontSize: '0.67em'\n  },\n  '.ql-snow .ql-editor a': {\n    textDecoration: 'underline'\n  },\n  '.ql-snow .ql-editor blockquote': {\n    borderLeft: '4px solid #ccc',\n    marginBottom: 5,\n    marginTop: 5,\n    paddingLeft: 16\n  },\n  '.ql-snow .ql-editor code, .ql-snow .ql-editor pre': {\n    backgroundColor: '#f0f0f0',\n    borderRadius: 3\n  },\n  '.ql-snow .ql-editor pre': {\n    whiteSpace: 'pre-wrap',\n    marginBottom: 5,\n    marginTop: 5,\n    padding: '5px 10px'\n  },\n  '.ql-snow .ql-editor code': {\n    fontSize: '85%',\n    padding: '2px 4px'\n  },\n  '.ql-snow .ql-editor pre.ql-syntax': {\n    backgroundColor: '#23241f',\n    color: '#f8f8f2',\n    overflow: 'visible'\n  },\n  '.ql-snow .ql-editor img': {\n    maxWidth: '100%'\n  },\n  '.ql-snow .ql-picker': {\n    color: '#444',\n    display: 'inline-block',\n    float: 'left',\n    fontSize: 14,\n    fontWeight: '500',\n    height: 24,\n    position: 'relative',\n    verticalAlign: 'middle'\n  },\n  '.ql-snow .ql-picker-label': {\n    cursor: 'pointer',\n    display: 'inline-block',\n    height: '100%',\n    paddingLeft: 8,\n    paddingRight: 2,\n    position: 'relative',\n    width: '100%'\n  },\n  '.ql-snow .ql-picker-label::before': {\n    display: 'inline-block',\n    lineHeight: '22px'\n  },\n  '.ql-snow .ql-picker-options': {\n    backgroundColor: '#fff',\n    display: 'none',\n    minWidth: '100%',\n    padding: '4px 8px',\n    position: 'absolute',\n    whiteSpace: 'nowrap'\n  },\n  '.ql-snow .ql-picker-options .ql-picker-item': {\n    cursor: 'pointer',\n    display: 'block',\n    paddingBottom: 5,\n    paddingTop: 5\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n    color: '#ccc',\n    zIndex: '2'\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill': {\n    fill: '#ccc'\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke': {\n    stroke: '#ccc'\n  },\n  '.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n    display: 'block',\n    marginTop: -1,\n    top: '100%',\n    zIndex: '1'\n  },\n  '.ql-snow .ql-color-picker, .ql-snow .ql-icon-picker': {\n    width: 28\n  },\n  '.ql-snow .ql-color-picker .ql-picker-label, .ql-snow .ql-icon-picker .ql-picker-label': {\n    padding: '2px 4px'\n  },\n  '.ql-snow .ql-color-picker .ql-picker-label svg, .ql-snow .ql-icon-picker .ql-picker-label svg': {\n    right: 4\n  },\n  '.ql-snow .ql-icon-picker .ql-picker-options': {\n    padding: '4px 0px'\n  },\n  '.ql-snow .ql-icon-picker .ql-picker-item': {\n    height: 24,\n    width: 24,\n    padding: '2px 4px'\n  },\n  '.ql-snow .ql-color-picker .ql-picker-options': {\n    padding: '3px 5px',\n    width: 152\n  },\n  '.ql-snow .ql-color-picker .ql-picker-item': {\n    border: '1px solid transparent',\n    float: 'left',\n    height: 16,\n    margin: 2,\n    padding: 0,\n    width: 16\n  },\n  '.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg': {\n    position: 'absolute',\n    marginTop: -9,\n    right: '0',\n    top: '50%',\n    width: 18\n  },\n  \".ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before\": {\n    content: 'attr(data-label)'\n  },\n  '.ql-snow .ql-picker.ql-header': {\n    width: 98\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label::before, .ql-snow .ql-picker.ql-header .ql-picker-item::before': {\n    content: \"'Normal'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n    content: \"'Heading 1'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n    content: \"'Heading 2'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n    content: \"'Heading 3'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n    content: \"'Heading 4'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n    content: \"'Heading 5'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n    content: \"'Heading 6'\"\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n    fontSize: '2em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n    fontSize: '1.5em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n    fontSize: '1.17em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n    fontSize: '1em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n    fontSize: '0.83em'\n  },\n  '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n    fontSize: '0.67em'\n  },\n  '.ql-snow .ql-picker.ql-font': {\n    width: 108\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-label::before, .ql-snow .ql-picker.ql-font .ql-picker-item::before': {\n    content: \"'Sans Serif'\"\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n    content: \"'Serif'\"\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n    content: \"'Monospace'\"\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n    fontFamily: 'Georgia, Times New Roman, serif'\n  },\n  '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n    fontFamily: 'Monaco, Courier New, monospace'\n  },\n  '.ql-snow .ql-picker.ql-size': {\n    width: 98\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label::before, .ql-snow .ql-picker.ql-size .ql-picker-item::before': {\n    content: \"'Normal'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n    content: \"'Small'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n    content: \"'Large'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n    content: \"'Huge'\"\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n    fontSize: 10\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n    fontSize: 18\n  },\n  '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n    fontSize: 32\n  },\n  '.ql-snow .ql-color-picker.ql-background .ql-picker-item': {\n    backgroundColor: '#fff'\n  },\n  '.ql-snow .ql-color-picker.ql-color .ql-picker-item': {\n    backgroundColor: '#000'\n  },\n  '.ql-toolbar.ql-snow': {\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n    padding: 8\n  },\n  '.ql-toolbar.ql-snow .ql-formats': {\n    marginRight: 15\n  },\n  '.ql-toolbar.ql-snow .ql-picker-label': {\n    border: '1px solid transparent'\n  },\n  '.ql-toolbar.ql-snow .ql-picker-options': {\n    border: '1px solid transparent',\n    boxShadow: 'rgba(0,0,0,0.2) 0 2px 8px'\n  },\n  '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n    borderColor: '#ccc'\n  },\n  '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n    borderColor: '#ccc'\n  },\n  '.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected, .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover': {\n    borderColor: '#000'\n  },\n  '.ql-toolbar.ql-snow + .ql-container.ql-snow': {\n    borderTop: 0\n  },\n  '.ql-snow .ql-tooltip::before': {\n    content: '\"Visit URL:\"',\n    lineHeight: '26px',\n    marginRight: 8\n  },\n  '.ql-snow .ql-tooltip input[type=text]': {\n    display: 'none',\n    border: '1px solid #ccc',\n    fontSize: 13,\n    height: 26,\n    margin: 0,\n    padding: '3px 5px',\n    width: 170\n  },\n  '.ql-snow .ql-tooltip a.ql-preview': {\n    display: 'inline-block',\n    maxWidth: 200,\n    overflowX: 'hidden',\n    textOverflow: 'ellipsis',\n    verticalAlign: 'top'\n  },\n  '.ql-snow .ql-tooltip a.ql-action::after': {\n    borderRight: '1px solid #ccc',\n    content: \"'Edit'\",\n    marginLeft: 16,\n    paddingRight: 8\n  },\n  '.ql-snow .ql-tooltip a.ql-remove::before': {\n    content: \"'Remove'\",\n    marginLeft: 8\n  },\n  '.ql-snow .ql-tooltip.ql-editing a.ql-preview, .ql-snow .ql-tooltip.ql-editing a.ql-remove': {\n    display: 'none'\n  },\n  '.ql-snow .ql-tooltip.ql-editing input[type=text]': {\n    display: 'inline-block'\n  },\n  '.ql-snow .ql-tooltip.ql-editing a.ql-action::after': {\n    borderRight: 0,\n    content: \"'Save'\",\n    paddingRight: 0\n  },\n  '.ql-snow .ql-tooltip[data-mode=link]::before': {\n    content: '\"Enter link:\"'\n  },\n  '.ql-snow .ql-tooltip[data-mode=formula]::before': {\n    content: '\"Enter formula:\"'\n  },\n  '.ql-snow .ql-tooltip[data-mode=video]::before': {\n    content: '\"Enter video:\"'\n  },\n  '.ql-snow a': {\n    color: '#06c'\n  },\n  '.ql-container.ql-snow': {\n    border: '1px solid #ccc'\n  }\n};","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport debounce from 'lodash/debounce';\nimport React, { useRef, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Quill from 'quill';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { InputHelperText } from 'ra-ui-materialui';\nimport { FormHelperText, FormControl, InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport styles from './styles';\nvar useStyles = makeStyles(styles);\n\nvar RichTextInput = function RichTextInput(_a) {\n  var _b = _a.options,\n      options = _b === void 0 ? {} : _b,\n      // Quill editor options\n  _c = _a.record,\n      // Quill editor options\n  record = _c === void 0 ? {} : _c,\n      _d = _a.toolbar,\n      toolbar = _d === void 0 ? true : _d,\n      _e = _a.fullWidth,\n      fullWidth = _e === void 0 ? true : _e,\n      configureQuill = _a.configureQuill,\n      _f = _a.helperText,\n      helperText = _f === void 0 ? false : _f,\n      label = _a.label,\n      source = _a.source,\n      resource = _a.resource,\n      variant = _a.variant,\n      _g = _a.margin,\n      margin = _g === void 0 ? 'dense' : _g,\n      rest = __rest(_a, [\"options\", \"record\", \"toolbar\", \"fullWidth\", \"configureQuill\", \"helperText\", \"label\", \"source\", \"resource\", \"variant\", \"margin\"]);\n\n  var classes = useStyles();\n  var quillInstance = useRef();\n  var divRef = useRef();\n  var editor = useRef();\n\n  var _h = useInput(__assign({\n    source: source\n  }, rest)),\n      id = _h.id,\n      isRequired = _h.isRequired,\n      _j = _h.input,\n      value = _j.value,\n      onChange = _j.onChange,\n      _k = _h.meta,\n      touched = _k.touched,\n      error = _k.error;\n\n  var lastValueChange = useRef(value);\n  var onTextChange = useCallback(debounce(function () {\n    var value = editor.current.innerHTML === '<p><br></p>' ? '' : editor.current.innerHTML;\n    lastValueChange.current = value;\n    onChange(value);\n  }, 500), []);\n  useEffect(function () {\n    quillInstance.current = new Quill(divRef.current, __assign({\n      modules: {\n        toolbar: toolbar,\n        clipboard: {\n          matchVisual: false\n        }\n      },\n      theme: 'snow'\n    }, options));\n\n    if (configureQuill) {\n      configureQuill(quillInstance.current);\n    }\n\n    quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n    editor.current = divRef.current.querySelector('.ql-editor');\n    quillInstance.current.on('text-change', onTextChange);\n    return function () {\n      quillInstance.current.off('text-change', onTextChange);\n      onTextChange.cancel();\n      quillInstance.current = null;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    if (lastValueChange.current !== value) {\n      var selection = quillInstance.current.getSelection();\n      quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n\n      if (selection && quillInstance.current.hasFocus()) {\n        quillInstance.current.setSelection(selection);\n      }\n    }\n  }, [value]);\n  return React.createElement(FormControl, {\n    error: !!(touched && error),\n    fullWidth: fullWidth,\n    className: \"ra-rich-text-input\",\n    margin: margin\n  }, label !== '' && label !== false && React.createElement(InputLabel, {\n    shrink: true,\n    htmlFor: id,\n    className: classes.label\n  }, React.createElement(FieldTitle, {\n    label: label,\n    source: source,\n    resource: resource,\n    isRequired: isRequired\n  })), React.createElement(\"div\", {\n    \"data-testid\": \"quill\",\n    ref: divRef,\n    className: variant\n  }), helperText || touched && error ? React.createElement(FormHelperText, {\n    error: !!error,\n    className: !!error ? 'ra-rich-text-input-error' : ''\n  }, React.createElement(InputHelperText, {\n    error: error,\n    helperText: helperText,\n    touched: touched\n  })) : null);\n};\n\nRichTextInput.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.object,\n  source: PropTypes.string,\n  toolbar: PropTypes.oneOfType([PropTypes.array, PropTypes.bool, PropTypes.shape({\n    container: PropTypes.array,\n    handlers: PropTypes.object\n  })]),\n  fullWidth: PropTypes.bool,\n  configureQuill: PropTypes.func\n};\nexport default RichTextInput;","import QuillSnowStylesheet from './QuillSnowStylesheet';\nexport default (function (theme) {\n  return {\n    label: {\n      position: 'relative'\n    },\n    '@global': Object.assign({}, QuillSnowStylesheet, {\n      '.ra-rich-text-input': {\n        '& .ql-editor': {\n          fontSize: '1rem',\n          fontFamily: 'Roboto, sans-serif',\n          padding: '6px 12px',\n          backgroundColor: 'rgba(0, 0, 0, 0.04)',\n          '&:hover::before': {\n            backgroundColor: 'rgba(0, 0, 0, 1)',\n            height: 2\n          },\n          '&::before': {\n            left: 0,\n            right: 0,\n            bottom: 0,\n            height: 1,\n            content: '\"\"',\n            position: 'absolute',\n            transition: 'background-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n            backgroundColor: 'rgba(0, 0, 0, 0.42)'\n          },\n          '&::after': {\n            left: 0,\n            right: 0,\n            bottom: 0,\n            height: 2,\n            content: '\"\"',\n            position: 'absolute',\n            transform: 'scaleX(0)',\n            transition: 'transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms',\n            backgroundColor: theme.palette.primary.main\n          },\n          '& p:not(:last-child)': {\n            marginBottom: '1rem'\n          },\n          '& strong': {\n            fontWeight: 700\n          },\n          '& h1': {\n            margin: '1rem 0 0.5rem 0',\n            fontWeight: 500\n          },\n          '& h2': {\n            margin: '1rem 0 0.5rem 0',\n            fontWeight: 500\n          },\n          '& h3': {\n            margin: '1rem 0 0.5rem 0',\n            fontWeight: 500\n          },\n          '& a': {\n            color: '#304ffe'\n          },\n          '& ul': {\n            marginBottom: '1rem'\n          },\n          '& li:not(.ql-direction-rtl)::before': {\n            fontSize: '0.5rem',\n            position: 'relative',\n            top: '-0.2rem',\n            marginRight: '0.5rem'\n          },\n          '&:focus::after': {\n            transform: 'scaleX(1)'\n          }\n        },\n        '& .standard .ql-editor': {\n          backgroundColor: 'white'\n        },\n        '& .outlined .ql-editor': {\n          backgroundColor: 'white'\n        },\n        '& .ql-toolbar.ql-snow': {\n          margin: '0.5rem 0',\n          border: 0,\n          padding: 0,\n          '& .ql-picker-item.ql-active': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-item:hover': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-item.ql-selected': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-label.ql-active': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-label.ql-selected': {\n            color: '#304ffe'\n          },\n          '& .ql-picker-label:hover': {\n            color: '#304ffe'\n          },\n          '& button:hover .ql-fill': {\n            fill: '#304ffe'\n          },\n          '& button.ql-active .ql-fill': {\n            fill: '#304ffe'\n          },\n          '& button:hover .ql-stroke': {\n            stroke: '#304ffe'\n          },\n          '& button.ql-active .ql-stroke': {\n            stroke: '#304ffe'\n          },\n          '& .ql-picker-label:hover .ql-stroke': {\n            stroke: '#304ffe'\n          },\n          '& .ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n            background: '#fff',\n            zIndex: 10\n          },\n          '& .ql-picker-label': {\n            paddingLeft: 0\n          },\n          '& + .ql-container.ql-snow': {\n            border: 0\n          }\n        }\n      }\n    })\n  };\n});","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster = ({ record }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import React from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\n\nconst ProductTitle = ({ record }) => <span>Poster #{record.reference}</span>;\n\nconst styles = {\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductEdit = props => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <Poster />\n                    <TextInput source=\"image\" fullWidth />\n                    <TextInput source=\"thumbnail\" fullWidth />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    sort: 'id',\n                    order: 'DESC',\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedProducts;\n","import React from 'react';\nimport { Datagrid, EditButton, List, TextField } from 'react-admin';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\n\nconst CategoryList = ({ classes, ...props }) => (\n    <List {...props} sort={{ field: 'name', order: 'ASC' }}>\n        <Datagrid>\n            <TextField source=\"name\" />\n            <LinkToRelatedProducts />\n            <EditButton />\n        </Datagrid>\n    </List>\n);\n\nexport default CategoryList;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField = ({ record }) => {\n    const classes = useStyles();\n    return <img src={record.thumbnail} className={classes.root} alt=\"\" />;\n};\n\nexport default ThumbnailField;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ProductRefField = ({ record }) => (\n    <Link to={`products/${record.id}`}>{record.reference}</Link>\n);\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import React from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditButton,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\n\nconst CategoryTitle = ({ record }) => {\n    const translate = useTranslate();\n    return (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    );\n};\n\nconst CategoryEdit = props => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={5}\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import { UPDATE_MANY } from '../../core';\nexport var crudUpdateMany = function crudUpdateMany(resource, ids, data, basePath, refresh) {\n  if (refresh === void 0) {\n    refresh = true;\n  }\n\n  return {\n    type: CRUD_UPDATE_MANY,\n    payload: {\n      ids: ids,\n      data: data\n    },\n    meta: {\n      resource: resource,\n      fetch: UPDATE_MANY,\n      onSuccess: {\n        notification: {\n          body: 'ra.notification.updated',\n          level: 'info',\n          messageArgs: {\n            smart_count: ids.length\n          }\n        },\n        basePath: basePath,\n        refresh: refresh,\n        unselectAll: true\n      },\n      onFailure: {\n        notification: {\n          body: 'ra.notification.http_error',\n          level: 'warning'\n        }\n      }\n    }\n  };\n};\nexport var CRUD_UPDATE_MANY = 'RA/CRUD_UPDATE_MANY';\nexport var CRUD_UPDATE_MANY_LOADING = 'RA/CRUD_UPDATE_MANY_LOADING';\nexport var CRUD_UPDATE_MANY_FAILURE = 'RA/CRUD_UPDATE_MANY_FAILURE';\nexport var CRUD_UPDATE_MANY_SUCCESS = 'RA/CRUD_UPDATE_MANY_SUCCESS';","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkAcceptButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkRejectButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList = ({ basePath, data, ids, loading, total }) => {\n    const classes = useStyles();\n    return (\n        (loading || total > 0) && (\n            <List className={classes.root}>\n                {ids.map(id => (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={data[id]}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    linkType={false}\n                                >\n                                    <AvatarField size={40} />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <FunctionField\n                                                render={record =>\n                                                    `${record.first_name} ${\n                                                        record.last_name\n                                                    }`\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={data[id].comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                ))}\n            </List>\n        )\n    );\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\n\nconst rowStyle = (record, index, defaultStyle = {}) => {\n    if (record.status === 'accepted')\n        return {\n            ...defaultStyle,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...defaultStyle,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...defaultStyle,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return defaultStyle;\n};\n\nexport default rowStyle;\n","import React from 'react';\nimport { Datagrid, DateField, TextField } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop = props => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle}\n            classes={{ headerRow: classes.headerRow }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={choice =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default AcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default RejectButton;\n","import React, { Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles({\n    root: {\n        backgroundColor: 'white',\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n});\n\nconst ReviewEditToolbar = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField formClassName={classes.inlineField} />\n\n                <ProductReferenceField formClassName={classes.inlineField} />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { Fragment, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, List } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = props => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React, { Fragment } from 'react';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Collapse from '@material-ui/core/Collapse';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        paddingLeft: 25,\n        transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n    },\n    sidebarIsClosed: {\n        paddingLeft: 0,\n        transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n    },\n}));\n\nconst SubMenu = ({\n    handleToggle,\n    sidebarIsOpen,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n                <Divider />\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { useMediaQuery } from '@material-ui/core';\nimport { useTranslate, DashboardMenuItem, MenuItemLink } from 'react-admin';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\n\nconst Menu = ({ onMenuClick, dense, logout }) => {\n    const [state, setState] = useState({\n        menuCatalog: false,\n        menuSales: false,\n        menuCustomers: false,\n    });\n    const translate = useTranslate();\n    const isXsmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const open = useSelector(state => state.admin.ui.sidebarOpen);\n    useSelector(state => state.theme); // force rerender on theme change\n\n    const handleToggle = menu => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div>\n            {' '}\n            <DashboardMenuItem onClick={onMenuClick} sidebarIsOpen={open} />\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                sidebarIsOpen={open}\n                name=\"pos.menu.sales\"\n                icon={<orders.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/commands`}\n                    primaryText={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<orders.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/invoices`}\n                    primaryText={translate(`resources.invoices.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<invoices.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                sidebarIsOpen={open}\n                name=\"pos.menu.catalog\"\n                icon={<products.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/products`}\n                    primaryText={translate(`resources.products.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<products.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/categories`}\n                    primaryText={translate(`resources.categories.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<categories.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCustomer')}\n                isOpen={state.menuCustomer}\n                sidebarIsOpen={open}\n                name=\"pos.menu.customers\"\n                icon={<visitors.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/customers`}\n                    primaryText={translate(`resources.customers.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<visitors.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/segments`}\n                    primaryText={translate(`resources.segments.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<LabelIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to={`/reviews`}\n                primaryText={translate(`resources.reviews.name`, {\n                    smart_count: 2,\n                })}\n                leftIcon={<reviews.icon />}\n                onClick={onMenuClick}\n                sidebarIsOpen={open}\n                dense={dense}\n            />\n            {isXsmall && (\n                <MenuItemLink\n                    to=\"/configuration\"\n                    primaryText={translate('pos.configuration')}\n                    leftIcon={<SettingsIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            )}\n            {isXsmall && logout}\n        </div>\n    );\n};\n\nMenu.propTypes = {\n    onMenuClick: PropTypes.func,\n    logout: PropTypes.object,\n};\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        type: 'dark', // Switching the dark mode on is a single property value change.\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n    },\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, Sidebar } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\n\nconst CustomSidebar = props => <Sidebar {...props} size={200} />;\n\nexport default props => {\n    const theme = useSelector(state =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            sidebar={CustomSidebar}\n            menu={Menu}\n            theme={theme}\n        />\n    );\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\n\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = {},\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\nconst Login = ({ location }) => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n\n    const handleSubmit = auth => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/')\n            .then(() => setLoading(false))\n            .catch(error => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            });\n    };\n\n    const validate = values => {\n        const errors = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    className={classes.button}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = props => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles({\n    media: {\n        height: '18em',\n    },\n});\n\nconst mediaUrl = `https://marmelab.com/posters/beard-${parseInt(\n    Math.random() * 10,\n    10\n) + 1}.jpeg`;\n\nconst Welcome = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card>\n            <CardMedia image={mediaUrl} className={classes.media} />\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {translate('pos.dashboard.welcome.title')}\n                </Typography>\n                <Typography component=\"p\">\n                    {translate('pos.dashboard.welcome.subtitle')}\n                </Typography>\n            </CardContent>\n            <CardActions style={{ justifyContent: 'flex-end' }}>\n                <Button href=\"https://marmelab.com/react-admin\">\n                    <HomeIcon style={{ paddingRight: '0.5em' }} />\n                    {translate('pos.dashboard.welcome.aor_button')}\n                </Button>\n                <Button href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\">\n                    <CodeIcon style={{ paddingRight: '0.5em' }} />\n                    {translate('pos.dashboard.welcome.demo_button')}\n                </Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    card: {\n        float: 'left',\n        margin: '-20px 20px 0 15px',\n        zIndex: 100,\n        borderRadius: 3,\n    },\n    icon: {\n        float: 'right',\n        width: 54,\n        height: 54,\n        padding: 14,\n        color: '#fff',\n    },\n});\n\nconst CardIcon = ({ Icon, bgColor }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.card} style={{ backgroundColor: bgColor }}>\n            <Icon className={classes.icon} />\n        </Card>\n    );\n};\n\nexport default CardIcon;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginRight: '1em',\n        marginTop: 20,\n    },\n    card: {\n        overflow: 'inherit',\n        textAlign: 'right',\n        padding: 16,\n        minHeight: 52,\n    },\n});\n\nconst MonthlyRevenue = ({ value }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={DollarIcon} bgColor=\"#31708f\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.monthly_revenue')}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {value}\n                </Typography>\n            </Card>\n        </div>\n    );\n};\n\nexport default MonthlyRevenue;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginLeft: '1em',\n        marginTop: 20,\n    },\n    card: {\n        overflow: 'inherit',\n        textAlign: 'right',\n        padding: 16,\n        minHeight: 52,\n    },\n});\n\nconst NbNewOrders = ({ value }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={ShoppingCartIcon} bgColor=\"#ff9800\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.new_orders')}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {value}\n                </Typography>\n            </Card>\n        </div>\n    );\n};\n\nexport default NbNewOrders;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nimport StarRatingField from '../reviews/StarRatingField';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        flex: '1',\n        marginRight: '1em',\n        marginTop: 20,\n    },\n    titleLink: { textDecoration: 'none', color: 'inherit' },\n    card: {\n        padding: '16px 0',\n        overflow: 'inherit',\n        textAlign: 'right',\n    },\n    title: {\n        padding: '0 16px',\n    },\n    value: {\n        padding: '0 16px',\n        minHeight: 48,\n    },\n    avatar: {\n        background: theme.palette.background.avatar,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst location = {\n    pathname: 'reviews',\n    query: { filter: JSON.stringify({ status: 'pending' }) },\n};\n\nconst PendingReviews = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={CommentIcon} bgColor=\"#f44336\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.pending_reviews')}\n                </Typography>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    className={classes.value}\n                >\n                    <Link to={location} className={classes.titleLink}>\n                        {nb}\n                    </Link>\n                </Typography>\n                <Divider />\n                <List>\n                    {reviews.map(record => (\n                        <ListItem\n                            key={record.id}\n                            button\n                            component={Link}\n                            to={`/reviews/${record.id}`}\n                            alignItems=\"flex-start\"\n                        >\n                            <ListItemAvatar>\n                                {customers[record.customer_id] ? (\n                                    <Avatar\n                                        src={`${\n                                            customers[record.customer_id].avatar\n                                        }?size=32x32`}\n                                        className={classes.avatar}\n                                    />\n                                ) : (\n                                    <Avatar />\n                                )}\n                            </ListItemAvatar>\n\n                            <ListItemText\n                                primary={<StarRatingField record={record} />}\n                                secondary={record.comment}\n                                className={classes.listItemText}\n                                style={{ paddingRight: 0 }}\n                            />\n                        </ListItem>\n                    ))}\n                </List>\n            </Card>\n        </div>\n    );\n};\n\nexport default PendingReviews;\n","import React, { useMemo } from 'react';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginLeft: '1em',\n        marginTop: 20,\n    },\n    card: {\n        padding: '16px 0',\n        overflow: 'inherit',\n        textAlign: 'right',\n    },\n    title: {\n        padding: '0 16px',\n    },\n    value: {\n        padding: '0 16px',\n        minHeight: 48,\n    },\n});\n\nconst NewCustomers = () => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors.reduce(nb => ++nb, 0);\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={CustomerIcon} bgColor=\"#4caf50\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.new_customers')}\n                </Typography>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    className={classes.value}\n                >\n                    {nb}\n                </Typography>\n                <Divider />\n                <List>\n                    {visitors.map(record => (\n                        <ListItem\n                            button\n                            to={`/customers/${record.id}`}\n                            component={Link}\n                            key={record.id}\n                        >\n                            <ListItemAvatar>\n                                <Avatar src={`${record.avatar}?size=32x32`} />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={`${record.first_name} ${\n                                    record.last_name\n                                }`}\n                            />\n                        </ListItem>\n                    ))}\n                </List>\n            </Card>\n        </div>\n    );\n};\n\nexport default NewCustomers;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '1em' },\n    rightCol: { flex: 1, marginLeft: '1em' },\n    singleCol: { marginTop: '2em', marginBottom: '2em' },\n};\n\nconst Dashboard = () => {\n    const [state, setState] = useState({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList('commands', {\n            filter: { date_gte: aMonthAgo.toISOString() },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 50 },\n        });\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: aggregations.pendingOrders.map(order => order.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce((prev, customer) => {\n                prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                return prev;\n            }, {}),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList('reviews', {\n            filter: { status: 'pending' },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        });\n        const nbPendingReviews = reviews.reduce(nb => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: pendingReviews.map(review => review.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce((prev, customer) => {\n                prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                return prev;\n            }, {}),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn}>\n                <div style={{ marginBottom: '2em' }}>\n                    <Welcome />\n                </div>\n                <div style={styles.flex}>\n                    <MonthlyRevenue value={revenue} />\n                    <NbNewOrders value={nbNewOrders} />\n                </div>\n                <div style={styles.singleCol}>\n                    <PendingOrders\n                        orders={pendingOrders}\n                        customers={pendingOrdersCustomers}\n                    />\n                </div>\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <div style={styles.flex}>\n            <div style={styles.leftCol}>\n                <div style={styles.flex}>\n                    <MonthlyRevenue value={revenue} />\n                    <NbNewOrders value={nbNewOrders} />\n                </div>\n                <div style={styles.singleCol}>\n                    <Welcome />\n                </div>\n                <div style={styles.singleCol}>\n                    <PendingOrders\n                        orders={pendingOrders}\n                        customers={pendingOrdersCustomers}\n                    />\n                </div>\n            </div>\n            <div style={styles.rightCol}>\n                <div style={styles.flex}>\n                    <PendingReviews\n                        nb={nbPendingReviews}\n                        reviews={pendingReviews}\n                        customers={pendingReviewsCustomers}\n                    />\n                    <NewCustomers />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\nimport { useUpdateLoading } from '../loading';\nimport { useNotify } from '../sideEffect';\n/**\n * Set the current locale using the TranslationContext\n *\n * This hook rerenders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n */\n\nvar useSetLocale = function useSetLocale() {\n  var _a = useContext(TranslationContext),\n      setLocale = _a.setLocale,\n      i18nProvider = _a.i18nProvider;\n\n  var _b = useUpdateLoading(),\n      startLoading = _b.startLoading,\n      stopLoading = _b.stopLoading;\n\n  var notify = useNotify();\n  return useCallback(function (newLocale) {\n    return new Promise(function (resolve) {\n      startLoading(); // so we systematically return a Promise for the messages\n      // i18nProvider may return a Promise for language changes,\n\n      resolve(i18nProvider.changeLocale(newLocale));\n    }).then(function () {\n      stopLoading();\n      setLocale(newLocale);\n    }).catch(function (error) {\n      stopLoading();\n      notify('ra.notification.i18n_error', 'warning');\n      console.error(error);\n    });\n  }, [i18nProvider, notify, setLocale, startLoading, stopLoading]);\n};\n\nexport default useSetLocale;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchStart, fetchEnd } from '../actions/fetchActions';\n/**\n * Update the loading count, which starts or stops the loading indicator.\n *\n * To be used to show the loading indicator when you don't use the dataProvider.\n *\n * @return {Object} startLoading and stopLoading callbacks\n *\n * @example\n * import { useUpdateLoading } from 'react-admin'\n *\n * const MyComponent = () => {\n *      const { startLoading, stopLoading } = useUpdateLoading();\n *      useEffect(() => {\n *          startLoading();\n *          fetch('http://my.domain.api/foo')\n *              .finally(() => stopLoading());\n *      }, []);\n *      return <span>Foo</span>;\n * }\n */\n\nexport default (function () {\n  var dispatch = useDispatch();\n  var startLoading = useCallback(function () {\n    dispatch(fetchStart());\n  }, [dispatch]);\n  var stopLoading = useCallback(function () {\n    dispatch(fetchEnd());\n  }, [dispatch]);\n  return {\n    startLoading: startLoading,\n    stopLoading: stopLoading\n  };\n});","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector(state => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import englishMessages from 'ra-language-english';\n\nexport default {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            new_customers: 'New Customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to react-admin demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                aor_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                groups: 'Segments',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n            },\n            tabs: {\n                identity: 'Identity',\n                address: 'Address',\n                orders: 'Orders',\n                reviews: 'Reviews',\n                stats: 'Stats',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n","export default type => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(provider => provider.default);\n    }\n};\n","export default type => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import React, { useState, useEffect } from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport './App.css';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\n\nimport dataProviderFactory from './dataProvider';\nimport fakeServerFactory from './fakeServer';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    const [dataProvider, setDataProvider] = useState(null);\n\n    useEffect(() => {\n        let restoreFetch;\n\n        const fetchDataProvider = async () => {\n            restoreFetch = await fakeServerFactory(\n                process.env.REACT_APP_DATA_PROVIDER\n            );\n\n            setDataProvider(\n                await dataProviderFactory(process.env.REACT_APP_DATA_PROVIDER)\n            );\n        };\n\n        fetchDataProvider();\n\n        return restoreFetch;\n    }, []);\n\n    if (!dataProvider) {\n        return (\n            <div className=\"loader-container\">\n                <div className=\"loader\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.deleteMany() method, the result\n * of the call (the list of deleted record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n */\n\nvar useDeleteMany = function useDeleteMany(resource, ids, options) {\n  return useMutation({\n    type: 'deleteMany',\n    resource: resource,\n    payload: {\n      ids: ids\n    }\n  }, options);\n};\n\nexport default useDeleteMany;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param data The data to initialize the new record with, e.g. { title: 'hello, world\" }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [create, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate('likes', like);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={create}>Like</div>;\n * };\n */\n\nvar useCreate = function useCreate(resource, data, options) {\n  if (data === void 0) {\n    data = {};\n  }\n\n  return useMutation({\n    type: 'create',\n    resource: resource,\n    payload: {\n      data: data\n    }\n  }, options);\n};\n\nexport default useCreate;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</div>;\n * };\n */\n\nvar useDelete = function useDelete(resource, id, previousData, options) {\n  if (previousData === void 0) {\n    previousData = {};\n  }\n\n  return useMutation({\n    type: 'delete',\n    resource: resource,\n    payload: {\n      id: id,\n      previousData: previousData\n    }\n  }, options);\n};\n\nexport default useDelete;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash/debounce';\nimport union from 'lodash/union';\nimport isEqual from 'lodash/isEqual';\nimport { CRUD_GET_MANY } from '../actions/dataActions/crudGetMany';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport { useEffect } from 'react';\nvar queriesToCall = {};\nvar dataProvider;\nvar DataProviderOptions = {\n  action: CRUD_GET_MANY\n};\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetMany('tags', [1, 2, 3]);\n * useGetMany('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider(GET_MANY, 'tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456, 789]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, loading, error } = useGetMany('tags', record.tagIds);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\n\nvar useGetMany = function useGetMany(resource, ids, options) {\n  if (options === void 0) {\n    options = {};\n  } // we can't use useQueryWithStore here because we're aggregating queries first\n  // therefore part of the useQueryWithStore logic will have to be repeated below\n\n\n  var selectMany = useMemo(makeGetManySelector, []);\n  var data = useSelector(function (state) {\n    return selectMany(state, resource, ids);\n  });\n\n  var _a = useSafeSetState({\n    data: data,\n    error: null,\n    loading: ids.length !== 0,\n    loaded: ids.length === 0 || data.length !== 0 && !data.includes(undefined)\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  if (!isEqual(state.data, data)) {\n    setState(__assign({}, state, {\n      data: data,\n      loaded: true\n    }));\n  }\n\n  dataProvider = useDataProvider(); // not the best way to pass the dataProvider to a function outside the hook, but I couldn't find a better one\n\n  useEffect(function () {\n    if (!queriesToCall[resource]) {\n      queriesToCall[resource] = [];\n    }\n    /**\n     * queriesToCall stores the queries to call under the following shape:\n     *\n     * {\n     *   'posts': [\n     *     { ids: [1, 2], setState }\n     *     { ids: [2, 3], setState, onSuccess }\n     *     { ids: [4, 5], setState }\n     *   ],\n     *   'comments': [\n     *     { ids: [345], setState, onFailure }\n     *   ]\n     * }\n     */\n\n\n    queriesToCall[resource] = queriesToCall[resource].concat({\n      ids: ids,\n      setState: setState,\n      onSuccess: options && options.onSuccess,\n      onFailure: options && options.onFailure\n    });\n    callQueries(); // debounced by lodash\n  }, [JSON.stringify({\n    resource: resource,\n    ids: ids,\n    options: options\n  }), dataProvider]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return state;\n};\n/**\n * Memoized selector for getting an array of resources based on an array of ids\n *\n * @see https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n */\n\n\nvar makeGetManySelector = function makeGetManySelector() {\n  return createSelector(function (state) {\n    return state.admin.resources;\n  }, function (_, resource) {\n    return resource;\n  }, function (_, __, ids) {\n    return ids;\n  }, function (resources, resource, ids) {\n    return resources[resource] ? ids.map(function (id) {\n      return resources[resource].data[id];\n    }) : ids.map(function (id) {\n      return undefined;\n    });\n  });\n};\n/**\n * Call the dataProvider once per resource\n */\n\n\nvar callQueries = debounce(function () {\n  var resources = Object.keys(queriesToCall);\n  resources.forEach(function (resource) {\n    var queries = queriesToCall[resource].slice(); // cloning to avoid side effects\n\n    /**\n     * Extract ids from queries, aggregate and deduplicate them\n     *\n     * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n     */\n\n    var accumulatedIds = queries.reduce(function (acc, _a) {\n      var ids = _a.ids;\n      return union(acc, ids);\n    }, []) // concat + unique\n    .filter(function (v) {\n      return v != null && v !== '';\n    }); // remove null values\n\n    if (accumulatedIds.length === 0) {\n      // no need to call the data provider if all the ids are null\n      queries.forEach(function (_a) {\n        var ids = _a.ids,\n            setState = _a.setState,\n            onSuccess = _a.onSuccess;\n        setState({\n          data: emptyArray,\n          loading: false,\n          loaded: true\n        });\n\n        if (onSuccess) {\n          onSuccess({\n            data: emptyArray\n          });\n        }\n      });\n      return;\n    }\n\n    dataProvider.getMany(resource, {\n      ids: accumulatedIds\n    }, DataProviderOptions).then(function (response) {\n      // Forces batching, see https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\n      return ReactDOM.unstable_batchedUpdates(function () {\n        return queries.forEach(function (_a) {\n          var ids = _a.ids,\n              setState = _a.setState,\n              onSuccess = _a.onSuccess;\n          setState(function (prevState) {\n            return __assign({}, prevState, {\n              error: null,\n              loading: false,\n              loaded: true\n            });\n          });\n\n          if (onSuccess) {\n            var subData = ids.map(function (id) {\n              return response.data.find(function (datum) {\n                return datum.id == id;\n              });\n            } // eslint-disable-line eqeqeq\n            );\n            onSuccess({\n              data: subData\n            });\n          }\n        });\n      });\n    }).catch(function (error) {\n      return ReactDOM.unstable_batchedUpdates(function () {\n        return queries.forEach(function (_a) {\n          var setState = _a.setState,\n              onFailure = _a.onFailure;\n          setState({\n            error: error,\n            loading: false,\n            loaded: false\n          });\n          onFailure && onFailure(error);\n        });\n      });\n    });\n    delete queriesToCall[resource];\n  });\n});\nvar emptyArray = [];\nexport default useGetMany;","import useQueryWithStore from './useQueryWithStore';\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useGetOne('users', record.id);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\n\nvar useGetOne = function useGetOne(resource, id, options) {\n  return useQueryWithStore({\n    type: 'getOne',\n    resource: resource,\n    payload: {\n      id: id\n    }\n  }, options, function (state) {\n    return state.admin.resources[resource] ? state.admin.resources[resource].data[id] : null;\n  });\n};\n\nexport default useGetOne;","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param data The updates to merge into the record, e.g. { views: 10 }\n * @param previousData The record before the update is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate('likes', record.id, diff, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={update}>Like</div>;\n * };\n */\n\nvar useUpdate = function useUpdate(resource, id, data, previousData, options) {\n  return useMutation({\n    type: 'update',\n    resource: resource,\n    payload: {\n      id: id,\n      data: data,\n      previousData: previousData\n    }\n  }, options);\n};\n\nexport default useUpdate;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { CRUD_GET_MANY_REFERENCE } from '../actions/dataActions/crudGetManyReference';\nimport useQueryWithStore from './useQueryWithStore';\nimport { getReferences, getIds, getTotal, nameRelatedTo } from '../reducer/admin/references/oneToMany';\nimport { useMemo } from 'react';\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The referenced resource name, e.g. 'comments'\n * @param {string} target The target resource key, e.g. 'post_id'\n * @param {Object} id The identifier of the record to look for in 'target'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { body: 'hello, world' }\n * @param {string} referencingResource The resource name, e.g. 'posts'. Used to generate a cache key\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ post_id }) => {\n *     const { data, ids, loading, error } = useGetManyReference(\n *         'comments',\n *         'post_id',\n *         post_id,\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *         {},\n *         'posts',\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].body}</li>\n *     )}</ul>;\n * };\n */\n\nvar useGetManyReference = function useGetManyReference(resource, target, id, pagination, sort, filter, referencingResource, options) {\n  var relatedTo = useMemo(function () {\n    return nameRelatedTo(resource, id, referencingResource, target, filter);\n  }, [filter, resource, id, referencingResource, target]);\n\n  var _a = useQueryWithStore({\n    type: 'getManyReference',\n    resource: resource,\n    payload: {\n      target: target,\n      id: id,\n      pagination: pagination,\n      sort: sort,\n      filter: filter\n    }\n  }, __assign({}, options, {\n    relatedTo: relatedTo,\n    action: CRUD_GET_MANY_REFERENCE\n  }), selectIds(relatedTo), selectTotal(relatedTo)),\n      ids = _a.data,\n      total = _a.total,\n      error = _a.error,\n      loading = _a.loading,\n      loaded = _a.loaded;\n\n  var data = useSelector(selectData(resource, relatedTo), shallowEqual);\n  return {\n    data: data,\n    ids: ids,\n    total: total,\n    error: error,\n    loading: loading,\n    loaded: loaded\n  };\n};\n\nexport default useGetManyReference;\n\nvar selectData = function selectData(reference, relatedTo) {\n  return function (state) {\n    return getReferences(state, reference, relatedTo);\n  };\n};\n\nvar selectIds = function selectIds(relatedTo) {\n  return function (state) {\n    return getIds(state, relatedTo);\n  };\n};\n\nvar selectTotal = function selectTotal(relatedTo) {\n  return function (state) {\n    return getTotal(state, relatedTo);\n  };\n};","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result\n * of the call (the list of updated record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param data The updates to merge into all records, e.g. { views: 10 }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { loading, error }] = useUpdateMany('posts', selectedIds, { views: 0 });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={updateMany}>Reset views</button>;\n * };\n */\n\nvar useUpdateMany = function useUpdateMany(resource, ids, data, options) {\n  return useMutation({\n    type: 'updateMany',\n    resource: resource,\n    payload: {\n      ids: ids,\n      data: data\n    }\n  }, options);\n};\n\nexport default useUpdateMany;","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY } from '../core';\n\nvar defaultDataProvider = function defaultDataProvider() {\n  return Promise.resolve();\n};\n\ndefaultDataProvider.create = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.delete = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.deleteMany = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getList = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getMany = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getManyReference = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getOne = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.update = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.updateMany = function () {\n  return Promise.resolve(null);\n};\n\nvar fetchMap = {\n  create: CREATE,\n  delete: DELETE,\n  deleteMany: DELETE_MANY,\n  getList: GET_LIST,\n  getMany: GET_MANY,\n  getManyReference: GET_MANY_REFERENCE,\n  getOne: GET_ONE,\n  update: UPDATE,\n  updateMany: UPDATE_MANY\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\n\nvar convertLegacyDataProvider = function convertLegacyDataProvider(legacyDataProvider) {\n  var proxy = new Proxy(defaultDataProvider, {\n    get: function get(_, name) {\n      return function (resource, params) {\n        if (Object.keys(fetchMap).includes(name.toString())) {\n          var fetchType = fetchMap[name.toString()];\n          return legacyDataProvider(fetchType, resource, params);\n        }\n\n        return legacyDataProvider(name.toString(), resource, params);\n      };\n    },\n    apply: function apply(_, __, args) {\n      return legacyDataProvider.apply(legacyDataProvider, args);\n    }\n  });\n  return proxy;\n};\n\nexport default convertLegacyDataProvider;","export var UNDOABLE = 'RA/UNDOABLE';\nexport var startUndoable = function startUndoable(action) {\n  return {\n    type: UNDOABLE,\n    payload: {\n      action: action\n    }\n  };\n};\nexport var UNDO = 'RA/UNDO';\nexport var undo = function undo() {\n  return {\n    type: UNDO\n  };\n};\nexport var COMPLETE = 'RA/COMPLETE';\nexport var complete = function complete() {\n  return {\n    type: COMPLETE\n  };\n};\nexport var START_OPTIMISTIC_MODE = 'RA/START_OPTIMISTIC_MODE';\nexport var startOptimisticMode = function startOptimisticMode() {\n  return {\n    type: START_OPTIMISTIC_MODE\n  };\n};\nexport var STOP_OPTIMISTIC_MODE = 'RA/STOP_OPTIMISTIC_MODE';\nexport var stopOptimisticMode = function stopOptimisticMode() {\n  return {\n    type: STOP_OPTIMISTIC_MODE\n  };\n};","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setListSelectedIds } from '../actions';\nimport { warning } from '../util';\n/**\n * Hook for Unselect All Side Effect\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\n\nvar useUnselectAll = function useUnselectAll(resource1) {\n  var dispatch = useDispatch();\n  return useCallback(function (resource2) {\n    warning(!resource2 && !resource1, \"You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))\");\n    dispatch(setListSelectedIds(resource2 || resource1, []));\n  }, [dispatch, resource1]);\n};\n\nexport default useUnselectAll;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Refresh Side Effect\n *\n * @example\n *\n * const refresh = useRefresh();\n * refresh();\n */\n\nvar useRefresh = function useRefresh() {\n  var dispatch = useDispatch();\n  return useCallback(function (doRefresh) {\n    if (doRefresh === void 0) {\n      doRefresh = true;\n    }\n\n    return doRefresh && dispatch(refreshView());\n  }, [dispatch]);\n};\n\nexport default useRefresh;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', '/posts');\n * // redirect to edit view\n * redirect('edit', '/posts', 123);\n * // do not redirect (resets the record form)\n * redirect(false);\n * // redirect to the result of a function\n * redirect((redirectTo, basePath, is, data) => ...)\n */\n\nvar useRedirect = function useRedirect() {\n  var dispatch = useDispatch();\n  var history = useHistory();\n  return useCallback(function (redirectTo, basePath, id, data) {\n    if (basePath === void 0) {\n      basePath = '';\n    }\n\n    if (!redirectTo) {\n      dispatch(refreshView());\n      return;\n    }\n\n    history.push(resolveRedirectTo(redirectTo, basePath, id, data));\n  }, [dispatch, history]);\n};\n\nexport default useRedirect;","import { useNotify, useRedirect, useRefresh, useUnselectAll } from '../sideEffect';\nimport { useMemo } from 'react';\n\nvar useDeclarativeSideEffects = function useDeclarativeSideEffects() {\n  var notify = useNotify();\n  var redirect = useRedirect();\n  var refresh = useRefresh();\n  var unselectAll = useUnselectAll();\n  return useMemo(function () {\n    return function (resource, _a) {\n      var _b = _a === void 0 ? {\n        onSuccess: undefined,\n        onFailure: undefined\n      } : _a,\n          onSuccess = _b.onSuccess,\n          onFailure = _b.onFailure;\n\n      var convertToFunctionSideEffect = function convertToFunctionSideEffect(resource, sideEffects) {\n        if (!sideEffects || typeof sideEffects === 'function') {\n          return sideEffects;\n        }\n\n        if (Object.keys(sideEffects).length === 0) {\n          return undefined;\n        }\n\n        var notification = sideEffects.notification,\n            redirectTo = sideEffects.redirectTo,\n            needRefresh = sideEffects.refresh,\n            needUnselectAll = sideEffects.unselectAll;\n        return function () {\n          if (notification) {\n            notify(notification.body, notification.level, notification.messageArgs);\n          }\n\n          if (redirectTo) {\n            redirect(redirectTo);\n          }\n\n          if (needRefresh) {\n            refresh();\n          }\n\n          if (needUnselectAll) {\n            unselectAll(resource);\n          }\n        };\n      };\n\n      return {\n        onSuccess: convertToFunctionSideEffect(resource, onSuccess),\n        onFailure: convertToFunctionSideEffect(resource, onFailure)\n      };\n    };\n  }, [notify, redirect, refresh, unselectAll]);\n};\n\nexport default useDeclarativeSideEffects;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport useDataProvider from './useDataProvider';\nimport { useMemo } from 'react';\nimport useDeclarativeSideEffects from './useDeclarativeSideEffects';\n/**\n * This version of the useDataProvider hook ensure Query and Mutation components are still usable\n * with side effects declared as objects.\n *\n * @deprecated This is for backward compatibility only and will be removed in next major version.\n */\n\nvar useDataProviderWithDeclarativeSideEffects = function useDataProviderWithDeclarativeSideEffects() {\n  var dataProvider = useDataProvider();\n  var getSideEffects = useDeclarativeSideEffects();\n  var dataProviderProxy = useMemo(function () {\n    return new Proxy(dataProvider, {\n      get: function get(target, name) {\n        return function (resource, payload, options) {\n          var _a = getSideEffects(resource, options),\n              onSuccess = _a.onSuccess,\n              onFailure = _a.onFailure;\n\n          return target[name.toString()](resource, payload, __assign({}, options, {\n            onSuccess: onSuccess,\n            onFailure: onFailure\n          }));\n        };\n      }\n    });\n  }, [dataProvider, getSideEffects]);\n  return dataProviderProxy;\n};\n\nexport default useDataProviderWithDeclarativeSideEffects;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useCallback } from 'react';\nimport merge from 'lodash/merge';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport useDataProviderWithDeclarativeSideEffects from './useDataProviderWithDeclarativeSideEffects';\n/**\n * Get a callback to fetch the data provider through Redux, usually for mutations.\n *\n * The request starts when the callback is called.\n *\n * useMutation() parameters can be passed:\n *\n * - at definition time\n *\n *       const [mutate] = useMutation(query, options); mutate();\n *\n * - at call time\n *\n *       const [mutate] = useMutation(); mutate(query, options);\n *\n * - both, in which case the definition and call time parameters are merged\n *\n *       const [mutate] = useMutation(query1, options1); mutate(query2, options2));\n *\n * @param {Object} query\n * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * @param {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects (e.g. { onSuccess: { refresh: true } })\n *\n * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].\n *\n * The return value updates according to the request state:\n *\n * - mount:         [mutate, { loading: false, loaded: false }]\n * - mutate called: [mutate, { loading: true, loaded: false }]\n * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]\n * - error:         [mutate, { error: [error from response], loading: false, loaded: true }]\n *\n * The mutate function accepts the following arguments\n * - {Object} query\n * - {string} query.type The method called on the data provider, e.g. 'update'\n * - {string} query.resource A resource name, e.g. 'posts', 'comments'\n * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }\n * - {Object} options\n * - {string} options.action Redux action type\n * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * - {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects (e.g. { onSuccess: { refresh: true } })\n *\n * @example\n *\n * // pass parameters at definition time\n * // use when all parameters are determined at definition time\n * // the mutation callback can be used as an even handler\n * // because Event parameters are ignored\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [approve, { loading }] = useMutation({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: { id: record.id, data: { isApproved: true } }\n *     });\n *     return <Button label=\"Approve\" onClick={approve} disabled={loading} />;\n * };\n *\n * @example\n *\n * // pass parameters at call time\n * // use when some parameters are only known at call time\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const approve = event => mutate({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: {\n *             id: event.target.dataset.id,\n *             data: { isApproved: true, updatedAt: new Date() }\n *         },\n *     });\n *     return <Button\n *         label=\"Approve\"\n *         onClick={approve}\n *         disabled={loading}\n *     />;\n * };\n *\n * @example\n *\n * // use the second argument to pass options\n * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';\n *\n * const ResetStockButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const notify = useNotify();\n *     const handleClick = () => mutate(\n *         {\n *              type: 'update',\n *              resource: 'items',\n *              payload: { id: record.id, data: { stock: 0 } }\n *         },\n *         {\n *              undoable: true,\n *              action: CRUD_UPDATE,\n *              onSuccess: response => notify('Success !'),\n *              onFailure: error => notify('Failure !')\n *         }\n *     );\n *     return <Button label=\"Reset stock\" onClick={handleClick} disabled={loading} />;\n * };\n */\n\nvar useMutation = function useMutation(query, options) {\n  var _a = useSafeSetState({\n    data: null,\n    error: null,\n    total: null,\n    loading: false,\n    loaded: false\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var dataProvider = useDataProvider();\n  var dataProviderWithDeclarativeSideEffects = useDataProviderWithDeclarativeSideEffects();\n  /* eslint-disable react-hooks/exhaustive-deps */\n\n  var mutate = useCallback(function (callTimeQuery, callTimeOptions) {\n    var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions) ? dataProviderWithDeclarativeSideEffects : dataProvider;\n    var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);\n    setState(function (prevState) {\n      return __assign({}, prevState, {\n        loading: true\n      });\n    });\n    finalDataProvider[params.type](params.resource, params.payload, params.options).then(function (_a) {\n      var data = _a.data,\n          total = _a.total;\n      setState({\n        data: data,\n        total: total,\n        loading: false,\n        loaded: true\n      });\n    }).catch(function (errorFromResponse) {\n      setState({\n        error: errorFromResponse,\n        loading: false,\n        loaded: false\n      });\n    });\n  }, [// deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n  JSON.stringify({\n    query: query,\n    options: options\n  }), dataProvider, dataProviderWithDeclarativeSideEffects, setState]\n  /* eslint-enable react-hooks/exhaustive-deps */\n  );\n  return [mutate, state];\n};\n/**\n * Utility function for merging parameters\n *\n * useMutation() parameters can be passed:\n * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )\n * - at call time (e.g [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))\n * - both\n *\n * This function merges the definition time and call time parameters.\n *\n * This is useful because useMutation() is used by higher-level hooks like\n * useCreate() or useUpade(), and these hooks can be called both ways.\n * So it makes sense to make useMutation() capable of handling both call types\n * as it avoids repetition higher in the hook chain.\n *\n * Also, the call time query may be a DOM Event if the callback is used\n * as an event listener, as in:\n *\n * const UpdateButton = () => {\n *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });\n *     return <button onclick={mutate}>Click me</button>\n * };\n *\n * This usage is accepted, and therefore this function checks if the call time\n * query is an Event, and discards it in that case.\n *\n * @param query {Mutation}\n * @param callTimeQuery {Mutation}\n * @param options {Object}\n * @param callTimeOptions {Object}\n *\n * @return { type, resource, payload, options } The merged parameters\n */\n\n\nvar mergeDefinitionAndCallTimeParameters = function mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions) {\n  if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {\n    throw new Error('Missing query either at definition or at call time');\n  }\n\n  if (callTimeQuery instanceof Event) return {\n    type: query.type,\n    resource: query.resource,\n    payload: query.payload,\n    options: sanitizeOptions(options)\n  };\n  if (query) return {\n    type: query.type || callTimeQuery.type,\n    resource: query.resource || callTimeQuery.resource,\n    payload: callTimeQuery ? merge({}, query.payload, callTimeQuery.payload) : query.payload,\n    options: callTimeOptions ? merge({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions)) : sanitizeOptions(options)\n  };\n  return {\n    type: callTimeQuery.type,\n    resource: callTimeQuery.resource,\n    payload: callTimeQuery.payload,\n    options: sanitizeOptions(callTimeOptions)\n  };\n};\n\nvar hasDeclarativeSideEffectsSupport = function hasDeclarativeSideEffectsSupport(options, callTimeOptions) {\n  if (!options && !callTimeOptions) return false;\n  if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport) return true;\n  if (options && options.withDeclarativeSideEffectsSupport) return true;\n  return false;\n};\n\nvar sanitizeOptions = function sanitizeOptions(args) {\n  if (!args) return {};\n\n  var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport,\n      options = __rest(args, [\"withDeclarativeSideEffectsSupport\"]);\n\n  return options;\n};\n\nexport default useMutation;"],"sourceRoot":""}