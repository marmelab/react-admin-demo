{"version":3,"file":"static/js/996.d296d78e.chunk.js","mappings":"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","sources":["../../../packages/ra-data-graphql/dist/esm/introspection.js","../../../packages/ra-data-graphql/dist/esm/index.js","../../../packages/ra-data-graphql/dist/esm/buildApolloClient.js","../../../packages/ra-data-graphql/dist/esm/constants.js","../../../packages/ra-data-graphql-simple/dist/esm/getFinalType.js","../../../packages/ra-data-graphql-simple/dist/esm/isList.js","../../../packages/ra-data-graphql-simple/dist/esm/buildVariables.js","../../../packages/ra-data-graphql-simple/dist/esm/isRequired.js","../../../packages/ra-data-graphql-simple/dist/esm/buildGqlQuery.js","../../../packages/ra-data-graphql-simple/dist/esm/getResponseParser.js","../../../packages/ra-data-graphql-simple/dist/esm/buildQuery.js","../../../packages/ra-data-graphql-simple/dist/esm/index.js","dataProvider/graphql.ts","../../../packages/ra-core/dist/esm/dataProvider/HttpError.js"],"sourcesContent":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { getIntrospectionQuery, } from 'graphql';\nimport { gql } from '@apollo/client';\nimport { ALL_TYPES } from './constants';\nvar introspectionPromise;\n/**\n * @param {ApolloClient} client The Apollo client\n * @param {Object} options The introspection options\n */\nexport var introspectSchema = function (client, options) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        if (introspectionPromise) {\n            return [2 /*return*/, introspectionPromise];\n        }\n        introspectionPromise = runSchemaIntrospection(client, options);\n        return [2 /*return*/, introspectionPromise];\n    });\n}); };\nvar runSchemaIntrospection = function (client, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var schema, _a, queries, types, resources;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (!options.schema) return [3 /*break*/, 1];\n                _a = options.schema;\n                return [3 /*break*/, 3];\n            case 1: return [4 /*yield*/, fetchSchema(client)];\n            case 2:\n                _a = _b.sent();\n                _b.label = 3;\n            case 3:\n                schema = _a;\n                queries = getQueriesFromSchema(schema);\n                types = getTypesFromSchema(schema);\n                resources = getResources(types, queries, options);\n                return [2 /*return*/, {\n                        types: types,\n                        queries: queries,\n                        resources: resources,\n                        schema: schema,\n                    }];\n        }\n    });\n}); };\nvar fetchSchema = function (client) {\n    return client\n        .query({\n        fetchPolicy: 'network-only',\n        query: gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n                \", \"\\n            \"], [\"\\n                \", \"\\n            \"])), getIntrospectionQuery()),\n    })\n        .then(function (_a) {\n        var __schema = _a.data.__schema;\n        return __schema;\n    });\n};\nvar getQueriesFromSchema = function (schema) {\n    return schema.types.reduce(function (acc, type) {\n        var _a, _b;\n        if (type.name !== ((_a = schema.queryType) === null || _a === void 0 ? void 0 : _a.name) &&\n            type.name !== ((_b = schema.mutationType) === null || _b === void 0 ? void 0 : _b.name) &&\n            type.fields) {\n            return acc;\n        }\n        return __spreadArray(__spreadArray([], acc, true), (type.fields || []), true);\n    }, []);\n};\nvar getTypesFromSchema = function (schema) {\n    return schema.types.filter(function (type) {\n        return type.name !== (schema.queryType && schema.queryType.name) &&\n            type.name !== (schema.mutationType && schema.mutationType.name);\n    });\n};\nvar getResources = function (types, queries, options) {\n    var filteredResources = types.filter(function (type) {\n        return isResource(type, queries, options);\n    });\n    return filteredResources.map(function (type) {\n        return buildResource(type, queries, options);\n    });\n};\nvar isResource = function (type, queries, options) {\n    if (isResourceIncluded(type, options))\n        return true;\n    if (isResourceExcluded(type, options))\n        return false;\n    var operations = Object.keys(options.operationNames).map(function (operation) {\n        return options.operationNames[operation](type);\n    });\n    var hasAtLeastOneOperation = operations.some(function (operation) {\n        return queries.find(function (_a) {\n            var name = _a.name;\n            return name === operation;\n        });\n    });\n    return hasAtLeastOneOperation;\n};\nexport var isResourceIncluded = function (type, _a) {\n    var _b = _a === void 0 ? {} : _a, include = _b.include;\n    if (Array.isArray(include)) {\n        return include.includes(type.name);\n    }\n    if (typeof include === 'function') {\n        return include(type);\n    }\n    return false;\n};\nexport var isResourceExcluded = function (type, _a) {\n    var _b = _a === void 0 ? {} : _a, exclude = _b.exclude;\n    if (Array.isArray(exclude)) {\n        return exclude.includes(type.name);\n    }\n    if (typeof exclude === 'function') {\n        return exclude(type);\n    }\n    return false;\n};\nvar buildResource = function (type, queries, options) {\n    return ALL_TYPES.reduce(function (acc, raFetchMethod) {\n        var _a;\n        var query = queries.find(function (_a) {\n            var name = _a.name;\n            return options.operationNames[raFetchMethod] &&\n                name === options.operationNames[raFetchMethod](type);\n        });\n        if (!query)\n            return acc;\n        return __assign(__assign({}, acc), (_a = {}, _a[raFetchMethod] = query, _a));\n    }, { type: type });\n};\nvar templateObject_1;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar _a;\nimport merge from 'lodash/merge';\nimport get from 'lodash/get';\nimport pluralize from 'pluralize';\nimport { HttpError, GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, DELETE, DELETE_MANY, UPDATE_MANY, } from 'ra-core';\nimport buildApolloClient from './buildApolloClient';\nimport { QUERY_TYPES as INNER_QUERY_TYPES, MUTATION_TYPES as INNER_MUTATION_TYPES, ALL_TYPES as INNER_ALL_TYPES, } from './constants';\nimport { introspectSchema, } from './introspection';\nexport * from './introspection';\nexport var QUERY_TYPES = INNER_QUERY_TYPES;\nexport var MUTATION_TYPES = INNER_MUTATION_TYPES;\nexport var ALL_TYPES = INNER_ALL_TYPES;\nvar RaFetchMethodMap = {\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\nvar defaultOptions = {\n    resolveIntrospection: introspectSchema,\n    introspection: {\n        operationNames: (_a = {},\n            _a[GET_LIST] = function (resource) { return \"all\".concat(pluralize(resource.name)); },\n            _a[GET_ONE] = function (resource) { return \"\".concat(resource.name); },\n            _a[GET_MANY] = function (resource) { return \"all\".concat(pluralize(resource.name)); },\n            _a[GET_MANY_REFERENCE] = function (resource) { return \"all\".concat(pluralize(resource.name)); },\n            _a[CREATE] = function (resource) { return \"create\".concat(resource.name); },\n            _a[UPDATE] = function (resource) { return \"update\".concat(resource.name); },\n            _a[DELETE] = function (resource) { return \"delete\".concat(resource.name); },\n            _a),\n        exclude: undefined,\n        include: undefined,\n    },\n};\nvar getOptions = function (options, raFetchMethod, resource) {\n    if (typeof options === 'function') {\n        return options(resource, raFetchMethod);\n    }\n    return options;\n};\nexport default (function (options) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, clientObject, clientOptions, introspection, resolveIntrospection, buildQueryFactory, _b, override, otherOptions, client, introspectionResults, raDataProvider;\n    return __generator(this, function (_c) {\n        _a = merge({}, defaultOptions, options), clientObject = _a.client, clientOptions = _a.clientOptions, introspection = _a.introspection, resolveIntrospection = _a.resolveIntrospection, buildQueryFactory = _a.buildQuery, _b = _a.override, override = _b === void 0 ? {} : _b, otherOptions = __rest(_a, [\"client\", \"clientOptions\", \"introspection\", \"resolveIntrospection\", \"buildQuery\", \"override\"]);\n        if (override && process.env.NODE_ENV === 'production') {\n            console.warn(\n            // eslint-disable-line\n            'The override option is deprecated. You should instead wrap the buildQuery function provided by the dataProvider you use.');\n        }\n        client = clientObject || buildApolloClient(clientOptions);\n        raDataProvider = new Proxy(defaultDataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                var raFetchMethod = RaFetchMethodMap[name];\n                return function (resource, params) { return __awaiter(void 0, void 0, void 0, function () {\n                    var buildQuery, overriddenBuildQuery, _a, parseResponse, query, operation, apolloQuery_1, apolloQuery;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                if (!introspection) return [3 /*break*/, 2];\n                                return [4 /*yield*/, resolveIntrospection(client, introspection)];\n                            case 1:\n                                introspectionResults = _b.sent();\n                                _b.label = 2;\n                            case 2:\n                                buildQuery = buildQueryFactory(introspectionResults);\n                                overriddenBuildQuery = get(override, \"\".concat(resource, \".\").concat(raFetchMethod));\n                                _a = overriddenBuildQuery\n                                    ? __assign(__assign({}, buildQuery(raFetchMethod, resource, params)), overriddenBuildQuery(params)) : buildQuery(raFetchMethod, resource, params), parseResponse = _a.parseResponse, query = __rest(_a, [\"parseResponse\"]);\n                                operation = getQueryOperation(query.query);\n                                if (operation === 'query') {\n                                    apolloQuery_1 = __assign(__assign(__assign({}, query), { fetchPolicy: 'network-only' }), getOptions(otherOptions.query, raFetchMethod, resource));\n                                    return [2 /*return*/, (client\n                                            // @ts-ignore\n                                            .query(apolloQuery_1)\n                                            .then(function (response) { return parseResponse(response); })\n                                            .catch(handleError))];\n                                }\n                                apolloQuery = __assign({ mutation: query.query, variables: query.variables }, getOptions(otherOptions.mutation, raFetchMethod, resource));\n                                return [2 /*return*/, (client\n                                        // @ts-ignore\n                                        .mutate(apolloQuery)\n                                        .then(parseResponse)\n                                        .catch(handleError))];\n                        }\n                    });\n                }); };\n            },\n        });\n        return [2 /*return*/, raDataProvider];\n    });\n}); });\nvar handleError = function (error) {\n    var _a, _b;\n    if (error === null || error === void 0 ? void 0 : error.networkError) {\n        throw new HttpError((_a = error === null || error === void 0 ? void 0 : error.networkError) === null || _a === void 0 ? void 0 : _a.message, (_b = error === null || error === void 0 ? void 0 : error.networkError) === null || _b === void 0 ? void 0 : _b.statusCode);\n    }\n    throw new HttpError(error.message, 200, error);\n};\nvar getQueryOperation = function (query) {\n    if (query && query.definitions && query.definitions.length > 0) {\n        return query.definitions[0].operation;\n    }\n    throw new Error('Unable to determine the query operation');\n};\n// Only used to initialize proxy\nvar defaultDataProvider = {\n    create: function () { return Promise.resolve({ data: null }); },\n    delete: function () { return Promise.resolve({ data: null }); },\n    deleteMany: function () { return Promise.resolve({ data: [] }); },\n    getList: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getMany: function () { return Promise.resolve({ data: [] }); },\n    getManyReference: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getOne: function () { return Promise.resolve({ data: null }); },\n    update: function () { return Promise.resolve({ data: null }); },\n    updateMany: function () { return Promise.resolve({ data: [] }); }, // avoids adding a context in tests\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { ApolloClient, HttpLink, InMemoryCache, } from '@apollo/client';\nexport default (function (options) {\n    if (!options) {\n        return new ApolloClient({\n            cache: new InMemoryCache().restore({}),\n        });\n    }\n    var _a = options.cache, cache = _a === void 0 ? new InMemoryCache().restore({}) : _a, uri = options.uri, _b = options.link, link = _b === void 0 ? !!uri ? new HttpLink({ uri: uri }) : undefined : _b, otherOptions = __rest(options, [\"cache\", \"uri\", \"link\"]);\n    return new ApolloClient(__assign({ link: link, cache: cache }, otherOptions));\n});\n","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY, } from 'ra-core';\nexport var QUERY_TYPES = [GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE];\nexport var MUTATION_TYPES = [\n    CREATE,\n    UPDATE,\n    DELETE,\n    UPDATE_MANY,\n    DELETE_MANY,\n];\nexport var ALL_TYPES = QUERY_TYPES.concat(MUTATION_TYPES);\n","import { TypeKind, } from 'graphql';\n/**\n * Ensure we get the real type even if the root type is NON_NULL or LIST\n * @param {GraphQLType} type\n */\nvar getFinalType = function (type) {\n    if (type.kind === TypeKind.NON_NULL || type.kind === TypeKind.LIST) {\n        return getFinalType(type.ofType);\n    }\n    return type;\n};\nexport default getFinalType;\n","import { TypeKind, } from 'graphql';\nvar isList = function (type) {\n    if (type.kind === TypeKind.NON_NULL) {\n        return isList(type.ofType);\n    }\n    return type.kind === TypeKind.LIST;\n};\nexport default isList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, DELETE, } from 'ra-core';\nimport getFinalType from './getFinalType';\nimport isList from './isList';\nexport default (function (introspectionResults) { return function (resource, raFetchMethod, params, queryType) {\n    var _a;\n    var preparedParams = prepareParams(params, queryType, introspectionResults);\n    switch (raFetchMethod) {\n        case GET_LIST: {\n            return buildGetListVariables(introspectionResults)(resource, raFetchMethod, preparedParams);\n        }\n        case GET_MANY:\n            return {\n                filter: { ids: preparedParams.ids },\n            };\n        case GET_MANY_REFERENCE: {\n            var variables = buildGetListVariables(introspectionResults)(resource, raFetchMethod, preparedParams);\n            variables.filter = __assign(__assign({}, variables.filter), (_a = {}, _a[preparedParams.target] = preparedParams.id, _a));\n            return variables;\n        }\n        case GET_ONE:\n        case DELETE:\n            return {\n                id: preparedParams.id,\n            };\n        case CREATE:\n        case UPDATE: {\n            return buildCreateUpdateVariables(resource, raFetchMethod, preparedParams, queryType);\n        }\n    }\n}; });\nvar sanitizeValue = function (type, value) {\n    if (type.name === 'Int') {\n        return parseInt(value, 10);\n    }\n    if (type.name === 'Float') {\n        return parseFloat(value);\n    }\n    return value;\n};\nvar castType = function (value, type) {\n    var realType = type.kind === 'NON_NULL' ? type.ofType : type;\n    switch (\"\".concat(realType.kind, \":\").concat(realType.name)) {\n        case 'SCALAR:Int':\n            return Number(value);\n        case 'SCALAR:String':\n            return String(value);\n        case 'SCALAR:Boolean':\n            return Boolean(value);\n        default:\n            return value;\n    }\n};\nvar prepareParams = function (params, queryType, introspectionResults) {\n    var result = {};\n    if (!params) {\n        return params;\n    }\n    Object.keys(params).forEach(function (key) {\n        var param = params[key];\n        var arg = null;\n        if (!param) {\n            result[key] = param;\n            return;\n        }\n        if (queryType && Array.isArray(queryType.args)) {\n            arg = queryType.args.find(function (item) { return item.name === key; });\n        }\n        if (param instanceof File) {\n            result[key] = param;\n            return;\n        }\n        if (param instanceof Date) {\n            result[key] = param.toISOString();\n            return;\n        }\n        if (param instanceof Object &&\n            !Array.isArray(param) &&\n            arg &&\n            arg.type.kind === 'INPUT_OBJECT') {\n            var args = introspectionResults.types.find(function (item) {\n                return item.kind === arg.type.kind && item.name === arg.type.name;\n            }).inputFields;\n            result[key] = prepareParams(param, { args: args }, introspectionResults);\n            return;\n        }\n        if (param instanceof Object &&\n            !(param instanceof Date) &&\n            !Array.isArray(param)) {\n            result[key] = prepareParams(param, queryType, introspectionResults);\n            return;\n        }\n        if (!arg) {\n            result[key] = param;\n            return;\n        }\n        result[key] = castType(param, arg.type);\n    });\n    return result;\n};\nvar buildGetListVariables = function (introspectionResults) { return function (resource, raFetchMethod, params) {\n    var variables = { filter: {} };\n    if (params.filter) {\n        variables.filter = Object.keys(params.filter).reduce(function (acc, key) {\n            var _a, _b, _c, _d, _e, _f, _g;\n            var _h, _j, _k, _l;\n            if (key === 'ids') {\n                return __assign(__assign({}, acc), { ids: params.filter[key] });\n            }\n            if (typeof params.filter[key] === 'object') {\n                var type = introspectionResults.types.find(function (t) { return t.name === \"\".concat(resource.type.name, \"Filter\"); });\n                var filterSome = (_j = (_h = type) === null || _h === void 0 ? void 0 : _h.inputFields) === null || _j === void 0 ? void 0 : _j.find(function (t) { return t.name === \"\".concat(key, \"_some\"); });\n                if (filterSome) {\n                    var filter = Object.keys(params.filter[key]).reduce(function (acc, k) {\n                        var _a;\n                        return (__assign(__assign({}, acc), (_a = {}, _a[\"\".concat(k, \"_in\")] = params.filter[key][k], _a)));\n                    }, {});\n                    return __assign(__assign({}, acc), (_a = {}, _a[\"\".concat(key, \"_some\")] = filter, _a));\n                }\n            }\n            var parts = key.split('.');\n            if (parts.length > 1) {\n                if (parts[1] === 'id') {\n                    var type_1 = introspectionResults.types.find(function (t) { return t.name === \"\".concat(resource.type.name, \"Filter\"); });\n                    var filterSome = (_l = (_k = type_1) === null || _k === void 0 ? void 0 : _k.inputFields) === null || _l === void 0 ? void 0 : _l.find(function (t) { return t.name === \"\".concat(parts[0], \"_some\"); });\n                    if (filterSome) {\n                        return __assign(__assign({}, acc), (_b = {}, _b[\"\".concat(parts[0], \"_some\")] = { id: params.filter[key] }, _b));\n                    }\n                    return __assign(__assign({}, acc), (_c = {}, _c[parts[0]] = { id: params.filter[key] }, _c));\n                }\n                var resourceField_1 = resource.type.fields.find(function (f) { return f.name === parts[0]; });\n                var type = getFinalType(resourceField_1.type);\n                return __assign(__assign({}, acc), (_d = {}, _d[key] = sanitizeValue(type, params.filter[key]), _d));\n            }\n            var resourceField = resource.type.fields.find(function (f) { return f.name === key; });\n            if (resourceField) {\n                var type_2 = getFinalType(resourceField.type);\n                var isAList = isList(resourceField.type);\n                if (isAList) {\n                    return __assign(__assign({}, acc), (_e = {}, _e[key] = Array.isArray(params.filter[key])\n                        ? params.filter[key].map(function (value) {\n                            return sanitizeValue(type_2, value);\n                        })\n                        : sanitizeValue(type_2, [params.filter[key]]), _e));\n                }\n                return __assign(__assign({}, acc), (_f = {}, _f[key] = sanitizeValue(type_2, params.filter[key]), _f));\n            }\n            return __assign(__assign({}, acc), (_g = {}, _g[key] = params.filter[key], _g));\n        }, {});\n    }\n    if (params.pagination) {\n        variables.page = parseInt(params.pagination.page, 10) - 1;\n        variables.perPage = parseInt(params.pagination.perPage, 10);\n    }\n    if (params.sort) {\n        variables.sortField = params.sort.field;\n        variables.sortOrder = params.sort.order;\n    }\n    return variables;\n}; };\nvar buildCreateUpdateVariables = function (resource, raFetchMethod, _a, queryType) {\n    var id = _a.id, data = _a.data;\n    return Object.keys(data).reduce(function (acc, key) {\n        var _a, _b, _c;\n        if (Array.isArray(data[key])) {\n            var arg = queryType.args.find(function (a) { return a.name === \"\".concat(key, \"Ids\"); });\n            if (arg) {\n                return __assign(__assign({}, acc), (_a = {}, _a[\"\".concat(key, \"Ids\")] = data[key].map(function (_a) {\n                    var id = _a.id;\n                    return id;\n                }), _a));\n            }\n        }\n        if (typeof data[key] === 'object') {\n            var arg = queryType.args.find(function (a) { return a.name === \"\".concat(key, \"Id\"); });\n            if (arg) {\n                return __assign(__assign({}, acc), (_b = {}, _b[\"\".concat(key, \"Id\")] = data[key].id, _b));\n            }\n        }\n        return __assign(__assign({}, acc), (_c = {}, _c[key] = data[key], _c));\n    }, { id: id });\n};\n","import { TypeKind, } from 'graphql';\nvar isRequired = function (type) {\n    if (type.kind === TypeKind.LIST) {\n        return isRequired(type.ofType);\n    }\n    return type.kind === TypeKind.NON_NULL;\n};\nexport default isRequired;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { GET_LIST, GET_MANY, GET_MANY_REFERENCE, DELETE } from 'ra-core';\nimport { QUERY_TYPES, } from 'ra-data-graphql';\nimport { TypeKind, } from 'graphql';\nimport * as gqlTypes from 'graphql-ast-types-browser';\nimport getFinalType from './getFinalType';\nimport isList from './isList';\nimport isRequired from './isRequired';\nexport default (function (introspectionResults) { return function (resource, raFetchMethod, queryType, variables) {\n    var sortField = variables.sortField, sortOrder = variables.sortOrder, metaVariables = __rest(variables, [\"sortField\", \"sortOrder\"]);\n    var apolloArgs = buildApolloArgs(queryType, variables);\n    var args = buildArgs(queryType, variables);\n    var metaArgs = buildArgs(queryType, metaVariables);\n    var fields = buildFields(introspectionResults)(resource.type.fields);\n    if (raFetchMethod === GET_LIST ||\n        raFetchMethod === GET_MANY ||\n        raFetchMethod === GET_MANY_REFERENCE) {\n        return gqlTypes.document([\n            gqlTypes.operationDefinition('query', gqlTypes.selectionSet([\n                gqlTypes.field(gqlTypes.name(queryType.name), gqlTypes.name('items'), args, null, gqlTypes.selectionSet(fields)),\n                gqlTypes.field(gqlTypes.name(\"_\".concat(queryType.name, \"Meta\")), gqlTypes.name('total'), metaArgs, null, gqlTypes.selectionSet([\n                    gqlTypes.field(gqlTypes.name('count')),\n                ])),\n            ]), gqlTypes.name(queryType.name), apolloArgs),\n        ]);\n    }\n    if (raFetchMethod === DELETE) {\n        return gqlTypes.document([\n            gqlTypes.operationDefinition('mutation', gqlTypes.selectionSet([\n                gqlTypes.field(gqlTypes.name(queryType.name), gqlTypes.name('data'), args, null, gqlTypes.selectionSet(fields)),\n            ]), gqlTypes.name(queryType.name), apolloArgs),\n        ]);\n    }\n    return gqlTypes.document([\n        gqlTypes.operationDefinition(QUERY_TYPES.includes(raFetchMethod) ? 'query' : 'mutation', gqlTypes.selectionSet([\n            gqlTypes.field(gqlTypes.name(queryType.name), gqlTypes.name('data'), args, null, gqlTypes.selectionSet(fields)),\n        ]), gqlTypes.name(queryType.name), apolloArgs),\n    ]);\n}; });\nexport var buildFields = function (introspectionResults, paths) {\n    if (paths === void 0) { paths = []; }\n    return function (fields) {\n        return fields.reduce(function (acc, field) {\n            var type = getFinalType(field.type);\n            if (type.name.startsWith('_')) {\n                return acc;\n            }\n            if (type.kind !== TypeKind.OBJECT && type.kind !== TypeKind.INTERFACE) {\n                return __spreadArray(__spreadArray([], acc, true), [gqlTypes.field(gqlTypes.name(field.name))], false);\n            }\n            var linkedResource = introspectionResults.resources.find(function (r) { return r.type.name === type.name; });\n            if (linkedResource) {\n                return __spreadArray(__spreadArray([], acc, true), [\n                    gqlTypes.field(gqlTypes.name(field.name), null, null, null, gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name('id'))])),\n                ], false);\n            }\n            var linkedType = introspectionResults.types.find(function (t) { return t.name === type.name; });\n            if (linkedType && !paths.includes(linkedType.name)) {\n                var possibleTypes = linkedType.possibleTypes || [];\n                return __spreadArray(__spreadArray([], acc, true), [\n                    gqlTypes.field(gqlTypes.name(field.name), null, null, null, gqlTypes.selectionSet(__spreadArray(__spreadArray([], buildFragments(introspectionResults)(possibleTypes), true), buildFields(introspectionResults, __spreadArray(__spreadArray([], paths, true), [\n                        linkedType.name,\n                    ], false))(linkedType.fields), true))),\n                ], false);\n            }\n            // NOTE: We might have to handle linked types which are not resources but will have to be careful about\n            // ending with endless circular dependencies\n            return acc;\n        }, []);\n    };\n};\nexport var buildFragments = function (introspectionResults) { return function (possibleTypes) {\n    return possibleTypes.reduce(function (acc, possibleType) {\n        var type = getFinalType(possibleType);\n        var linkedType = introspectionResults.types.find(function (t) { return t.name === type.name; });\n        return __spreadArray(__spreadArray([], acc, true), [\n            gqlTypes.inlineFragment(gqlTypes.selectionSet(buildFields(introspectionResults)(linkedType.fields)), gqlTypes.namedType(gqlTypes.name(type.name))),\n        ], false);\n    }, []);\n}; };\nexport var buildArgs = function (query, variables) {\n    if (query.args.length === 0) {\n        return [];\n    }\n    var validVariables = Object.keys(variables).filter(function (k) { return typeof variables[k] !== 'undefined'; });\n    var args = query.args\n        .filter(function (a) { return validVariables.includes(a.name); })\n        .reduce(function (acc, arg) { return __spreadArray(__spreadArray([], acc, true), [\n        gqlTypes.argument(gqlTypes.name(arg.name), gqlTypes.variable(gqlTypes.name(arg.name))),\n    ], false); }, []);\n    return args;\n};\nexport var buildApolloArgs = function (query, variables) {\n    if (query.args.length === 0) {\n        return [];\n    }\n    var validVariables = Object.keys(variables).filter(function (k) { return typeof variables[k] !== 'undefined'; });\n    var args = query.args\n        .filter(function (a) { return validVariables.includes(a.name); })\n        .reduce(function (acc, arg) {\n        return __spreadArray(__spreadArray([], acc, true), [\n            gqlTypes.variableDefinition(gqlTypes.variable(gqlTypes.name(arg.name)), getArgType(arg)),\n        ], false);\n    }, []);\n    return args;\n};\nexport var getArgType = function (arg) {\n    var type = getFinalType(arg.type);\n    var required = isRequired(arg.type);\n    var list = isList(arg.type);\n    if (list) {\n        if (required) {\n            return gqlTypes.listType(gqlTypes.nonNullType(gqlTypes.namedType(gqlTypes.name(type.name))));\n        }\n        return gqlTypes.listType(gqlTypes.namedType(gqlTypes.name(type.name)));\n    }\n    if (required) {\n        return gqlTypes.nonNullType(gqlTypes.namedType(gqlTypes.name(type.name)));\n    }\n    return gqlTypes.namedType(gqlTypes.name(type.name));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { GET_LIST, GET_MANY, GET_MANY_REFERENCE } from 'ra-core';\nexport default (function (introspectionResults) { return function (raFetchMethod, resource, queryType) { return function (response) {\n    var data = response.data;\n    if (raFetchMethod === GET_LIST ||\n        raFetchMethod === GET_MANY ||\n        raFetchMethod === GET_MANY_REFERENCE) {\n        return {\n            data: response.data.items.map(sanitizeResource),\n            total: response.data.total.count,\n        };\n    }\n    return { data: sanitizeResource(data.data) };\n}; }; });\nvar sanitizeResource = function (data) {\n    var result = Object.keys(data).reduce(function (acc, key) {\n        var _a, _b, _c, _d, _e;\n        if (key.startsWith('_')) {\n            return acc;\n        }\n        var dataForKey = data[key];\n        if (dataForKey === null || dataForKey === undefined) {\n            return acc;\n        }\n        if (Array.isArray(dataForKey)) {\n            if (typeof dataForKey[0] === 'object' &&\n                dataForKey[0] != null &&\n                // If there is no id, it's not a reference but an embedded array\n                dataForKey[0].id != null) {\n                return __assign(__assign({}, acc), (_a = {}, _a[key] = dataForKey.map(sanitizeResource), _a[\"\".concat(key, \"Ids\")] = dataForKey.map(function (d) { return d.id; }), _a));\n            }\n            else {\n                return __assign(__assign({}, acc), (_b = {}, _b[key] = dataForKey, _b));\n            }\n        }\n        if (typeof dataForKey === 'object' &&\n            dataForKey != null &&\n            // If there is no id, it's not a reference but an embedded object\n            dataForKey.id != null) {\n            return __assign(__assign(__assign({}, acc), (dataForKey &&\n                dataForKey.id && (_c = {},\n                _c[\"\".concat(key, \".id\")] = dataForKey.id,\n                _c))), (_d = {}, _d[key] = dataForKey.__typename\n                ? sanitizeResource(dataForKey)\n                : dataForKey, _d));\n        }\n        return __assign(__assign({}, acc), (_e = {}, _e[key] = dataForKey, _e));\n    }, {});\n    return result;\n};\n","import buildVariables from './buildVariables';\nimport buildGqlQuery from './buildGqlQuery';\nimport getResponseParser from './getResponseParser';\nexport var buildQueryFactory = function (buildVariablesImpl, buildGqlQueryImpl, getResponseParserImpl) {\n    if (buildVariablesImpl === void 0) { buildVariablesImpl = buildVariables; }\n    if (buildGqlQueryImpl === void 0) { buildGqlQueryImpl = buildGqlQuery; }\n    if (getResponseParserImpl === void 0) { getResponseParserImpl = getResponseParser; }\n    return function (introspectionResults) {\n        var knownResources = introspectionResults.resources.map(function (r) { return r.type.name; });\n        var buildQuery = function (raFetchType, resourceName, params) {\n            var resource = introspectionResults.resources.find(function (r) { return r.type.name === resourceName; });\n            if (!resource) {\n                throw new Error(\"Unknown resource \".concat(resourceName, \". Make sure it has been declared on your server side schema. Known resources are \").concat(knownResources.join(', ')));\n            }\n            var queryType = resource[raFetchType];\n            if (!queryType) {\n                throw new Error(\"No query or mutation matching fetch type \".concat(raFetchType, \" could be found for resource \").concat(resource.type.name));\n            }\n            var variables = buildVariablesImpl(introspectionResults)(resource, raFetchType, params, queryType);\n            var query = buildGqlQueryImpl(introspectionResults)(resource, raFetchType, queryType, variables);\n            var parseResponse = getResponseParserImpl(introspectionResults)(raFetchType, resource, queryType);\n            return {\n                query: query,\n                variables: variables,\n                parseResponse: parseResponse,\n            };\n        };\n        return buildQuery;\n    };\n};\nexport default buildQueryFactory(buildVariables, buildGqlQuery, getResponseParser);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport merge from 'lodash/merge';\nimport buildDataProvider from 'ra-data-graphql';\nimport defaultBuildQuery from './buildQuery';\nvar defaultOptions = {\n    buildQuery: defaultBuildQuery,\n};\nexport var buildQuery = defaultBuildQuery;\nexport default (function (options) {\n    return buildDataProvider(merge({}, defaultOptions, options)).then(function (defaultDataProvider) {\n        return __assign(__assign({}, defaultDataProvider), { \n            // This provider does not support multiple deletions so instead we send multiple DELETE requests\n            // This can be optimized using the apollo-link-batch-http link\n            deleteMany: function (resource, params) {\n                var ids = params.ids, otherParams = __rest(params, [\"ids\"]);\n                return Promise.all(ids.map(function (id) {\n                    return defaultDataProvider.delete(resource, __assign({ id: id, previousData: null }, otherParams));\n                })).then(function (results) {\n                    var data = results.reduce(function (acc, _a) {\n                        var data = _a.data;\n                        return __spreadArray(__spreadArray([], acc, true), [data.id], false);\n                    }, []);\n                    return { data: data };\n                });\n            }, \n            // This provider does not support multiple deletions so instead we send multiple UPDATE requests\n            // This can be optimized using the apollo-link-batch-http link\n            updateMany: function (resource, params) {\n                var ids = params.ids, data = params.data, otherParams = __rest(params, [\"ids\", \"data\"]);\n                return Promise.all(ids.map(function (id) {\n                    return defaultDataProvider.update(resource, __assign({ id: id, data: data, previousData: null }, otherParams));\n                })).then(function (results) {\n                    var data = results.reduce(function (acc, _a) {\n                        var data = _a.data;\n                        return __spreadArray(__spreadArray([], acc, true), [data.id], false);\n                    }, []);\n                    return { data: data };\n                });\n            } });\n    });\n});\n","import { ApolloQueryResult } from '@apollo/client';\nimport buildApolloClient, {\n    buildQuery as buildQueryFactory,\n} from 'ra-data-graphql-simple';\nimport { BuildQueryFactory } from 'ra-data-graphql';\nimport { CREATE, DataProvider, DELETE } from 'react-admin';\nimport gql from 'graphql-tag';\nimport { IntrospectionType } from 'graphql';\n\nconst getGqlResource = (resource: string) => {\n    switch (resource) {\n        case 'customers':\n            return 'Customer';\n\n        case 'categories':\n            return 'Category';\n\n        case 'commands':\n            return 'Command';\n\n        case 'products':\n            return 'Product';\n\n        case 'reviews':\n            return 'Review';\n\n        case 'invoices':\n            return 'Invoice';\n\n        default:\n            throw new Error(`Unknown resource ${resource}`);\n    }\n};\n\nconst customBuildQuery: BuildQueryFactory = introspectionResults => {\n    const buildQuery = buildQueryFactory(introspectionResults);\n\n    return (type, resource, params) => {\n        if (type === DELETE) {\n            return {\n                query: gql`mutation remove${resource}($id: ID!) {\n                    remove${resource}(id: $id) {\n                        id\n                    }\n                }`,\n                variables: { id: params.id },\n                parseResponse: ({ data }: ApolloQueryResult<any>) => {\n                    if (data[`remove${resource}`]) {\n                        return { data: { id: params.id } };\n                    }\n\n                    throw new Error(`Could not delete ${resource}`);\n                },\n            };\n        }\n\n        if (resource === 'Customer' && type === CREATE) {\n            return {\n                query: gql`\n                    mutation createCustomer(\n                        $first_name: String!\n                        $last_name: String!\n                        $email: String!\n                        $address: String\n                        $zipcode: String\n                        $city: String\n                        $stateAbbr: String\n                        $birthday: Date\n                        $first_seen: Date!\n                        $last_seen: Date!\n                        $has_ordered: Boolean!\n                        $latest_purchase: Date\n                        $has_newsletter: Boolean!\n                        $groups: [String]!\n                        $nb_commands: Int!\n                        $total_spent: Float!\n                    ) {\n                        createCustomer(\n                            first_name: $first_name\n                            last_name: $last_name\n                            email: $email\n                            address: $address\n                            zipcode: $zipcode\n                            city: $city\n                            stateAbbr: $stateAbbr\n                            birthday: $birthday\n                            first_seen: $first_seen\n                            last_seen: $last_seen\n                            has_ordered: $has_ordered\n                            latest_purchase: $latest_purchase\n                            has_newsletter: $has_newsletter\n                            groups: $groups\n                            nb_commands: $nb_commands\n                            total_spent: $total_spent\n                        ) {\n                            id\n                        }\n                    }\n                `,\n                variables: params.data,\n                parseResponse: ({ data }: ApolloQueryResult<any>) => {\n                    if (data.createCustomer) {\n                        return { data: { id: data.createCustomer.id } };\n                    }\n\n                    throw new Error(`Could not create Customer`);\n                },\n            };\n        }\n\n        return buildQuery(type, resource, params);\n    };\n};\n\nexport default async () => {\n    const dataProvider = await buildApolloClient({\n        clientOptions: {\n            uri: 'http://localhost:4000/graphql',\n        },\n        introspection: {\n            operationNames: {\n                [DELETE]: (resource: IntrospectionType) =>\n                    `remove${resource.name}`,\n            },\n        },\n        buildQuery: customBuildQuery,\n    });\n\n    return new Proxy<DataProvider>(defaultDataProvider, {\n        get: (target, name) => {\n            if (typeof name === 'symbol' || name === 'then') {\n                return;\n            }\n            return async (resource: string, params: any) => {\n                return dataProvider[name](getGqlResource(resource), params);\n            };\n        },\n    });\n};\n// Only used to initialize proxy\nconst defaultDataProvider: DataProvider = {\n    create: () => Promise.reject({ data: null }), // avoids adding a context in tests\n    delete: () => Promise.reject({ data: null }), // avoids adding a context in tests\n    deleteMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n    getList: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\n    getMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\n    getOne: () => Promise.reject({ data: null }), // avoids adding a context in tests\n    update: () => Promise.reject({ data: null }), // avoids adding a context in tests\n    updateMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar HttpError = /** @class */ (function (_super) {\n    __extends(HttpError, _super);\n    function HttpError(message, status, body) {\n        if (body === void 0) { body = null; }\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.status = status;\n        _this.body = body;\n        Object.setPrototypeOf(_this, HttpError.prototype);\n        _this.name = _this.constructor.name;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(_this, _this.constructor);\n        }\n        else {\n            _this.stack = new Error(message).stack;\n        }\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return HttpError;\n}(Error));\nexport default HttpError;\n"],"names":["introspectionPromise","templateObject_1","_a","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","QUERY_TYPES","GET_LIST","GET_MANY","GET_MANY_REFERENCE","GET_ONE","MUTATION_TYPES","CREATE","UPDATE","DELETE","UPDATE_MANY","DELETE_MANY","ALL_TYPES","concat","__makeTemplateObject","cooked","raw","defineProperty","value","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","adopt","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","ar","l","Array","slice","runSchemaIntrospection","client","options","schema","queries","types","resources","_b","fetchSchema","getQueriesFromSchema","getTypesFromSchema","getResources","query","fetchPolicy","gql","getIntrospectionQuery","data","__schema","reduce","acc","type","name","queryType","mutationType","fields","filter","isResource","map","buildResource","isResourceIncluded","isResourceExcluded","hasAtLeastOneOperation","keys","operationNames","operation","some","find","include","isArray","includes","exclude","raFetchMethod","INNER_QUERY_TYPES","RaFetchMethodMap","getList","getMany","getManyReference","getOne","create","delete","deleteMany","update","updateMany","defaultOptions","resolveIntrospection","introspectSchema","introspection","resource","pluralize","undefined","getOptions","clientObject","clientOptions","buildQueryFactory","override","otherOptions","introspectionResults","raDataProvider","_c","merge","buildQuery","console","warn","ApolloClient","cache","InMemoryCache","restore","uri","link","HttpLink","buildApolloClient","Proxy","defaultDataProvider","get","target","params","overriddenBuildQuery","parseResponse","apolloQuery_1","apolloQuery","getQueryOperation","response","catch","handleError","mutation","variables","mutate","error","networkError","HttpError","message","statusCode","definitions","Error","total","getFinalType","kind","TypeKind","ofType","isList","preparedParams","prepareParams","buildGetListVariables","ids","id","buildCreateUpdateVariables","sanitizeValue","parseInt","parseFloat","forEach","key","param","arg","args","item","File","Date","toISOString","inputFields","castType","realType","Number","String","Boolean","_d","_e","_f","_g","_h","_j","_k","_l","filterSome","k","parts","split","resourceField_1","resourceField","type_2","isAList","pagination","page","perPage","sort","sortField","field","sortOrder","order","a","isRequired","metaVariables","apolloArgs","buildApolloArgs","buildArgs","metaArgs","buildFields","gqlTypes","paths","startsWith","r","linkedType","possibleTypes","buildFragments","possibleType","validVariables","getArgType","required","items","sanitizeResource","count","dataForKey","d","__typename","buildVariablesImpl","buildGqlQueryImpl","getResponseParserImpl","buildVariables","buildGqlQuery","getResponseParser","knownResources","raFetchType","resourceName","join","defaultBuildQuery","getGqlResource","customBuildQuery","createCustomer","buildDataProvider","otherParams","all","previousData","results","dataProvider","__extends","extendStatics","b","setPrototypeOf","__proto__","__","constructor","_super","status","_this","captureStackTrace","stack"],"sourceRoot":""}