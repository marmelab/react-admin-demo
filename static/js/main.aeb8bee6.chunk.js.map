{"version":3,"sources":["../../../packages/ra-core/esm/actions/undoActions.js","../../../packages/ra-core/esm/dataProvider/useDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useMutation.js","../../../packages/ra-core/esm/dataProvider/getFetchType.js","../../../packages/ra-core/esm/actions/resourcesActions.js","../../../packages/ra-core/esm/util/getFetchedAt.js","../../../packages/ra-core/esm/reducer/admin/resource/data.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests.js","../../../packages/ra-core/esm/reducer/admin/resource/list/expanded.js","../../../packages/ra-core/esm/actions/dataActions/crudGetList.js","../../../packages/ra-core/esm/actions/dataActions/crudCreate.js","../../../packages/ra-core/esm/reducer/admin/resource/list/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/loadedOnce.js","../../../packages/ra-core/esm/reducer/admin/resource/list/params.js","../../../packages/ra-core/esm/actions/dataActions/crudDelete.js","../../../packages/ra-core/esm/reducer/admin/resource/list/selectedIds.js","../../../packages/ra-core/esm/reducer/admin/resource/list/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/index.js","../../../packages/ra-core/esm/reducer/admin/resource/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/index.js","../../../packages/ra-core/esm/reducer/admin/loading.js","../../../packages/ra-core/esm/reducer/admin/notifications.js","../../../packages/ra-core/esm/reducer/admin/references/possibleValues.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMatching.js","../../../packages/ra-core/esm/reducer/admin/references/index.js","../../../packages/ra-core/esm/reducer/admin/ui.js","../../../packages/ra-core/esm/reducer/admin/customQueries.js","../../../packages/ra-core/esm/reducer/admin/index.js","../../../packages/ra-core/esm/reducer/index.js","../../../packages/ra-core/esm/actions/authActions.js","../../../packages/ra-core/esm/sideEffect/auth.js","../../../packages/ra-core/esm/sideEffect/callback.js","../../../packages/ra-core/esm/sideEffect/fetch.js","../../../packages/ra-core/esm/sideEffect/notification.js","../../../packages/ra-core/esm/sideEffect/redirection.js","../../../packages/ra-core/esm/sideEffect/accumulate.js","../../../packages/ra-core/esm/sideEffect/refresh.js","../../../packages/ra-core/esm/sideEffect/undo.js","../../../packages/ra-core/esm/sideEffect/admin.js","../../../packages/ra-core/esm/core/createAdminStore.js","../../../packages/ra-core/esm/i18n/TranslationContext.js","../../../packages/ra-core/esm/i18n/TranslationProvider.js","../../../packages/ra-core/esm/core/CoreAdminContext.js","../../../packages/ra-core/esm/auth/convertLegacyAuthProvider.js","../../../packages/ra-core/esm/auth/types.js","../../../packages/ra-language-english/esm/index.js","../../../packages/ra-i18n-polyglot/esm/index.js","../../../packages/react-admin/esm/defaultI18nProvider.js","../../../packages/react-admin/esm/AdminContext.js","../../../packages/ra-core/esm/auth/useCheckAuth.js","../../../packages/ra-core/esm/auth/useAuthenticated.js","../../../packages/ra-core/esm/auth/useGetPermissions.js","../../../packages/ra-core/esm/auth/usePermissionsOptimized.js","../../../packages/ra-core/esm/auth/WithPermissions.js","../../../packages/ra-core/esm/core/RoutesWithLayout.js","../../../packages/ra-core/esm/auth/useAuthState.js","../../../packages/ra-core/esm/core/CoreAdminRouter.js","../../../packages/ra-core/esm/util/Ready.js","../../../packages/ra-core/esm/core/CoreAdminUI.js","../../../packages/ra-core/esm/util/ComponentPropType.js","../../../packages/ra-core/esm/i18n/useTranslate.js","../../../packages/ra-ui-materialui/esm/button/RefreshIconButton.js","../../../packages/ra-ui-materialui/esm/layout/LoadingIndicator.js","../../../packages/ra-core/esm/auth/useGetIdentity.js","../../../packages/ra-ui-materialui/esm/layout/UserMenu.js","../../../packages/ra-ui-materialui/esm/layout/HideOnScroll.js","../../../packages/ra-ui-materialui/esm/layout/AppBar.js","../../../packages/ra-core/esm/i18n/useLocale.js","../../../packages/ra-ui-materialui/esm/layout/Sidebar.js","../../../packages/ra-ui-materialui/esm/layout/MenuItemLink.js","../../../packages/ra-ui-materialui/esm/layout/DashboardMenuItem.js","../../../packages/ra-ui-materialui/esm/layout/Menu.js","../../../packages/ra-ui-materialui/esm/layout/Notification.js","../../../packages/ra-ui-materialui/esm/layout/Title.js","../../../packages/ra-ui-materialui/esm/layout/Error.js","../../../packages/ra-ui-materialui/esm/defaultTheme.js","../../../packages/ra-ui-materialui/esm/layout/Layout.js","../../../packages/ra-ui-materialui/esm/layout/NotFound.js","../../../packages/ra-ui-materialui/esm/layout/Loading.js","../../../packages/ra-ui-materialui/esm/layout/LoadingPage.js","../../../packages/ra-core/esm/auth/useLogin.js","../../../packages/ra-ui-materialui/esm/auth/LoginForm.js","../../../packages/ra-ui-materialui/esm/auth/Login.js","../../../packages/ra-ui-materialui/esm/auth/Logout.js","../../../packages/react-admin/esm/AdminUI.js","../../../packages/react-admin/esm/Admin.js","../../../packages/ra-core/esm/core/ResourceContext.js","../../../packages/ra-core/esm/core/ResourceContextProvider.js","../../../packages/ra-core/esm/core/Resource.js","authProvider.ts","configuration/actions.ts","themeReducer.ts","layout/Logo.tsx","layout/AppBar.tsx","../../../packages/ra-core/esm/controller/ListContext.js","../../../packages/ra-core/esm/controller/useListContext.js","../../../packages/ra-core/esm/controller/checkMinimumRequiredProps.js","../../../packages/ra-core/esm/reducer/admin/resource/list/queryReducer.js","../../../packages/ra-core/esm/util/removeEmpty.js","../../../packages/ra-core/esm/util/removeKey.js","../../../packages/ra-core/esm/controller/useListParams.js","../../../packages/ra-core/esm/controller/useRecordSelection.js","../../../packages/ra-core/esm/export/defaultExporter.js","../../../packages/ra-core/esm/export/downloadCSV.js","../../../packages/ra-core/esm/core/useResourceContext.js","../../../packages/ra-core/esm/controller/useListController.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterFormInput.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterForm.js","../../../packages/ra-core/esm/util/FieldTitle.js","../../../packages/ra-core/esm/util/getFieldLabelTranslationArgs.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterButtonMenuItem.js","../../../packages/ra-ui-materialui/esm/button/Button.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterButton.js","../../../packages/ra-ui-materialui/esm/list/filter/Filter.js","../../../packages/ra-core/esm/form/validate.js","../../../packages/ra-core/esm/form/isRequired.js","../../../packages/ra-core/esm/form/useInput.js","../../../packages/ra-ui-materialui/esm/input/ResettableTextField.js","../../../packages/ra-core/esm/form/ValidationError.js","../../../packages/ra-ui-materialui/esm/input/InputHelperText.js","../../../packages/ra-ui-materialui/esm/input/sanitizeInputRestProps.js","../../../packages/ra-ui-materialui/esm/input/TextInput.js","../../../packages/ra-ui-materialui/esm/input/SearchInput.js","../../../packages/ra-ui-materialui/esm/input/DateInput.js","../../../packages/ra-ui-materialui/esm/input/NullableBooleanInput.js","../../../packages/ra-core/esm/controller/ListFilterContext.js","../../../packages/ra-core/esm/controller/ListSortContext.js","../../../packages/ra-core/esm/controller/ListPaginationContext.js","../../../packages/ra-core/esm/controller/ListContextProvider.js","../../../packages/ra-ui-materialui/esm/list/ListToolbar.js","../../../packages/ra-core/esm/controller/useListPaginationContext.js","../../../packages/ra-ui-materialui/esm/list/pagination/PaginationActions.js","../../../packages/ra-ui-materialui/esm/list/pagination/PaginationLimit.js","../../../packages/ra-ui-materialui/esm/list/pagination/Pagination.js","../../../packages/ra-core/esm/actions/dataActions/crudDeleteMany.js","../../../packages/ra-ui-materialui/esm/layout/Confirm.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteButton.js","../../../packages/ra-ui-materialui/esm/layout/TopToolbar.js","../../../packages/ra-ui-materialui/esm/list/BulkActionsToolbar.js","../../../packages/ra-core/esm/core/useResourceDefinition.js","../../../packages/ra-ui-materialui/esm/button/CreateButton.js","../../../packages/ra-core/esm/export/fetchRelatedRecords.js","../../../packages/ra-ui-materialui/esm/button/ExportButton.js","../../../packages/ra-ui-materialui/esm/list/ListActions.js","../../../packages/ra-ui-materialui/esm/list/Empty.js","../../../packages/ra-ui-materialui/esm/list/ListView.js","../../../packages/ra-ui-materialui/esm/list/List.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridHeaderCell.js","../../../packages/ra-ui-materialui/esm/list/Placeholder.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridLoading.js","../../../packages/ra-core/esm/controller/useExpanded.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridCell.js","../../../packages/ra-ui-materialui/esm/list/datagrid/ExpandRowButton.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridRow.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridBody.js","../../../packages/ra-ui-materialui/esm/list/datagrid/useDatagridStyles.js","../../../packages/ra-ui-materialui/esm/list/datagrid/Datagrid.js","../../../packages/ra-ui-materialui/esm/field/sanitizeFieldRestProps.js","../../../packages/ra-ui-materialui/esm/field/types.js","../../../packages/ra-ui-materialui/esm/field/DateField.js","../../../packages/ra-ui-materialui/esm/field/NumberField.js","../../../packages/ra-ui-materialui/esm/field/BooleanField.js","segments/data.ts","visitors/SegmentsField.tsx","../../../packages/ra-core/esm/form/useChoices.js","../../../packages/ra-ui-materialui/esm/input/SelectInput.js","visitors/SegmentInput.tsx","../../../packages/ra-ui-materialui/esm/Link.js","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","../../../packages/ra-ui-materialui/esm/button/EditButton.js","visitors/MobileGrid.tsx","../../../packages/ra-core/esm/controller/useListFilterContext.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterLiveSearch.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterList.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterListItem.js","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","../../../packages/ra-core/esm/controller/saveModifiers.js","../../../packages/ra-core/esm/controller/details/useCreateController.js","../../../packages/ra-core/esm/controller/RecordContext.js","../../../packages/ra-core/esm/controller/details/CreateContext.js","../../../packages/ra-core/esm/controller/details/SaveContext.js","../../../packages/ra-core/esm/controller/details/CreateContextProvider.js","../../../packages/ra-ui-materialui/esm/layout/TitleForRecord.js","../../../packages/ra-ui-materialui/esm/detail/CreateView.js","../../../packages/ra-core/esm/controller/details/useCreateContext.js","../../../packages/ra-ui-materialui/esm/detail/Create.js","../../../packages/ra-core/esm/form/useInitializeFormWithRecord.js","../../../packages/ra-core/esm/form/useWarnWhenUnsavedChanges.js","../../../packages/ra-core/esm/form/sanitizeEmptyValues.js","../../../packages/ra-core/esm/form/getFormInitialValues.js","../../../packages/ra-core/esm/form/FormContext.js","../../../packages/ra-core/esm/form/FormWithRedirect.js","../../../packages/ra-ui-materialui/esm/input/Labeled.js","../../../packages/ra-ui-materialui/esm/form/FormInput.js","../../../packages/ra-ui-materialui/esm/button/SaveButton.js","../../../packages/ra-core/esm/controller/button/useDeleteWithUndoController.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithUndoButton.js","../../../packages/ra-core/esm/controller/button/useDeleteWithConfirmController.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteButton.js","../../../packages/ra-ui-materialui/esm/form/Toolbar.js","../../../packages/ra-ui-materialui/esm/layout/CardContentInner.js","../../../packages/ra-ui-materialui/esm/form/SimpleForm.js","../../../packages/ra-ui-materialui/esm/input/PasswordInput.js","visitors/VisitorCreate.tsx","../../../packages/ra-core/esm/actions/dataActions/crudGetOne.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdate.js","../../../packages/ra-core/esm/controller/details/useEditController.js","../../../packages/ra-core/esm/controller/details/EditContext.js","../../../packages/ra-core/esm/controller/details/EditContextProvider.js","../../../packages/ra-core/esm/controller/details/useEditContext.js","../../../packages/ra-ui-materialui/esm/button/ShowButton.js","../../../packages/ra-ui-materialui/esm/detail/EditActions.js","../../../packages/ra-ui-materialui/esm/detail/EditView.js","../../../packages/ra-ui-materialui/esm/detail/Edit.js","../../../packages/ra-ui-materialui/esm/field/TextField.js","../../../packages/ra-core/esm/controller/field/getResourceLinkPath.js","../../../packages/ra-core/esm/controller/useReference.js","../../../packages/ra-ui-materialui/esm/layout/LinearProgress.js","../../../packages/ra-ui-materialui/esm/field/ReferenceField.js","../../../packages/ra-core/esm/controller/input/referenceDataStatus.js","../../../packages/ra-core/esm/controller/usePaginationState.js","../../../packages/ra-core/esm/controller/useSortState.js","../../../packages/ra-core/esm/controller/useFilterState.js","../../../packages/ra-core/esm/controller/useSelectionState.js","../../../packages/ra-core/esm/controller/input/useReferenceInputController.js","../../../packages/ra-ui-materialui/esm/input/ReferenceError.js","../../../packages/ra-ui-materialui/esm/input/ReferenceInput.js","../../../packages/ra-core/esm/form/useSuggestions.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionList.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionItem.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInput.js","../../../packages/ra-ui-materialui/esm/field/FunctionField.js","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","visitors/AddressField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","../../../packages/ra-ui-materialui/esm/input/InputPropTypes.js","../../../packages/ra-ui-materialui/esm/input/BooleanInput.js","orders/Basket.tsx","orders/Totals.tsx","orders/OrderEdit.tsx","orders/index.ts","../../../packages/ra-core/esm/actions/dataActions/crudUpdateMany.js","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","../../../packages/ra-ui-materialui/esm/input/SelectArrayInput.js","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","invoices/InvoiceShow.tsx","../../../packages/ra-core/esm/controller/details/useShowController.js","invoices/InvoiceList.tsx","invoices/index.ts","../../../packages/ra-ui-materialui/esm/input/NumberInput.js","../../../packages/ra-core/esm/controller/useListSortContext.js","../../../packages/ra-ui-materialui/esm/button/SortButton.js","../../../packages/ra-core/esm/controller/ListBase.js","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","../../../packages/ra-core/esm/util/escapePath.js","../../../packages/ra-ui-materialui/esm/form/TabbedFormTabs.js","../../../packages/ra-ui-materialui/esm/form/TabbedForm.js","../../../packages/ra-ui-materialui/esm/form/FormTab.js","../../../packages/ra-core/esm/controller/field/useReferenceManyFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceManyField.js","../../../packages/ra-input-rich-text/esm/QuillSnowStylesheet.js","../../../packages/ra-input-rich-text/esm/styles.js","../../../packages/ra-input-rich-text/esm/index.js","products/Poster.tsx","products/ProductCreate.tsx","products/ProductEdit.tsx","products/index.tsx","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/welcome_illustration.svg","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","../../../packages/ra-core/esm/i18n/useSetLocale.js","../../../packages/ra-core/esm/loading/useUpdateLoading.js","configuration/Configuration.tsx","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","routes.tsx","i18n/en.ts","dataProvider/index.ts","fakeServer/index.ts","App.tsx","index.tsx","../../../packages/ra-core/esm/sideEffect/useRefresh.js","../../../packages/ra-core/esm/dataProvider/useRefreshWhenVisible.js","../../../packages/ra-core/esm/dataProvider/useDeleteMany.js","../../../packages/ra-core/esm/dataProvider/useCreate.js","../../../packages/ra-core/esm/dataProvider/useDelete.js","../../../packages/ra-core/esm/dataProvider/useGetOne.js","../../../packages/ra-core/esm/dataProvider/useUpdate.js","../../../packages/ra-core/esm/dataProvider/useUpdateMany.js","../../../packages/ra-core/esm/dataProvider/useGetManyReference.js","../../../packages/ra-core/esm/dataProvider/convertLegacyDataProvider.js","../../../packages/ra-core/esm/dataProvider/useGetMany.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMany.js","../../../packages/ra-core/esm/actions/clearActions.js","../../../packages/ra-core/esm/sideEffect/useUnselectAll.js","../../../packages/ra-core/esm/sideEffect/useRedirect.js","../../../packages/ra-core/esm/auth/useLogoutIfAccessDenied.js","../../../packages/ra-core/esm/dataProvider/defaultDataProvider.js","../../../packages/ra-core/esm/dataProvider/useDataProvider.js","../../../packages/ra-core/esm/dataProvider/replyWithCache.js","../../../packages/ra-core/esm/controller/useVersion.js","../../../packages/ra-core/esm/reducer/admin/references/oneToMany.js","../../../packages/ra-core/esm/dataProvider/useQueryWithStore.js","../../../packages/ra-core/esm/dataProvider/useGetList.js","../../../packages/ra-core/esm/sideEffect/useNotify.js","../../../packages/ra-core/esm/auth/useLogout.js","../../../packages/ra-core/esm/dataProvider/getDataProviderCallArguments.js","../../../packages/ra-core/esm/util/resolveRedirectTo.js","../../../packages/ra-core/esm/util/warning.js","../../../packages/ra-core/esm/util/linkToRecord.js","../../../packages/ra-core/esm/actions/dataActions/crudGetManyReference.js","../../../packages/ra-core/esm/dataProvider/useIsAutomaticRefreshEnabled.js","../../../packages/ra-core/esm/dataProvider/DataProviderContext.js","../../../packages/ra-core/esm/dataProvider/undoableEventEmitter.js","../../../packages/ra-core/esm/actions/fetchActions.js","../../../packages/ra-core/esm/core/dataFetchActions.js","../../../packages/ra-core/esm/auth/AuthContext.js","../../../packages/ra-core/esm/auth/useAuthProvider.js","../../../packages/ra-core/esm/actions/notificationActions.js","../../../packages/ra-core/esm/actions/uiActions.js","../../../packages/ra-core/esm/util/hooks.js","../../../packages/ra-core/esm/actions/listActions.js"],"names":["UNDOABLE","UNDO","undo","type","COMPLETE","complete","START_OPTIMISTIC_MODE","startOptimisticMode","STOP_OPTIMISTIC_MODE","stopOptimisticMode","useDeclarativeSideEffects","notify","useNotify","redirect","useRedirect","refresh","useRefresh","unselectAll","useUnselectAll","useMemo","resource","_a","_b","onSuccess","undefined","onFailure","convertToFunctionSideEffect","sideEffects","Object","keys","length","notification","redirectTo","needRefresh","needUnselectAll","body","level","messageArgs","__assign","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","Array","k","a","j","jl","useDataProviderWithDeclarativeSideEffects","dataProvider","useDataProvider","getSideEffects","Proxy","get","target","name","args","_i","getDataProviderCallArguments","payload","allArguments","options","finalOptions","finalAllArguments","some","key","includes","sideEffect","otherOptions","slice","toString","Promise","reject","mergeDefinitionAndCallTimeParameters","query","callTimeQuery","callTimeOptions","Event","Error","sanitizeOptions","merge","hasDeclarativeSideEffectsSupport","withDeclarativeSideEffectsSupport","useMutation","useSafeSetState","data","error","total","loading","loaded","state","setState","dataProviderWithDeclarativeSideEffects","useCallback","finalDataProvider","params","prevState","then","catch","errorFromResponse","JSON","stringify","actionType","GET_LIST","GET_ONE","GET_MANY","GET_MANY_REFERENCE","CREATE","UPDATE","UPDATE_MANY","DELETE","DELETE_MANY","REGISTER_RESOURCE","UNREGISTER_RESOURCE","getFetchedAt","newRecordIds","oldRecordFetchedAt","now","cacheDuration","Date","newFetchedAt","forEach","recordId","latestValidDate","setTime","getTime","stillValidFetchedAt","pickBy","date","hideFetchedAt","records","defineProperty","enumerable","configurable","writable","addRecordsAndRemoveOutdated","newRecords","oldRecords","newRecordsById","record","id","map","fetchedAt","isEqual","addOneRecord","newRecord","value","includesNotStrict","items","element","item","removeRecords","removedRecordIds","entries","filter","reduce","obj","val","initialState","dataReducer","previousState","meta","optimistic","fetch","updatedRecord","updatedRecords","ids","fetchResponse","fetchStatus","FETCH_END","updatedFetchedAt","addRecords","idsReducer","action","totalReducer","validityReducer","validUntil","initialSubstate","validity","cachedRequestsReducer","REFRESH_VIEW","fromCache","requestKey","requestPayload","previousSubState","expanded","TOGGLE_LIST_ITEM_EXPAND","index","el","CRUD_GET_LIST","CRUD_GET_LIST_SUCCESS","CRUD_CREATE","uniq","loadedOnce","defaultState","sort","order","page","perPage","paramsReducer","CRUD_CHANGE_LIST_PARAMS","CRUD_DELETE","selectedIdsReducer","SET_LIST_SELECTED_IDS","TOGGLE_LIST_ITEM","defaultReducer","combineReducers","cachedRequests","selectedIds","addIds","oldValidityRegistry","validityRegistry","removeIds","loadingReducer","FETCH_START","FETCH_ERROR","FETCH_CANCEL","Math","max","notificationsReducer","SHOW_NOTIFICATION","concat","HIDE_NOTIFICATION","getNotification","admin","notifications","possibleValuesreducer","relatedTo","oneToMany","possibleValues","automaticRefreshEnabled","sidebarOpen","window","matchMedia","matches","viewVersion","uiReducer","TOGGLE_SIDEBAR","SET_SIDEBAR_VISIBILITY","SET_AUTOMATIC_REFRESH","customQueriesReducer","resources","resourceState","props","list","acc","customQueries","references","ui","getResources","resourceGetResources","adminGetResources","USER_LOGIN","USER_CHECK","USER_LOGOUT","__generator","thisArg","f","y","g","_","label","sent","trys","ops","next","verb","Symbol","iterator","v","op","TypeError","done","pop","push","step","authProvider","all","takeEvery","handleLogin","handleCheck","handleLogout","takeLatest","handleFetchError","nextPathnameSelector","locationState","router","location","nextPathname","currentPathnameSelector","getErrorMessage","defaultMessage","message","authPayload","e_1","errorMessage","put","pathName","select","auth","showNotification","error_1","replace","pathname","clearState","hideNotification","handleCallback","callback","handleFetch","fetchMeta","restType","successSideEffects","failureSideEffects","response","Function","sanitizeFetchType","cancelled","takeFetchAction","handleNotification","_c","_d","undoable","handleRedirection","basePath","refreshView","resolveRedirectTo","oldIds","oldIdsSet","Set","add","from","finalizeFactory","tasks","accumulations","actionCreator","accumulatedValue","delay","accumulateFactory","finalize","accumulateValues","accumulateKey","cancel","fork","accumulate","handleRefresh","handleUndoRace","undoableAction","metaWithoutSideEffects","race","take","watchUndoable","redirection","history","customReducers","customSagas","appReducer","connectRouter","createAppReducer","sagaMiddleware","createSagaMiddleware","composeEnhancers","compose","store","createStore","CLEAR_STATE","applyMiddleware","routerMiddleware","run","adminSaga","TranslationContext","createContext","locale","setLocale","i18nProvider","translate","x","changeLocale","resolve","getLocale","displayName","TranslationProvider","children","newLocale","React","createElement","Provider","Children","only","CoreAdminContext","reduxIsAlreadyInitialized","useContext","ReactReduxContext","finalAuthProvider","legacyAuthProvider","login","logout","checkAuth","checkError","getPermissions","convertLegacyAuthProvider","convertLegacyDataProvider","finalHistory","createHashHistory","renderCore","AuthContext","DataProviderContext","ConnectedRouter","createAdminStore","englishMessages","ra","add_filter","back","bulk_actions","clear_input_value","clone","confirm","create","delete","edit","export","remove_filter","remove","save","search","show","unselect","expand","close","open_menu","close_menu","boolean","true","false","null","dashboard","not_found","empty","invite","input","file","upload_several","upload_single","image","all_missing","many_missing","single_missing","password","toggle_visible","toggle_hidden","about","are_you_sure","bulk_delete_content","bulk_delete_title","delete_content","delete_title","details","invalid_form","no","yes","unsaved_changes","navigation","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","page_rows_per_page","prev","sort_by","ASC","DESC","auth_check_error","user_menu","username","sign_in","sign_in_error","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","validation","required","minLength","maxLength","minValue","maxValue","number","email","oneOf","regex","getMessages","initialLocale","polyglotOptions","messages","polyglot","Polyglot","phrases","bind","newPolyglot","polyglotI18nProvider","defaultMessages","AdminContext","defaultProps","defaultI18nProvider","checkAuthWithoutAuthProvider","useCheckAuth","useAuthProvider","useLogout","logoutOnFailure","disableNotification","defaultAuthParams","loginUrl","emptyParams","useEffect","getPermissionsWithoutProvider","useGetPermissions","alreadyFetchedPermissions","usePermissionsOptimized","permissions","isEmptyChildren","count","WithPermissions","authParams","render","component","staticContext","warning","useAuthenticated","route","RoutesWithLayout","catchAll","customRoutes","title","childrenAsArray","toArray","firstChild","Switch","cloneElement","child","Route","path","intent","exact","routeProps","Redirect","to","useAuthState","authenticated","__awaiter","_arguments","P","generator","fulfilled","rejected","result","CoreAdminRouter","doLogout","oneSecondHasPassed","useTimeout","computedChildren","setComputedChildren","initializeResources","resolveChildren","childrenFuncResult","resolvedChildren","console","layout","LoadingPage","menu","ready","theme","isArray","childrenToRender","noLayout","renderCustomRoutesWithoutLayout","DefaultLayout","Noop","CoreAdminUI","disableTelemetry","_e","_f","_g","loginPage","_h","Ready","_j","logoutElement","Image","src","hostname","propName","componentName","isValidElementType","identity","useTranslate","RefreshIconButton","icon","defaultIcon","onClick","className","rest","dispatch","useDispatch","handleClick","event","preventDefault","Tooltip","IconButton","color","NavigationRefresh","propTypes","PropTypes","string","useStyles","makeStyles","loader","margin","spacing","loadedIcon","LoadingIndicator","classes","useRefreshWhenVisible","useSelector","useTheme","CircularProgress","classNames","size","thickness","object","width","defaultIdentity","fullName","useGetIdentity","getIdentity","user","userButton","textTransform","avatar","height","UserMenu","useState","anchorEl","setAnchorEl","open","Boolean","handleMenu","currentTarget","handleClose","Button","startIcon","Avatar","alt","Menu","anchorOrigin","vertical","horizontal","transformOrigin","onClose","menuItem","isValidElement","node","isRequired","AccountCircle","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","toolbar","paddingRight","menuButton","marginLeft","marginRight","menuButtonIconClosed","transition","transitions","easing","sharp","duration","leavingScreen","transform","menuButtonIconOpen","flex","textOverflow","whiteSpace","overflow","AppBar","userMenu","isXSmall","useMediaQuery","breakpoints","down","MuiAppBar","Toolbar","disableGutters","variant","enterDelay","toggleSidebar","MenuIcon","root","Typography","DefaultUserMenu","bool","oneOfType","memo","useLocale","Sidebar","closedSize","isSmall","setSidebarVisibility","drawerPaper","Drawer","PaperProps","onMenuClick","defaultOnMenuClick","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedTop","paperAnchorDockedRight","paperAnchorDockedBottom","modal","position","overflowX","lodashGet","backgroundColor","borderRight","marginTop","palette","background","default","up","border","zIndex","NavLinkRef","forwardRef","ref","NavLink","innerRef","text","secondary","active","primary","minWidth","MenuItemLink","primaryText","leftIcon","sidebarIsOpen","handleMenuTap","renderMenuItem","MenuItem","classnames","activeClassName","ListItemIcon","titleAccess","placement","func","DashboardMenuItem","DashboardIcon","dense","main","display","flexDirection","justifyContent","closed","translatedResourceName","smart_count","inflection","humanize","pluralize","hasDashboard","shallowEqual","hasList","DefaultIcon","dark","contrastText","light","Notification","autoHideDuration","setOpen","styles","handleRequestClose","handleExited","undoableEventEmitter","emit","isUndo","handleUndo","Snackbar","disableWindowBlurListener","onExited","ContentProps","Title","defaultTitle","container","document","getElementById","titleElement","createPortal","TitlePropType","any","alignItems","padding","fontFamily","opacity","panel","panelDetails","goBack","go","errorInfo","Fragment","role","ErrorIcon","process","History","typography","h6","fontWeight","sidebar","closedWidth","overrides","MuiFilledInput","MuiButtonBase","content","top","right","borderRadius","disableRipple","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","LayoutWithoutTheme","_super","_this","hasError","listen","componentDidCatch","appBar","match","appFrame","contentWithSidebar","ComponentPropType","DefaultAppBar","DefaultError","DefaultMenu","DefaultNotification","DefaultSidebar","Component","EnhancedLayout","connect","withRouter","withStyles","createStyles","minHeight","getContrastText","flexGrow","flexBasis","paddingTop","paddingLeft","Layout","themeOverride","themeProp","useRef","createMuiTheme","setTheme","current","ThemeProvider","defaultTheme","textAlign","NotFound","sanitizeRestProps","HotTub","Loading","loadingPrimary","loadingSecondary","useLogin","useLocation","useHistory","nextPathName","ret","redirectUrl","afterLoginUrl","loginWithoutProvider","form","button","Input","touched","inputProps","TextField","helperText","fullWidth","LoginForm","setLoading","Form","onSubmit","values","validate","errors","handleSubmit","noValidate","Field","autoFocus","disabled","autoComplete","CardActions","backgroundRepeat","backgroundSize","backgroundImage","card","Login","containerRef","muiTheme","backgroundImageLoaded","updateBackgroundImage","style","img","onload","lazyLoadBackgroundImage","Card","LockIcon","DefaultLoginForm","LogoutWithRef","ExitIcon","AdminUI","Admin","appLayout","logoutButton","ResourceContext","ResourceContextProvider","defaultOptions","ResourceRegister","hasEdit","hasShow","hasCreate","ResourceRoutes","isRegistered","resourceData","decodeURIComponent","Resource","localStorage","setItem","removeItem","getItem","CHANGE_THEME","changeTheme","themeReducer","Logo","viewBox","aria-label","lineHeight","fontSize","letterSpacing","wordSpacing","strokeWidth","fill","spacer","ConfigurationMenu","CustomUserMenu","CustomAppBar","elevation","ListContext","currentSort","displayedFilters","filterValues","hideFilter","onSelect","onToggleItem","onUnselectItems","setFilters","setPage","setPerPage","setSort","showFilter","useListContext","context","useCheckMinimumRequiredProps","requiredProps","propNames","missingProps","prop","join","SET_SORT","SORT_ASC","SORT_DESC","SET_PAGE","SET_PER_PAGE","SET_FILTER","queryReducer","removeEmpty","isEmpty","removeKey","deepRemoveKey","paths","split","deepKey","deep","emptyObject","defaultSort","field","defaultParams","validQueryParams","parseObject","parse","err","parseQueryFromLocation","getQuery","queryFromLocation","filterDefaultValues","hasCustomParams","getNumberOrDefault","possibleNumber","defaultValue","parsedNumber","parseInt","isNaN","useListParams","debounce","reduxState","requestSignature","changeListParams","changeParams","newParams","newPage","newPerPage","displayedFilterValues","debouncedSetFilters","lodashDebounce","filterName","filters","set","defaultRecords","useSelectItems","newIds","setListSelectedIds","toggle","toggleListItem","clearSelection","defaultExporter","jsonExport","csv","filename","fakeLink","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","setAttribute","URL","createObjectURL","click","downloadCSV","useResourceContext","defaultData","injectedProps","sanitizeListRestProps","useListController","exporter","queryModifiers","useRecordSelection","selectionModifiers","useGetList","defaultIds","defaultTotal","finalTotal","finalIds","totalPages","ceil","resourceName","emptyRecord","pointerEvents","hideButton","FilterFormInput","filterElement","handleHide","source","alwaysOn","ActionHide","allowEmpty","flexWrap","clearFix","clear","FilterForm","initialValues","dataset","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid","validating","visited","arrayOf","handleFinalFormSubmit","FormSpySubscription","EnhancedFilterForm","mergedInitialValuesWithDefaultValues","lodashSet","mergeInitialValuesWithDefaultValues","rest2","mutators","arrayMutators","formProps","FormSpy","subscription","onChange","FieldTitle","getFieldLabelTranslationArgs","FilterButtonMenuItem","onShow","handleShow","alignIcon","restProps","sanitizeButtonRestProps","MuiButton","labelRightIcon","smallIcon","mediumIcon","largeIcon","handleSubmitWithRedirect","onSave","saving","submitOnEnter","FilterButton","hiddenFilters","handleClickButton","ContentFilter","Filter","renderButton","renderForm","EMAIL_REGEX","getMessage","memoize","fn","lodashMemoize","isFunction","min","Number","pattern","test","oneOfTypeMessage","it","useInput","customOnBlur","onBlur","customOnChange","customOnFocus","onFocus","finalName","sanitizedValidate","validators","allValidators","allValidators_1","validator","composeValidators","useFinalFormField","initialValue","handleBlur","handleChange","handleFocus","clearIcon","visibleClearIcon","clearButton","selectAdornment","inputAdornedEnd","handleMouseDownClearButton","ResettableTextField","clearAlwaysVisible","InputProps","resettable","handleClickClearButton","visibleClearButton","restClasses","endAdornment","InputPropsWithoutEndAdornment","MuiTextField","adornedEnd","InputAdornment","onMouseDown","ClearIcon","getEndAdornment","ValidationError","defaultInnerHTML","__html","InputHelperText","dangerouslySetInnerHTML","sanitizeInputRestProps","afterSubmit","allowNull","beforeSubmit","format","formatOnBlur","formClassName","initializeForm","limitChoicesToValue","multiple","optionText","optionValue","translateChoice","validateFields","TextInput","SearchInput","hiddenLabel","placeholder","SearchIcon","convertDateToString","getDate","yyyy","getFullYear","MM","getMonth","dd","dateRegex","defaultInputLabelProps","shrink","getStringFromDate","DateInput","InputLabelProps","getBooleanFromString","getStringFromBoolean","NullableBooleanInput","nullLabel","falseLabel","trueLabel","ListFilterContext","ListSortContext","usePickSortContext","pick","ListPaginationContext","usePickPaginationContext","ListContextProvider","actions","ListToolbar","useListPaginationContext","flexShrink","currentPageButton","hellip","PaginationActions","rowsPerPage","onChangePage","getNbPages","gotoPage","nbPages","ChevronRight","ChevronLeft","range","pageNum","backIconButtonProps","nextIconButtonProps","CardContent","emptyArray","Pagination","rowsPerPageOptions","limit","handlePageChange","stopPropagation","handlePerPageChange","labelDisplayedRows","offsetBegin","offsetEnd","TablePagination","onChangeRowsPerPage","ActionsComponent","labelRowsPerPage","DefaultPaginationActions","DefaultPaginationLimit","CRUD_DELETE_MANY","confirmPrimary","confirmWarning","fade","iconPaddingStyle","Confirm","isOpen","confirmColor","ConfirmIcon","CancelIcon","onConfirm","translateOptions","handleConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","elementType","ActionCheck","AlertError","deleteButton","ActionDelete","BulkDeleteWithConfirmButton","confirmTitle","confirmContent","useDeleteMany","deleteMany","inflect","BulkDeleteWithUndoButton","BulkDeleteButton","paddingBottom","TopToolbar","lighten","buttons","collapsed","overflowY","BulkActionsToolbar","CloseIcon","useResourceDefinition","find","CreateButton","Fab","Link","floating","ContentAdd","bottom","left","floatingLink","prevProps","nextProps","getRelatedIds","fetchRelatedRecords","getMany","post","ExportButton","maxResults","customExporter","exporterFromContext","getList","pagination","DownloadIcon","ListActions","Empty","emptyMessage","inviteMessage","Inbox","paragraph","ListView","aside","bulkActionButtons","Content","controllerProps","getListControllerProps","listContext","version","useVersion","shouldRenderEmptyPage","bulkActionsDisplayed","hasBulkActions","renderList","shape","array","DefaultActions","DefaultPagination","boxShadow","noResults","List","DatagridHeaderCell","updateSort","isSorting","TableCell","headerClassName","align","sortable","sortBy","TableSortLabel","sortByOrder","grey","Placeholder","times","nbChildren","DatagridLoading","nbFakeLines","Table","table","TableHead","TableRow","row","expandHeader","expandIconCell","Checkbox","checked","headerCell","TableBody","key1","expandIcon","ExpandMoreIcon","key2","rowCell","useExpanded","expandedList","toggleListItemExpand","DatagridCell","cellClassName","expandContentId","tabIndex","computeNbColumns","defaultClasses","checkbox","DatagridRow","hover","rowClick","selected","selectable","toggleExpanded","nbColumns","setNbColumns","newNbColumns","handleToggleExpand","handleToggleSelection","effect","persist","linkToRecord","ExpandRowButton","colSpan","String","PureDatagridRow","prevPropsWithoutChildren","nextPropsWithoutChildren","DatagridBody","rowStyle","isRowSelectable","rowIndex","rowEven","rowOdd","clickableRow","muiName","PureDatagridBody","useDatagridStyles","tableLayout","thead","tbody","headerRow","borderTopLeftRadius","borderTopRightRadius","cursor","shortest","Datagrid","optimized","newField","newOrder","handleSelectAll","all_1","every","sanitizeFieldRestProps","addLabel","emptyText","linkType","link","fieldPropTypes","toLocaleStringSupportsLocales","toLocaleString","RangeError","DateField","locales","showTime","dateString","toLocaleDateString","hasNumberFormat","Intl","NumberFormat","NumberField","BooleanField","valueLabelTrue","valueLabelFalse","TrueIcon","FalseIcon","ariaLabel","DoneIcon","marginBottom","chip","SegmentsField","groups","segmentId","segment","segments","Chip","useChoices","getChoiceText","choice","choiceName","getChoiceValue","SelectInput","choices","disableValue","emptyValue","renderEmptyItemOption","renderMenuItemOption","crudGetMatching","crudGetOne","filterToQuery","reference","setFilter","setPagination","SegmentInput","textDecoration","RRLink","AvatarField","FullNameField","first_name","last_name","CustomerLinkField","ColoredNumberField","EditButton","ContentCreate","cardTitleContent","cardContent","body1","MobileGrid","CardHeader","nb_commands","currency","useListFilterContext","onSearchChange","FilterList","Box","mt","mr","disablePadding","listItem","listItemText","isSelected","toggleFilter","keysToRemove","removeFilter","ListItem","ListItemText","ListItemSecondaryAction","MuiCard","Aside","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","hiddenOnSmallScreens","VisitorList","isXsmall","VisitorListAside","useSaveModifiers","onSuccessRef","onFailureRef","transformRef","setOnSuccess","setOnFailure","setTransform","getRecord","searchParams","getDefaultRedirectRoute","RecordContext","RecordContextProvider","usePickRecordContext","CreateContext","successMessage","SaveContext","SaveContextProvider","usePickSaveContext","CreateContextProvider","TitleForRecord","CreateView","useCreateContext","noActions","Create","recordToUse","useCreate","onSuccessFromSave","onFailureFromSave","transformFromSave","singularize","useCreateController","useInitializeFormWithRecord","useForm","getState","initialValuesMergedWithRecord","setConfig","restart","useWarnWhenUnsavedChanges","enable","formLocation","unsavedChanges","sessionStorage","change","formState","dirtyFieldValues","sanitizeEmptyValues","initialValuesWithEmptyFields","getValues","FormContext","setOnSave","defaultSubscription","FormView","warnWhenUnsavedChanges","setRedirect","setAutomaticRefresh","FormWithRedirect","debug","decorators","destroyOnUnregister","initialValuesEqual","keepDirtyOnReinitialize","validateOnBlur","shouldSanitizeEmptyValues","newRedirect","newOnSave","formContextValue","finalInitialValues","warn","getFormInitialValues","finalRedirect","sanitizedValues","boxSizing","verticalAlign","Labeled","name_1","FormControl","InputLabel","htmlFor","labelStyle","FormInput","SaveButton","useSaveContext","displayedLabel","ContentSave","useDeleteWithUndoController","useDelete","deleteOne","handleDelete","previousData","DeleteWithUndoButton","useDeleteWithConfirmController","handleDialogOpen","handleDialogClose","DeleteWithConfirmButton","DeleteButton","desktopToolbar","mobileToolbar","defaultToolbar","valueOrDefault","alwaysEnableSaveButton","MuiToolbar","withWidth","initialWidth","CardContentInner","SimpleForm","SimpleFormView","__versions","PasswordInput","initiallyVisible","visible","setVisible","Visibility","VisibilityOff","address","maxWidth","zipcode","city","comment","confirm_password","validatePasswords","requiredValidate","SectionTitle","gutterBottom","Separator","pt","VisitorCreate","multiline","CRUD_GET_ONE","CRUD_UPDATE","useEditController","useGetOne","useUpdate","update","DefaultRedirect","EditContext","EditContextProvider","useEditContext","ShowButton","ImageEye","PureShowButton","EditActions","EditView","finalActions","Edit","getResourceLinkPath","sourceId","rootPath","linkTo","useReference","useGetMany","referenceRecord","LinearProgress","timeout","Progress","ReferenceField","NonEmptyReferenceField","resourceLinkPath","PureReferenceFieldView","ReferenceFieldView","isMatchingReferencesError","matchingReferences","paginationReducer","nextState","defaultPagination","initialPagination","useReducer","isFirstRender","sortReducer","useSortState","initialSort","setSortField","setSortOrder","defaultFilterToQuery","q","defaultSelection","useSelectionState","initialSelection","setSelectedIds","defaultFilter","useReferenceInputController","finalData","initialPage","initialPerPage","sortOverride","usePaginationState","setSortObject","permanentFilter","debounceTime","permanentFilterProp","latestValue","setFilterValue","permanentFilterSignature","useFilterState","possibleValuesIds","possibleValuesData","possibleValuesTotal","possibleValuesLoaded","possibleValuesLoading","possibleValuesError","_k","referenceError","referenceLoading","referenceLoaded","dataStatus","matchingReferencesError","selectedReferenceError","waiting","getDataStatus","ReferenceError","ReferenceInput","ReferenceInputView","searchText","finalMeta","warningLog","disabledHelperText","referenceSource","useSuggestions","allowDuplicates","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","suggestion","suggestionText","RegExp","defaultMatchSuggestion","suggestions","removeAlreadySelectedSuggestions","limitSuggestions","addEmptySuggestion","selectedItems","selectedValues","isInteger","newSuggestions","emptySuggestion","suggestionsContainer","suggestionsPaper","maxHeight","AutocompleteSuggestionList","menuProps","inputEl","suggestionsContainerProps","Popper","modifiers","Paper","square","clientWidth","highlightedSuggestionText","AutocompleteSuggestionItem","parts","highlightedIndex","filterValue","getSuggestionText","isHighlighted","part","highlight","AutocompleteInput","idOverride","inputOverride","isRequiredOverride","metaOverride","labelProps","inputText","shouldRenderSuggestionsOverride","shouldRenderSuggestions","_l","getSuggestionFromValue","_m","handleFilterChange","eventOrValue","storeInputRef","inputPosition","getBoundingClientRect","anchorPosition","updateAnchorEl","openMenu","_o","label_2","label_1","Downshift","inputValue","itemToString","getInputProps","getItemProps","getLabelProps","getMenuProps","isMenuOpen","inputRef","suppressRefError","FunctionField","basket","NbItemsField","CustomerReferenceField","AddressField","stateAbbr","useListStyles","cardContentRow","OrderFilter","tabs","TabbedDatagrid","ordered","setOrdered","delivered","setDelivered","setCancelled","totals","status","useGetTotals","Tabs","centered","indicatorColor","Tab","Divider","OrderList","InputPropTypes","BooleanInput","finalFormOnChange","FormGroup","FormControlLabel","control","FormHelperText","rightAlignedCell","Basket","useQueryWithStore","product_id","productId","products","price","quantity","boldCell","Totals","total_ex_taxes","delivery_fees","tax_rate","taxes","OrderTitle","CustomerDetails","RouterLink","href","CustomerAddress","useEditStyles","Spacer","m","OrderForm","Grid","xs","sm","md","OrderIcon","CRUD_UPDATE_MANY","noSelection","BulkAcceptButton","useUpdateMany","approve","BulkRejectButton","inline","ReviewListMobile","ListItemAvatar","secondaryTypographyProps","noWrap","ProductReferenceField","large","small","StarRatingField","rating","selectedRow","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","ReviewListDesktop","useFilterStyles","ReviewFilter","AcceptButton","RejectButton","ReviewEditToolbar","inlineField","ReviewEdit","onCancel","rowsMax","ReviewsBulkActionButtons","enteringScreen","listWithDrawer","ReviewList","isMatch","anchor","ReviewIcon","useAsideStyles","useEventStyles","stepper","EventList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","Stepper","orientation","Step","completed","StepLabel","StepIconComponent","review","weekday","year","month","day","hour","minute","StepContent","eventsFromOrders","eventsFromReviews","e1","e2","Order","useReviewStyles","clamp","Review","chips","SelectArrayInput","inputLabel","labelWidth","setLabelWidth","offsetWidth","classNamInputWithOptionsPropse","componenInputWithOptionsPropst","crudGetMInputWithOptionsPropsatching","crudGetOInputWithOptionsPropsne","Select","autoWidth","labelId","renderValue","SegmentsInput","addField","VisitorTitle","VisitorForm","lg","ml","VisitorIcon","CustomerField","InvoiceShow","useShowController","alignContent","invoices","ListFilters","InvoiceIcon","convertStringToNumber","float","parseFloat","NumberInput","overrideInputProps","useListSortContext","inverseOrder","fields","handleChangeSort","buttonLabel","SortIcon","endIcon","ArrowDropDownIcon","keepMounted","ListBase","gridList","tileBar","getColsForWidth","LoadingGridList","nbItems","cellHeight","cols","GridListTile","LoadedGridList","thumbnail","GridListTileBar","subtitle","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","category_id","useQuickFilterStyles","QuickFilter","ProductFilter","ProductListView","ProductList","url","TabbedFormTabs","tabsWithErrors","validTabPaths","tab","getTabFullPath","tabValue","tabPath","errorTabButton","baseUrl","TabbedForm","TabbedFormView","defaultRedirect","findTabsWithErrors","useRouteMatch","escapePath","hidden","hiddenStyle","FormTab","contentClassName","MuiTab","useReferenceManyFieldController","filterRef","setDisplayedFilters","setFilterValues","referenceId","useGetManyReference","ReferenceManyField","ReferenceManyFieldView","visibility","outline","tabSize","wordWrap","counterReset","listStyleType","counterIncrement","fontStyle","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","fillRule","borderLeft","borderColor","borderTop","QuillSnowStylesheet","RichTextInput","configureQuill","quillInstance","divRef","editor","lastValueChange","onTextChange","innerHTML","Quill","modules","clipboard","matchVisual","setContents","convert","querySelector","on","off","selection","getSelection","hasFocus","setSelection","Poster","widthFormGroup","heightFormGroup","ProductCreate","startAdornment","ProductTitle","ProductIcon","LinkToRelatedProducts","media","actionSpacer","CategoryGrid","xl","CardMedia","CategoryList","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","sidebarIsClosed","SubMenu","handleToggle","header","Collapse","unmountOnExit","menuCatalog","menuSales","menuCustomers","categories","darkTheme","colorSecondary","lightTheme","RaMenuItemLink","MuiPaper","elevation1","backgroundClip","contained","MuiLinearProgress","colorPrimary","barColorPrimary","CustomSidebar","hint","renderInput","withTypes","LoginWithTheme","publishArticleImage","Welcome","CardWithIcon","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","nb_items","customer_name","WebkitLineClamp","WebkitBoxOrient","linkContent","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","subDays","setDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","CustomerIcon","lastDay","lastMonthDays","dateFormatter","getRevenuePerDay","daysWithRevenue","curr","aggregateOrdersByDay","OrderChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","scale","domain","addDays","tickFormatter","unit","strokeDasharray","formatter","labelFormatter","flexColumn","leftCol","rightCol","singleCol","VerticalSpacer","Dashboard","fetchOrders","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","pendingReviewsCustomers","useSetLocale","startLoading","fetchStart","stopLoading","fetchEnd","useUpdateLoading","Configuration","LinkToRelatedCustomers","Segments","customEnglishMessages","pos","configuration","language","monthly_revenue","month_history","new_orders","pending_reviews","all_reviews","new_customers","all_customers","pending_orders","welcome","ra_button","demo_button","catalog","commands","first_seen","last_seen","total_spent","last_visited","today","this_week","last_week","this_month","last_month","earlier","group","fieldGroups","change_password","password_mismatch","amount","delivery","sum","unit_price","date_lte","total_gte","returned","section","shipping_address","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","relative_to_poster","detail","accept","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","factory","provider","App","setDataProvider","restoreFetch","fakeServerFactory","dataProviderFactory","dataProviderInstance","fetchDataProvider","ReactDOM","doRefresh","useIsAutomaticRefreshEnabled","lastHiddenTime","handleVisibilityChange","addEventListener","capture","removeEventListener","referencingResource","nameRelatedTo","CRUD_GET_MANY_REFERENCE","selectIds","selectTotal","selectData","getReferences","getIds","getTotal","defaultDataProvider","getManyReference","getOne","updateMany","fetchMap","legacyDataProvider","fetchType","CRUD_GET_MANY","queriesToCall","DataProviderOptions","makeGetManySelector","createSelector","callQueries","queries","accumulatedIds","union","unstable_batchedUpdates","datum","selectMany","resource1","resource2","authCheckPromise","logoutIfAccessDeniedWithoutProvider","useLogoutIfAccessDenied","logoutIfAccessDenied","finally","optimisticCalls","undoableOptimisticCalls","nbRemainingOptimisticCalls","waitFor","condition","setTimeout","doQuery","canReplyWithCache","answerWithCache","performUndoableQuery","performQuery","warnBeforeClosingWindow","getFetchType","once","replayOptimisticCalls","loggedOut","returnValue","splice","data_1","cachedRequest","getResultFromCache","isOptimistic","useStore","getRelatedReferences","removeDeletedReferences","removedIds","idsToKeep","oneToManyReducer","CRUD_GET_MANY_REFERENCE_SUCCESS","queriesThisTick","defaultIsDataLoaded","dataSelector","totalSelector","isDataLoaded","defaultDataSelector","defaultTotalSelector","requestSignatureRef","newState","allRecords","redirectToCurrentLocationAfterLogin","redirectToFromProvider","redirectToParts","newLocation","logoutWithoutProvider","OptionsProperties","lastArg","isDataProviderOptions","encodeURIComponent","EventEmitter","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","fetchActionsWithTotalResponse","defaultProvider","notificationOptions","enabled","mountedRef","ms","setReady","timer","clearTimeout"],"mappings":"8FAAA,kTAAO,IAAIA,EAAW,cAKXC,EAAO,UACPC,EAAO,WAAc,MAAQ,CACpCC,KAAMF,IAECG,EAAW,cACXC,EAAW,WAAc,MAAQ,CACxCF,KAAMC,IAECE,EAAwB,2BACxBC,EAAsB,WAAc,MAAQ,CACnDJ,KAAMG,IAECE,EAAuB,0BACvBC,EAAqB,WAAc,MAAQ,CAClDN,KAAMK,K,sHCsBKE,EAvCiB,WAC5B,IAAIC,EAASC,cACTC,EAAWC,cACXC,EAAUC,cACVC,EAAcC,cAClB,OAAOC,mBAAQ,WAAc,OAAO,SAAUC,EAAUC,GACpD,IAAIC,OAAY,IAAPD,EAAgB,CACrBE,eAAWC,EACXC,eAAWD,GACXH,EAAIE,EAAYD,EAAGC,UAAWE,EAAYH,EAAGG,UAC7CC,EAA8B,SAAUN,EAAUO,GAClD,IAAKA,GAAsC,oBAAhBA,EACvB,OAAOA,EAEX,GAAwC,IAApCC,OAAOC,KAAKF,GAAaG,OAA7B,CAGA,IAAIC,EAAeJ,EAAYI,aAAcC,EAAaL,EAAYK,WAAYC,EAAcN,EAAYZ,QAASmB,EAAkBP,EAAYV,YACnJ,OAAO,WACCc,GACApB,EAAOoB,EAAaI,KAAMJ,EAAaK,MAAOL,EAAaM,aAE3DL,GACAnB,EAASmB,GAETC,GACAlB,IAEAmB,GACAjB,EAAYG,MAIxB,MAAO,CACHG,UAAWG,EAA4BN,EAAUG,GACjDE,UAAWC,EAA4BN,EAAUK,OAEnD,CAACd,EAAQE,EAAUE,EAASE,K,SCvClCqB,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,EAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAEPgB,EAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAkEIM,EAtDiC,WAC5C,IAAIC,EAAeC,cACfC,EAAiBzD,IAkDrB,OAhDwBS,mBAAQ,WAC5B,OAAO,IAAIiD,MAAMH,EAAc,CAC3BI,IAAK,SAAUC,EAAQC,GACnB,GAAoB,kBAATA,EAGX,OAAO,WAEH,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAK7B,UAAUd,OAAQ2C,IACpCD,EAAKC,GAAM7B,UAAU6B,GAEzB,IACIlD,EACAE,EAFAJ,EAAKqD,YAA6BF,GAAOpD,EAAWC,EAAGD,SAAUuD,EAAUtD,EAAGsD,QAASC,EAAevD,EAAGuD,aAAcC,EAAUxD,EAAGwD,QAGpIC,EAAeD,EACfE,EAAoBH,EACxB,GAAIC,GACAjD,OAAOC,KAAKgD,GAASG,MAAK,SAAUC,GAChC,MAAO,CAAC,YAAa,aAAaC,SAASD,MAC3C,CACJ,IAAIE,EAAahB,EAAe/C,EAAUyD,GAG1CO,GAFsBP,EAAQtD,UACZsD,EAAQpD,UACX0B,EAAO0B,EAAS,CAAC,YAAa,eAC7CtD,EAAY4D,EAAW5D,UACvBE,EAAY0D,EAAW1D,UACvBqD,EAAeM,EACfL,EAAoBvB,EAAegB,GAAMa,MAAM,EAAGb,EAAK1C,OAAS,GAEpE,IACI,OAAOwC,EAAOC,EAAKe,YAAYrC,MAAMqB,EAA4B,kBAAblD,EAC9C,CACEA,EACAuD,EACArC,EAASA,EAAS,GAAIwC,GAAe,CAAEvD,UAAWA,EAC9CE,UAAWA,KAEjBsD,GAEV,MAAO3B,GAGH,OAAOmC,QAAQC,OAAOpC,UAKvC,CAACa,EAAcE,KC1FlB7B,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,EAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA8MPiD,EAAuC,SAAUC,EAAOC,EAAed,EAASe,GAChF,IAAKF,KAAWC,GAAiBA,aAAyBE,OACtD,MAAM,IAAIC,MAAM,sDAEpB,OAAIH,aAAyBE,MAClB,CACH1F,KAAMuF,EAAMvF,KACZiB,SAAUsE,EAAMtE,SAChBuD,QAASe,EAAMf,QACfE,QAASkB,EAAgBlB,IAE7Ba,EACO,CACHvF,KAAMuF,EAAMvF,MAAQwF,EAAcxF,KAClCiB,SAAUsE,EAAMtE,UAAYuE,EAAcvE,SAC1CuD,QAASgB,EACHK,IAAM,GAAIN,EAAMf,QAASgB,EAAchB,SACvCe,EAAMf,QACZE,QAASe,EACHI,IAAM,GAAID,EAAgBlB,GAAUkB,EAAgBH,IACpDG,EAAgBlB,IAEvB,CACH1E,KAAMwF,EAAcxF,KACpBiB,SAAUuE,EAAcvE,SACxBuD,QAASgB,EAAchB,QACvBE,QAASkB,EAAgBH,KAG7BK,EAAmC,SAAUpB,EAASe,GACtD,SAAKf,IAAYe,QAEbA,IAAmBA,EAAgBM,uCAEnCrB,IAAWA,EAAQqB,qCAIvBH,EAAkB,SAAUvB,GAC5B,IAAKA,EACD,MAAO,CAAEjD,eAAWC,GACgBgD,EAAK0B,kCAA7C,IAAgFrB,EAAU1B,EAAOqB,EAAM,CAAC,sCACxG,OAAOlC,EAAS,CAAEf,eAAWC,GAAaqD,IAE/BsB,IAhIG,SAAUT,EAAOb,GAC/B,IAAIxD,EAAK+E,YAAgB,CACrBC,KAAM,KACNC,MAAO,KACPC,MAAO,KACPC,SAAS,EACTC,QAAQ,IACRC,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GAC7B4C,EAAeC,cACf0C,EAAyC5C,IAwC7C,MAAO,CAtCM6C,uBAAY,SAAUlB,EAAeC,GAC9C,IAAIkB,EAAoBb,EAAiCpB,EAASe,GAC5DgB,EACA3C,EACF8C,EAAStB,EAAqCC,EAAOC,EAAed,EAASe,GACjFe,GAAS,SAAUK,GAAa,OAAQ1E,EAASA,EAAS,GAAI0E,GAAY,CAAER,SAAS,OACrFM,EAAkBC,EAAO5G,MACpB8C,MAAM6D,EAA8C,qBAApBC,EAAO3F,SACtC,CAAC2F,EAAO3F,SAAU2F,EAAOpC,QAASoC,EAAOlC,SACzC,CAACkC,EAAOpC,QAASoC,EAAOlC,UACzBoC,MAAK,SAAU5F,GAChB,IAAIgF,EAAOhF,EAAGgF,KAAME,EAAQlF,EAAGkF,MAC/BI,EAAS,CACLN,KAAMA,EACNC,MAAO,KACPG,QAAQ,EACRD,SAAS,EACTD,MAAOA,OAGVW,OAAM,SAAUC,GACjBR,EAAS,CACLN,KAAM,KACNC,MAAOa,EACPV,QAAQ,EACRD,SAAS,EACTD,MAAO,YAGhB,CAECa,KAAKC,UAAU,CAAE3B,MAAOA,EAAOb,QAASA,IACxCZ,EACA2C,EACAD,IAIYD,K,iCC/LpB,YAQgB,aAAUY,GACtB,OAAQA,GACJ,IAAK,UACD,OAAOC,IACX,IAAK,SACD,OAAOC,IACX,IAAK,UACD,OAAOC,IACX,IAAK,mBACD,OAAOC,IACX,IAAK,SACD,OAAOC,IACX,IAAK,SACD,OAAOC,IACX,IAAK,aACD,OAAOC,IACX,IAAK,SACD,OAAOC,IACX,IAAK,aACD,OAAOC,IACX,QACI,OAAOT,K,6OC7BRU,EAAoB,uBAKpBC,EAAsB,yB,2DCL7B3F,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YA8BjBsF,EAdI,SAAUC,EAAcC,EAAoBC,EAAKC,QAC3C,IAAjBH,IAA2BA,EAAe,SACnB,IAAvBC,IAAiCA,EAAqB,SAC9C,IAARC,IAAkBA,EAAM,IAAIE,WACV,IAAlBD,IAA4BA,EAjBT,KAmBvB,IAAIE,EAAe,GACnBL,EAAaM,SAAQ,SAAUC,GAAY,OAAQF,EAAaE,GAAYL,KAE5E,IAAIM,EAAkB,IAAIJ,KAC1BI,EAAgBC,QAAQD,EAAgBE,UAAYP,GACpD,IAAIQ,EAAsBC,IAAOX,GAAoB,SAAUY,GAAQ,OAAOA,EAAOL,KACrF,OAAOrG,EAASA,EAAS,GAAIwG,GAAsBN,ICrCnDlG,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YASrBqG,EAAgB,SAAUC,GAMjC,OALAtH,OAAOuH,eAAeD,EAAS,YAAa,CACxCE,YAAY,EACZC,cAAc,EACdC,UAAU,IAEPJ,GASAK,EAA8B,SAAUC,EAAYC,QACxC,IAAfD,IAAyBA,EAAa,IAC1C,IAAIE,EAAiB,GACrBF,EAAWf,SAAQ,SAAUkB,GAAU,OAAQD,EAAeC,EAAOC,IAAMD,KAC3E,IAAInB,EAAeN,EAAasB,EAAWK,KAAI,SAAUxI,GAErD,OADSA,EAAGuI,MAEZH,EAAWK,WACXZ,EAAU,CAAEY,UAAWtB,GAQ3B,OAPA5G,OAAOC,KAAK2G,GAAcC,SAAQ,SAAUmB,GACxC,OAAQV,EAAQU,GAAMF,EAAeE,GAC/BG,IAAQL,EAAeE,GAAKH,EAAWG,IACnCH,EAAWG,GACXF,EAAeE,GACnBH,EAAWG,MAEdX,EAAcC,IAuBdc,EAAe,SAAUC,EAAWR,EAAYT,GACvD,IAAI3H,EAAIC,OACK,IAAT0H,IAAmBA,EAAO,IAAIT,MAClC,IAAImB,EAAiBpH,EAASA,EAAS,GAAImH,KAAcpI,EAAK,IAAO4I,EAAUL,IAAMG,IAAQE,EAAWR,EAAWQ,EAAUL,KACvHH,EAAWQ,EAAUL,IACrBK,EAAW5I,IACjB,OAAOO,OAAOuH,eAAeO,EAAgB,YAAa,CACtDQ,MAAO5H,EAASA,EAAS,GAAImH,EAAWK,YAAaxI,EAAK,GAAIA,EAAG2I,EAAUL,IAAMZ,EAAM1H,IACvF8H,YAAY,KAGhBe,EAAoB,SAAUC,EAAOC,GACrC,OAAOD,EAAMpF,MAAK,SAAUsF,GAAQ,OAAOA,GAAQD,MAK5CE,EAAgB,SAAUC,EAAkBf,QAC1B,IAArBe,IAA+BA,EAAmB,IACtD,IAAItB,EAAUtH,OAAO6I,QAAQhB,GACxBiB,QAAO,SAAUrJ,GAClB,IAAI4D,EAAM5D,EAAG,GACb,OAAQ8I,EAAkBK,EAAkBvF,MAE3C0F,QAAO,SAAUC,EAAKvJ,GACvB,IAAIC,EACA2D,EAAM5D,EAAG,GAAIwJ,EAAMxJ,EAAG,GAC1B,OAAQiB,EAASA,EAAS,GAAIsI,KAAOtJ,EAAK,IAAO2D,GAAO4F,EAAKvJ,MAC9D,CACCwI,UAAW,KAYf,OAVAZ,EAAQY,UAAYlI,OAAO6I,QAAQhB,EAAWK,WACzCY,QAAO,SAAUrJ,GAClB,IAAI4D,EAAM5D,EAAG,GACb,OAAQ8I,EAAkBK,EAAkBvF,MAE3C0F,QAAO,SAAUC,EAAKvJ,GACvB,IAAIC,EACA2D,EAAM5D,EAAG,GAAIwJ,EAAMxJ,EAAG,GAC1B,OAAQiB,EAASA,EAAS,GAAIsI,KAAOtJ,EAAK,IAAO2D,GAAO4F,EAAKvJ,MAC9D,IACI2H,EAAcC,IAErB4B,EAAe7B,EAAc,CAAEa,UAAW,KAsC/BiB,EArCG,SAAUC,EAAe3J,QACjB,IAAlB2J,IAA4BA,EAAgBF,GAChD,IAAInG,EAAUtD,EAAGsD,QAASsG,EAAO5J,EAAG4J,KACpC,GAAIA,GAAQA,EAAKC,WAAY,CACzB,GAAID,EAAKE,QAAUvD,IAAQ,CACvB,IAAIwD,EAAgB9I,EAASA,EAAS,GAAI0I,EAAcrG,EAAQiF,KAAMjF,EAAQ0B,MAC9E,OAAO2D,EAAaoB,EAAeJ,GAEvC,GAAIC,EAAKE,QAAUtD,IAAa,CAC5B,IAAIwD,EAAiB1G,EAAQ2G,IAAIzB,KAAI,SAAUD,GAAM,OAAQtH,EAASA,EAAS,GAAI0I,EAAcpB,IAAMjF,EAAQ0B,SAC/G,OAAOkD,EAA4B8B,EAAgBL,GAEvD,GAAIC,EAAKE,QAAUrD,IACf,OAAOyC,EAAc,CAAC5F,EAAQiF,IAAKoB,GAEvC,GAAIC,EAAKE,QAAUpD,IACf,OAAOwC,EAAc5F,EAAQ2G,IAAKN,GAG1C,IAAKC,IAASA,EAAKM,eAAiBN,EAAKO,cAAgBC,IACrD,OAAOT,EAEX,OAAQC,EAAKM,eACT,KAAKhE,IACD,OAAOgC,EAA4B5E,EAAQ0B,KAAM2E,GACrD,KAAKvD,IACL,KAAKC,IACD,OAzFY,SAAU8B,EAAYC,QACvB,IAAfD,IAAyBA,EAAa,IAC1C,IAAIE,EAAiBpH,EAAS,GAAImH,GAClCD,EAAWf,SAAQ,SAAUkB,GACzBD,EAAeC,EAAOC,IAAMG,IAAQJ,EAAQF,EAAWE,EAAOC,KACxDH,EAAWE,EAAOC,IAClBD,KAEV,IAAI+B,EAAmBxD,EAAasB,EAAWK,KAAI,SAAUxI,GAEzD,OADSA,EAAGuI,MAEZH,EAAWK,WAKf,OAJAlI,OAAOuH,eAAeO,EAAgB,YAAa,CAC/CQ,MAAO5H,EAASA,EAAS,GAAImH,EAAWK,WAAY4B,GACpDtC,YAAY,IAETM,EAyEQiC,CAAWhH,EAAQ0B,KAAM2E,GACpC,KAAKpD,IACL,KAAKD,IACL,KAAKH,IACD,OAAOwC,EAAarF,EAAQ0B,KAAM2E,GACtC,QACI,OAAOA,ICpJfF,EAAe,GAWJc,EAVE,SAAUZ,EAAea,GAEtC,YADsB,IAAlBb,IAA4BA,EAAgBF,GAC5Ce,EAAOZ,MAAQY,EAAOZ,KAAKM,gBAAkBhE,IACtCsE,EAAOlH,QAAQ0B,KAAKwD,KAAI,SAAUxI,GAErC,OADSA,EAAGuI,MAIboB,GCDIc,EAPI,SAAUd,EAAea,GAExC,YADsB,IAAlBb,IAA4BA,EAFjB,MAGXa,EAAOZ,MAAQY,EAAOZ,KAAKM,gBAAkBhE,IACtCsE,EAAOlH,QAAQ4B,MAEnByE,GCaIe,EAlBO,SAAUf,EAAe3J,QACrB,IAAlB2J,IAA4BA,EAFjB,MAGf,IAAIrG,EAAUtD,EAAGsD,QACjB,OADiCtD,EAAG4J,KACvBM,eACT,KAAKhE,IACD,OAAI5C,EAAQqH,WAEDrH,EAAQqH,WARZ,KAeX,QACI,OAAOhB,ICjBf1I,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAO5BkI,EAAe,GACfmB,EAAkB,CAAEX,IAAK,GAAI/E,MAAO,KAAM2F,SAAU,MAiCzCC,EAhCa,SAAUnB,EAAea,GACjD,IAAIxK,EAEJ,QADsB,IAAlB2J,IAA4BA,EAAgBF,GAC5Ce,EAAO1L,OAASiM,IAEhB,OAAOtB,EAEX,IAAKe,EAAOZ,MAAQY,EAAOZ,KAAKO,cAAgBC,IAE5C,OAAOT,EAEX,GAAIa,EAAOZ,KAAKM,gBAAkB5D,KAC9BkE,EAAOZ,KAAKM,gBAAkBzD,KAC9B+D,EAAOZ,KAAKM,gBAAkBxD,KAC9B8D,EAAOZ,KAAKM,gBAAkB3D,KAC9BiE,EAAOZ,KAAKM,gBAAkB1D,IAG9B,OAAOiD,EAEX,GAAIe,EAAOZ,KAAKM,gBAAkBhE,KAAYsE,EAAOZ,KAAKoB,UAEtD,OAAOrB,EAEX,IAAIsB,EAAalF,KAAKC,UAAUwE,EAAOU,gBACnCC,EAAmBxB,EAAcsB,IAAeL,EACpD,OAAO3J,EAASA,EAAS,GAAI0I,KAAiB3J,EAAK,IAAOiL,GAAc,CACpEhB,IAAKA,EAAIkB,EAAiBlB,IAAKO,GAC/BtF,MAAOA,EAAMiG,EAAiBjG,MAAOsF,GACrCK,SAAUA,EAASM,EAAiBN,SAAUL,IAC/CxK,K,QChDHmC,EAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAGPoH,EAAe,GAkBJ2B,EAjBA,SAAUzB,EAAea,GAEpC,QADsB,IAAlBb,IAA4BA,EAAgBF,GAC5Ce,EAAO1L,OAASuM,IAAyB,CACzC,IAAIC,EAAQ3B,EACPnB,KAAI,SAAU+C,GAAM,OAAOA,GAAMf,EAAOlH,WACxCtB,SAAQ,GACb,OAAe,IAAXsJ,EAEOnJ,EAAewH,EAAe,CAACa,EAAOlH,UAItCnB,EAAewH,EAAc3F,MAAM,EAAGsH,GAAQ3B,EAAc3F,MAAMsH,EAAQ,IAGzF,OAAO3B,G,qBCTA6B,GAAgB,mBAGhBC,GAAwB,2BCWxBC,GAAc,iBC7BrBvJ,GAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GA8CIkI,GA7BE,SAAUZ,EAAea,GAEtC,QADsB,IAAlBb,IAA4BA,EAAgB,IAC5Ca,EAAOZ,MAAQY,EAAOZ,KAAKC,WAAY,CACvC,GAAIW,EAAOZ,KAAKE,QAAUrD,IAAQ,CAC9B,IAAI6E,EAAQ3B,EACPnB,KAAI,SAAU+C,GAAM,OAAOA,IAAOf,EAAOlH,QAAQiF,MACjDvG,SAAQ,GACb,OAAe,IAAXsJ,EACO3B,EAEJxH,GAAewH,EAAc3F,MAAM,EAAGsH,GAAQ3B,EAAc3F,MAAMsH,EAAQ,IAErF,GAAId,EAAOZ,KAAKE,QAAUpD,IAEtB,OADeiD,EAAcN,QAAO,SAAUkC,GAAM,OAAQf,EAAOlH,QAAQ2G,IAAIpG,SAAS0H,MAIhG,OAAQf,EAAO1L,MACX,KAAK2M,GACD,OAAOjB,EAAOlH,QAAQ0B,KAAKwD,KAAI,SAAUxI,GAErC,OADSA,EAAGuI,MAGpB,IDbyB,yBCcrB,OAAOoD,KAAKxJ,GAAe,CAACqI,EAAOlH,QAAQ0B,KAAKuD,IAAKoB,IACzD,QACI,OAAOA,IChCJiC,GAZE,SAAUjC,EAAe3J,QAChB,IAAlB2J,IAA4BA,GAAgB,GAChD,IAAI7K,EAAOkB,EAAGlB,KAEd,OAAsB,IAAlB6K,EACOA,EAEP7K,IAAS2M,IAGN9B,GCbPkC,GAAe,CACfC,KAAM,KACNC,MAAO,KACPC,KAAM,EACNC,QAAS,KACT5C,OAAQ,IAWG6C,GATK,SAAUvC,EAAea,GAEzC,YADsB,IAAlBb,IAA4BA,EAAgBkC,IACxCrB,EAAO1L,MACX,KAAKqN,IACD,OAAO3B,EAAOlH,QAClB,QACI,OAAOqG,ICiBRyC,GAAc,iBC/BrBjK,GAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAIPoH,GAAe,GAqCJ4C,GApCU,SAAU1C,EAAea,GAE9C,QADsB,IAAlBb,IAA4BA,EAAgBF,IAC5Ce,EAAO1L,OAASwN,IAChB,OAAO9B,EAAOlH,QAElB,GAAIkH,EAAO1L,OAASyN,IAEhB,OADIjB,EAAQ3B,EAAc3H,QAAQwI,EAAOlH,WAC5B,EACFnB,GAAewH,EAAc3F,MAAM,EAAGsH,GAAQ3B,EAAc3F,MAAMsH,EAAQ,IAG1EnJ,GAAewH,EAAe,CAACa,EAAOlH,UAGrD,GDU6B,2BCVzBkH,EAAO1L,OACHwM,EAAQ3B,EAAc3H,QAAQwI,EAAOlH,QAAQ0B,KAAKuD,MACzC,EACT,OAAOpG,GAAewH,EAAc3F,MAAM,EAAGsH,GAAQ3B,EAAc3F,MAAMsH,EAAQ,IAGzF,GAAId,EAAOZ,MAAQY,EAAOZ,KAAKC,WAAY,CAEnC,IAAIyB,EADR,GAAId,EAAOZ,KAAKE,QAAUrD,IAEtB,OAAe,KADX6E,EAAQ3B,EAAc3H,QAAQwI,EAAOlH,QAAQiF,KAEtCoB,EAEJxH,GAAewH,EAAc3F,MAAM,EAAGsH,GAAQ3B,EAAc3F,MAAMsH,EAAQ,IAErF,GAAId,EAAOZ,KAAKE,QAAUpD,IACtB,OAAOiD,EAAcN,QAAO,SAAUd,GAAM,OAAQiC,EAAOlH,QAAQ2G,IAAIpG,SAAS0E,MAGxF,OAAOiC,EAAOZ,MAAQY,EAAOZ,KAAKhK,YAC5B6J,GACAE,GCzBKc,GAjBI,SAAUd,EAAea,GAExC,QADsB,IAAlBb,IAA4BA,EAAgB,MAC5Ca,EAAO1L,OAAS2M,GAChB,OAAOjB,EAAOlH,QAAQ4B,MAE1B,GAAIsF,EAAOZ,MAAQY,EAAOZ,KAAKC,WAAY,CACvC,GAAIW,EAAOZ,KAAKE,QAAUrD,IACtB,OAAyB,OAAlBkD,EAAyB,KAAOA,EAAgB,EAE3D,GAAIa,EAAOZ,KAAKE,QAAUpD,IACtB,OAAyB,OAAlBiD,EACD,KACAA,EAAgBa,EAAOlH,QAAQ2G,IAAIxJ,OAGjD,OAAOkJ,GCTP6C,GAAiB,WAAc,OAAO,MAC3BC,eAAgB,CAQ3BC,eAAgBA,GAAkBF,GAClCpB,SAAUA,GAAYoB,GACtBvC,IAAKA,IAAOuC,GACZZ,WAAYA,IAAcY,GAC1B9G,OAAQA,IAAU8G,GAClBG,YAAaA,IAAeH,GAC5BtH,MAAOA,IAASsH,KCvBhBvL,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAI5BkI,GAAe,GAuDfmD,GAAS,SAAU3C,EAAKU,EAAYkC,QACxB,IAAR5C,IAAkBA,EAAM,IAC5B,IAAI6C,EAAmB7L,GAAS,GAAI4L,GAIpC,OAHA5C,EAAI7C,SAAQ,SAAUmB,GAClBuE,EAAiBvE,GAAMoC,KAEpBmC,GAEPC,GAAY,SAAU9C,EAAK4C,QACf,IAAR5C,IAAkBA,EAAM,IAC5B,IAAI6C,EAAmB7L,GAAS,GAAI4L,GAIpC,OAHA5C,EAAI7C,SAAQ,SAAUmB,UACXuE,EAAiBvE,MAErBuE,GAEIpC,GAtEO,SAAUf,EAAe3J,QACrB,IAAlB2J,IAA4BA,EAAgBF,IAChD,IAAI3K,EAAOkB,EAAGlB,KAAMwE,EAAUtD,EAAGsD,QAAS4H,EAAiBlL,EAAGkL,eAAgBtB,EAAO5J,EAAG4J,KACxF,GAAI9K,IAASiM,IACT,OAAOtB,GAEX,IAAKG,IACAA,EAAKM,eACNN,EAAKO,cAAgBC,MACF,IAAnBR,EAAKoB,UACL,OAAOrB,EAEX,GAAIrG,EAAQqH,WAER,OAAQf,EAAKM,eACT,KAAKhE,IACL,KAAKE,IACL,KAAKC,IACD,OAAOuG,GAAOtJ,EAAQ0B,KAAKwD,KAAI,SAAUF,GAAU,OAAOA,EAAOC,MAAQjF,EAAQqH,WAAYhB,GACjG,KAAKnD,IACD,OAAOoG,GAAOtJ,EAAQ0B,KAAM1B,EAAQqH,WAAYhB,GACpD,KAAKpD,IACL,KAAKD,IACL,KAAKH,IACD,OAAOyG,GAAO,CAACtJ,EAAQ0B,KAAKuD,IAAKjF,EAAQqH,WAAYhB,GACzD,KAAKlD,IACL,KAAKC,IACD,MAAM,IAAIjC,MAAM,yGACpB,QACI,OAAOkF,OAKf,OAAQC,EAAKM,eACT,KAAKhE,IACL,KAAKE,IACL,KAAKC,IACD,OAAO0G,GAAUzJ,EAAQ0B,KAAKwD,KAAI,SAAUF,GAAU,OAAOA,EAAOC,MAAQoB,GAChF,KAAKpD,IACL,KAAKD,IACL,KAAKH,IACD,OAAO4G,GAAU,CAACzJ,EAAQ0B,KAAKuD,IAAKoB,GACxC,KAAKnD,IACD,OAAOuG,GAAUzJ,EAAQ0B,KAAM2E,GACnC,KAAKlD,IACD,OAAOsG,GAAU,CAAC7B,EAAe3C,IAAKoB,GAC1C,KAAKjD,IACD,OAAOqG,GAAU7B,EAAejB,IAAKN,GACzC,QACI,OAAOA,IChEnB1I,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAM5BkI,GAAe,GCAJuD,GAdM,SAAUrD,EAAe3J,GAG1C,YAFsB,IAAlB2J,IAA4BA,EAAgB,GACrC3J,EAAGlB,MAEV,KAAKmO,IACD,OAAOtD,EAAgB,EAC3B,KAAKS,IACL,KAAK8C,IACL,KAAKC,IACD,OAAOC,KAAKC,IAAI1D,EAAgB,EAAG,GACvC,QACI,OAAOA,I,mBCEJ2D,GAZY,SAAU3D,EAAea,GAEhD,YADsB,IAAlBb,IAA4BA,EAAgB,IACxCa,EAAO1L,MACX,KAAKyO,KACD,OAAO5D,EAAc6D,OAAOhD,EAAOlH,SACvC,KAAKmK,KACL,KAAK7O,KACD,OAAO+K,EAAc3F,MAAM,GAC/B,QACI,OAAO2F,IAQR+D,GAAkB,SAAUrI,GAAS,OAAOA,EAAMsI,MAAMC,cAAc,I,UCnB7E3M,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAG5BkI,GAAe,GAkCJoE,GAjCa,SAAUlE,EAAea,GACjD,IAAIxK,EAAIC,EAER,YADsB,IAAlB0J,IAA4BA,EAAgBF,IACxCe,EAAO1L,MACX,ICE+B,+BDD3B,OAAOmC,GAASA,GAAS,GAAI0I,KAAiB3J,EAAK,IAAOwK,EAAOZ,KAAKkE,WAAatD,EAAOlH,QAAQ0B,KAAKwD,KAAI,SAAUF,GAAU,OAAOA,EAAOC,MAAQvI,IACzJ,ICD+B,+BDE3B,OAAOiB,GAASA,GAAS,GAAI0I,KAAiB1J,EAAK,IAAOuK,EAAOZ,KAAKkE,WAAa,CAAE7I,MAAOuF,EAAOvF,OAAShF,IAChH,QACI,OAAO0J,IEnBf6C,GAAiB,WAAc,OAAO,MAC3BC,eAAgB,CAQ3BsB,UAAWA,MAAavB,GACxBwB,eAAgBA,IAAkBxB,KCblCvL,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAc5BsK,GAAe,CACfoC,yBAAyB,EACzBC,cARyB,qBAAXC,SACVA,OAAOC,YACsB,oBAAtBD,OAAOC,aACZD,OAAOC,WAAW,qBAAqBC,QAM7CxE,YAAY,EACZyE,YAAa,GAqBFC,GAnBC,SAAU5E,EAAea,GAErC,YADsB,IAAlBb,IAA4BA,EAAgBkC,IACxCrB,EAAO1L,MACX,KAAK0P,IACD,OAAOvN,GAASA,GAAS,GAAI0I,GAAgB,CAAEuE,aAAcvE,EAAcuE,cAC/E,KAAKO,IACD,OAAOxN,GAASA,GAAS,GAAI0I,GAAgB,CAAEuE,YAAa1D,EAAOlH,UACvE,KAAKoL,IACD,OAAOzN,GAASA,GAAS,GAAI0I,GAAgB,CAAEsE,wBAAyBzD,EAAOlH,UACnF,KAAKyH,IACD,OAAO9J,GAASA,GAAS,GAAI0I,GAAgB,CAAE2E,YAAa3E,EAAc2E,YAAc,IAC5F,KAAKrP,KACD,OAAOgC,GAASA,GAAS,GAAI0I,GAAgB,CAAEE,YAAY,IAC/D,KAAK1K,KACD,OAAO8B,GAASA,GAAS,GAAI0I,GAAgB,CAAEE,YAAY,IAC/D,QACI,OAAOF,IC7Cf1I,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAiBjBoN,GAdY,SAAUhF,EAAe3J,GAChD,IAAIC,OACkB,IAAlB0J,IAA4BA,EAAgB,IAChD,IAAI7K,EAAOkB,EAAGlB,KAAMoM,EAAiBlL,EAAGkL,eAAgB5H,EAAUtD,EAAGsD,QAASsG,EAAO5J,EAAG4J,KACxF,GAAa,yBAAT9K,EACA,OAAO6K,EAEX,IAAI/F,EAAMmC,KAAKC,UAAU,CACrBlH,KAAM8K,EAAKM,cACXnK,SAAU6J,EAAK7J,SACfuD,QAAS4H,IAEb,OAAOjK,GAASA,GAAS,GAAI0I,KAAiB1J,EAAK,IAAO2D,GAAON,EAASrD,KCjB1EuM,GAAiB,WAAc,OAAO,MAC3BC,eAAgB,CAQ3BmC,URAY,SAAUjF,EAAea,GACrC,IAAIxK,EAEJ,QADsB,IAAlB2J,IAA4BA,EAAgBF,IAC5Ce,EAAO1L,OAAS6H,EAAmB,CACnC,IAAIkI,EAAgB,CAChBC,MAAOtE,EAAOlH,QACd0B,KAAMA,OAAK7E,EAAWqK,GACtBuE,KAAMA,QAAK5O,EAAWqK,GACtBK,SAAUA,QAAS1K,EAAWqK,IAElC,OAAOvJ,GAASA,GAAS,GAAI0I,KAAiB3J,EAAK,IAAOwK,EAAOlH,QAAQJ,MAAQ2L,EAAe7O,IAEpG,OAAIwK,EAAO1L,OAAS8H,EACTrG,OAAOC,KAAKmJ,GAAeL,QAAO,SAAU0F,EAAKpL,GACpD,IAAI5D,EACJ,OAAI4D,IAAQ4G,EAAOlH,QACR0L,EAEJ/N,GAASA,GAAS,GAAI+N,KAAOhP,EAAK,IAAO4D,GAAO+F,EAAc/F,GAAM5D,MAC5E,IAEHwK,EAAO1L,OAASiM,KACdP,EAAOZ,MAASY,EAAOZ,KAAK7J,SAGlBQ,OAAOC,KAAKmJ,GACHL,QAAO,SAAU0F,EAAKjP,GAC3C,IAAIC,EACJ,OAAQiB,GAASA,GAAS,GAAI+N,KAAOhP,EAAK,IAAOD,GAAYyK,EAAO1L,OAASiM,KACzEP,EAAOZ,KAAK7J,WAAaA,EACvB,CACE+O,MAAOnF,EAAc5J,GAAU+O,MAC/B9J,KAAMA,EAAK2E,EAAc5J,GAAUiF,KAAMwF,GACzCuE,KAAMA,GAAKpF,EAAc5J,GAAUgP,KAAMvE,GACzCK,SAAUA,GAASlB,EAAc5J,GAAU8K,SAAUL,IAEvDb,EAAc5J,GAAWC,MAChC,IAdQ2J,IQvBa6C,GACxByC,cAAeA,IAAiBzC,GAChCrH,QAASA,IAAWqH,GACpBoB,cAAeA,IAAiBpB,GAChC0C,WAAYA,IAAc1C,GAC1B2C,GAAIA,IAAM3C,KAKH4C,GAAe,SAAU/J,GAAS,OR8BnB,SAAUA,GAChC,OAAO9E,OAAOC,KAAK6E,GAAOmD,KAAI,SAAU5E,GAAO,OAAOyB,EAAMzB,GAAKkL,SQ/BjBO,CAAqBhK,EAAMuJ,YC1B3E3N,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAYrB6N,GAAe,SAAU/J,GAAS,OAAOiK,GAAkBjK,EAAMsI,Q,SCVjE4B,GAAa,gBASbC,GAAa,gBAUbC,GAAc,iB,UC9BrBC,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA8B7C,YAAUO,GACtB,OAAKA,EAGE,WACH,OAAOrB,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAagB,YAAI,CACzBC,YAAU1B,GAAY2B,GAAYH,IAClCE,YAAUzB,GAAY2B,GAAYJ,IAClCE,YAAUxB,GAAa2B,GAAaL,IACpCM,YAAWnE,IAAaoE,GAAiBP,OAEjD,KAAK,EAED,OADA/Q,EAAGiQ,OACI,CAAC,QAbb,WAAc,OAAO,OAkBhCsB,GAAuB,SAAUlM,GACjC,IAAImM,EAAgBnM,EAAMoM,OAAOC,SAASrM,MAC1C,OAAOmM,GAAiBA,EAAcG,cAEtCC,GAA0B,SAAUvM,GAAS,OAAOA,EAAMoM,OAAOC,UACjEG,GAAkB,SAAU5M,EAAO6M,GACnC,MAAwB,kBAAV7M,EACRA,EACiB,qBAAVA,GAA0BA,EAAM8M,QAEnC9M,EAAM8M,QADND,GAGHZ,GAAc,SAAUH,GAC/B,OAAO,SAAUvG,GACb,IAAIlH,EAASsG,EAAMoI,EAAarR,EAAYsR,EAAKC,EACjD,OAAOxC,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EACD1M,EAAUkH,EAAOlH,QAASsG,EAAOY,EAAOZ,KACxC5J,EAAGgQ,MAAQ,EACf,KAAK,EAED,OADAhQ,EAAGkQ,KAAKW,KAAK,CAAC,EAAG,EAAJ,CAAS,KACf,CAAC,EAAasB,YAAI,CAAErT,KD/Df,2BCgEhB,KAAK,EAED,OADAkB,EAAGiQ,OACI,CAAC,EAAatO,YAAK,CAACoP,EAAc,SAAUzN,IACvD,KAAK,EAED,OADA0O,EAAchS,EAAGiQ,OACV,CAAC,EAAakC,YAAI,CACjBrT,KDpEI,wBCqEJwE,QAAS0O,KAErB,KAAK,EAED,OADAhS,EAAGiQ,OACI,CAAC,EAAarG,EAAKwI,UAClBC,YAAOd,KACnB,KAAK,EAED,OADA5Q,EAAaX,EAAGiQ,OACT,CAAC,EAAakC,YAAItB,aAAKlQ,GAAc,OAChD,KAAK,EAED,OADAX,EAAGiQ,OACI,CAAC,EAAa,IACzB,KAAK,EAED,OADAgC,EAAMjS,EAAGiQ,OACF,CAAC,EAAakC,YAAI,CACjBrT,KDrFI,wBCsFJmG,MAAOgN,EACPrI,KAAM,CAAE0I,MAAM,MAE1B,KAAK,EAGD,OAFAtS,EAAGiQ,OACHiC,EAAeL,GAAgBI,EAAK,yBAC7B,CAAC,EAAaE,YAAII,aAAiBL,EAAc,aAC5D,KAAK,EAED,OADAlS,EAAGiQ,OACI,CAAC,EAAa,IACzB,KAAK,GAAI,MAAO,CAAC,SAKtBkB,GAAc,SAAUJ,GAC/B,OAAO,SAAUvG,GACb,IAAIlH,EAASsG,EAAM4I,EAAS7R,EAAYuR,EACxC,OAAOxC,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EACD1M,EAAUkH,EAAOlH,QAASsG,EAAOY,EAAOZ,KACxC5J,EAAGgQ,MAAQ,EACf,KAAK,EAED,OADAhQ,EAAGkQ,KAAKW,KAAK,CAAC,EAAG,EAAJ,CAAS,IACf,CAAC,EAAalP,YAAK,CAACoP,EAAc,aAAczN,IAC3D,KAAK,EAED,OADAtD,EAAGiQ,OACI,CAAC,EAAa,GACzB,KAAK,EAED,OADAuC,EAAUxS,EAAGiQ,OACN,CAAC,EAAatO,YAAK,CAACoP,EAAc,eAAW5Q,IACxD,KAAK,EAED,OADAQ,EAAaX,EAAGiQ,OACT,CAAC,EAAakC,YAAIM,aAAQ,CACzBC,SAAWF,GAAWA,EAAQ7R,YAAeA,GAAc,SAC3D0E,MAAO,CAAEsM,aAAc/H,EAAKwI,cAExC,KAAK,EAGD,OAFApS,EAAGiQ,OAEI,CAAC,EAAakC,YAAIQ,iBAC7B,KAAK,EAID,OAFA3S,EAAGiQ,OACHiC,EAAeL,GAAgBW,EAAS,4BACjC,CAAC,EAAaL,YAAII,aAAiBL,EAAc,aAC5D,KAAK,EAED,OADAlS,EAAGiQ,OACI,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,SAKrBmB,GAAe,SAAUL,GAChC,OAAO,SAAUvG,GACb,IAAIlH,EAAS3C,EACb,OAAO+O,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAED,OADA1M,EAAUkH,EAAOlH,QACV,CAAC,EAAa3B,YAAK,CAACoP,EAAc,eAAW5Q,IACxD,KAAK,EAED,OADAQ,EAAaX,EAAGiQ,OACT,CAAC,EAAakC,YAAItB,aAAMvN,GAAWA,EAAQ3C,YAAeA,GAAc,YACnF,KAAK,EAED,OADAX,EAAGiQ,OACI,CAAC,EAAakC,YAAIQ,iBAC7B,KAAK,EAED,OADA3S,EAAGiQ,OACI,CAAC,SAKjBqB,GAAmB,SAAUP,GACpC,OAAO,SAAUvG,GACb,IAAIvF,EAAY0M,EAAchR,EAC9B,OAAO+O,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EACD/K,EAAQuF,EAAOvF,MACfjF,EAAGgQ,MAAQ,EACf,KAAK,EAED,OADAhQ,EAAGkQ,KAAKW,KAAK,CAAC,EAAG,EAAJ,CAAS,KACf,CAAC,EAAalP,YAAK,CAACoP,EAAc,cAAe9L,IAC5D,KAAK,EAED,OADAjF,EAAGiQ,OACI,CAAC,EAAa,IACzB,KAAK,EAED,OADMjQ,EAAGiQ,OACF,CAAC,EAAaoC,YAAOT,KAChC,KAAK,EAED,OADAD,EAAe3R,EAAGiQ,OACX,CAAC,EAAatO,YAAK,CAACoP,EAAc,eAAW5Q,IACxD,KAAK,EAED,OADAQ,EAAaX,EAAGiQ,OACT,CAAC,EAAakC,YAAItB,aAAK,CACtB6B,SAAU/R,GAAc,SACxB0E,MAAO,CAAEsM,aAAcA,OAEnC,KAAK,EAGD,OAFA3R,EAAGiQ,OAEI,CAAC,EAAakC,YAAIQ,iBAC7B,KAAK,EAGD,OADA3S,EAAGiQ,OACI,CAAC,EAAakC,YAAIS,iBAC7B,KAAK,EAED,OADA5S,EAAGiQ,OACI,CAAC,EAAakC,YAAII,aAAiB,6BAA8B,aAC5E,KAAK,EAED,OADAvS,EAAGiQ,OACI,CAAC,EAAa,IACzB,KAAK,GAAI,MAAO,CAAC,SCvN7BP,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA4B7D,SAASqC,GAAe7S,GACpB,IAAIsD,EAAUtD,EAAGsD,QAAS4H,EAAiBlL,EAAGkL,eAAgBjG,EAAQjF,EAAGiF,MAAO6N,EAAW9S,EAAG4J,KAAKkJ,SACnG,OAAOpD,GAAY7N,MAAM,SAAU5B,GAC/B,OAAQA,EAAG+P,OACP,KAAK,EAAG,MAAO,CAAC,EAAarO,YAAKmR,EAAU,CAAExP,QAASA,EAAS4H,eAAgBA,EAAgBjG,MAAOA,KACvG,KAAK,EAED,OADAhF,EAAGgQ,OACI,CAAC,OAIT,kBACX,OAAOP,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAaiB,aAAU,SAAUzG,GAAU,OAAOA,EAAOZ,MAAQY,EAAOZ,KAAKkJ,WAAaD,KAC1G,KAAK,EAED,OADA7S,EAAGiQ,OACI,CAAC,QChDpBhP,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BmO,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAwBzD1O,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAmCJ,SAAS4R,GAAYnQ,EAAc4H,GACtC,IAAI1L,EAAMwE,EAAStD,EAAIgT,EAAW9S,EAAWE,EAAWwJ,EAAMqJ,EAAUC,EAAoBC,EAAkCC,EAAUZ,EACxI,OAAO9C,GAAY7N,MAAM,SAAU5B,GAC/B,OAAQA,EAAG+P,OACP,KAAK,EACDlR,EAAO0L,EAAO1L,KAAMwE,EAAUkH,EAAOlH,QAAStD,EAAKwK,EAAOZ,KAAMoJ,EAAYhT,EAAG8J,MAAO5J,EAAYF,EAAGE,UAAWE,EAAYJ,EAAGI,UAAWwJ,EAAO9H,GAAO9B,EAAI,CAAC,QAAS,YAAa,cACnLiT,EAAWD,EACXE,EAAqBhT,aAAqBmT,SAAW,GAAKnT,EAC1DiT,EAAqB/S,aAAqBiT,SAAW,GAAKjT,EAC1DH,EAAG+P,MAAQ,EACf,KAAK,EAED,OADA/P,EAAGiQ,KAAKW,KAAK,CAAC,EAAG,EAAG,GAAI,KACjB,CAAC,EAAawB,aAAO,SAAUhN,GAAS,OAAOA,EAAMsI,MAAMwB,GAAGtF,eACzE,KAAK,EAED,OADe5J,EAAGgQ,OAIP,CAAC,GAEL,CAAC,EAAae,YAAI,CACjBmB,YAAI,CAAErT,KAAMA,EAAO,WAAYwE,QAASA,EAASsG,KAAMA,IACvDuI,YAAI,CAAErT,KAAMmO,SAExB,KAAK,EAED,OADAhN,EAAGgQ,OACI,CAAC,EAAatO,YAAKiB,EAAa0Q,YAAkBL,IAAYrJ,EAAK7J,SAAUuD,IACxF,KAAK,EAKD,OAJA8P,EAAWnT,EAAGgQ,OAIP,CAAC,EAAakC,YAAI,CACjBrT,KAAMA,EAAO,WACbwE,QAAS8P,EACTlI,eAAgB5H,EAChBsG,KAAM3I,GAASA,GAASA,GAAS,GAAI2I,GAAOsJ,GAAqB,CAAEhJ,cAAe+I,EAAU9I,YAAaC,SAErH,KAAK,EAED,OADAnK,EAAGgQ,OACI,CAAC,EAAakC,YAAI,CAAErT,KAAMsL,OACrC,KAAK,EAED,OADAnK,EAAGgQ,OACI,CAAC,EAAa,IACzB,KAAK,EAED,OADAuC,EAAUvS,EAAGgQ,OACN,CAAC,EAAakC,YAAI,CACjBrT,KAAMA,EAAO,WACbmG,MAAQuN,IAAYA,EAAQT,QAAUS,EAAQT,QAAUS,IAAa,KACrElP,QAAUkP,GAAWA,EAAQ1R,MAAS,KACtCoK,eAAgB5H,EAChBsG,KAAM3I,GAASA,GAASA,GAAS,GAAI2I,GAAOuJ,GAAqB,CAAEjJ,cAAe+I,EAAU9I,YAAa+C,SAErH,KAAK,EAED,OADAjN,EAAGgQ,OACI,CAAC,EAAakC,YAAI,CAAErT,KAAMoO,IAAajI,MAAOuN,KACzD,KAAK,EAED,OADAvS,EAAGgQ,OACI,CAAC,EAAa,IACzB,KAAK,GAAI,MAAO,CAAC,EAAasD,eAC9B,KAAK,GACD,OAAKtT,EAAGgQ,OACD,CAAC,EAAakC,YAAI,CAAErT,KAAMqO,OADV,CAAC,EAAa,IAEzC,KAAK,GAED,OADAlN,EAAGgQ,OACI,CAAC,GACZ,KAAK,GAAI,MAAO,CAAC,GACjB,KAAK,GAAI,MAAO,CAAC,OAItB,IAAIuD,GAAkB,SAAUhJ,GAAU,OAAOA,EAAOZ,MAAQY,EAAOZ,KAAKE,OAapEA,GAZH,SAAUlH,GAClB,OAAO,WACH,OAAO8M,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAaiB,YAAUuC,GAAiBT,GAAanQ,IACrE,KAAK,EAED,OADA5C,EAAGiQ,OACI,CAAC,SCjKxBP,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA6B7D,SAASiD,GAAmBzT,GACxB,IAAIc,EAAMC,EAAOd,EAAIe,EACjBiE,EAAQjF,EAAGiF,MAAOyO,EAAK1T,EAAG4J,KAAMlJ,EAAegT,EAAGhT,aAAcmJ,EAAa6J,EAAG7J,WACpF,OAAO6F,GAAY7N,MAAM,SAAU8R,GAC/B,OAAQA,EAAG3D,OACP,KAAK,EAED,OADAlP,EAAOJ,EAAaI,KAAMC,EAAQL,EAAaK,MAAOd,EAAKS,EAAaM,YAAaA,OAAqB,IAAPf,EAAgB,GAAKA,EACnHgF,EACE,CAAC,EAAakN,YAAII,aAAkC,kBAAVtN,EAAqBA,EAAQA,EAAM8M,SAAWjR,EAAMC,GAAS,UAAW,CACjHC,YAAaA,EACb4S,UAAU,MAHC,CAAC,EAAa,GAKrC,KAAK,EAAG,MAAO,CAAC,EAAcD,EAAG1D,QACjC,KAAK,EAAG,MAAO,CAAC,EAAakC,YAAII,aAAiBzR,EAAMC,GAAS,OAAQ,CACjEC,YAAaA,EACb4S,SAAU/J,MAElB,KAAK,EAED,OADA8J,EAAG1D,OACI,CAAC,OAIT,kBACX,OAAOP,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAaiB,aAEzB,SAAUzG,GAAU,OAAOA,EAAOZ,MAAQY,EAAOZ,KAAKlJ,eAAiB+S,KAC3E,KAAK,EAED,OADAzT,EAAGiQ,OACI,CAAC,Q,UC/DpBP,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA+BtD,SAASqD,GAAkB7T,GAC9B,IAAIsD,EAAUtD,EAAGsD,QAAS4H,EAAiBlL,EAAGkL,eAAgBjL,EAAKD,EAAG4J,KAAMkK,EAAW7T,EAAG6T,SAAUnT,EAAaV,EAAGU,WACpH,OAAO+O,GAAY7N,MAAM,SAAU6R,GAC/B,OAAQA,EAAG1D,OACP,KAAK,EACD,OAAMrP,EAAmB,CAAC,EAAa,GAChC,CAAC,EAAawR,YAAI4B,gBAC7B,KAAK,EAED,OADAL,EAAGzD,OACI,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,EAAakC,YAAItB,aAAKmD,aAAkBrT,EAAYmT,EAAUxQ,EACpEA,EAAQiF,KAAOjF,EAAQ0B,KAAO1B,EAAQ0B,KAAKuD,GAAK,MAChD2C,EACIA,EAAe3C,GACf,KAAMjF,GAAWA,EAAQ0B,KAC7B1B,EAAQ0B,KACRkG,GAAkBA,EAAelG,KAC7BkG,EAAelG,KACf,SACd,KAAK,EAED,OADA0O,EAAGzD,OACI,CAAC,OAIT,kBACX,OAAOP,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAaiB,aAEzB,SAAUzG,GAAU,OAAOA,EAAOZ,MAA0C,qBAA3BY,EAAOZ,KAAKjJ,aAA+BkT,KAChG,KAAK,EAED,OADA7T,EAAGiQ,OACI,CAAC,QCnEpBP,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAgCzD5D,GAAS,SAAUqH,EAAQjU,GAC3B,IAAIiK,EAAMjK,EAAGsD,QAAQ2G,IAEjBiK,EAAY,IAAIC,IAAIF,GAExB,OADAhK,EAAI7C,SAAQ,SAAUmB,GAAM,OAAO2L,EAAUE,IAAI7L,MAC1CjG,MAAM+R,KAAKH,IAGXI,GAAkB,SAAUC,EAAOC,GAU1C,OAAO,SAAkB5Q,EAAK6Q,GAC1B,IAAIC,EAAkBlK,EACtB,OAAOkF,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAEL,MAAO,CAAC,EAAa2E,YAAM,KAC3B,KAAK,EAOD,OALA3U,EAAGiQ,OACHyE,EAAmBF,EAAc5Q,UAE1B4Q,EAAc5Q,GACrB4G,EAASiK,EAAc7Q,EAAK8Q,GACrB,CAAC,EAAavC,YAAI3H,IAC7B,KAAK,EAGD,OAFAxK,EAAGiQ,cACIsE,EAAM3Q,GACN,CAAC,SAMjBgR,GAAoB,SAAUL,EAAOC,EAAeK,GAoC3D,OAAO,SAAoBrK,GACvB,IAAI5G,EAAKkR,EAAkB9U,EAAIC,EAC/B,OAAOyP,GAAY7N,MAAM,SAAU6R,GAC/B,OAAQA,EAAG1D,OACP,KAAK,EAED,OADApM,EAAM4G,EAAOZ,KAAKmL,eAAiBvK,EAAOlH,QAAQvD,SAC7CwU,EAAM3Q,GACJ,CAAC,EAAaoR,YAAOT,EAAM3Q,KADV,CAAC,EAAa,GAE1C,KAAK,EACD8P,EAAGzD,OACHyD,EAAG1D,MAAQ,EACf,KAAK,EAOD,OANA8E,EAAmBtK,EAAOZ,KAAKkL,kBAAoBlI,GAGnD4H,EAAc5Q,GAAOkR,EAAiBN,EAAc5Q,GAAM4G,GAC1DxK,EAAKuU,EACLtU,EAAK2D,EACE,CAAC,EAAaqR,YAAKJ,EAAUjR,EAAK4G,EAAOZ,KAAKsL,aACzD,KAAK,EAED,OADAlV,EAAGC,GAAMyT,EAAGzD,OACL,CAAC,SAKb,cACX,IAAIuE,EAAeD,EACnB,OAAO7E,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAGD,OAFAwE,EAAgB,GAChBD,EAAQ,GACD,CAAC,EAAatD,aAAU,SAAUzG,GAAU,OAAOA,EAAOZ,MAAQY,EAAOZ,KAAKsL,aAAeN,GAAkBL,EAAOC,EAAeF,GAAgBC,EAAOC,MACvK,KAAK,EAED,OADAxU,EAAGiQ,OACI,CAAC,QCrJpBP,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA6B7D,SAAS2E,KACL,OAAOzF,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAamC,YAAI4B,gBACjC,KAAK,EAED,OADA/T,EAAGiQ,OACI,CAAC,OAIT,kBACX,OAAOP,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAaiB,aAAU,SAAUzG,GAAU,OAAOA,EAAOZ,MAAQY,EAAOZ,KAAKlK,UAAYyV,KACzG,KAAK,EAED,OADAnV,EAAGiQ,OACI,CAAC,QChDpBhP,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BmO,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAwBzD1O,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMJ,SAASiU,GAAeC,GAC3B,IAAI7K,EAAQxK,EAAIE,EAAWE,EAAWkV,EAAwBtW,EAC9D,OAAO0Q,GAAY7N,MAAM,SAAU5B,GAC/B,OAAQA,EAAG+P,OACP,KAAK,EAGD,OAFAxF,EAAS6K,EAAe/R,QAAQkH,OAChCxK,EAAKwK,EAAOZ,KAAM1J,EAAYF,EAAGE,UAAWE,EAAYJ,EAAGI,UAAWkV,EAAyBxT,GAAO9B,EAAI,CAAC,YAAa,cACjH,CAAC,EAAamS,YAAIjT,iBAC7B,KAAK,EAGD,OAFAe,EAAGgQ,OAEI,CAAC,EAAakC,YAAIlR,GAASA,GAAS,GAAIuJ,GAAS,CAAE1L,KAAM0L,EAAO1L,KAAO,cAAe8K,KAAM3I,GAASA,GAASA,GAAS,GAAIqU,GAAyBpV,GAAY,CAAE2J,YAAY,QACzL,KAAK,EAGD,OADA5J,EAAGgQ,OACI,CAAC,EAAasF,YAAK,CAClB1W,KAAM2W,YAAK5W,MACXI,SAAUwW,YAAKzW,SAE3B,KAAK,EAED,OADAC,EAAYiB,EAAGgQ,OAAQjR,SAChB,CAAC,EAAamT,YAAI/S,iBAC7B,KAAK,EAED,OADAa,EAAGgQ,OACEjR,EAEE,CAAC,EAAamT,YAAIlR,GAASA,GAAS,GAAIuJ,GAAS,CAAEZ,KAAM3I,GAASA,GAAS,GAAIqU,GAAyB,CAAEpV,UAAW,CAAER,SAAS,GAAQU,UAAWa,GAASA,GAAS,GAAIb,GAAY,CAAEV,SAAS,UAFjL,CAAC,EAAa,GAGxC,KAAK,EAGD,OADAO,EAAGgQ,OACI,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAakC,YAAII,aAAiB,8BAClD,KAAK,EAED,OADAtS,EAAGgQ,OACI,CAAC,EAAakC,YAAI4B,gBAC7B,KAAK,EACD9T,EAAGgQ,OACHhQ,EAAG+P,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,OAIb,SAASyF,KACpB,OAAO/F,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAEL,MAAO,CAAC,EAAaiB,YAAUtS,KAAUyW,KACzC,KAAK,EAGD,OADApV,EAAGiQ,OACI,CAAC,OCxGxB,IAAIP,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAqC7C,YAAU5N,EAAcmO,GACpC,OAAO,WACH,OAAOrB,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAagB,YAAI,CACzBsB,GAAKvB,EAALuB,GACAzT,KACAiL,GAAMlH,EAANkH,GACAoL,KACAQ,KACAhW,KACAgB,KACAoS,QAER,KAAK,EAED,OADA9S,EAAGiQ,OACI,CAAC,SCxDxBhP,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BmO,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAwBzDrO,GAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GASK,YAAUrC,GACtB,IAAI4C,EAAe5C,EAAG4C,aAAc+S,EAAU3V,EAAG2V,QAAS1V,EAAKD,EAAG4V,eAAgBA,OAAwB,IAAP3V,EAAgB,GAAKA,EAAIyT,EAAK1T,EAAG+Q,aAAcA,OAAsB,IAAP2C,EAAgB,KAAOA,EAAIC,EAAK3T,EAAG6V,YAAaA,OAAqB,IAAPlC,EAAgB,GAAKA,EAAIlK,EAAezJ,EAAGyJ,aACtQqM,EXvCQ,SAAUF,EAAgBD,GACtC,OAAOlJ,YAAgBxL,GAAS,CAAE0M,MAAOA,GAAO8D,OAAQsE,YAAcJ,IAAYC,IWsCjEI,CAAiBJ,EAAgBD,GAiB9CM,EAAiBC,cAEjBC,GADgC,qBAAXhI,QAA0BA,OAQ/CiI,KACAC,EAAQC,aA1Be,SAAUjR,EAAOmF,GACxC,OAAOsL,EAAWtL,EAAO1L,OAASyX,KAC5BlR,EAEDpE,GAASA,GAAS,GAAIoE,GAAQ,CAAEsI,MAAO1M,GAASA,GAAS,GAAIoE,EAAMsI,OAAQ,CAAExI,QAAS,EAAGyJ,UAAW,GAAIK,cAAe,GAAIC,WAAY,CAAEnB,UAAW,GAAIC,eAAgB,QAAYxD,KAsBvH,oBAAjBf,EAA8BA,IAAiBA,EAAc0M,EAAiBK,YAAgBP,EAAgBQ,YAAiBd,MAEpL,OADAM,EAAeS,KArBJ,WACP,OAAOhH,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAagB,YAAI7O,GAAe,CAACwU,GAAU/T,EAAcmO,IAAgB8E,GAAarN,IAAIyM,OAC1G,KAAK,EAED,OADAjV,EAAGiQ,OACI,CAAC,UAgBjBoG,G,SClFPO,GAAqBC,wBAAc,CACnCC,OAAQ,KACRC,UAAW,aACXC,aAAc,CACVC,UAAW,SAAUC,GAAK,OAAOA,GACjCC,aAAc,WAAc,OAAOjT,QAAQkT,WAC3CC,UAAW,WAAc,MAAO,SAGxCT,GAAmBU,YAAc,qBCVjC,IAAIrW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YA+BjBgW,GAdW,SAAUzI,GAChC,IAAIkI,EAAelI,EAAMkI,aAAcQ,EAAW1I,EAAM0I,SACpDxX,EAAK+E,aAAgB,CACrB+R,OAAQE,EAAeA,EAAaK,YAAc,KAClDL,aAAcA,IACd3R,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GAC7B+W,EAAYvR,uBAAY,SAAUiS,GAClC,OAAOnS,GAAS,SAAUD,GAAS,OAAQpE,GAASA,GAAS,GAAIoE,GAAQ,CAAEyR,OAAQW,SACpF,CAACnS,IAGAuD,EAAQ/I,mBAAQ,WAAc,OAAQmB,GAASA,GAAS,GAAIoE,GAAQ,CAAE0R,UAAWA,MAAkB,CAACA,EAAW1R,IACnH,OAAQqS,IAAMC,cAAcf,GAAmBgB,SAAU,CAAE/O,MAAOA,GAASgP,WAASC,KAAKN,KCM9EO,GAnCQ,SAAU/X,GAC7B,IAAI+Q,EAAe/Q,EAAG+Q,aAAcnO,EAAe5C,EAAG4C,aAAcoU,EAAehX,EAAGgX,aAAcQ,EAAWxX,EAAGwX,SAAU7B,EAAU3V,EAAG2V,QAASC,EAAiB5V,EAAG4V,eAAgBC,EAAc7V,EAAG6V,YAAapM,EAAezJ,EAAGyJ,aAClOuO,IAA8BC,qBAAWC,KAC7C,IAAKtV,EACD,MAAM,IAAI6B,MAAM,2FAEpB,IAAI0T,EAAoBpH,aAAwBsC,SCLpC,SAAU+E,GACtB,IAAIrH,EAAe,WAEf,IADA,IAAI5N,EAAO,GACFC,EAAK,EAAGA,EAAK7B,UAAUd,OAAQ2C,IACpCD,EAAKC,GAAM7B,UAAU6B,GAEzB,OAAOgV,EAAmBxW,MAAM,KAAMuB,IAS1C,OAPA4N,EAAasH,MAAQ,SAAU3S,GAAU,OAAO0S,EClB5B,aDkB2D1S,IAC/EqL,EAAauH,OAAS,SAAU5S,GAAU,OAAO0S,EChB5B,cDgB4D1S,IACjFqL,EAAawH,UAAY,SAAU7S,GAAU,OAAO0S,ECnBhC,aDmB+D1S,IACnFqL,EAAayH,WAAa,SAAUvT,GAAS,OAAOmT,ECnBhC,aDmB+DnT,IACnF8L,EAAa0H,eAAiB,SAAU/S,GACpC,OAAO0S,ECnBmB,uBDmBsB1S,IAE7CqL,EDTD2H,CAA0B3H,GAC1BA,EACFtL,EAAoB7C,aAAwByQ,SAC1CsF,YAA0B/V,GAC1BA,EACFgW,EAAejD,GAAWkD,cAC1BC,EAAa,WACb,OAAQpB,gBAAoBqB,IAAYnB,SAAU,CAAE/O,MAAOsP,GACvDT,gBAAoBsB,IAAoBpB,SAAU,CAAE/O,MAAOpD,GACvDiS,gBAAoBH,GAAqB,CAAEP,aAAcA,GAAkC,qBAAX7I,OAA0BuJ,gBAAoBuB,IAAiB,CAAEtD,QAASiD,GAAgBpB,GAAcA,MAEpM,GAAIQ,EAA2B,CAC3B,IAAKrC,EACD,MAAM,IAAIlR,MAAM,kQAEpB,OAAOqU,IAGP,OAAQpB,gBAAoBE,IAAU,CAAEvB,MAAO6C,GAAiB,CACxDnI,aAAcoH,EACdvC,eAAgBA,EAChBC,YAAaA,EACbjT,aAAc6C,EACdgE,aAAcA,EACdkM,QAASiD,KACPE,MG2FHK,GApIO,CAClBC,GAAI,CACA5O,OAAQ,CACJ6O,WAAY,aACZjF,IAAK,MACLkF,KAAM,UACNC,aAAc,qDACdvE,OAAQ,SACRwE,kBAAmB,cACnBC,MAAO,QACPC,QAAS,UACTC,OAAQ,SACRC,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACR/K,KAAM,OACNrP,QAAS,UACTqa,cAAe,qBACfC,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACRC,KAAM,OACNrO,KAAM,OACNjN,KAAM,OACNub,SAAU,WACVC,OAAQ,SACRC,MAAO,QACPC,UAAW,YACXC,WAAY,cAEhBC,QAAS,CACLC,KAAM,MACNC,MAAO,KACPC,KAAM,UAEV5O,KAAM,CACF2N,OAAQ,iBACRkB,UAAW,YACXhB,KAAM,iBACN5U,MAAO,uBACP8J,KAAM,UACN5J,QAAS,UACT2V,UAAW,YACXX,KAAM,iBACNY,MAAO,kBACPC,OAAQ,2BAEZC,MAAO,CACHC,KAAM,CACFC,eAAgB,qDAChBC,cAAe,iDAEnBC,MAAO,CACHF,eAAgB,wDAChBC,cAAe,oDAEnBlM,WAAY,CACRoM,YAAa,kCACbC,aAAc,+EACdC,eAAgB,2DAEpBC,SAAU,CACNC,eAAgB,gBAChBC,cAAe,kBAGvB5J,QAAS,CACL6J,MAAO,QACPC,aAAc,gBACdC,oBAAqB,iHACrBC,kBAAmB,oDACnBC,eAAgB,6CAChBC,aAAc,wBACdC,QAAS,UACTjX,MAAO,kEACPkX,aAAc,iDACdhX,QAAS,4CACTiX,GAAI,KACJtB,UAAW,4DACXuB,IAAK,MACLC,gBAAiB,6EAErBC,WAAY,CACRC,WAAY,mBACZC,gBAAiB,uEACjBC,uBAAwB,wCACxBC,kBAAmB,4BACnBC,oBAAqB,0BACrBC,gBAAiB,0CACjBC,mBAAoB,iBACpB1M,KAAM,OACN2M,KAAM,QAEVjR,KAAM,CACFkR,QAAS,4BACTC,IAAK,YACLC,KAAM,cAEV5K,KAAM,CACF6K,iBAAkB,2BAClBC,UAAW,UACXC,SAAU,WACV5B,SAAU,WACV6B,QAAS,UACTC,cAAe,sCACfjF,OAAQ,UAEZ5X,aAAc,CACV8c,QAAS,uDACTC,QAAS,kBACTC,QAAS,uDACTC,SAAU,oBACVC,kBAAmB,yBACnBC,WAAY,6BACZC,oBAAqB,qDACrBC,WAAY,0DACZC,SAAU,mBACVC,WAAY,6CAEhBC,WAAY,CACRC,SAAU,WACVC,UAAW,qCACXC,UAAW,oCACXC,SAAU,0BACVC,SAAU,yBACVC,OAAQ,mBACRC,MAAO,wBACPC,MAAO,6BACPC,MAAO,uD,qBChIf1d,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAkBhB,YAAUqd,EAAaC,EAAeC,QAC5B,IAAlBD,IAA4BA,EAAgB,WACxB,IAApBC,IAA8BA,EAAkB,IACpD,IAAIhI,EAAS+H,EACTE,EAAWH,EAAYC,GAC3B,GAAIE,aAAoB7a,QACpB,MAAM,IAAIO,MAAM,+EAAiFoa,EAAgB,yGAErH,IAAIG,EAAW,IAAIC,KAAShe,GAAS,CAAE6V,OAAQA,EAAQoI,QAASje,GAAS,CAAE,GAAI,IAAM8d,IAAaD,IAC9F7H,EAAY+H,EAAS7d,EAAEge,KAAKH,GAChC,MAAO,CACH/H,UAAW,SAAUrT,EAAKJ,GAEtB,YADgB,IAAZA,IAAsBA,EAAU,IAC7ByT,EAAUrT,EAAKJ,IAE1B2T,aAAc,SAAUM,GAGpB,OAAOvT,QAAQkT,QAAQwH,EAAYnH,IAAY7R,MAAK,SAAUmZ,GAC1DjI,EAASW,EACT,IAAI2H,EAAc,IAAIH,KAAShe,GAAS,CAAE6V,OAAQW,EAAWyH,QAASje,GAAS,CAAE,GAAI,IAAM8d,IAAaD,IACxG7H,EAAYmI,EAAYje,EAAEge,KAAKC,OAGvC/H,UAAW,WAAc,OAAOP,KCjDzBuI,OAAqB,WAAc,OAAOC,MCFrDre,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAK5Bge,GAAe,SAAUzQ,GAAS,OAAQ4I,gBAAoBK,GAAkB9W,GAAS,GAAI6N,KACjGyQ,GAAaC,aAAe,CACxBxI,aAAcyI,IAElBF,GAAajI,YAAc,eACZiI,U,gDC6CXG,GAA+B,WAAc,OAAOxb,QAAQkT,WAC5DvF,GAAkB,SAAU5M,EAAO6M,GACnC,MAAwB,kBAAV7M,EACRA,EACiB,qBAAVA,GAA0BA,EAAM8M,QAEnC9M,EAAM8M,QADND,GAGC6N,GAhCI,WACf,IAAI5O,EAAe6O,eACftgB,EAASC,eACT+Y,EAASuH,eACTtH,EAAY/S,uBAAY,SAAUE,EAAQoa,EAAiBnf,EAAYof,GAKvE,YAJe,IAAXra,IAAqBA,EAAS,SACV,IAApBoa,IAA8BA,GAAkB,QACjC,IAAfnf,IAAyBA,EAAaqf,KAAkBC,eAChC,IAAxBF,IAAkCA,GAAsB,GACrDhP,EAAawH,UAAU7S,GAAQG,OAAM,SAAUZ,GAC9C6a,IACAxH,EAAO,GAAIrT,GAASA,EAAMtE,WACpBsE,EAAMtE,WACNA,KACiBof,GAClB9a,IAA2B,IAAlBA,EAAM8M,UAEhBzS,EAAOuS,GAAgB5M,EAAO,4BAA6B,YAEnE,MAAMA,OAEX,CAAC8L,EAAcuH,EAAQhZ,IAC1B,OAAOyR,EAAewH,EAAYmH,IC5DlCQ,GAAc,GA0BF,YAAUxa,QACP,IAAXA,IAAqBA,EAASwa,IAClC,IAAI3H,EAAYoH,KAChBQ,qBAAU,WACN5H,EAAU7S,GAAQG,OAAM,iBACzB,CAAC0S,EAAW7S,KC/Bf0a,GAAgC,WAAc,OAAOlc,QAAQkT,QAAQ,KAwC1DiJ,GARS,WACpB,IAAItP,EAAe6O,eACfnH,EAAiBjT,uBAAY,SAAUE,GAEvC,YADe,IAAXA,IAAqBA,EAAS,IAC3BqL,EAAa0H,eAAe/S,KACpC,CAACqL,IACJ,OAAOA,EAAe0H,EAAiB2H,ICpCvCF,GAAc,GAGdI,GAA4B,CAAE,KAAM,IA6DzBC,GAvBe,SAAU7a,QACrB,IAAXA,IAAqBA,EAASwa,IAClC,IAAIlgB,EAAK+E,aAAgB,CACrByb,YAAaF,GAA0Bva,KAAKC,UAAUN,MACtDL,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GAC7ByY,EAAiB4H,KAgBrB,OAfAF,qBAAU,WACN1H,EAAe/S,GACVE,MAAK,SAAU4a,GAChB,IAAI5c,EAAMmC,KAAKC,UAAUN,GACpBgD,IAAQ8X,EAAaF,GAA0B1c,MAChD0c,GAA0B1c,GAAO4c,EACjClb,EAAS,CAAEkb,YAAaA,QAG3B3a,OAAM,SAAUZ,GACjBK,EAAS,CACLL,MAAOA,SAGhB,CAACwT,EAAgB/S,EAAQJ,IACrBD,GClEPpE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMPsf,GAAkB,SAAUjJ,GAAY,OAAoC,IAA7BK,WAAS6I,MAAMlJ,IAuDnDmJ,GApBO,SAAU3gB,GAC5B,IAAI4gB,EAAa5gB,EAAG4gB,WAAYpJ,EAAWxX,EAAGwX,SAAUqJ,EAAS7gB,EAAG6gB,OAAQC,EAAY9gB,EAAG8gB,UAA6ChS,GAAlB9O,EAAG+gB,cAAuBjf,GAAO9B,EAAI,CAAC,aAAc,WAAY,SAAU,YAAa,mBAC7MghB,aAASH,GAAUrJ,IAAaiJ,GAAgBjJ,IAC3CqJ,GAAUC,GACVA,GAAatJ,IAAaiJ,GAAgBjJ,GAAY,kGAC3DyJ,GAAiBL,GACjB,IAAIJ,EAAcD,GAAwBK,GAAYJ,YAEtD,OAAIM,EACOnJ,wBAAcmJ,EAAW7f,GAAS,CAAEuf,YAAaA,GAAe1R,IAGvE+R,EACOA,EAAO5f,GAAS,CAAEuf,YAAaA,GAAe1R,IAGrD0I,EACOA,EAASvW,GAAS,CAAEuf,YAAaA,GAAe1R,SAD3D,GC7EA7N,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAK5Bye,GAAoB,CAAEkB,MAAO,aAqBlBC,GApBQ,SAAUnhB,GAC7B,IAAIohB,EAAWphB,EAAGohB,SAAU5J,EAAWxX,EAAGwX,SAAU6J,EAAerhB,EAAGqhB,aAAcxG,EAAY7a,EAAG6a,UAAWyG,EAAQthB,EAAGshB,MACrHC,EAAkB7J,IAAMG,SAAS2J,QAAQhK,GACzCiK,EAAaF,EAAgB9gB,OAAS,EACpC8gB,EAAgB,GAChB,KACN,OAAQ7J,IAAMC,cAAc+J,KAAQ,KAChCL,GACIA,EAAa7Y,KAAI,SAAU0Y,EAAOtd,GAAO,OAAO+d,uBAAaT,EAAO,CAAEtd,IAAKA,OAC/EiU,WAASrP,IAAIgP,GAAU,SAAUoK,GAAS,OAAQlK,IAAMC,cAAckK,KAAO,CAAEje,IAAKge,EAAM9S,MAAM5L,KAAM4e,KAAM,IAAMF,EAAM9S,MAAM5L,KAAM2d,OAAQ,SAAU/R,GAC9I,OAAO6S,uBAAaC,EAAO3gB,GAAS,CAGhC8gB,OAAQ,SAAWjT,UAE/B+L,EAAanD,IAAMC,cAAckK,KAAO,CAAEG,OAAO,EAAMF,KAAM,IAAKjB,OAAQ,SAAUoB,GAAc,OAAQvK,IAAMC,cAAcgJ,GAAiB1f,GAAS,CAAE2f,WAAYZ,GAAmBc,UAAWjG,GAAaoH,OAAuBR,EAAc/J,IAAMC,cAAckK,KAAO,CAAEG,OAAO,EAAMF,KAAM,IAAKjB,OAAQ,WAAc,OAAOnJ,IAAMC,cAAcuK,KAAU,CAAEC,GAAI,IAAMV,EAAW3S,MAAM5L,UAAiB,KACpZwU,IAAMC,cAAckK,KAAO,CAAEhB,OAAQ,SAAUoB,GACvC,OAAOtK,wBAAcyJ,EAAUngB,GAASA,GAAS,GAAIghB,GAAa,CAAEX,MAAOA,UC7BvFpB,GAAc,GAwDHkC,GAnBI,SAAU1c,QACV,IAAXA,IAAqBA,EAASwa,IAClC,IAAIlgB,EAAK+E,aAAgB,CACrBI,SAAS,EACTC,QAAQ,EACRid,eAAe,IACfhd,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GAC7BuY,EAAYoH,KAUhB,OATAQ,qBAAU,WACN5H,EAAU7S,GAAQ,GACbE,MAAK,WACN,OAAON,EAAS,CAAEH,SAAS,EAAOC,QAAQ,EAAMid,eAAe,OAE9Dxc,OAAM,WACP,OAAOP,EAAS,CAAEH,SAAS,EAAOC,QAAQ,EAAMid,eAAe,SAEpE,CAAC9J,EAAW7S,EAAQJ,IAChBD,GCzDPpE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5B+gB,GAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA6BzDqS,GAAkB,SAAU/T,GAC5B,IAAI2J,EAAiB4H,KACjByC,EAAWjD,eACXwC,EAAgBD,KAAeC,cAC/BU,EAAqBC,aAAW,KAChChjB,EAAK+E,aAAgB,IAAKke,EAAmBjjB,EAAG,GAAIkjB,EAAsBljB,EAAG,GACjFmgB,qBAAU,WACwB,oBAAnBrR,EAAM0I,UACb2L,MAEL,CAACd,IACJ,IAAIc,EAAsB,WAAc,OAAOb,QAAU,OAAQ,OAAQ,GAAQ,WAC7E,IAAI9B,EAAa4C,EAAiBC,EAAoB7Q,EACtD,OAAO9C,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAED,OADAhQ,EAAGkQ,KAAKW,KAAK,CAAC,EAAG,EAAJ,CAAS,IACf,CAAC,EAAa4H,KACzB,KAAK,EAcD,OAbA+H,EAAcxgB,EAAGiQ,OACjBmT,EAAkBtU,EAAM0I,UACxB6L,EAAqBD,EAAgB5C,IACd5a,KACnByd,EAAmBzd,MAAK,SAAU0d,GAC9B,OAAOJ,EAAoBI,EACtBja,QAAO,SAAUuY,GAAS,OAAOA,KACjCpZ,KAAI,SAAUoZ,GAAS,OAAQ3gB,GAASA,GAAS,GAAI2gB,GAAQ,CAAE9S,MAAO7N,GAASA,GAAS,GAAI2gB,EAAM9S,OAAQ,CAAElL,IAAKge,EAAM9S,MAAM5L,gBAItIggB,EAAoBG,EAAmBha,QAAO,SAAUuY,GAAS,OAAOA,MAErE,CAAC,EAAa,GACzB,KAAK,EAID,OAHApP,EAAUxS,EAAGiQ,OACbsT,QAAQte,MAAMuN,GACdsQ,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,WAYxBU,EAAS1U,EAAM0U,OAAQpC,EAAWtS,EAAMsS,SAAU5J,EAAW1I,EAAM0I,SAAU6J,EAAevS,EAAMuS,aAAcxG,EAAY/L,EAAM+L,UAAW4I,EAAc3U,EAAM3J,QAASmT,EAASxJ,EAAMwJ,OAAQoL,EAAO5U,EAAM4U,KAAMC,EAAQ7U,EAAM6U,MAAOC,EAAQ9U,EAAM8U,MAAOtC,EAAQxS,EAAMwS,MAChR,GAAyB,oBAAb9J,IAA4BA,GACnClV,MAAMuhB,QAAQrM,IAAiC,IAApBA,EAAS/W,OACrC,OAAOkX,wBAAcgM,GAEzB,GAAwB,oBAAbnM,KACLyL,GAAgD,IAA5BA,EAAiBxiB,QACvC,OAAIsiB,EACQrL,IAAMC,cAAckK,KAAO,CAAEC,KAAM,IAAKle,IAAK,UAAWid,OAAQ,WAAc,OAAOnJ,IAAMC,cAAc8L,EAAa,CAAEG,MAAOA,OAGhI,KAGf,IAAIE,EAAwC,oBAAbtM,EACzByL,EACAzL,EACN,OAAQE,IAAMC,cAAc,MAAO,KAG/BE,WAASrP,IAAIsb,GAAkB,SAAUlC,GACrC,OAAOD,uBAAaC,EAAO,CACvBhe,IAAKge,EAAM9S,MAAM5L,KAGjB6e,OAAQ,oBAGhBrK,IAAMC,cAAc+J,KAAQ,KACxBL,EACKhY,QAAO,SAAU6X,GAAS,OAAOA,EAAMpS,MAAMiV,YAC7Cvb,KAAI,SAAU0Y,EAAOtd,GACtB,OAAO+d,uBAAaT,EAAO,CACvBtd,IAAKA,EACLid,OAAQ,SAAUoB,GACd,OA3CkB,SAAUf,EAAOe,GACnD,OAAIf,EAAMpS,MAAM+R,OACLK,EAAMpS,MAAM+R,OAAO5f,GAASA,GAAS,GAAIghB,GAAa,CAAEX,MAAOxS,EAAMwS,SAE5EJ,EAAMpS,MAAMgS,UACLnJ,wBAAcuJ,EAAMpS,MAAMgS,UAAW7f,GAASA,GAAS,GAAIghB,GAAa,CAAEX,MAAOxS,EAAMwS,cADlG,EAuCuB0C,CAAgC9C,EAAOe,SAI1DvK,IAAMC,cAAckK,KAAO,CAAEC,KAAM,IAAKjB,OAAQ,WACxC,OAAOlJ,wBAAc6L,EAAQ,CACzB3I,UAAWA,EACXvC,OAAQA,EACRoL,KAAMA,EACNE,MAAOA,EACPtC,MAAOA,GACR5J,IAAMC,cAAcwJ,GAAkB,CAAEC,SAAUA,EAAUC,aAAcA,EAAahY,QAAO,SAAU6X,GAAS,OAAQA,EAAMpS,MAAMiV,YAAclJ,UAAWA,EAAWyG,MAAOA,GAASzJ,WAASrP,IAAIsb,GAAkB,SAAUlC,GACjO,OAAOD,uBAAaC,EAAO,CACvBhe,IAAKge,EAAM9S,MAAM5L,KACjB6e,OAAQ,qBAKpCc,GAAgBrD,aAAe,CAC3B6B,aAAc,IAEHwB,UC1FC,cACZ,OAAgDnL,gBAAoB,OAAQ,OCtE5EzW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAO5B0iB,GAAgB,SAAUjkB,GAC1B,IAAIwX,EAAWxX,EAAGwX,SAClB,OAAQE,gBAAoBA,WAAgB,KAAMF,IA2BlD0M,GAAO,WAAc,OAAO,MACjBC,GA1BG,SAAUnkB,GACxB,IAAIC,EAAKD,EAAGohB,SAAUA,OAAkB,IAAPnhB,EAAgBikB,GAAOjkB,EAAIuX,EAAWxX,EAAGwX,SAAU9D,EAAK1T,EAAGqhB,aAAcA,OAAsB,IAAP3N,EAAgB,GAAKA,EAAImH,EAAY7a,EAAG6a,UAAWlH,EAAK3T,EAAGokB,iBAAkBA,OAA0B,IAAPzQ,GAAwBA,EAAI0Q,EAAKrkB,EAAGwjB,OAAQA,OAAgB,IAAPa,EAAgBJ,GAAgBI,EAAIC,EAAKtkB,EAAGmF,QAASA,OAAiB,IAAPmf,EAAgBJ,GAAOI,EAAIC,EAAKvkB,EAAGwkB,UAAWA,OAAmB,IAAPD,GAAwBA,EAAIjM,EAAStY,EAAGsY,OAAQoL,EAAO1jB,EAAG0jB,KACjce,EAAKzkB,EAAG2jB,MACRA,OAAe,IAAPc,EAAgBC,GAAQD,EAAIb,EAAQ5jB,EAAG4jB,MAAOe,EAAK3kB,EAAGshB,MAAOA,OAAe,IAAPqD,EAAgB,cAAgBA,EACzGC,EAAgB9kB,mBAAQ,WAAc,OAAOwY,GAAUX,wBAAcW,KAAY,CACjFA,IAaJ,OAXA6H,qBAAU,WACFiE,GAEkB,qBAAXjW,QACoB,qBAApBA,OAAOuD,UACG,qBAAVmT,SAGD,IAAIA,OACVC,IAAM,2EAA6E3W,OAAOuD,SAASqT,YACxG,CAACX,IACI1M,gBAAoBgK,KAAQ,MAClB,IAAd8C,IAAqC,IAAdA,EAAsB9M,gBAAoBmK,KAAO,CAAEG,OAAO,EAAMF,KAAM,SAAUjB,OAAQ,SAAU/R,GACjH,OAAO6I,wBAAc6M,EAAWvjB,GAASA,GAAS,GAAI6N,GAAQ,CAAEwS,MAAOA,EACnEsC,MAAOA,QACP,KACZlM,gBAAoBmK,KAAO,CAAEC,KAAM,IAAKjB,OAAQ,SAAU/R,GAAS,OAAQ4I,gBAAoBmL,GAAiB5hB,GAAS,CAAEmgB,SAAUA,EAAUC,aAAcA,EAAcxG,UAAWA,EAAW2I,OAAQA,EAAQre,QAASA,EAASmT,OAAQsM,EAAelB,KAAMA,EAAMC,MAAOA,EAAOC,MAAOA,EAAOtC,MAAOA,GAASxS,GAAQ0I,Q,uFC1ClT,YAAU1I,EAAOkW,EAAUC,GACvC,GAAInW,EAAMkW,KAAcE,8BAAmBpW,EAAMkW,IAC7C,OAAO,IAAIvgB,MAAM,iBAAmBugB,EAAW,kBAAoBC,EAAgB,+C,qHC4BvFE,GAAW,SAAUvhB,GAAO,OAAOA,GACxBwhB,GAXI,WACf,IAAIplB,EAAKiY,qBAAWrB,IAAqBI,EAAehX,EAAGgX,aAAcF,EAAS9W,EAAG8W,OACjFG,EAAYzR,uBAAY,SAAU5B,EAAKJ,GACvC,OAAOwT,EAAaC,UAAUrT,EAAKJ,KAGvC,CAACwT,EAAcF,IAEf,OAAOE,EAAeC,EAAYkO,I,oDC7BlClkB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPkkB,GAAoB,SAAUrlB,GAC9B,IAAIC,EAAKD,EAAGgQ,MAAOA,OAAe,IAAP/P,EAAgB,oBAAsBA,EAAIyT,EAAK1T,EAAGslB,KAAMA,OAAc,IAAP5R,EAAgB6R,GAAc7R,EAAI8R,EAAUxlB,EAAGwlB,QAASC,EAAYzlB,EAAGylB,UAAWC,EAAO5jB,GAAO9B,EAAI,CAAC,QAAS,OAAQ,UAAW,cACvN2lB,EAAWC,cACX3O,EAAYmO,KACZS,EAAcrgB,uBAAY,SAAUsgB,GACpCA,EAAMC,iBACNJ,EAAS5R,eACc,oBAAZyR,GACPA,EAAQM,KAEb,CAACH,EAAUH,IACd,OAAQ9N,gBAAoBsO,KAAS,CAAE1E,MAAOtR,GAASiH,EAAUjH,EAAO,CAAED,EAAGC,KACzE0H,gBAAoBuO,KAAYhlB,GAAS,CAAE,aAAc+O,GAASiH,EAAUjH,EAAO,CAAED,EAAGC,IAAUyV,UAAWA,EAAWS,MAAO,UAAWV,QAASK,GAAeH,GAAOJ,KAE7KC,GAAc7N,gBAAoByO,KAAmB,MACzDd,GAAkBe,UAAY,CAC1BX,UAAWY,KAAUC,OACrBtW,MAAOqW,KAAUC,OACjBhB,KAAMe,KAAUrd,SAELqc,UClDXpkB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD6C,OAAQ,CACJC,OAAQ9C,EAAM+C,QAAQ,IAE1BC,WAAY,MACT,CAAE1jB,KAAM,uBACX2jB,GAAmB,SAAU/X,GACPA,EAAMgY,QAA5B,IAAqCrB,EAAY3W,EAAM2W,UAAWC,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,cACnGiY,eACA,IAAI5hB,EAAU6hB,aAAY,SAAU3hB,GAAS,OAAOA,EAAMsI,MAAMxI,QAAU,KACtE2hB,EAAUP,GAAUzX,GACpB8U,EAAQqD,eACZ,OAAO9hB,EAAWuS,gBAAoBwP,KAAkBjmB,GAAS,CAAEwkB,UAAW0B,KAAW,aAAcL,EAAQL,OAAQhB,GAAYS,MAAO,UAAWkB,KAAMxD,EAAM+C,QAAQ,GAAIU,UAAW,GAAK3B,IAAWhO,gBAAoB2N,GAAmB,CAAEI,UAAWqB,EAAQF,cAExQC,GAAiBT,UAAY,CACzBU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBiB,MAAOlB,KAAUC,QAENO,UCjDXvE,GAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA2BzDgX,GAAkB,CAClBjf,GAAI,GACJkf,SAAU,MAiFCC,GAjDM,WACjB,IAAI1nB,EAAK+E,aAAgB,CACrBI,SAAS,EACTC,QAAQ,IACRC,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GAC7B+Q,EAAe6O,eA0CnB,OAzCAO,qBAAU,WACN,GAAIpP,GAAoD,oBAA7BA,EAAa4W,YAA4B,CACpBrF,QAAU,OAAQ,OAAQ,GAAQ,WAC1E,IAAI6C,EAAU3S,EACd,OAAO9C,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAED,OADAhQ,EAAGkQ,KAAKW,KAAK,CAAC,EAAG,EAAJ,CAAS,IACf,CAAC,EAAaE,EAAa4W,eACtC,KAAK,EAOD,OANAxC,EAAWnlB,EAAGiQ,OACd3K,EAAS,CACLH,SAAS,EACTC,QAAQ,EACR+f,SAAUA,GAAYqC,KAEnB,CAAC,EAAa,GACzB,KAAK,EAOD,OANAhV,EAAUxS,EAAGiQ,OACb3K,EAAS,CACLH,SAAS,EACTC,QAAQ,EACRH,MAAOuN,IAEJ,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,eAS5BlN,EAAS,CACLH,SAAS,EACTC,QAAQ,EACR+f,SAAUqC,OAGnB,CAACzW,EAAczL,IACXD,G,qDCjHPkhB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDgE,KAAM,GACNC,WAAY,CACRC,cAAe,QAEnBC,OAAQ,CACJR,MAAO3D,EAAM+C,QAAQ,GACrBqB,OAAQpE,EAAM+C,QAAQ,QAG1BsB,GAAW,SAAUnZ,GACrB,IAAI9O,EAAKkoB,mBAAS,MAAOC,EAAWnoB,EAAG,GAAIooB,EAAcpoB,EAAG,GACxDiX,EAAYmO,KACZnlB,EAAKynB,KAAkBtiB,EAASnF,EAAGmF,OAAQ+f,EAAWllB,EAAGklB,SACzD2B,EAAUP,GAAUzX,GACpB0I,EAAW1I,EAAM0I,SAAUxH,EAAQlB,EAAMkB,MAAOsV,EAAOxW,EAAMwW,KAAMhN,EAASxJ,EAAMwJ,OACtF,IAAKA,IAAWd,EACZ,OAAO,KACX,IAAI6Q,EAAOC,QAAQH,GACfI,EAAa,SAAUzC,GAAS,OAAOsC,EAAYtC,EAAM0C,gBACzDC,EAAc,WAAc,OAAOL,EAAY,OACnD,OAAQ1Q,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQc,MACpDxiB,IAAwB,OAAb+f,QAAkC,IAAbA,OAAsB,EAASA,EAASsC,UAAa/P,gBAAoBgR,KAAQ,CAAE,aAAc1Y,GAASiH,EAAUjH,EAAO,CAAED,EAAGC,IAAUyV,UAAWqB,EAAQe,WAAY3B,MAAO,UAAWyC,UAAWxD,EAAS4C,OAAUrQ,gBAAoBkR,KAAQ,CAAEnD,UAAWqB,EAAQiB,OAAQjD,IAAKK,EAAS4C,OAAQc,IAAK1D,EAASsC,WAAgBnC,EAAOE,QAAS+C,GAAcpD,EAASsC,UAAc/P,gBAAoBsO,KAAS,CAAE1E,MAAOtR,GAASiH,EAAUjH,EAAO,CAAED,EAAGC,KAC5d0H,gBAAoBuO,KAAY,CAAE,aAAcjW,GAASiH,EAAUjH,EAAO,CAAED,EAAGC,IAAU,YAAaqY,EAAO,cAAgB,KAAM,iBAAiB,EAAMnC,MAAO,UAAWV,QAAS+C,GAAcjD,IACvM5N,gBAAoBoR,KAAM,CAAEvgB,GAAI,cAAe4f,SAAUA,EAAUY,aAAc,CACzEC,SAAU,MACVC,WAAY,SACbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SACbZ,KAAMA,EAAMc,QAASV,GACxB5Q,WAASrP,IAAIgP,GAAU,SAAU4R,GAC7B,OAAOC,yBAAeD,GAChBzH,uBAAayH,EAAU,CACrB5D,QAASiD,IAEX,QAEVnQ,KAEZ2P,GAAS7B,UAAY,CACjB5O,SAAU6O,KAAUiD,KACpBtZ,MAAOqW,KAAUC,OAAOiD,WACxBjR,OAAQ+N,KAAUrd,QAClBsc,KAAMe,KAAUiD,MAEpBrB,GAASzI,aAAe,CACpBxP,MAAO,oBACPsV,KAAM5N,gBAAoB8R,KAAe,OAE9BvB,U,sBCrDf,SAASwB,GAAa3a,GAClB,IAAI0I,EAAW1I,EAAM0I,SACjBkS,EAAUC,eACd,OAAQjS,gBAAoBkS,KAAO,CAAEC,QAAQ,EAAOC,UAAW,OAAQC,IAAKL,GAAWlS,GAE3FiS,GAAarD,UAAY,CACrB5O,SAAU6O,KAAUiD,KAAKC,YAEdE,UCZXxoB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAcPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDoG,QAAS,CACLC,aAAc,IAElBC,WAAY,CACRC,WAAY,QACZC,YAAa,SAEjBC,qBAAsB,CAClBC,WAAY1G,EAAM2G,YAAY5Q,OAAO,CAAC,aAAc,CAChD6Q,OAAQ5G,EAAM2G,YAAYC,OAAOC,MACjCC,SAAU9G,EAAM2G,YAAYG,SAASC,gBAEzCC,UAAW,gBAEfC,mBAAoB,CAChBP,WAAY1G,EAAM2G,YAAY5Q,OAAO,CAAC,aAAc,CAChD6Q,OAAQ5G,EAAM2G,YAAYC,OAAOC,MACjCC,SAAU9G,EAAM2G,YAAYG,SAASC,gBAEzCC,UAAW,kBAEftJ,MAAO,CACHwJ,KAAM,EACNC,aAAc,WACdC,WAAY,SACZC,SAAU,aAEX,CAAE/nB,KAAM,aAsCXgoB,GAAS,SAAUpc,GACnB,IAAI0I,EAAW1I,EAAM0I,SAA2CiO,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWzlB,EAAK8O,EAAMoX,MAAOA,OAAe,IAAPlmB,EAAgB,YAAcA,EAAIsY,EAASxJ,EAAMwJ,OAAQ+P,EAAOvZ,EAAMuZ,KAA2B8C,GAAbrc,EAAMwS,MAAkBxS,EAAMqc,UAAUzF,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,UAAW,YAAa,QAAS,SAAU,OAAQ,QAAS,aAC7UgY,EAAUP,GAAUzX,GACpB6W,EAAWC,cACXwF,EAAWC,cAAc,SAAUzH,GACnC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9BtU,EAAYmO,KAChB,OAAQ1N,gBAAoB+R,GAAc,KACtC/R,gBAAoB8T,KAAWvqB,GAAS,CAAEwkB,UAAWA,EAAWS,MAAOA,GAASR,GAC5EhO,gBAAoB+T,KAAS,CAAEC,gBAAgB,EAAMC,QAASP,EAAW,UAAY,QAAS3F,UAAWqB,EAAQkD,SAC7GtS,gBAAoBsO,KAAS,CAAE1E,MAAOrK,EAAUoR,EACtC,uBACA,sBAAuB,CACzBtY,EAAG,oBACH6b,WAAY,KAChBlU,gBAAoBuO,KAAY,CAAEC,MAAO,UAAWV,QAAS,WAAc,OAAOG,EAASkG,gBAAqBpG,UAAW0B,KAAWL,EAAQoD,aAC1IxS,gBAAoBoU,KAAU,CAAEhF,QAAS,CACjCiF,KAAM1D,EACAvB,EAAQ+D,mBACR/D,EAAQuD,0BAED,IAA7BxS,WAAS6I,MAAMlJ,GAAmBE,gBAAoBsU,KAAY,CAAEL,QAAS,KAAMzF,MAAO,UAAWT,UAAWqB,EAAQxF,MAAO/Y,GAAI,sBAA2BiP,EAC9JE,gBAAoBmP,GAAkB,MAClB,mBAAbsE,GACY,IAAbA,EACIxJ,uBAAajK,gBAAoBuU,GAAiB,MAAO,CAAE3T,OAAQA,IACnE,KACJqJ,uBAAawJ,EAAU,CAAE7S,OAAQA,QAEvD4S,GAAO9E,UAAY,CACf5O,SAAU6O,KAAUiD,KAEpBxC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBJ,MAAOG,KAAU3H,MAAM,CACnB,UACA,UACA,UACA,YACA,gBAEJpG,OAAQ+N,KAAUrd,QAClBqf,KAAMhC,KAAU6F,KAChBf,SAAU9E,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAU6F,QAEhEhB,GAAO1L,aAAe,CAClB2L,SAAUzT,gBAAoBuU,GAAiB,OAEpCG,sBAAKlB,I,+BC7HLmB,GAJC,WAEZ,OADapU,qBAAWrB,IAAoBE,QCrB5C7V,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYPmrB,GAAU,SAAUxd,GACpB,IAAI0I,EAAW1I,EAAM0I,SAA6FkO,GAAtE5W,EAAMyd,WAAmBzd,EAAMsY,KAAwBtY,EAAMgY,QAAgBhlB,GAAOgN,EAAO,CAAC,WAAY,aAAc,OAAQ,aACtK6W,EAAWC,cACXwF,EAAWC,cAAc,SAAUzH,GACnC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9BiB,EAAUnB,cAAc,SAAUzH,GAAS,OAAOA,EAAM0H,YAAYC,KAAK,SACzElD,EAAOrB,aAAY,SAAU3hB,GAAS,OAAOA,EAAMsI,MAAMwB,GAAGjB,eAChEme,KACA,IAAI5D,EAAc,WAAc,OAAO9C,EAAS8G,aAAqB,KACjEZ,EAAgB,WAAc,OAAOlG,EAAS8G,aAAsBpE,KACpEroB,EAAKumB,GAAUtlB,GAASA,GAAS,GAAI6N,GAAQ,CAAEuZ,KAAMA,KAAUqE,EAAc1sB,EAAG0sB,YAAa5F,EAAUhlB,GAAO9B,EAAI,CAAC,gBACvH,OAAOorB,EAAY1T,gBAAoBiV,KAAQ1rB,GAAS,CAAE0qB,QAAS,YAAatD,KAAMA,EAAMuE,WAAY,CAChGnH,UAAWiH,GACZvD,QAAS0C,EAAe/E,QAASA,GAAWpB,GAAO/D,uBAAa9J,WAASC,KAAKN,GAAW,CAC5FqV,YAAapE,KACV+D,EAAW9U,gBAAoBiV,KAAQ1rB,GAAS,CAAE0qB,QAAS,YAAatD,KAAMA,EAAMuE,WAAY,CAC/FnH,UAAWiH,GACZvD,QAAS0C,EAAe/E,QAASA,GAAWpB,GAAO/D,uBAAa9J,WAASC,KAAKN,GAAW,CAC5FqV,YAAapE,KACT/Q,gBAAoBiV,KAAQ1rB,GAAS,CAAE0qB,QAAS,YAAatD,KAAMA,EAAMuE,WAAY,CACrFnH,UAAWiH,GACZvD,QAAS0C,EAAe/E,QAASA,GAAWpB,GAAO/D,uBAAa9J,WAASC,KAAKN,GAAW,CAC5FqV,YAAaC,OAGrBR,GAAQlG,UAAY,CAChB5O,SAAU6O,KAAUiD,KAAKC,YAE7B,IAAIuD,GAAqB,WAAc,OAAO,MAC1CvG,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJ+rB,KAAM,GACNgB,OAAQ,GACRC,MAAO,GACPC,gBAAiB,GACjBC,iBAAkB,GAClBC,eAAgB,GAChBC,kBAAmB,GACnBC,sBAAuB,GACvBC,qBAAsB,GACtBC,uBAAwB,GACxBC,wBAAyB,GACzBC,MAAO,GACPf,aAAc1sB,EAAK,CACX0tB,SAAU,WACV1F,OAAQ,OACR2F,UAAW,SACXpG,MAAO,SAAUzY,GACb,OAAOA,EAAMuZ,KACPuF,KAAUhK,EAAO,gBArDjB,KAsDAgK,KAAUhK,EAAO,sBArDV,KAuDjB0G,WAAY1G,EAAM2G,YAAY5Q,OAAO,QAAS,CAC1C6Q,OAAQ5G,EAAM2G,YAAYC,OAAOC,MACjCC,SAAU9G,EAAM2G,YAAYG,SAASC,gBAEzCkD,gBAAiB,cACjBC,YAAa,QAEjB9tB,EAAG4jB,EAAM0H,YAAYxT,KAAK,OAAS,CAC/BiW,UAAW,EACX/F,OAAQ,QACR0F,SAAU,UACVG,gBAAiBjK,EAAMoK,QAAQC,WAAWC,SAE9CluB,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BC,OAAQ,QAEZpuB,EAAGquB,OAAS,UACZruB,MAET,CAAEkD,KAAM,cACIopB,M,6FC1GXrrB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPmtB,GAAaC,sBAAW,SAAUzf,EAAO0f,GAAO,OAAQ9W,IAAMC,cAAc8W,KAASxtB,GAAS,CAAEytB,SAAUF,GAAO1f,OACjHyX,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmI,KAAM,CACF7F,MAAOtC,EAAMoK,QAAQW,KAAKC,WAE9BC,OAAQ,CACJ3I,MAAOtC,EAAMoK,QAAQW,KAAKG,SAE9BxJ,KAAM,CAAEyJ,SAAUnL,EAAM+C,QAAQ,OAC7B,CAAEzjB,KAAM,mBACX8rB,GAAeT,sBAAW,SAAUzf,EAAO0f,GACrB1f,EAAMgY,QAA5B,IAAqCrB,EAAY3W,EAAM2W,UAAWwJ,EAAcngB,EAAMmgB,YAAaC,EAAWpgB,EAAMogB,SAAU1J,EAAU1W,EAAM0W,QAAS2J,EAAgBrgB,EAAMqgB,cAAezJ,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,YAAa,cAAe,WAAY,UAAW,kBAC5QgY,EAAUP,GAAUzX,GACpBsgB,EAAgB5pB,uBAAY,SAAUzD,GACtCyjB,GAAWA,EAAQzjB,KACpB,CAACyjB,IACA6J,EAAiB,WACjB,OAAQ3X,IAAMC,cAAc2X,KAAUruB,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQiF,KAAMtG,GAAY+J,gBAAiB1I,EAAQ+H,OAAQ/N,UAAWwN,GAAYE,IAAKA,GAAO9I,EAAM,CAAEF,QAAS4J,IAClLF,GAAaxX,IAAMC,cAAc8X,KAAc,CAAEhK,UAAWqB,EAAQxB,MAAQ3D,uBAAauN,EAAU,CAC/FQ,YAAaT,KAEjBA,IAER,OAAIE,EACOE,IAEH3X,IAAMC,cAAcqO,KAAS,CAAE1E,MAAO2N,EAAaU,UAAW,SAAWN,QAErFL,GAAa5I,UAAY,CACrBU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB4I,SAAU7I,KAAUrd,QACpBwc,QAASa,KAAUuJ,KACnBX,YAAa5I,KAAUiD,KACvBvI,cAAesF,KAAUiB,OACzBnF,GAAIkE,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUiB,SAASiC,WAC9D4F,cAAe9I,KAAU6F,MAEd8C,UCpEX/tB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAOP0uB,GAAoB,SAAU7vB,GACjBA,EAAG8W,OAAhB,IAAwB0O,EAAUxlB,EAAGwlB,QAAS1W,EAAQhN,GAAO9B,EAAI,CAAC,SAAU,YACxEiX,EAAYmO,KAChB,OAAQ1N,gBAAoBsX,GAAc/tB,GAAS,CAAEukB,QAASA,EAASrD,GAAI,IAAK8M,YAAahY,EAAU,qBAAsBiY,SAAUxX,gBAAoBoY,KAAe,MAAO9N,OAAO,GAAQlT,KAEpM+gB,GAAkBzJ,UAAY,CAC1BU,QAAST,KAAUiB,OACnBxQ,OAAQuP,KAAUC,OAClBd,QAASa,KAAUuJ,KACnBG,MAAO1J,KAAU6F,KACjBiD,cAAe9I,KAAU6F,MAEd2D,UCvCX5uB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAiBPolB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJgwB,MAAOhwB,EAAK,CACJiwB,QAAS,OACTC,cAAe,SACfC,eAAgB,aAChBpC,UAAW,SAEf/tB,EAAG4jB,EAAM0H,YAAYxT,KAAK,OAAS,CAC/BiW,UAAW,GAEf/tB,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BJ,UAAW,SAEf/tB,GACJqoB,KAAM,CACFd,MAAOqG,KAAUhK,EAAO,aAnBZ,MAqBhBwM,OAAQ,CACJ7I,MAAOqG,KAAUhK,EAAO,mBArBL,QAwB5B,CAAE1gB,KAAM,WACPmtB,GAAyB,SAAUtwB,EAAUkX,GAC7C,OAAOA,EAAU,aAAelX,EAASmD,KAAO,QAAS,CACrDotB,YAAa,EACbvgB,EAAGhQ,EAASyD,SAAWzD,EAASyD,QAAQwM,MAClCiH,EAAUlX,EAASyD,QAAQwM,MAAO,CAChCsgB,YAAa,EACbvgB,EAAGhQ,EAASyD,QAAQwM,QAEtBugB,KAAWC,SAASD,KAAWE,UAAU1wB,EAASmD,UAG5D4lB,GAAO,SAAUha,GAEKA,EAAMgY,QAD5B,IAAI9mB,EACiCylB,EAAY3W,EAAM2W,UAAWsK,EAAQjhB,EAAMihB,MAAOW,EAAe5hB,EAAM4hB,aAAc7D,EAAc/d,EAAM+d,YAAavU,EAASxJ,EAAMwJ,OAAQoN,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,YAAa,QAAS,eAAgB,cAAe,WACpQmI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACpBsc,EAAWC,cAAc,SAAUzH,GACnC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9BlD,EAAOrB,aAAY,SAAU3hB,GAAS,OAAOA,EAAMsI,MAAMwB,GAAGjB,eAC5DU,EAAYoY,YAAY5X,GAAcuhB,KAG1C,OADA3J,aAAY,SAAU3hB,GAAS,OAAOA,EAAMoM,OAAOC,SAASgB,YACpDgF,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQkJ,MAAOhwB,EAAK,GAChFA,EAAG8mB,EAAQuB,MAAQA,EACnBroB,EAAG8mB,EAAQsJ,SAAW/H,EACtBroB,GAAKylB,IAAcC,GACvBgL,GAAiBhZ,gBAAoBmY,GAAmB,CAAErK,QAASqH,EAAakD,MAAOA,EAAOZ,cAAe9G,IAC7GzZ,EACKvF,QAAO,SAAUhH,GAAK,OAAOA,EAAEuuB,WAC/BpoB,KAAI,SAAUzI,GAAY,OAAQ2X,gBAAoBsX,GAAc,CAAEprB,IAAK7D,EAASmD,KAAMif,GAAI,IAAMpiB,EAASmD,KAAM+rB,YAAaoB,GAAuBtwB,EAAUkX,GAAYiY,SAAUnvB,EAASulB,KAAO5N,gBAAoB3X,EAASulB,KAAM,MAAQ5N,gBAAoBmZ,KAAa,MAAOrL,QAASqH,EAAakD,MAAOA,EAAOZ,cAAe9G,OAClV+C,GAAY9S,IAEpBwQ,GAAK1C,UAAY,CACbU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrByJ,MAAO1J,KAAU6F,KACjBwE,aAAcrK,KAAU6F,KACxB5T,OAAQ+N,KAAUrd,QAClB6jB,YAAaxG,KAAUuJ,MAE3B9G,GAAKtJ,aAAe,CAChBqN,YAAa,WAAc,OAAO,OAEvB/D,U,qBCzGX7nB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD3e,MAAO,CACH4oB,gBAAiBjK,EAAMoK,QAAQ/oB,MAAM6rB,KACrC5K,MAAOtC,EAAMoK,QAAQ/oB,MAAM8rB,cAE/B/P,QAAS,CACL6M,gBAAiBjK,EAAMoK,QAAQ/oB,MAAM+rB,MACrC9K,MAAOtC,EAAMoK,QAAQ/oB,MAAM8rB,cAE/BlyB,KAAM,CACFqnB,MAAOtC,EAAMoK,QAAQc,QAAQkC,UAE9B,CAAE9tB,KAAM,mBACX+tB,GAAe,SAAUniB,GACHA,EAAMgY,QAA5B,IAAqChoB,EAAOgQ,EAAMhQ,KAAM2mB,EAAY3W,EAAM2W,UAAWyL,EAAmBpiB,EAAMoiB,iBAAkBxL,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,OAAQ,YAAa,qBAClL9O,EAAKkoB,oBAAS,GAAQG,EAAOroB,EAAG,GAAImxB,EAAUnxB,EAAG,GACjDU,EAAesmB,YAAYtZ,IAC3BiY,EAAWC,cACX3O,EAAYmO,KACZgM,EAAS7K,GAAUzX,GACvBqR,qBAAU,WACNgR,IAAUzwB,KACX,CAACA,IACJ,IAAI2wB,EAAqB7rB,uBAAY,WACjC2rB,GAAQ,KACT,CAACA,IACAG,EAAe9rB,uBAAY,WACvB9E,GAAgBA,EAAakT,WAC7B+R,EAAS3mB,gBACTuyB,KAAqBC,KAAK,MAAO,CAAEC,QAAQ,KAE/C9L,EAAS/S,kBACV,CAAC+S,EAAUjlB,IACVgxB,EAAalsB,uBAAY,WACzBmgB,EAAS9mB,gBACT0yB,KAAqBC,KAAK,MAAO,CAAEC,QAAQ,MAC5C,CAAC9L,IACJ,OAAQjO,gBAAoBia,KAAU1wB,GAAS,CAAEonB,KAAMA,EAAMtW,QAASrR,GAC9DA,EAAaqR,SACbkF,EAAUvW,EAAaqR,QAASrR,EAAaM,aAAckwB,iBAAmBxwB,GAAgBA,EAAawwB,kBAC3GA,EAAkBU,0BAA2BlxB,GAAgBA,EAAakT,SAAUie,SAAUP,EAAcnI,QAASkI,EAAoBS,aAAc,CACvJrM,UAAW8J,KAAW6B,EAAQ1wB,GAAgBA,EAAa5B,MAASA,GAAO2mB,IAC5Ejb,OAAQ9J,GAAgBA,EAAakT,SAAY8D,gBAAoBgR,KAAQ,CAAExC,MAAO,UAAWT,UAAW2L,EAAOvyB,KAAMuoB,KAAM,QAAS5B,QAASkM,GAAcza,EAAU,mBAAsB,MAAQyO,KAElNuL,GAAa7K,UAAY,CACrBtnB,KAAMunB,KAAUC,QAEpB2K,GAAazR,aAAe,CACxB1gB,KAAM,OACNoyB,iBAAkB,KAEPD,U,0CClFXhwB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAOP4wB,GAAQ,SAAU/xB,GAClB,IAAIylB,EAAYzlB,EAAGylB,UAAWuM,EAAehyB,EAAGgyB,aAAc1pB,EAAStI,EAAGsI,OAAQgZ,EAAQthB,EAAGshB,MAAOoE,EAAO5jB,GAAO9B,EAAI,CAAC,YAAa,eAAgB,SAAU,UAC1JiX,EAAYmO,KACZ6M,EAAgC,qBAAbC,SACjBA,SAASC,eAAe,qBACxB,KACN,IAAKF,EACD,OAAO,KACXjR,cAASgR,IAAiB1Q,EAAO,yCACjC,IAAI8Q,EAAgB9Q,EAAiH,kBAAVA,EAAsB5J,gBAAoB,OAAQzW,GAAS,CAAEwkB,UAAWA,GAAaC,GAAOzO,EAAUqK,EAAO,CAAEvR,EAAGuR,KAAcK,uBAAaL,EAAOrgB,GAAS,CAAEwkB,UAAWA,EAAWnd,OAAQA,GAAUod,IAArShO,gBAAoB,OAAQzW,GAAS,CAAEwkB,UAAWA,GAAaC,GAAOsM,GACnG,OAAOK,uBAAaD,EAAcH,IAE3BK,GAAgBjM,KAAU8F,UAAU,CAC3C9F,KAAUC,OACVD,KAAUrd,UAEd+oB,GAAM3L,UAAY,CACd4L,aAAc3L,KAAUC,OACxBb,UAAWY,KAAUC,OACrBhe,OAAQ+d,KAAUkM,IAClBjR,MAAOgR,IAEIP,UCjDX9wB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAgBPolB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJiyB,WAAYjyB,EAAK,CACTiwB,QAAS,OACTC,cAAe,SACfsC,WAAY,SACZrC,eAAgB,UAEpBnwB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BkH,QAAS,OAEbzyB,EAAG0yB,WAAa,qBAChB1yB,EAAG2yB,QAAU,GACb3yB,GACJshB,MAAO,CACH2O,QAAS,OACTuC,WAAY,UAEhBlN,KAAM,CACFiC,MAAO,MACPS,OAAQ,MACRoC,YAAa,SAEjBwI,MAAO,CACH7E,UAAW,OAEf8E,aAAc,CACV7H,WAAY,YAEhBhB,QAAS,CACL+D,UAAW,UAGpB,CAAE7qB,KAAM,YACX,SAAS4vB,KACL3kB,OAAOwH,QAAQod,IAAI,GAEvB,IAAItuB,GAAQ,SAAUqK,GACNA,EAAM7J,MAAmB6J,EAAMkkB,UAA6BlkB,EAAMgY,QAA9E,IAAuFrB,EAAY3W,EAAM2W,UAAWnE,EAAQxS,EAAMwS,MAAOoE,EAAO5jB,GAAOgN,EAAO,CAAC,QAAS,YAAa,UAAW,YAAa,UACzMgY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KAChB,OAAQ1N,gBAAoBub,WAAU,KAClC3R,GAAS5J,gBAAoBqa,GAAO,CAAEC,aAAc1Q,IACpD5J,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQmL,UAAWxM,IAAcC,GACzFhO,gBAAoB,KAAM,CAAE+N,UAAWqB,EAAQxF,MAAO4R,KAAM,SACxDxb,gBAAoByb,KAAW,CAAE1N,UAAWqB,EAAQxB,OACpDrO,EAAU,kBACdS,gBAAoB,MAAO,KAAMT,EAAU,sBAC3Cmc,EAMA1b,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQkD,SAC5CtS,gBAAoBgR,KAAQ,CAAEiD,QAAS,YAAahD,UAAWjR,gBAAoB2b,KAAS,MAAO7N,QAASsN,IAAU7b,EAAU,uBAEhJxS,GAAM2hB,UAAY,CACdU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBrhB,MAAOohB,KAAU8F,UAAU,CAAC9F,KAAUiB,OAAQjB,KAAUC,SAASiD,WACjEyJ,UAAW3M,KAAUiB,OACrBhG,MAAOgR,IAEI7tB,UCrGA,IACXupB,QAAS,CACLY,UAAW,CACPoC,MAAO,UACPhB,KAAM,UACNc,KAAM,UACNC,aAAc,SAGtBuC,WAAY,CACRC,GAAI,CACAC,WAAY,MAGpBC,QAAS,CACLlM,MAAO,IACPmM,YAAa,IAEjBC,UAAW,CACPC,eAAgB,CACZ7H,KAAM,CACF8B,gBAAiB,sBACjB,aAAc,CACVA,gBAAiB,yBAI7BgG,cAAe,CACX9H,KAAM,CACF,wBAAyB,CAKrB+H,QAAS,KACT7D,QAAS,QACT1I,MAAO,OACPS,OAAQ,OACR0F,SAAU,WACVqG,IAAK,EACLC,MAAO,EACPnG,gBAAiB,eACjB8E,QAAS,GACTsB,aAAc,cAK9BnlB,MAAO,CACH+kB,cAAe,CAEXK,eAAe,KCnDvBC,GAAyC,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgB7zB,OAAOg0B,gBAClB,CAAEC,UAAW,cAAgBlyB,OAAS,SAAU+xB,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAI9yB,KAAK8yB,EAAO/zB,OAAOkB,UAAUC,eAAeC,KAAK2yB,EAAG9yB,KAAI6yB,EAAE7yB,GAAK8yB,EAAE9yB,MAC3E6yB,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASG,IAAO5yB,KAAK6yB,YAAcL,EADnCD,EAAcC,EAAGC,GAEjBD,EAAE5yB,UAAkB,OAAN6yB,EAAa/zB,OAAOoZ,OAAO2a,IAAMG,EAAGhzB,UAAY6yB,EAAE7yB,UAAW,IAAIgzB,IAV1C,GAazCxzB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAiEPwzB,GAAoC,SAAUC,GAE9C,SAASD,EAAmB7lB,GACxB,IAAI+lB,EAAQD,EAAOjzB,KAAKE,KAAMiN,IAAUjN,KAYxC,OAXAgzB,EAAMxvB,MAAQ,CAAEyvB,UAAU,EAAO5iB,aAAc,KAAM8gB,UAAW,MAMhElkB,EAAM6G,QAAQof,QAAO,WACbF,EAAMxvB,MAAMyvB,UACZD,EAAMvvB,SAAS,CAAEwvB,UAAU,OAG5BD,EAoDX,OAlEAV,GAAUQ,EAAoBC,GAgB9BD,EAAmBlzB,UAAUuzB,kBAAoB,SAAU9iB,EAAc8gB,GACrEnxB,KAAKyD,SAAS,CAAEwvB,UAAU,EAAM5iB,aAAcA,EAAc8gB,UAAWA,KAE3E2B,EAAmBlzB,UAAUof,OAAS,WAClC,IAAI7gB,EAAK6B,KAAKiN,MAAOmmB,EAASj1B,EAAGi1B,OAAQzd,EAAWxX,EAAGwX,SAAUsP,EAAU9mB,EAAG8mB,QAASrB,EAAYzlB,EAAGylB,UAAWxgB,EAAQjF,EAAGiF,MAAO4V,EAAY7a,EAAG6a,UAAWvC,EAAStY,EAAGsY,OAAQoL,EAAO1jB,EAAG0jB,KAAMhjB,EAAeV,EAAGU,aAAc2nB,EAAOroB,EAAGqoB,KAAMoL,EAAUzzB,EAAGyzB,QAASnS,EAAQthB,EAAGshB,MAEhLxS,GAA1F9O,EAAGk1B,MAAkBl1B,EAAG0R,SAAoB1R,EAAG2V,QAAyB3V,EAAG+gB,cAAuBjf,GAAO9B,EAAI,CAAC,SAAU,WAAY,UAAW,YAAa,QAAS,YAAa,SAAU,OAAQ,eAAgB,OAAQ,UAAW,QAAS,QAAS,WAAY,UAAW,mBACpRC,EAAK4B,KAAKwD,MAAOyvB,EAAW70B,EAAG60B,SAAU5iB,EAAejS,EAAGiS,aAAc8gB,EAAY/yB,EAAG+yB,UAC5F,OAAQtb,IAAMC,cAAcD,IAAMub,SAAU,KACxCvb,IAAMC,cAAc,MAAO1W,GAAS,CAAEwkB,UAAW8J,KAAW,SAAUzI,EAAQiF,KAAMtG,IAAc3W,GAC9F4I,IAAMC,cAAc,MAAO,CAAE8N,UAAWqB,EAAQqO,UAC5Cxd,wBAAcsd,EAAQ,CAAE3T,MAAOA,EAAO+G,KAAMA,EAAM/P,OAAQA,IAC1DZ,IAAMC,cAAc,OAAQ,CAAE8N,UAAWqB,EAAQsO,oBAC7Czd,wBAAc8b,EAAS,CACnBjc,SAAUG,wBAAc+L,EAAM,CAC1BpL,OAAQA,EACRoY,eAAgB7V,MAGxBnD,IAAMC,cAAc,MAAO,CAAE8N,UAAWqB,EAAQgN,SAAWgB,EACrDnd,wBAAc1S,EAAO,CACnBA,MAAOiN,EACP8gB,UAAWA,EACX1R,MAAOA,IAET9J,MAClBG,wBAAcjX,KAEtBi0B,EAAmBvO,UAAY,CAC3B6O,OAAQI,GACR7d,SAAU6O,KAAU8F,UAAU,CAAC9F,KAAUuJ,KAAMvJ,KAAUiD,OACzDxC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBzL,UAAWwa,GACXpwB,MAAOowB,GACP1f,QAAS0Q,KAAUiB,OAAOiC,WAC1BjR,OAAQ+N,KAAUrd,QAClB0a,KAAM2R,GACN30B,aAAc20B,GACdhN,KAAMhC,KAAU6F,KAChBuH,QAAS4B,GACT/T,MAAO+E,KAAUiD,KAAKC,YAE1BoL,EAAmBnV,aAAe,CAC9ByV,OAAQK,GACRrwB,MAAOswB,GACP7R,KAAM8R,GACN90B,aAAc+0B,GACdhC,QAASiC,IAENf,EAnE6B,CAoEtCgB,aAIEC,GAAiBxf,KAAQyf,aAHP,SAAUxwB,GAAS,MAAQ,CAC7CgjB,KAAMhjB,EAAMsI,MAAMwB,GAAGjB,eAE6B,IACnD4nB,KAAYC,cAzHF,SAAUnS,GACnB,IAAI5jB,EAAIC,EACR,OAAO+1B,aAAa,CAChBjK,KAAM,CACFkE,QAAS,OACTC,cAAe,SACf7B,OAAQ,EACR4H,UAAW,QACXpI,gBAAiBjK,EAAMoK,QAAQC,WAAWC,QAC1CR,SAAU,WACVqB,SAAU,cACVxH,MAAO,OACPrB,MAAOtC,EAAMoK,QAAQkI,gBAAgBtS,EAAMoK,QAAQC,WAAWC,UAElEiH,UAAWn1B,EAAK,CACRiwB,QAAS,OACTC,cAAe,SACfiG,SAAU,GAEdn2B,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BJ,UAAWnK,EAAM+C,QAAQ,IAE7B3mB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BwC,UAAWnK,EAAM+C,QAAQ,IAE7B3mB,GACJo1B,mBAAoB,CAChBnF,QAAS,OACTkG,SAAU,GAEdrC,SAAU7zB,EAAK,CACPgwB,QAAS,OACTC,cAAe,SACfiG,SAAU,EACVC,UAAW,EACX3D,QAAS7O,EAAM+C,QAAQ,GACvB0P,WAAYzS,EAAM+C,QAAQ,GAC1B2P,YAAa,GAEjBr2B,EAAG2jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BmI,YAAa,GAEjBr2B,EAAG2jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BkH,QAAS,GAEbxyB,OA4EsB,CAAEiD,KAAM,aADrBkT,CACoCue,IACrD4B,GAAS,SAAUv2B,GACnB,IAAIw2B,EAAgBx2B,EAAG4jB,MAAO9U,EAAQhN,GAAO9B,EAAI,CAAC,UAC9Cy2B,EAAYC,iBAAOF,GACnBv2B,EAAKioB,mBAASyO,aAAeH,IAAiB5S,EAAQ3jB,EAAG,GAAI22B,EAAW32B,EAAG,GAO/E,OANAkgB,qBAAU,WACFsW,EAAUI,UAAYL,IACtBC,EAAUI,QAAUL,EACpBI,EAASD,aAAeH,OAE7B,CAACA,EAAeC,EAAW7S,EAAOgT,IAC7Blf,IAAMC,cAAcmf,KAAe,CAAElT,MAAOA,GAChDlM,IAAMC,cAAcie,GAAgB30B,GAAS,GAAI6N,MAEzDynB,GAAOnQ,UAAY,CACfxC,MAAOyC,KAAUiB,QAErBiP,GAAO/W,aAAe,CAClBoE,MAAOmT,IAEIR,U,qBC/LXt1B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPolB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJiyB,WAAYjyB,EAAK,CACTiwB,QAAS,OACTC,cAAe,SACfC,eAAgB,UAEpBnwB,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BnG,OAAQ,QAEZhoB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BvD,OAAQ,QACR+F,UAAW,QAEf/tB,GACJslB,KAAM,CACFiC,MAAO,MACPS,OAAQ,OAEZjW,QAAS,CACLilB,UAAW,SACXtE,WAAY,qBACZC,QAAS,GACTjM,OAAQ,SAEZsD,QAAS,CACLgN,UAAW,SACXjJ,UAAW,UAGpB,CAAE7qB,KAAM,eACX,SAAS4vB,KACL3kB,OAAOwH,QAAQod,IAAI,GAEvB,IAAIkE,GAAW,SAAUnoB,GACrB,IAAI2W,EAAY3W,EAAM2W,UAA4CnE,GAAfxS,EAAMgY,QAAiBhY,EAAMwS,OAAOoE,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,UAAW,UACjIgY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KAEhB,OADAnE,KACQvJ,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQmL,UAAWxM,IAAcyR,GAAkBxR,IACnHhO,gBAAoBqa,GAAO,CAAEC,aAAc1Q,IAC3C5J,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQ/U,SAC5C2F,gBAAoByf,KAAQ,CAAE1R,UAAWqB,EAAQxB,OACjD5N,gBAAoB,KAAM,KAAMT,EAAU,sBAC1CS,gBAAoB,MAAO,KACvBT,EAAU,wBACV,MACRS,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQkD,SAC5CtS,gBAAoBgR,KAAQ,CAAEiD,QAAS,YAAahD,UAAWjR,gBAAoB2b,KAAS,MAAO7N,QAASsN,IAAU7b,EAAU,sBAExIigB,GAAoB,SAAUl3B,GACVA,EAAG+gB,cAAyB/gB,EAAG2V,QAAoB3V,EAAG0R,SAAkB1R,EAAGk1B,MAC/F,OAD6GpzB,GAAO9B,EAAI,CAAC,gBAAiB,UAAW,WAAY,WAGrKi3B,GAAS7Q,UAAY,CACjBX,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnBhG,MAAO+E,KAAUC,OACjB5U,SAAU2U,KAAUiB,QAET2P,UCtFX1Q,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJiyB,WAAYjyB,EAAK,CACTiwB,QAAS,OACTC,cAAe,SACfC,eAAgB,UAEpBnwB,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BnG,OAAQ,QAEZhoB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BvD,OAAQ,QACR+F,UAAW,QAEf/tB,GACJslB,KAAM,CACFiC,MAAO,MACPS,OAAQ,OAEZjW,QAAS,CACLilB,UAAW,SACXtE,WAAY,qBACZC,QAAS,GACTjM,OAAQ,YAGjB,CAAExjB,KAAM,cACPk0B,GAAU,SAAUtoB,GACpB,IAAI2W,EAAY3W,EAAM2W,UAAWzlB,EAAK8O,EAAMuoB,eAAgBA,OAAwB,IAAPr3B,EAAgB,kBAAoBA,EAAIC,EAAK6O,EAAMwoB,iBAAkBA,OAA0B,IAAPr3B,EAAgB,qBAAuBA,EACxM6mB,EAAUP,GAAUzX,GACpBmI,EAAYmO,KAChB,OAAQ1N,gBAAoB,MAAO,CAAE+N,UAAW8J,KAAWzI,EAAQmL,UAAWxM,IAC1E/N,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQ/U,SAC5C2F,gBAAoBwP,KAAkB,CAAEzB,UAAWqB,EAAQxB,KAAMY,MAAO,YACxExO,gBAAoB,KAAM,KAAMT,EAAUogB,IAC1C3f,gBAAoB,MAAO,KACvBT,EAAUqgB,GACV,QAEhBF,GAAQhR,UAAY,CAChBU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB+Q,eAAgBhR,KAAUC,OAC1BgR,iBAAkBjR,KAAUC,QAEhC8Q,GAAQ5X,aAAe,CACnB6X,eAAgB,kBAChBC,iBAAkB,sBAEPF,UCxDXn2B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAOPsiB,GAAc,SAAUzjB,GACxB,IAAI4jB,EAAQ5jB,EAAG4jB,MAAO9U,EAAQhN,GAAO9B,EAAI,CAAC,UAC1C,OAAQ0X,gBAAoBof,KAAe,CAAElT,MAAOA,GAChDlM,gBAAoB0f,GAASn2B,GAAS,GAAI6N,MAElD2U,GAAY2C,UAAY,CACpBxC,MAAOyC,KAAUiB,OACjBR,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB+Q,eAAgBhR,KAAUC,OAC1BgR,iBAAkBjR,KAAUC,QAEhC7C,GAAYjE,aAAe,CACvBoE,MAAO+S,aAAe,IACtBU,eAAgB,kBAChBC,iBAAkB,sBAEP7T,U,+DCIA8T,GAtBA,WACX,IAAIxmB,EAAe6O,eAEfpO,EADWgmB,eACcnyB,MACzBsQ,EAAU8hB,eACVC,EAAelmB,GAAiBA,EAAcG,aAC9C0G,EAAQ7S,uBAAY,SAAUE,EAAQ0M,GAEtC,YADe,IAAX1M,IAAqBA,EAAS,IAC3BqL,EAAasH,MAAM3S,GAAQE,MAAK,SAAU+xB,GAC7C,IAAIC,EAAcxlB,IAEZslB,GAAgB1X,KAAkB6X,eAExC,OADAliB,EAAQ9E,KAAK+mB,GACND,OAEZ,CAAC5mB,EAAc4E,EAAS+hB,IACvBI,EAAuBtyB,uBAAY,SAAUuK,EAAG0kB,GAEhD,OADA9e,EAAQ9E,KAAKmP,KAAkB6X,eACxB3zB,QAAQkT,YAChB,CAACzB,IACJ,OAAO5E,EAAesH,EAAQyf,GC9C9B72B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmU,KAAM,CACFtF,QAAS,iBAEbxX,MAAO,CACH8S,UAAW,OAEfiK,OAAQ,CACJzQ,MAAO,QAEXjC,KAAM,CACF8E,YAAaxG,EAAM+C,QAAQ,OAE5B,CAAEzjB,KAAM,gBACX+0B,GAAQ,SAAUj4B,GAClB,IAAIC,EAAKD,EAAG4J,KAAMsuB,EAAUj4B,EAAGi4B,QAASjzB,EAAQhF,EAAGgF,MACnDkzB,EAAan4B,EAAGib,MAChBnM,EAAQhN,GAAO9B,EAAI,CAAC,OAAQ,UAC5B,OAAQ0X,gBAAoB0gB,KAAWn3B,GAAS,CAAEgE,SAAUizB,IAAWjzB,GAAQozB,WAAYH,GAAWjzB,GAASkzB,EAAYrpB,EAAO,CAAEwpB,WAAW,MAE/IC,GAAY,SAAUzpB,GACtB,IAAInO,EAAamO,EAAMnO,WACnBX,EAAK+E,cAAgB,GAAQI,EAAUnF,EAAG,GAAIw4B,EAAax4B,EAAG,GAC9DqY,EAAQkf,KACRtgB,EAAYmO,KACZ9lB,EAASC,eACTunB,EAAUP,GAAUzX,GAgCxB,OAAQ4I,gBAAoB+gB,KAAM,CAAEC,SArBvB,SAAUC,GACnBH,GAAW,GACXngB,EAAMsgB,EAAQh4B,GACTiF,MAAK,WACN4yB,GAAW,MAEV3yB,OAAM,SAAUZ,GACjBuzB,GAAW,GACXl5B,EAAwB,kBAAV2F,EACRA,EACiB,qBAAVA,GAA0BA,EAAM8M,QAEnC9M,EAAM8M,QADN,wBACe,UAAW,CAChChC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,QAIgCy4B,SA/BvC,SAAUD,GACrB,IAAIE,EAAS,CAAExb,cAAUld,EAAWsb,cAAUtb,GAO9C,OANKw4B,EAAOtb,WACRwb,EAAOxb,SAAWpG,EAAU,2BAE3B0hB,EAAOld,WACRod,EAAOpd,SAAWxE,EAAU,2BAEzB4hB,GAuB+DhY,OAAQ,SAAU7gB,GACpF,IAAI84B,EAAe94B,EAAG84B,aACtB,OAAQphB,gBAAoB,OAAQ,CAAEghB,SAAUI,EAAcC,YAAY,GACtErhB,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQiR,MAC5CrgB,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQ7L,OAC5CvD,gBAAoBshB,KAAO,CAAEC,WAAW,EAAM1wB,GAAI,WAAYrF,KAAM,WAAY4d,UAAWmX,GAAOjoB,MAAOiH,EAAU,oBAAqBiiB,SAAU/zB,KACtJuS,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQ7L,OAC5CvD,gBAAoBshB,KAAO,CAAEzwB,GAAI,WAAYrF,KAAM,WAAY4d,UAAWmX,GAAOjoB,MAAOiH,EAAU,oBAAqBnY,KAAM,WAAYo6B,SAAU/zB,EAASg0B,aAAc,uBAClLzhB,gBAAoB0hB,KAAa,KAC7B1hB,gBAAoBgR,KAAQ,CAAEiD,QAAS,YAAa7sB,KAAM,SAAUonB,MAAO,UAAWgT,SAAU/zB,EAASsgB,UAAWqB,EAAQkR,QACxH7yB,GAAYuS,gBAAoBwP,KAAkB,CAAEzB,UAAWqB,EAAQxB,KAAM8B,KAAM,GAAIC,UAAW,IAClGpQ,EAAU,0BAGlCshB,GAAUnS,UAAY,CAClBzlB,WAAY0lB,KAAUC,QAEXiS,UC1GXt3B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAcPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDoM,KAAM,CACFC,QAAS,OACTC,cAAe,SACf+F,UAAW,QACXjO,OAAQ,MACRwK,WAAY,SACZrC,eAAgB,aAChBkJ,iBAAkB,YAClBC,eAAgB,QAChBC,gBAAiB,8EAErBC,KAAM,CACFzK,SAAU,IACVhB,UAAW,OAEfhG,OAAQ,CACJrB,OAAQ,MACRuJ,QAAS,OACTE,eAAgB,UAEpB7K,KAAM,CACFuI,gBAAiBjK,EAAMoK,QAAQY,UAAU,SAE1C,CAAE1rB,KAAM,YAmBXu2B,GAAQ,SAAU3qB,GAClB,IAAI8U,EAAQ9U,EAAM8U,MAA6D6B,GAA9C3W,EAAMwS,MAAyBxS,EAAMgY,QAAqBhY,EAAM2W,WAAWjO,EAAW1I,EAAM0I,SAAU9W,EAAeoO,EAAMpO,aAAmD64B,GAArBzqB,EAAMiS,cAAiCjS,EAAMyqB,iBAAiB7T,EAAO5jB,GAAOgN,EAAO,CAAC,QAAS,QAAS,UAAW,YAAa,WAAY,eAAgB,gBAAiB,oBACjW4qB,EAAehD,mBACf5P,EAAUP,GAAUzX,GACpB6qB,EAAW75B,mBAAQ,WAAc,OAAO62B,aAAe/S,KAAW,CAACA,IACnEgW,GAAwB,EACxBrhB,EAAYoH,KACZhK,EAAU8hB,eACdtX,qBAAU,WACN5H,EAAU,IAAI,GACT3S,MAAK,WAEN+P,EAAQ9E,KAAK,QAEZhL,OAAM,iBAGZ,CAAC0S,EAAW5C,IACf,IAAIkkB,EAAwB,YACnBD,GAAyBF,EAAa7C,UACvC6C,EAAa7C,QAAQiD,MAAMP,gBAAkB,OAASA,EAAkB,IACxEK,GAAwB,IAgBhC,OALAzZ,qBAAU,WACDyZ,GARqB,WAC1B,GAAIL,EAAiB,CACjB,IAAIQ,EAAM,IAAIlV,MACdkV,EAAIC,OAASH,EACbE,EAAIjV,IAAMyU,GAKVU,MAGAviB,IAAMC,cAAcmf,KAAe,CAAElT,MAAO+V,GAChDjiB,IAAMC,cAAc,MAAO1W,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQkJ,KAAMvK,IAAcC,EAAM,CAAE8I,IAAKkL,IACjGhiB,IAAMC,cAAcuiB,KAAM,CAAEzU,UAAWqB,EAAQ0S,MAC3C9hB,IAAMC,cAAc,MAAO,CAAE8N,UAAWqB,EAAQiB,QAC5CrQ,IAAMC,cAAciR,KAAQ,CAAEnD,UAAWqB,EAAQxB,MAC7C5N,IAAMC,cAAcwiB,KAAU,QACtC3iB,GACJ9W,EAAeiX,wBAAcjX,GAAgB,QAEzD+4B,GAAMrT,UAAY,CACdmT,gBAAiBlT,KAAUC,OAC3B9O,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB1C,MAAOyC,KAAUiB,OACjBvG,cAAesF,KAAUiB,QAE7BmS,GAAMja,aAAe,CACjBoE,MAAOmT,GACPvf,SAAUE,IAAMC,cAAcyiB,GAAkB,MAChD15B,aAAc+0B,IAEHgE,U,qBCxIXx4B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDwF,SAAU,CACNlD,MAAOtC,EAAMoK,QAAQW,KAAKC,WAE9BtJ,KAAM,CAAEyJ,SAAUnL,EAAM+C,QAAQ,OAC7B,CAAEzjB,KAAM,aAMXm3B,GAAgB3iB,cAAiB,SAAgB5I,EAAO0f,GACxD,IAAI/I,EAAY3W,EAAM2W,UAA4C9kB,GAAfmO,EAAMgY,QAAsBhY,EAAMnO,YAAY2kB,EAAOxW,EAAMwW,KAAMI,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,UAAW,aAAc,SAC5KgY,EAAUP,GAAUzX,GACpBsc,EAAWC,cAAc,SAAUzH,GACnC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9BtU,EAAYmO,KACZ9M,EAASuH,eAETgG,EAAcrgB,uBAAY,WAAc,OAAO8S,EAAO,KAAM3X,GAAY,KAAW,CACnFA,EACA2X,IAEJ,OAAQZ,gBAAoB4X,KAAUruB,GAAS,CAAEwkB,UAAW8J,KAAW,SAAUzI,EAAQsC,SAAU3D,GAAYD,QAASK,EAAa2I,IAAKA,EAAK1N,UAAWsK,EAAW,OAAS,MAAQ1F,GAClLhO,gBAAoB+X,KAAc,CAAEhK,UAAWqB,EAAQxB,MAAQA,GAAc5N,gBAAoB4iB,KAAU,OAC3GrjB,EAAU,sBAElBojB,GAAcjU,UAAY,CACtBX,UAAWY,KAAUC,OACrB3lB,WAAY0lB,KAAUC,OACtBhB,KAAMe,KAAUrd,SAELqxB,IC/DXp5B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAK5Bg5B,GAAU,SAAUzrB,GAAS,OAAO4I,gBAAoByM,GAAaljB,GAAS,GAAI6N,KACtFyrB,GAAQ/a,aAAe,CACnBgE,OAAQS,GACR7C,SAAU6V,GACV9xB,QAASse,GACTe,UAAWiV,GACXnhB,OD2CW+hB,ICzCAE,UC2EAC,GAfH,SAAUx6B,GAClB,IAAIy6B,EAAYz6B,EAAGy6B,UAAW1pB,EAAe/Q,EAAG+Q,aAAcqQ,EAAWphB,EAAGohB,SAAU5J,EAAWxX,EAAGwX,SAAU5B,EAAiB5V,EAAG4V,eAAgB3V,EAAKD,EAAGqhB,aAAcA,OAAsB,IAAPphB,EAAgB,GAAKA,EAAI4V,EAAc7V,EAAG6V,YAAagF,EAAY7a,EAAG6a,UAAWjY,EAAe5C,EAAG4C,aAAcwhB,EAAmBpkB,EAAGokB,iBAAkBzO,EAAU3V,EAAG2V,QAASqB,EAAehX,EAAGgX,aAAcvN,EAAezJ,EAAGyJ,aAAc+Z,EAASxjB,EAAGwjB,OAAQre,EAAUnF,EAAGmF,QAA6Bqf,GAAXxkB,EAAG8W,OAAoB9W,EAAGwkB,WAAWkW,EAAe16B,EAAG06B,aAAchX,EAAO1jB,EAAG0jB,KACxiBC,EAAQ3jB,EAAG2jB,MAAOC,EAAQ5jB,EAAG4jB,MAAOlQ,EAAK1T,EAAGshB,MAAOA,OAAe,IAAP5N,EAAgB,cAAgBA,EAU3F,OAAQgE,gBAAoB6H,GAAc,CAAExO,aAAcA,EAAcnO,aAAcA,EAAcoU,aAAcA,EAAcrB,QAASA,EAASC,eAAgBA,EAAgBC,YAAaA,EAAapM,aAAcA,GACtNiO,gBAAoB6iB,GAAS,CAAE/W,OAAQiX,GAAajX,EAAQnC,aAAcA,EAAcxG,UAAWA,EAAWuJ,iBAAkBA,EAAkBV,KAAMA,EAAMtC,SAAUA,EAAUwC,MAAOA,EAAOtC,MAAOA,EAAOnc,QAASA,EAASqf,UAAWA,EAAWlM,OAAQvH,EAAe2pB,OAAev6B,EAAWwjB,MAAOA,GAASnM,KC7EpTmjB,GAAkB9jB,6BAAc1W,GChBhCy6B,GAA0B,SAAU56B,GAC3C,IAAIwX,EAAWxX,EAAGwX,SAAU3O,EAAQ7I,EAAG6I,MACvC,OAAQ6O,gBAAoBijB,GAAgB/iB,SAAU,CAAE/O,MAAOA,GAAS2O,ICJxEvW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASP05B,GAAiB,GACjBC,GAAmB,SAAU96B,GAC7B,IAAIkD,EAAOlD,EAAGkD,KAAM6L,EAAO/O,EAAG+O,KAAM4K,EAAS3Z,EAAG2Z,OAAQE,EAAO7Z,EAAG6Z,KAAMM,EAAOna,EAAGma,KAAMmL,EAAOtlB,EAAGslB,KAAMrlB,EAAKD,EAAGwD,QAASA,OAAiB,IAAPvD,EAAgB46B,GAAiB56B,EAChK0lB,EAAWC,cAaf,OAZAzF,qBAAU,WAUN,OATAwF,EvFjCoD,CACxD7mB,KAAM6H,EACNrD,QuF+B8B,CACtBJ,KAAMA,EACNM,QAASA,EACTotB,UAAW7hB,EACXgsB,UAAWlhB,EACXmhB,UAAW7gB,EACX8gB,YAAathB,EACb2L,KAAMA,KAEH,WAAc,OAAOK,EvFrC8B,CAC9D7mB,KAAM8H,EACNtD,QuFmC4DJ,OACzD,CAACyiB,EAAUziB,EAAMyW,EAAQE,EAAMyL,EAAMvW,EAAMoL,EAAM3W,IAC7C,MAEP03B,GAAiB,SAAUl7B,GAC3B,IAAIkD,EAAOlD,EAAGkD,KAAMgyB,EAAQl1B,EAAGk1B,MAAOnmB,EAAO/O,EAAG+O,KAAM4K,EAAS3Z,EAAG2Z,OAAQE,EAAO7Z,EAAG6Z,KAAMM,EAAOna,EAAGma,KAAMla,EAAKD,EAAGwD,QAASA,OAAiB,IAAPvD,EAAgB46B,GAAiB56B,EAClKk7B,EAAenU,aAAY,SAAU3hB,GAAS,QAASA,EAAMsI,MAAMiB,UAAU1L,MAC7E4Q,EAAWohB,EAAQA,EAAMpT,KAAO,GAChCsZ,EAAet7B,mBAAQ,WAAc,MAAQ,CAC7CC,SAAUmD,EACVM,QAASA,EACTotB,UAAW7hB,EACXgsB,UAAWlhB,EACXmhB,UAAW7gB,EACX8gB,YAAathB,KACV,CAACzW,EAAMM,EAASmW,EAAQE,EAAM9K,EAAMoL,IAE3C,OAAOra,mBAAQ,WAEX,OAAKq7B,EAGGzjB,gBAAoBkjB,GAAyB,CAAE/xB,MAAO3F,GAC1DwU,gBAAoBgK,KAAQ,KACxB/H,GAAWjC,gBAAoBmK,KAAO,CAAEC,KAAMhO,EAAW,UAAW+M,OAAQ,SAAUoB,GAAc,OAAQvK,gBAAoBiJ,GAAiB1f,GAAS,CAAE6f,UAAWnH,EAAQ7F,SAAUA,GAAYmO,EAAYmZ,OACjNjhB,GAASzC,gBAAoBmK,KAAO,CAAEC,KAAMhO,EAAW,YAAa+M,OAAQ,SAAUoB,GAAc,OAAQvK,gBAAoBiJ,GAAiB1f,GAAS,CAAE6f,UAAW3G,EAAMrG,SAAUA,EAAUvL,GAAI8yB,mBAAmBpZ,EAAWiT,MACtNxvB,OAAO6C,KAAO0Z,EAAYmZ,OACvCvhB,GAASnC,gBAAoBmK,KAAO,CAAEC,KAAMhO,EAAW,OAAQ+M,OAAQ,SAAUoB,GAAc,OAAQvK,gBAAoBiJ,GAAiB1f,GAAS,CAAE6f,UAAWjH,EAAM/F,SAAUA,EAAUvL,GAAI8yB,mBAAmBpZ,EAAWiT,MACjNxvB,OAAO6C,KAAO0Z,EAAYmZ,OACvCrsB,GAAS2I,gBAAoBmK,KAAO,CAAEC,KAAM,GAAKhO,EAAU+M,OAAQ,SAAUoB,GAAc,OAAQvK,gBAAoBiJ,GAAiB1f,GAAS,CAAE6f,UAAW/R,EAAM+E,SAAUA,GAAYmO,EAAYmZ,SATnM,OAUZ,CAACtnB,EAAU5Q,EAAMyW,EAAQE,EAAM9K,EAAMoL,EAAM3W,EAAS23B,KAM5CG,GAJA,SAAUt7B,GACrB,IAAIC,EAAKD,EAAG+hB,OAAQA,OAAgB,IAAP9hB,EAAgB,QAAUA,EAAI6O,EAAQhN,GAAO9B,EAAI,CAAC,WAC/E,MAAkB,iBAAX+hB,EAA6BrK,gBAAoBojB,GAAkB75B,GAAS,GAAI6N,IAAY4I,gBAAoBwjB,GAAgBj6B,GAAS,GAAI6N,KCpDzIiC,GAvBoB,CAC/BsH,MAAO,YAAmB,IAAhBgF,EAAe,EAAfA,SAGN,OAFAke,aAAaC,QAAQ,WAAYne,GAE1BnZ,QAAQkT,WAEnBkB,OAAQ,WAEJ,OADAijB,aAAaE,WAAW,YACjBv3B,QAAQkT,WAEnBoB,WAAY,kBAAMtU,QAAQkT,WAC1BmB,UAAW,kBACPgjB,aAAaG,QAAQ,YAAcx3B,QAAQkT,UAAYlT,QAAQC,UACnEsU,eAAgB,kBAAMvU,QAAQC,OAAO,mBACrCwjB,YAAa,kBACTzjB,QAAQkT,QAAQ,CACZ7O,GAAI,OACJkf,SAAU,WACVM,OACI,8oJCnBH4T,GAAe,eAEfC,GAAc,SAAChY,GAAD,MAAuB,CAC9C9kB,KAAM68B,GACNr4B,QAASsgB,ICaEiY,GAV8B,WAGvC,IAFFlyB,EAEC,uDAFe,QAChBa,EACC,uCACD,OAAIA,EAAO1L,OAAS68B,GACTnxB,EAAOlH,QAEXqG,G,qBCmBImyB,GA/BF,SAAChtB,GACV,IAAM8U,EAAQqD,eACd,OACI,6CACIM,MAAO,QACPS,OAAQ,OACR+T,QAAQ,oBACJjtB,GAJR,aAMI,oBACIktB,aAAW,mBACXlC,MAAO,CACHmC,WAAY,MAEhBzI,WAAY,IACZ0I,SAAU,MACVxJ,WAAW,mBACXyJ,cAAe,EACfC,YAAa,EACbC,YAAa,KACbC,KAAM1Y,EAAMoK,QAAQY,UAAUoC,MAXlC,UAaI,sBAAMqD,EAAE,++JACR,sBAAMA,EAAE,u9CACR,sBAAMA,EAAE,kqLACR,sBAAMA,EAAE,gjQCpBlB9N,GAAYC,aAAW,CACzBlF,MAAO,CACHwJ,KAAM,EACNC,aAAc,WACdC,WAAY,SACZC,SAAU,UAEdsR,OAAQ,CACJzR,KAAM,KAIR0R,GAAoBjO,sBAAqB,SAACzf,EAAO0f,GACnD,IAAMvX,EAAYmO,KAClB,OACI,cAAC,GAAD,CACIoJ,IAAKA,EACLrM,GAAG,iBACH8M,YAAahY,EAAU,qBACvBiY,SAAU,cAAC,KAAD,IACV1J,QAAS1W,EAAM0W,QACf2J,eAAa,OAKnBsN,GAAiB,SAAC3tB,GAAD,OACnB,cAAC,GAAD,2BAAcA,GAAd,aACI,cAAC0tB,GAAD,QAoBOE,GAhBM,SAAC5tB,GAClB,IAAMgY,EAAUP,KAChB,OACI,eAAC,GAAD,2BAAYzX,GAAZ,IAAmB6tB,UAAW,EAAGxR,SAAU,cAAC,GAAD,IAA3C,UACI,cAACa,GAAA,EAAD,CACIL,QAAQ,KACRzF,MAAM,UACNT,UAAWqB,EAAQxF,MACnB/Y,GAAG,sBAEP,cAAC,GAAD,IACA,sBAAMkd,UAAWqB,EAAQyV,c,8DCCjCK,GAAc/lB,wBAAc,CAC5B/C,SAAU,KACV+oB,YAAa,KACb73B,KAAM,KACNgtB,aAAc,KACd8K,iBAAkB,KAClBC,aAAc,KACd9B,UAAW,KACX+B,WAAY,KACZ/yB,IAAK,KACL7E,OAAQ,KACRD,QAAS,KACT83B,SAAU,KACVC,aAAc,KACdC,gBAAiB,KACjBnxB,KAAM,KACNC,QAAS,KACTlM,SAAU,KACV4M,YAAa,KACbywB,WAAY,KACZC,QAAS,KACTC,WAAY,KACZC,QAAS,KACTC,WAAY,KACZt4B,MAAO,OAEX03B,GAAYtlB,YAAc,cACXslB,UC0BAa,GArBM,SAAU3uB,GAC3B,IAAI4uB,EAAUzlB,qBAAW2kB,IACzB,OAAKc,EAAQ39B,SAiBN29B,EAHI5uB,GCnFJ6uB,GAA+B,SAAUrmB,EAAasmB,EAAe9uB,GAC5E,IAAI+uB,EAAYt9B,OAAOC,KAAKsO,GACxBgvB,EAAeF,EAAcv0B,QAAO,SAAU00B,GAAQ,OAAQF,EAAUh6B,SAASk6B,MACrF,GAAID,EAAar9B,OAAS,EACtB,MAAM,IAAIgE,MAAM,IAAM6S,EAAc,6IAA+IA,EAAc,uBAAyBA,EAAc,iBAAmBA,EAAc,mCAAqCwmB,EAAaE,KAAK,Q,oDCtBpU/8B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAErB08B,GAAW,WACXC,GAAW,MACXC,GAAY,OACZC,GAAW,WACXC,GAAe,eACfC,GAAa,aA4BTC,GArBI,SAAU50B,EAAe3J,GACxC,IAP0B8pB,EAOtBhrB,EAAOkB,EAAGlB,KAAMwE,EAAUtD,EAAGsD,QACjC,OAAQxE,GACJ,KAAKm/B,GACD,OAAI36B,EAAQwI,OAASnC,EAAcmC,KACxB7K,GAASA,GAAS,GAAI0I,GAAgB,CAAEoC,OAXjC+d,EAWsDngB,EAAcoC,MAVvF+d,IAAcqU,GAAYD,GAAWC,IAU0DnyB,KAAM,IAE7F/K,GAASA,GAAS,GAAI0I,GAAgB,CAAEmC,KAAMxI,EAAQwI,KAAMC,MAAOzI,EAAQyI,OAASmyB,GAAUlyB,KAAM,IAC/G,KAAKoyB,GACD,OAAOn9B,GAASA,GAAS,GAAI0I,GAAgB,CAAEqC,KAAM1I,IACzD,KAAK+6B,GACD,OAAOp9B,GAASA,GAAS,GAAI0I,GAAgB,CAAEqC,KAAM,EAAGC,QAAS3I,IACrE,KAAKg7B,GACD,OAAOr9B,GAASA,GAAS,GAAI0I,GAAgB,CAAEqC,KAAM,EAAG3C,OAAQ/F,EAAQ+F,OAAQyzB,iBAAkBx5B,EAAQw5B,iBAChGx5B,EAAQw5B,iBACRnzB,EAAcmzB,mBAE5B,QACI,OAAOnzB,ICzCf1I,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAwBjBi9B,GAVG,SAAdA,EAAwBlX,GACxB,OAAO/mB,OAAOC,KAAK8mB,GAAQhe,QAAO,SAAU0F,EAAKpL,GAC7C,IAAI5D,EAbauJ,EAcbqY,EAAQ0F,EAAO1jB,GAInB,OAlBiB2F,EAeJ+d,EAAO1jB,KAd8B,oBAAxCrD,OAAOkB,UAAUwC,SAAStC,KAAK4H,KAerCqY,EAAQ4c,EAAYlX,EAAO1jB,KAbzB,SAAU2F,GACpB,QAAOA,aAAerC,QAER,KAARqC,GACU,OAARA,QACQpJ,IAARoJ,GACAonB,YAAapnB,EAAK,KASfk1B,CAAQ7c,GAAS5S,EAAM/N,GAASA,GAAS,GAAI+N,KAAOhP,EAAK,IAAO4D,GAAOge,EAAO5hB,MACtF,KC/BH0+B,GAAY,SAAUz7B,EAAQ6e,GAC9B,OAAOvhB,OAAOC,KAAKyC,GAAQqG,QAAO,SAAU0F,EAAKpL,GAC7C,IAAI5D,EACJ,OAAI4D,IAAQke,EACDvhB,OAAOW,OAAO,GAAI8N,IAAMhP,EAAK,IAAO4D,GAAOX,EAAOW,GAAM5D,IAE5DgP,IACR,KAkBQ2vB,GAhBK,SAAhBA,EAA0B17B,EAAQ6e,GAClC,IAAI9hB,EACA4+B,EAAQ9c,EAAK+c,MAAM,KACvB,GAAqB,IAAjBD,EAAMn+B,OACN,OAAOi+B,GAAUz7B,EAAQ6e,GAE7B,IAAIgd,EAAUF,EAAM,GACpB,QAAwBz+B,IAApB8C,EAAO67B,GACP,OAAO77B,EAEX,IAAI87B,EAAOJ,EAAc17B,EAAO67B,GAAUF,EAAM56B,MAAM,GAAGg6B,KAAK,MAC9D,OAAiC,IAA7Bz9B,OAAOC,KAAKu+B,GAAMt+B,OACXi+B,GAAUz7B,EAAQ67B,GAEtBv+B,OAAOW,OAAO,GAAI+B,IAASjD,EAAK,IAAO8+B,GAAWC,EAAM/+B,KCvB/DiB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAa5By9B,GAAc,GACdC,GAAc,CACdC,MAAO,KACPnzB,MAAOmyB,IAEPiB,GAAgB,GA+KTC,GAAmB,CAC1B,OACA,UACA,OACA,QACA,SACA,oBAEAC,GAAc,SAAUh7B,EAAO66B,GAC/B,GAAI76B,EAAM66B,IAAkC,kBAAjB76B,EAAM66B,GAC7B,IACI76B,EAAM66B,GAASn5B,KAAKu5B,MAAMj7B,EAAM66B,IAEpC,MAAOK,UACIl7B,EAAM66B,KAIdM,GAAyB,SAAUx/B,GAC1C,IAAIka,EAASla,EAAGka,OACZ7V,EAAQqD,IAAO43B,iBAAMplB,IAAS,SAAU1J,EAAGjO,GAAK,OAAwC,IAAjC68B,GAAiBp9B,QAAQO,MAGpF,OAFA88B,GAAYh7B,EAAO,UACnBg7B,GAAYh7B,EAAO,oBACZA,GA8BAo7B,GAAW,SAAUz/B,GAC5B,IAAI0/B,EAAoB1/B,EAAG0/B,kBAAmBh6B,EAAS1F,EAAG0F,OAAQi6B,EAAsB3/B,EAAG2/B,oBAAqB7zB,EAAO9L,EAAG8L,KAAMG,EAAUjM,EAAGiM,QACzI5H,EAAQ9D,OAAOC,KAAKk/B,GAAmBj/B,OAAS,EAC9Ci/B,EAlBmB,SAAUh6B,GACnC,OAAQA,GACJA,EAAO2D,SACN9I,OAAOC,KAAKkF,EAAO2D,QAAQ5I,OAAS,GACjB,MAAhBiF,EAAOqG,OACS,IAAhBrG,EAAOsG,MACW,MAAlBtG,EAAOuG,SACQ,MAAfvG,EAAOoG,MAYT8zB,CAAgBl6B,GACZzE,GAAS,GAAIyE,GAAU,CAAE2D,OAAQs2B,GAAuB,IAWlE,OAVKt7B,EAAMyH,OACPzH,EAAMyH,KAAOA,EAAKozB,MAClB76B,EAAM0H,MAAQD,EAAKC,OAEF,MAAjB1H,EAAM4H,UACN5H,EAAM4H,QAAUA,GAEF,MAAd5H,EAAM2H,OACN3H,EAAM2H,KAAO,GAEV/K,GAASA,GAAS,GAAIoD,GAAQ,CAAE2H,KAAM6zB,GAAmBx7B,EAAM2H,KAAM,GAAIC,QAAS4zB,GAAmBx7B,EAAM4H,QAAS,OAEpH4zB,GAAqB,SAAUC,EAAgBC,GACtD,IAAIC,EAAyC,kBAAnBF,EACpBG,SAASH,EAAgB,IACzBA,EACN,OAAOI,MAAMF,GAAgBD,EAAeC,GAEjCG,GA1MK,SAAUngC,GAC1B,IAAID,EAAWC,EAAGD,SAAU2R,EAAW1R,EAAG0R,SAAUiuB,EAAsB3/B,EAAG2/B,oBAAqB1/B,EAAKD,EAAG8L,KAAMA,OAAc,IAAP7L,EAAgBg/B,GAAch/B,EAAIyT,EAAK1T,EAAGiM,QAASA,OAAiB,IAAPyH,EAAgB,GAAKA,EAAIC,EAAK3T,EAAGogC,SAAUA,OAAkB,IAAPzsB,EAAgB,IAAMA,EAC5PgS,EAAWC,cACXjQ,EAAU8hB,eACV/xB,EAASshB,aAAY,SAAUqZ,GAC/B,OAAOA,EAAW1yB,MAAMiB,UAAU7O,GAC5BsgC,EAAW1yB,MAAMiB,UAAU7O,GAAUgP,KAAKrJ,OAC1Cy5B,KACPxO,KACC2P,EAAmB,CACnB5uB,EAASwI,OACTna,EACA2F,EACAi6B,EACA55B,KAAKC,UAAU8F,GACfG,GAEAyzB,EAAoBF,GAAuB9tB,GAC3CrN,EAAQvE,mBAAQ,WAChB,OAAO2/B,GAAS,CACZC,kBAAmBA,EACnBh6B,OAAQA,EACRi6B,oBAAqBA,EACrB7zB,KAAMA,EACNG,QAASA,MAEdq0B,GAMHngB,qBAAU,WACF5f,OAAOC,KAAKk/B,GAAmBj/B,OAAS,GACxCklB,EAAS4a,YAAiBxgC,EAAUsE,MAEzC,IACH,IAAIm8B,EAAeh7B,uBAAY,SAAUgF,GACrC,IAAIi2B,EAAYlC,GAAal6B,EAAOmG,GACpCmL,EAAQ9E,KAAK,CACTqJ,OAAQ,IAAMlU,qBAAU/E,GAASA,GAAS,GAAIw/B,GAAY,CAAEp3B,OAAQtD,KAAKC,UAAUy6B,EAAUp3B,QAASyzB,iBAAkB/2B,KAAKC,UAAUy6B,EAAU3D,uBAErJnX,EAAS4a,YAAiBxgC,EAAU0gC,MACrCH,GACC/C,EAAU/3B,uBAAY,SAAUsG,EAAMC,GACtC,OAAOy0B,EAAa,CAChB1hC,KAAMm/B,GACN36B,QAAS,CAAEwI,KAAMA,EAAMC,MAAOA,OAEnCu0B,GAECjD,EAAU73B,uBAAY,SAAUk7B,GAAW,OAAOF,EAAa,CAAE1hC,KAAMs/B,GAAU96B,QAASo9B,MAAeJ,GAEzGhD,EAAa93B,uBAAY,SAAUm7B,GACnC,OAAOH,EAAa,CAAE1hC,KAAMu/B,GAAc/6B,QAASq9B,MACpDL,GAECvD,EAAe14B,EAAMgF,QAAU21B,GAC/B4B,EAAwBv8B,EAAMy4B,kBAAoBkC,GAClD6B,EAAsBC,MAAe,SAAUz3B,EAAQyzB,GACvD0D,EAAa,CACT1hC,KAAMw/B,GACNh7B,QAAS,CACL+F,OAAQm1B,GAAYn1B,GACpByzB,iBAAkBA,OAG3BsD,GACChD,EAAa53B,uBAAY,SAAU6D,EAAQyzB,EAAkBsD,GAE7D,YADiB,IAAbA,IAAuBA,GAAW,GAC/BA,EACDS,EAAoBx3B,EAAQyzB,GAC5B0D,EAAa,CACX1hC,KAAMw/B,GACNh7B,QAAS,CACL+F,OAAQm1B,GAAYn1B,GACpByzB,iBAAkBA,OAG/BwD,GAECtD,EAAax3B,uBAAY,SAAUu7B,GAGnC,IAAIjE,EAAmBv8B,OAAOC,KAAKogC,GAAuBt3B,QAAO,SAAU03B,EAAS33B,GAChF,IAAIrJ,EACJ,OAAOqJ,IAAW03B,EACZ9/B,GAASA,GAAS,GAAI+/B,KAAWhhC,EAAK,IAAOqJ,IAAU,EAAMrJ,IAAOghC,IAC3E,IACC33B,EAASm1B,GAAYE,GAAU3B,EAAcgE,IACjDP,EAAa,CACT1hC,KAAMw/B,GACNh7B,QAAS,CAAE+F,OAAQA,EAAQyzB,iBAAkBA,OAElDwD,GACC9C,EAAah4B,uBAAY,SAAUu7B,EAAYhB,GAC/C,IAAI//B,EAGA88B,EAAmB77B,GAASA,GAAS,GAAI2/B,KAAyB5gC,EAAK,IAAO+gC,IAAc,EAAM/gC,IAClGqJ,EAAS02B,EACPkB,KAAIlE,EAAcgE,EAAYhB,GAC9BhD,EACNyD,EAAa,CACT1hC,KAAMw/B,GACNh7B,QAAS,CACL+F,OAAQA,EACRyzB,iBAAkBA,OAG3BwD,GACH,MAAO,CACHr/B,GAAS,CAAE67B,iBAAkB8D,EAAuB7D,aAAcA,EAC9DuD,iBAAkBA,GAAoBj8B,GAC1C,CACIm8B,aAAcA,EACdnD,QAASA,EACTC,WAAYA,EACZC,QAASA,EACTH,WAAYA,EACZJ,WAAYA,EACZQ,WAAYA,KCnMpB0D,GAAiB,GA8BNC,GAtBM,SAAUphC,GAC3B,IAAI4lB,EAAWC,cAmBf,MAAO,CAlBWoB,aAAY,SAAUqZ,GACpC,OAAOA,EAAW1yB,MAAMiB,UAAU7O,GAC5BsgC,EAAW1yB,MAAMiB,UAAU7O,GAAUgP,KAAKpC,YAC1Cu0B,KACPvQ,KACsB,CACrBte,OAAQ7M,uBAAY,SAAU47B,GAC1Bzb,EAAS0b,YAAmBthC,EAAUqhC,MACvC,CAACrhC,IAEJuhC,OAAQ97B,uBAAY,SAAU+C,GAC1Bod,EAAS4b,YAAexhC,EAAUwI,MACnC,CAACxI,IAEJyhC,eAAgBh8B,uBAAY,WACxBmgB,EAAS0b,YAAmBthC,EAAU,OACvC,CAACA,O,+BCxBG0hC,GAHO,SAAUz8B,EAAM+K,EAAG0kB,EAAI10B,GACzC,OAAO2hC,KAAW18B,GAAM,SAAUu6B,EAAKoC,GAAO,OCHlC,SAAUA,EAAKC,GAC3B,IAAIC,EAAW3P,SAASva,cAAc,KACtCkqB,EAAS/H,MAAM7J,QAAU,OACzBiC,SAASpxB,KAAKghC,YAAYD,GAC1B,IAAIE,EAAO,IAAIC,KAAK,CAACL,GAAM,CAAE7iC,KAAM,2BAC/BqP,OAAO8zB,WAAa9zB,OAAO8zB,UAAUC,iBAErC/zB,OAAO8zB,UAAUC,iBAAiBH,EAAMH,EAAW,SAGnDC,EAASM,aAAa,OAAQC,IAAIC,gBAAgBN,IAClDF,EAASM,aAAa,WAAYP,EAAW,QAC7CC,EAASS,SDTwCC,CAAYZ,EAAK5hC,OEkC/DyiC,GAAqB,SAAU1zB,GACtC,IAAI4uB,EAAUzlB,qBAAW0iB,IACzB,OAAQ7rB,GAASA,EAAM/O,UAAa29B,GCvCpCz8B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAiB5B09B,GAAc,CACdC,MAAO,KACPnzB,MAAOmyB,IAEPuE,GAAc,GA4IPC,GAAgB,CACvB,WACA,cACA,OACA,eACA,mBACA,QACA,WACA,eACA,YACA,aACA,MACA,UACA,SACA,WACA,eACA,kBACA,OACA,UACA,UACA,WACA,cACA,aACA,UACA,aACA,UACA,aACA,QACA,aACA,WAkBOC,GAAwB,SAAU7zB,GACzC,OAAOvO,OAAOC,KAAKsO,GACdzF,QAAO,SAAU2b,GAAY,OAAQ0d,GAAc7+B,SAASmhB,MAC5D1b,QAAO,SAAU0F,EAAKpL,GACvB,IAAI5D,EACJ,OAAQiB,GAASA,GAAS,GAAI+N,KAAOhP,EAAK,IAAO4D,GAAOkL,EAAMlL,GAAM5D,MACrE,KAEQ4iC,GAjLS,SAAU9zB,GAC9B6uB,GAA6B,OAAQ,CAAC,WAAY,YAAa7uB,GAC/D,IAAIgF,EAAWhF,EAAMgF,SAAU9T,EAAK8O,EAAM+zB,SAAUA,OAAkB,IAAP7iC,EAAgByhC,GAAkBzhC,EAAI2/B,EAAsB7wB,EAAM6wB,oBAAqB1E,EAAYnsB,EAAMmsB,UAAWh7B,EAAK6O,EAAMhD,KAAMA,OAAc,IAAP7L,EAAgBg/B,GAAch/B,EAAIyT,EAAK5E,EAAM7C,QAASA,OAAiB,IAAPyH,EAAgB,GAAKA,EAAIrK,EAASyF,EAAMzF,OAAQsK,EAAK7E,EAAMsxB,SAAUA,OAAkB,IAAPzsB,EAAgB,IAAMA,EAC7W5T,EAAWyiC,GAAmB1zB,GAClC,GAAIzF,GAAUggB,yBAAehgB,GACzB,MAAM,IAAI5E,MAAM,yNAEpB,IAAIiN,EAAW8lB,eACXvgB,EAAYmO,KACZ9lB,EAASC,eACT8kB,EAAK8b,GAAc,CACnBpgC,SAAUA,EACV2R,SAAUA,EACViuB,oBAAqBA,EACrB7zB,KAAMA,EACNG,QAASA,EACTm0B,SAAUA,IACV/7B,EAAQggB,EAAG,GAAIye,EAAiBze,EAAG,GACnCC,EAAKye,GAAmBhjC,GAAW4M,EAAc2X,EAAG,GAAI0e,EAAqB1e,EAAG,GAKhFC,EAAK0e,aAAWljC,EAAU,CAC1BiM,KAAM3H,EAAM2H,KACZC,QAAS5H,EAAM4H,SAChB,CAAEizB,MAAO76B,EAAMyH,KAAMC,MAAO1H,EAAM0H,OAAS9K,GAASA,GAAS,GAAIoD,EAAMgF,QAASA,GAAS,CACxFmB,OAAQgB,GACRpL,UAAW,SAAU6E,GACjB,OAAO3F,EAAwB,kBAAV2F,EACfA,EACAA,EAAM8M,SAAW,6BAA8B,UAAW,CAC5DhC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,OAGlB8J,EAAMsa,EAAGta,IAAK/E,EAAQqf,EAAGrf,MAAOD,EAAQsf,EAAGtf,MAAOE,EAAUof,EAAGpf,QAASC,EAASmf,EAAGnf,OACpFJ,EAAOgiB,aAAY,SAAU3hB,GAC7B,OAAOrC,KAAIqC,EAAMsI,MAAMiB,UAAW,CAAC7O,EAAU,QAAS0iC,OAMtDS,EAAalc,aAAY,SAAU3hB,GACnC,OAAOrC,KAAIqC,EAAMsI,MAAMiB,UAAW,CAAC7O,EAAU,OAAQ,OAAQ,OAE7DojC,EAAenc,aAAY,SAAU3hB,GACrC,OAAOrC,KAAIqC,EAAMsI,MAAMiB,UAAW,CAAC7O,EAAU,OAAQ,aAKrDqjC,EAA8B,qBAAVl+B,EAAwBi+B,EAAej+B,EAC3Dm+B,EAA4B,qBAAVn+B,EAAwBg+B,EAAaj5B,EACvDq5B,EAAaxjC,mBAAQ,WACrB,OAAOsN,KAAKm2B,KAAKH,EAAa/+B,EAAM4H,UAAY,IACjD,CAAC5H,EAAM4H,QAASm3B,IACnBjjB,qBAAU,WACF9b,EAAM2H,MAAQ,IACZ7G,GAAWd,EAAM2H,KAAO,GAAiC,KAA3Bq3B,GAAY,IAAI5iC,OAEhDqiC,EAAezF,QAAQ,IAEjBl4B,GAAWd,EAAM2H,KAAOs3B,GAG9BR,EAAezF,QAAQiG,KAE5B,CACCn+B,EACAd,EAAM2H,KACNq3B,EACAP,EACA59B,EACAo+B,EACAJ,IAEJ,IAAIrG,EAAc/8B,mBAAQ,WAAc,MAAQ,CAC5Co/B,MAAO76B,EAAMyH,KACbC,MAAO1H,EAAM0H,SACV,CAAC1H,EAAMyH,KAAMzH,EAAM0H,QACtBy3B,EAAevsB,EAAU,aAAelX,EAAW,QAAS,CAC5DuwB,YAAa,EACbvgB,EAAGwgB,KAAWC,SAASD,KAAWE,UAAU1wB,MAKhD,MAAO,CACH+T,SAAUA,EACV+oB,YAAaA,EACb73B,KAAMA,EACNgtB,aAPe/a,EAAU,eAAgB,CACzC/T,KAAMsgC,IAON1G,iBAAkBz4B,EAAMy4B,iBACxB73B,MAAOA,EACP49B,SAAUA,EACVx5B,OAAQA,EACR0zB,aAAc14B,EAAM04B,aACpB9B,UAAWA,EACX+B,WAAY8F,EAAe9F,WAC3B/yB,IAAKo5B,EACLj+B,OAAQA,GAAU89B,EAAWziC,OAAS,EACtC0E,QAASA,EACT83B,SAAU+F,EAAmB3wB,OAC7B6qB,aAAc8F,EAAmB1B,OACjCnE,gBAAiB6F,EAAmBxB,eACpCx1B,KAAM3H,EAAM2H,KACZC,QAAS5H,EAAM4H,QACflM,SAAUA,EACV4M,YAAaA,EACbywB,WAAY0F,EAAe1F,WAC3BC,QAASyF,EAAezF,QACxBC,WAAYwF,EAAexF,WAC3BC,QAASuF,EAAevF,QACxBC,WAAYsF,EAAetF,WAC3Bt4B,MAAOk+B,I,+BChKXK,GAAc,GACdld,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD9iB,KAAM,CACFmvB,QAAS,OACTuC,WAAY,WACZkR,cAAe,QAEnBnH,OAAQ,CAAEhV,MAAO3D,EAAM+C,QAAQ,IAC/Bgd,WAAY,MACT,CAAEzgC,KAAM,sBACX0gC,GAAkB,SAAU90B,GAC5B,IAAI+0B,EAAgB/0B,EAAM+0B,cAAeC,EAAah1B,EAAMg1B,WAAYnY,EAAU7c,EAAM6c,QAASjF,EAAS5X,EAAM4X,OAC5G3mB,EAAWyiC,GAAmB1zB,GAC9BmI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoB,MAAO,CAAE,cAAemsB,EAAc/0B,MAAMi1B,OAAQte,UAAW8J,KAAW,eAAgBzI,EAAQhmB,QACzH+iC,EAAc/0B,MAAMk1B,UAAatsB,gBAAoBuO,KAAY,CAAER,UAAW8J,KAAW,cAAezI,EAAQ6c,YAAane,QAASse,EAAY,WAAYD,EAAc/0B,MAAMi1B,OAAQziB,MAAOrK,EAAU,4BACxMS,gBAAoBusB,KAAY,OACpCvsB,eAAmBmsB,EAAe,CAC9BK,gBAA+C/jC,IAAnC0jC,EAAc/0B,MAAMo1B,YAE1BL,EAAc/0B,MAAMo1B,WAC1BnkC,SAAUA,EACVuI,OAAQm7B,GACR9X,QAASA,EACTjF,OAAQA,EACR2R,YAAY,EAEZ0H,kBAAc5/B,IAElBuX,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQyV,QAAU,UAElEqH,GAAgBxd,UAAY,CACxByd,cAAexd,KAAUiD,KACzBwa,WAAYzd,KAAUuJ,KACtB9I,QAAST,KAAUiB,OACnBvnB,SAAUsmB,KAAUC,OACpBI,OAAQL,KAAUC,OAClBqF,QAAStF,KAAUC,QAERsd,UC/CX3iC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmU,KAAM,CACFhK,WAAYnK,EAAM+C,QAAQ,GAC1B0P,WAAY,EACZpG,QAAS,OACTuC,WAAY,WACZ2R,SAAU,OACVlO,UAAWrS,EAAM+C,QAAQ,IACzB+c,cAAe,QAEnBU,SAAU,CAAEC,MAAO,YAChB,CAAEnhC,KAAM,iBAKJohC,GAAa,SAAUtkC,GAC9B,IAAIC,EAAKD,EAAG8mB,QAASA,OAAiB,IAAP7mB,EAAgB,GAAKA,EAAIwlB,EAAYzlB,EAAGylB,UAAW1lB,EAAWC,EAAGD,SAAU2mB,EAAS1mB,EAAG0mB,OAAQiF,EAAU3rB,EAAG2rB,QAASqV,EAAUhhC,EAAGghC,QAASttB,EAAK1T,EAAG88B,iBAAkBA,OAA0B,IAAPppB,EAAgB,GAAKA,EAAIspB,EAAah9B,EAAGg9B,WAAYuH,EAAgBvkC,EAAGukC,cAAe7e,EAAO5jB,GAAO9B,EAAI,CAAC,UAAW,YAAa,WAAY,SAAU,UAAW,UAAW,mBAAoB,aAAc,kBACvamgB,qBAAU,WACN6gB,EAAQ55B,SAAQ,SAAUiC,GACtB,GAAIA,EAAOyF,MAAMk1B,UAAY36B,EAAOyF,MAAMixB,aACtC,MAAM,IAAIt7B,MAAM,wIAGzB,CAACu8B,IACJ,IAQI8C,EAAat+B,uBAAY,SAAUsgB,GAAS,OAAOkX,EAAWlX,EAAM0C,cAAcgc,QAAQ5gC,OAAS,CAACo5B,IACxG,OAAQtlB,gBAAoB,OAAQzW,GAAS,CAAEwkB,UAAW8J,KAAW9J,EAAWqB,EAAQiR,OAtBpE,SAAU/3B,GAE9B,OADaA,EAAG6uB,OAAgB7uB,EAAGykC,MAAqBzkC,EAAG0kC,YAA0C1kC,EAAG2kC,2BAAmD3kC,EAAG4kC,qBAA8B5kC,EAAGiF,MAAgBjF,EAAG64B,OAAuB74B,EAAG+8B,aAAqB/8B,EAAG+3B,KAAqB/3B,EAAG84B,aAAgC94B,EAAG6kC,gBAAuC7kC,EAAG8kC,oBAA+B9kC,EAAG+kC,QAAoB/kC,EAAGglC,SAAoChlC,EAAGilC,wBAAoCjlC,EAAGklC,SAAuBllC,EAAGo9B,WAA0Bp9B,EAAGmlC,YAA4BnlC,EAAGolC,aAA6BplC,EAAGqlC,aAAgCrlC,EAAGslC,gBAA8BtlC,EAAGulC,WAAsBvlC,EAAGk4B,QAAiBl4B,EAAGwlC,MAAoBxlC,EAAGylC,WAAqBzlC,EAAG24B,OAAkB34B,EAAG0lC,QAAiB5jC,GAAO9B,EAAI,CAAC,SAAU,QAAS,cAAe,6BAA8B,uBAAwB,QAAS,SAAU,eAAgB,OAAQ,eAAgB,kBAAmB,sBAAuB,UAAW,WAAY,0BAA2B,WAAY,aAAc,cAAe,eAAgB,eAAgB,kBAAmB,aAAc,UAAW,QAAS,aAAc,SAAU,YAqB5lCk3B,CAAkBxR,GAAO,CAAEgT,SAAUI,KAR3HkI,EAAQ33B,QAAO,SAAUw6B,GAC5B,OAAOA,EAAc/0B,MAAMk1B,UACvBlH,EAAiB+G,EAAc/0B,MAAMi1B,SAEjC,qBADGnW,KAAU2W,EAAeV,EAAc/0B,MAAMi1B,WAM1Cv7B,KAAI,SAAUq7B,GAAiB,OAAQnsB,gBAAoBksB,GAAiB,CAAEhgC,IAAKigC,EAAc/0B,MAAMi1B,OAAQF,cAAeA,EAAeC,WAAYA,EAAY/jC,SAAUA,EAAU4rB,QAASkY,EAAc/0B,MAAM6c,SAAWA,EAASjF,OAAQmd,EAAc/0B,MAAM4X,QAAUA,OAClShP,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQsd,aAEpDtL,GAAe,SAAUhT,GAEzB,OADAA,EAAMC,kBACC,GAEXue,GAAWle,UAAY,CACnBrmB,SAAUsmB,KAAUC,OAAOiD,WAC3ByX,QAAS3a,KAAUsf,QAAQtf,KAAUiD,MAAMC,WAC3CuT,iBAAkBzW,KAAUiB,OAC5B0V,WAAY3W,KAAUuJ,KAAKrG,WAC3Bgb,cAAele,KAAUiB,OACzBR,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,QAElB,IAyBHsf,GAAwB,aAExBC,GAAsB,CAAElN,QAAQ,EAAMuM,UAAU,GACrCY,GAlBU,SAAUh3B,GACTA,EAAMgY,QAA5B,IAAqCpB,EAAO5jB,GAAOgN,EAAO,CAAC,YACvDgY,EAAUP,GAAUzX,GACpBi3B,EAbyC,SAAU/lC,GACvD,IAAIukC,EAAgBvkC,EAAGukC,cAAevD,EAAUhhC,EAAGghC,QACnD,OAAQ//B,GAASA,GAAS,GAAI+/B,EACzB33B,QAAO,SAAUw6B,GAClB,OAAOA,EAAc/0B,MAAMk1B,UAAYH,EAAc/0B,MAAMixB,gBAE1Dz2B,QAAO,SAAU0F,EAAK60B,GACvB,OAAOmC,KAAU/kC,GAAS,GAAI+N,GAAM60B,EAAc/0B,MAAMi1B,OAAQF,EAAc/0B,MAAMixB,gBACrF,KAAMwE,GAKkC0B,CAAoCn3B,GACvCo3B,GAApBxgB,EAAK6e,cAAuBziC,GAAO4jB,EAAM,CAAC,mBAC9D,OAAQhO,gBAAoB+gB,KAAM,CAAEC,SAAUkN,GAAuBrB,cAAewB,EAAsCI,SAAUllC,GAAS,GAAImlC,MAAgBvlB,OAAQ,SAAUwlB,GAAa,OAAQ3uB,gBAAoBA,WAAgB,KACpOA,gBAAoB4uB,KAAS,CAAEC,aAAcV,GAAqBW,SAAU,SAAUxmC,GAC9E,IAAIklC,EAAWllC,EAAGklC,SAAUvM,EAAS34B,EAAG24B,OACpCuM,GAGJxf,GAAQA,EAAK0X,WAAWzE,MAEhCjhB,gBAAoB4sB,GAAYrjC,GAAS,CAAE6lB,QAASA,GAAWuf,EAAWH,S,qBCtG3EO,GAAa,SAAUzmC,GAC9B,IAAID,EAAWC,EAAGD,SAAUgkC,EAAS/jC,EAAG+jC,OAAQ/zB,EAAQhQ,EAAGgQ,MAAOuZ,EAAavpB,EAAGupB,WAC9EtS,EAAYmO,KAChB,OAAIpV,GAA0B,kBAAVA,EACTA,EAEH0H,gBAAoB,OAAQ,KAChCT,EAAUrV,WAAM,ECDR,SAAU4B,GACtB,IAAKA,EACD,MAAO,CAAC,IAEZ,IAAIwM,EAAQxM,EAAQwM,MAAOjQ,EAAWyD,EAAQzD,SAAUgkC,EAASvgC,EAAQugC,OACzE,MAAwB,qBAAV/zB,EACR,CAACA,EAAO,CAAED,EAAGC,IACK,qBAAX+zB,EACH,CACE,aAAehkC,EAAW,WAAagkC,EACvC,CACIh0B,EAAGwgB,KAAW3F,UAAUmZ,EAAQ,CAAC,aAAc,eAGrD,CAAC,IDbiB2C,CAA6B,CACjD12B,MAAOA,EACPjQ,SAAUA,EACVgkC,OAAQA,KAEZxa,GAAc,OAGtBkd,GAAWnvB,YAAc,aACV8U,sBAAKqa,IEfTE,GAAuBpY,sBAAW,SAAUzf,EAAO0f,GAC1D,IAAInlB,EAASyF,EAAMzF,OAAQu9B,EAAS93B,EAAM83B,OACtC7mC,EAAWyiC,GAAmB1zB,GAC9B+3B,EAAarhC,uBAAY,WACzBohC,EAAO,CACH7C,OAAQ16B,EAAOyF,MAAMi1B,OACrBhE,aAAc12B,EAAOyF,MAAMixB,iBAEhC,CAAC12B,EAAOyF,MAAMixB,aAAc12B,EAAOyF,MAAMi1B,OAAQ6C,IACpD,OAAQlvB,gBAAoB4X,KAAU,CAAE7J,UAAW,kBAAmB,WAAYpc,EAAOyF,MAAMi1B,OAAQ,qBAAsB16B,EAAOyF,MAAMixB,aAAcn8B,IAAKyF,EAAOyF,MAAMi1B,OAAQve,QAASqhB,EAAYrY,IAAKA,GACxM9W,gBAAoB+uB,GAAY,CAAEz2B,MAAO3G,EAAOyF,MAAMkB,MAAO+zB,OAAQ16B,EAAOyF,MAAMi1B,OAAQhkC,SAAUA,QAE5G4mC,GAAqBvgB,UAAY,CAC7B/c,OAAQgd,KAAUrd,QAAQugB,WAC1Bqd,OAAQvgB,KAAUuJ,KAAKrG,WACvBxpB,SAAUsmB,KAAUC,OAAOiD,YCpB/B,IAAItoB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAqBPunB,GAAS,SAAU5Z,GACnB,IAAI9O,EACAC,EAAK6O,EAAMg4B,UAAWA,OAAmB,IAAP7mC,EAAgB,OAASA,EAAIuX,EAAW1I,EAAM0I,SAA2CiO,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWS,EAAQpX,EAAMoX,MAAOgT,EAAWpqB,EAAMoqB,SAAUlpB,EAAQlB,EAAMkB,MAAOoX,EAAOtY,EAAMsY,KAAM1B,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,WAAY,UAAW,YAAa,QAAS,WAAY,QAAS,SACrVmI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACpBsc,EAAWC,cAAc,SAAUzH,GACnC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9Bwb,EAAYC,GAAwBthB,GACxC,OAAO0F,EAAYpb,IAAUkpB,EAAYxhB,gBAAoBsO,KAAS,CAAE1E,MAAOrK,EAAUjH,EAAO,CAAED,EAAGC,KACjG0H,gBAAoBuO,KAAYhlB,GAAS,CAAE,aAAcgW,EAAUjH,EAAO,CAAED,EAAGC,IAAUyV,UAAWA,EAAWS,MAAOA,GAAS6gB,GAAYvvB,IAAeE,gBAAoBuO,KAAYhlB,GAAS,CAAEwkB,UAAWA,EAAWS,MAAOA,EAAOgT,SAAUA,GAAY6N,GAAYvvB,GAAeE,gBAAoBuvB,KAAWhmC,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQkR,OAAQvS,GAAYS,MAAOA,EAAOkB,KAAMA,EAAM,aAAcpX,EAAQiH,EAAUjH,EAAO,CAAED,EAAGC,SAAW7P,EAAW+4B,SAAUA,GAAY6N,GAC1d,SAAdD,GACItvB,GACAE,eAAmBF,EAAU,CACzBiO,UAAWqB,EAAQM,EAAO,UAElCpX,GAAU0H,gBAAoB,OAAQ,CAAE+N,UAAW8J,MAAYvvB,EAAK,GAC5DA,EAAG8mB,EAAQ9W,OAAuB,SAAd82B,EACpB9mC,EAAG8mB,EAAQogB,gBAAgC,SAAdJ,EAC7B9mC,KAAQiX,EAAUjH,EAAO,CAAED,EAAGC,KACxB,UAAd82B,GACItvB,GACAE,eAAmBF,EAAU,CACzBiO,UAAWqB,EAAQM,EAAO,YAGtCb,GAAYC,aAAW,CACvBwR,OAAQ,CACJ/H,QAAS,cACTuC,WAAY,UAEhBxiB,MAAO,CACHsmB,YAAa,SAEjB4Q,eAAgB,CACZjd,aAAc,SAElBkd,UAAW,CACPjL,SAAU,IAEdkL,WAAY,CACRlL,SAAU,IAEdmL,UAAW,CACPnL,SAAU,KAEf,CAAEh5B,KAAM,aACA8jC,GAA0B,SAAUhnC,GAGhCA,EAAG8T,SAAyB9T,EAAG84B,aAAyC94B,EAAGsnC,yBAAoCtnC,EAAG+kC,QAAkB/kC,EAAGunC,OAAmBvnC,EAAGklC,SAAmBllC,EAAGsI,OAAmBtI,EAAGR,SAAqBQ,EAAGD,SAAmBC,EAAGwnC,OAAwBxnC,EAAGynC,cAA0BznC,EAAG4T,SAC1T,OAD2U9R,GAAO9B,EAAI,CAAC,WAAY,eAAgB,2BAA4B,UAAW,SAAU,WAAY,SAAU,WAAY,WAAY,SAAU,gBAAiB,cAGjf0oB,GAAOtC,UAAY,CACf0gB,UAAWzgB,KAAU3H,MAAM,CAAC,OAAQ,UACpClH,SAAU6O,KAAUrd,QACpB8d,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBJ,MAAOG,KAAU3H,MAAM,CAAC,UAAW,UAAW,UAAW,cACzDwa,SAAU7S,KAAU6F,KACpBlc,MAAOqW,KAAUC,OACjBc,KAAMf,KAAU3H,MAAM,CAAC,QAAS,SAAU,WAE9CgK,GAAOlJ,aAAe,CAClB0G,MAAO,UACPkB,KAAM,SAEKsB,UC5GXznB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYPolB,GAAYC,aAAW,CACvBuF,KAAM,CAAEkE,QAAS,iBAClB,CAAE/sB,KAAM,mBACPwkC,GAAe,SAAU54B,GACzB,IAAIkyB,EAAUlyB,EAAMkyB,QAAShhC,EAAK8O,EAAMguB,iBAAkBA,OAA0B,IAAP98B,EAAgB,GAAKA,EAAI+8B,EAAejuB,EAAMiuB,aAAcS,EAAa1uB,EAAM0uB,WAA6C/X,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAW1lB,EAAW+O,EAAM/O,SAAU2lB,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,mBAAoB,eAAgB,aAAc,UAAW,YAAa,aACxW7O,EAAKioB,oBAAS,GAAQG,EAAOpoB,EAAG,GAAIkxB,EAAUlxB,EAAG,GACjDkoB,EAAWuO,mBACX5P,EAAUP,GAAUzX,GACpB64B,EAAgB3G,EAAQ33B,QAAO,SAAUw6B,GACzC,OAAQA,EAAc/0B,MAAMk1B,WACvBlH,EAAiB+G,EAAc/0B,MAAMi1B,SAElC,qBADGnW,KAAUmP,EAAc8G,EAAc/0B,MAAMi1B,WAGvD6D,EAAoBpiC,uBAAY,SAAUsgB,GAE1CA,EAAMC,iBACNoL,GAAQ,GACRhJ,EAAS0O,QAAU/Q,EAAM0C,gBAC1B,CAACL,EAAUgJ,IACVE,EAAqB7rB,uBAAY,WACjC2rB,GAAQ,KACT,CAACA,IACA0V,EAAarhC,uBAAY,SAAUxF,GACnC,IAAI+jC,EAAS/jC,EAAG+jC,OAAQhE,EAAe//B,EAAG+/B,aAC1CvC,EAAWuG,EAAQhE,GACnB5O,GAAQ,KACT,CAACqM,EAAYrM,IAChB,OAA6B,IAAzBwW,EAAclnC,OACP,KACHiX,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQiF,KAAMtG,IAAcC,GAC5FhO,gBAAoBgR,GAAQ,CAAEjD,UAAW,aAAczV,MAAO,uBAAwBwV,QAASoiB,GAC3FlwB,gBAAoBmwB,KAAe,OACvCnwB,gBAAoBoR,KAAM,CAAET,KAAMA,EAAMF,SAAUA,EAAS0O,QAAS1N,QAASkI,GAAsBsW,EAAcn/B,KAAI,SAAUq7B,GAAiB,OAAQnsB,gBAAoBivB,GAAsB,CAAE/iC,IAAKigC,EAAc/0B,MAAMi1B,OAAQ16B,OAAQw6B,EAAe9jC,SAAUA,EAAU6mC,OAAQC,UAEhSa,GAAathB,UAAY,CACrBrmB,SAAUsmB,KAAUC,OAAOiD,WAC3ByX,QAAS3a,KAAUsf,QAAQtf,KAAUiD,MAAMC,WAC3CuT,iBAAkBzW,KAAUiB,OAC5ByV,aAAc1W,KAAUiB,OAAOiC,WAC/BiU,WAAYnX,KAAUuJ,KAAKrG,WAC3BzC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,QAEVohB,UC5EXzmC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQPolB,GAAYC,aAAW,CACvBwR,OAAQ,GACRD,KAAM,IACP,CAAE70B,KAAM,aACP4kC,GAAS,SAAUh5B,GACnB,IAAIgY,EAAUP,GAAUzX,GACpB9O,EAAKy9B,GAAe3uB,GAAQ/O,EAAWC,EAAGD,SAAUy9B,EAAax9B,EAAGw9B,WAAYR,EAAah9B,EAAGg9B,WAAYI,EAAap9B,EAAGo9B,WAAYN,EAAmB98B,EAAG88B,iBAAkBC,EAAe/8B,EAAG+8B,aAStM,MAAyB,WAAlBjuB,EAAM4uB,QARM,WACO5uB,EAAMgY,QAAmBhY,EAAM4uB,QAArD,IAA8DlmB,EAAW1I,EAAM0I,SAAmCkO,GAAf5W,EAAM6c,QAAgB7pB,GAAOgN,EAAO,CAAC,UAAW,UAAW,WAAY,aAC1K,OAAQ4I,gBAAoBgwB,GAAczmC,GAAS,CAAEwkB,UAAWqB,EAAQkR,OAAQj4B,SAAUA,EAAUihC,QAAStpB,WAAe8J,QAAQhK,GAAWgmB,WAAYA,EAAYV,iBAAkBA,EAAkBC,aAAcA,GAAgB4F,GAAsBjd,KAM/NqiB,GAJnB,WACSj5B,EAAMgY,QAAmBhY,EAAM4uB,QAArD,IAA8DlmB,EAAW1I,EAAM0I,SAAUkO,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,UAAW,aACrI,OAAQ4I,gBAAoB4sB,GAAYrjC,GAAS,CAAEwkB,UAAWqB,EAAQiR,KAAMh4B,SAAUA,EAAUihC,QAAStpB,WAAe8J,QAAQhK,GAAWwlB,WAAYA,EAAYF,iBAAkBA,EAAkByH,cAAexH,EAAcK,WAAYA,GAAcuF,GAAsBjd,KAEnOsiB,IAEzDF,GAAO1hB,UAAY,CACf5O,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUiB,OACnBoW,QAASrX,KAAU3H,MAAM,CAAC,OAAQ,YAEvBopB,U,qDClDXxlB,GAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA2BzDy3B,GAAc,yJACdxJ,GAAU,SAAU51B,GACpB,MAAwB,qBAAVA,GACA,OAAVA,GACU,KAAVA,GACCvG,MAAMuhB,QAAQhb,IAA2B,IAAjBA,EAAMpI,QAEnCynC,GAAa,SAAUn2B,EAAS/Q,EAAa6H,EAAO8vB,GACpD,MAA0B,oBAAZ5mB,EACRA,EAAQ,CACN5O,KAAMnC,EACN6H,MAAOA,EACP8vB,OAAQA,IAEV33B,EACI,CACE+Q,QAASA,EACT5O,KAAMnC,GAER+Q,GAKVo2B,GAAU,SAAUC,GACpB,OAAOC,KAAcD,GAAI,WAErB,IADA,IAAIjlC,EAAO,GACFC,EAAK,EAAGA,EAAK7B,UAAUd,OAAQ2C,IACpCD,EAAKC,GAAM7B,UAAU6B,GAEzB,OAAO2C,KAAKC,UAAU7C,OAG1BmlC,GAAa,SAAUz/B,GAAS,MAAwB,oBAAVA,GAkEvCsV,GAAWgqB,IAAQ,SAAUp2B,GAEpC,YADgB,IAAZA,IAAsBA,EAAU,0BAC7BxR,OAAOW,QAAO,SAAU2H,EAAO8vB,GAClC,OAAO8F,GAAQ51B,GACTq/B,GAAWn2B,OAAS5R,EAAW0I,EAAO8vB,QACtCx4B,IACP,CAAEopB,YAAY,OAuHV5K,IAxGYwpB,IAAQ,SAAUI,EAAKx2B,GAE1C,YADgB,IAAZA,IAAsBA,EAAU,2BAC7B,SAAUlJ,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,IAAUA,EAAMpI,OAAS8nC,EACnCL,GAAWn2B,EAAS,CAAEw2B,IAAKA,GAAO1/B,EAAO8vB,QACzCx4B,MAgBSgoC,IAAQ,SAAU96B,EAAK0E,GAE1C,YADgB,IAAZA,IAAsBA,EAAU,2BAC7B,SAAUlJ,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,IAAUA,EAAMpI,OAAS4M,EACnC66B,GAAWn2B,EAAS,CAAE1E,IAAKA,GAAOxE,EAAO8vB,QACzCx4B,MAgBQgoC,IAAQ,SAAUI,EAAKx2B,GAEzC,YADgB,IAAZA,IAAsBA,EAAU,0BAC7B,SAAUlJ,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,IAAUA,EAAQ0/B,EAC5BL,GAAWn2B,EAAS,CAAEw2B,IAAKA,GAAO1/B,EAAO8vB,QACzCx4B,MAgBQgoC,IAAQ,SAAU96B,EAAK0E,GAEzC,YADgB,IAAZA,IAAsBA,EAAU,0BAC7B,SAAUlJ,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,IAAUA,EAAQwE,EAC5B66B,GAAWn2B,EAAS,CAAE1E,IAAKA,GAAOxE,EAAO8vB,QACzCx4B,MAeMgoC,IAAQ,SAAUp2B,GAElC,YADgB,IAAZA,IAAsBA,EAAU,wBAC7B,SAAUlJ,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,IAAUq3B,MAAMsI,OAAO3/B,IACjCq/B,GAAWn2B,OAAS5R,EAAW0I,EAAO8vB,QACtCx4B,MAgBKkoC,MAAc,SAAUI,EAAS12B,GAEhD,YADgB,IAAZA,IAAsBA,EAAU,uBAC7B,SAAUlJ,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,IAA2B,kBAAVA,GAAuB4/B,EAAQC,KAAK7/B,QAE/D1I,EADA+nC,GAAWn2B,EAAS,CAAE02B,QAASA,GAAW5/B,EAAO8vB,OAG5D,SAAU8P,EAAS12B,GAClB,OAAO02B,EAAQxkC,WAAa8N,MAcrB0M,GAAQ0pB,IAAQ,SAAUp2B,GAEjC,YADgB,IAAZA,IAAsBA,EAAU,uBAC7B4M,GAAMspB,GAAal2B,MAE1B42B,GAAmB,SAAU3oC,GAE7B,MAAQ,CACJ+R,QAAS,sBACT5O,KAHOnD,EAAGmD,OCzRHomB,ID4SM4e,IAAQ,SAAUp5B,EAAMgD,GAEzC,YADgB,IAAZA,IAAsBA,EAAU42B,IAC7B,SAAU9/B,EAAO8vB,GACpB,OAAQ8F,GAAQ51B,KAAmC,IAAzBkG,EAAK/M,QAAQ6G,QAEjC1I,EADA+nC,GAAWn2B,EAAS,CAAEhD,KAAMA,GAAQlG,EAAO8vB,OCzTxC,SAAUC,GACvB,SAAIA,IAAYA,EAASrP,eAGrBjnB,MAAMuhB,QAAQ+U,IACPA,EAASj1B,MAAK,SAAUilC,GAAM,OAAOA,EAAGrf,gBCLnDtoB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAmDI0nC,GA7CA,SAAU7oC,GACrB,IAAI+/B,EAAe//B,EAAG+/B,aAAcx3B,EAAKvI,EAAGuI,GAAIrF,EAAOlD,EAAGkD,KAAM6gC,EAAS/jC,EAAG+jC,OAAQnL,EAAW54B,EAAG44B,SAAUkQ,EAAe9oC,EAAG+oC,OAAQC,EAAiBhpC,EAAGwmC,SAAUyC,EAAgBjpC,EAAGkpC,QAAS1lC,EAAU1B,GAAO9B,EAAI,CAAC,eAAgB,KAAM,OAAQ,SAAU,WAAY,SAAU,WAAY,YAC5RmpC,EAAYjmC,GAAQ6gC,EACpBqF,EAAoB9mC,MAAMuhB,QAAQ+U,GF6CX,WAE3B,IADA,IAAIyQ,EAAa,GACRjmC,EAAK,EAAGA,EAAK7B,UAAUd,OAAQ2C,IACpCimC,EAAWjmC,GAAM7B,UAAU6B,GAE/B,OAAO,SAAUyF,EAAO8vB,EAAQ/uB,GAAQ,OAAO0Y,QAAU,OAAQ,OAAQ,GAAQ,WAC7E,IAAIgnB,EAAelmC,EAAImmC,EAA4BtkC,EACnD,OAAOyK,GAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EACDs5B,GAAiBhnC,MAAMuhB,QAAQwlB,EAAW,IACpCA,EAAW,GACXA,GAAYhgC,OAAOi/B,IACzBllC,EAAK,EAAGmmC,EAAkBD,EAC1BtpC,EAAGgQ,MAAQ,EACf,KAAK,EACD,OAAM5M,EAAKmmC,EAAgB9oC,OAEpB,CAAC,GADR+oC,EAAYD,EAAgBnmC,IACGyF,EAAO8vB,EAAQ/uB,IAFH,CAAC,EAAa,GAG7D,KAAK,EAED,GADA3E,EAAQjF,EAAGiQ,OAEP,MAAO,CAAC,EAAchL,GAE1BjF,EAAGgQ,MAAQ,EACf,KAAK,EAED,OADA5M,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,WExEtBqmC,CAAkB7Q,GAClBA,EACF34B,EAAKypC,aAAkBP,EAAWloC,GAAS,CAAE0oC,aAAc5J,EAAcnH,SAAUwQ,GAAqB5lC,IAAWyX,EAAQhb,EAAGgb,MAAOrR,EAAO3J,EAAG2J,KAG/Im/B,EAAS9tB,EAAM8tB,OAAQvC,EAAWvrB,EAAMurB,SAAU0C,EAAUjuB,EAAMiuB,QAAS/Q,EAAar2B,GAAOmZ,EAAO,CAAC,SAAU,WAAY,YAC7H2uB,EAAapkC,uBAAY,SAAUsgB,GACnCijB,EAAOjjB,GACqB,oBAAjBgjB,GACPA,EAAahjB,KAElB,CAACijB,EAAQD,IACRe,EAAerkC,uBAAY,SAAUsgB,GACrC0gB,EAAS1gB,GACqB,oBAAnBkjB,GACPA,EAAeljB,KAEpB,CAAC0gB,EAAUwC,IACVc,EAActkC,uBAAY,SAAUsgB,GACpCojB,EAAQpjB,GACqB,oBAAlBmjB,GACPA,EAAcnjB,KAEnB,CAACojB,EAASD,IAGb,OAAIzlC,EAAQyX,MACD,CACH1S,GAAIA,GAAMw7B,EACV9oB,MAAOzX,EAAQyX,MACfrR,KAAMpG,EAAQoG,KACd2f,WAAYA,GAAWqP,IAGxB,CACHrwB,GAAIA,GAAMw7B,EACV9oB,MAAOha,GAASA,GAAS,GAAIk3B,GAAa,CAAE4Q,OAAQa,EAAYpD,SAAUqD,EAAcX,QAASY,IACjGlgC,KAAMA,EACN2f,WAAYA,GAAWqP,K,qBCpE3B33B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYPolB,GAAYC,aAAW,CACvBujB,UAAW,CACP/hB,OAAQ,GACRT,MAAO,GAEXyiB,iBAAkB,CACdziB,MAAO,IAEX0iB,YAAa,CACTjiB,OAAQ,GACRT,MAAO,GACPkL,QAAS,GAEbyX,gBAAiB,CACbxc,SAAU,WACVsG,MAAO,IAEXmW,gBAAiB,CACblgB,aAAc,IAEnB,CAAE/mB,KAAM,0BACPknC,GAA6B,SAAUtkB,GACvCA,EAAMC,kBAKV,SAASskB,GAAoBv7B,GACHA,EAAMgY,QAA5B,IAAqCwjB,EAAqBx7B,EAAMw7B,mBAAoBC,EAAaz7B,EAAMy7B,WAAY1hC,EAAQiG,EAAMjG,MAAO2hC,EAAa17B,EAAM07B,WAAYtR,EAAWpqB,EAAMoqB,SAAUl5B,EAAK8O,EAAM6c,QAASA,OAAiB,IAAP3rB,EAAgB,SAAWA,EAAIC,EAAK6O,EAAM4X,OAAQA,OAAgB,IAAPzmB,EAAgB,QAAUA,EAAIylB,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,qBAAsB,aAAc,QAAS,aAAc,WAAY,UAAW,WACxagY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KACZohB,EAAW13B,EAAM03B,SAAU0C,EAAUp6B,EAAMo6B,QAASH,EAASj6B,EAAMi6B,OACnE0B,EAAyBjlC,uBAAY,SAAUsgB,GAC/CA,EAAMC,iBACNygB,EAAS,MACV,CAACA,IACAsD,EAActkC,uBAAY,SAAUsgB,GACpCojB,GAAWA,EAAQpjB,KACpB,CAACojB,IACAU,EAAapkC,uBAAY,SAAUsgB,GACnCijB,GAAUA,EAAOjjB,KAClB,CAACijB,IACAkB,EAAcnjB,EAAQmjB,YAAaF,EAAYjjB,EAAQijB,UAAWI,EAAkBrjB,EAAQqjB,gBAAiBD,EAAkBpjB,EAAQojB,gBAAkEF,GAA5BljB,EAAQ4jB,mBAAuC5jB,EAAQkjB,kBAAkBW,EAAc7oC,GAAOglB,EAAS,CAAC,cAAe,YAAa,kBAAmB,kBAAmB,qBAAsB,qBAC7WpT,EAAK62B,GAAc,GAAIK,EAAel3B,EAAGk3B,aAAcC,EAAgC/oC,GAAO4R,EAAI,CAAC,iBACvG,GAAI42B,GAAsBM,EACtB,MAAM,IAAInmC,MAAM,6FAwCpB,OAAQiT,gBAAoBozB,KAAc7pC,GAAS,CAAE6lB,QAAS6jB,EAAa9hC,MAAOA,EAAO0hC,WAAYtpC,GAAS,CAAE6lB,QAAShY,EAAMuD,QAAsB,WAAZsZ,EAC3H,CAAEof,WAAYZ,GACd,GAAIS,aAxCI,WAClB,IAAI5qC,EACJ,OAAKwqC,EAGK3hC,EAwBE6O,gBAAoBszB,KAAgB,CAAEtd,SAAU,MAAO5G,QAAS,CAChEiF,KAAMjd,EAAMuD,OAAS63B,EAAkB,OAE3CxyB,gBAAoBuO,KAAY,CAAER,UAAWwkB,EAAa,aAAchzB,EAAU,+BAAgCqK,MAAOrK,EAAU,+BAAgCid,eAAe,EAAM1O,QAASilB,EAAwBQ,YAAab,GAA4BlR,SAAUA,GACxQxhB,gBAAoBwzB,KAAW,CAAEzlB,UAAW0B,KAAW4iB,GAAY/pC,EAAK,GAChEA,EAAGgqC,GAAoBM,GAAsBzhC,EAC7C7I,QA7BZsqC,EAEQ5yB,gBAAoBszB,KAAgB,CAAEtd,SAAU,MAAO5G,QAAS,CAChEiF,KAAMjd,EAAMuD,OAAS63B,EAAkB,OAE3CxyB,gBAAoBuO,KAAY,CAAER,UAAWwkB,EAAa,aAAchzB,EAAU,+BAAgCqK,MAAOrK,EAAU,+BAAgCid,eAAe,EAAMgF,UAAU,GAC9LxhB,gBAAoBwzB,KAAW,CAAEzlB,UAAW0B,KAAW4iB,EAAWC,OAGtEY,GAKQlzB,gBAAoBszB,KAAgB,CAAEtd,SAAU,MAAO5G,QAAS,CAChEiF,KAAMjd,EAAMuD,OAAS63B,EAAkB,OAE3CxyB,gBAAoB,OAAQ,CAAE+N,UAAWwkB,GAAe,SApB7DW,EAqCiBO,IAAqBN,GAAgC3R,SAAUA,EAAUvN,QAASA,EAASjF,OAAQA,GAAUhB,EAAM,CAAEwjB,QAASY,EAAaf,OAAQa,KAEvLS,GAAoBjkB,UAAY,CAC5BU,QAAST,KAAUiB,OACnBgjB,mBAAoBjkB,KAAU6F,KAC9BgN,SAAU7S,KAAU6F,KACpBqe,WAAYlkB,KAAUiB,OACtByhB,OAAQ1iB,KAAUuJ,KAClB4W,SAAUngB,KAAUuJ,KAAKrG,WACzB2f,QAAS7iB,KAAUuJ,KACnB4a,WAAYnkB,KAAU6F,KACtBrjB,MAAOwd,KAAUkM,IAAIhJ,YAEV8gB,UCpIXppC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAajB6pC,GATO,SAAUprC,GAC5B,IAAIiF,EAAQjF,EAAGiF,MACXgS,EAAYmO,KAChB,GAAIngB,EAAM8M,QAAS,CACf,IAAI9R,EAAKgF,EAAO8M,EAAU9R,EAAG8R,QAAS5O,EAAOlD,EAAGkD,KAChD,OAAOuU,gBAAoBA,WAAgB,KAAMT,EAAUlF,EAAS9Q,GAAS,CAAE8O,EAAGgC,GAAW5O,KAEjG,OAAOuU,gBAAoBA,WAAgB,KAAMT,EAAUhS,EAAO,CAAE8K,EAAG9K,MCNvEomC,GAAmB,CAAEC,OAAQ,WAClBC,GAbO,SAAUvrC,GAC5B,IAAIq4B,EAAar4B,EAAGq4B,WAAYH,EAAUl4B,EAAGk4B,QAASjzB,EAAQjF,EAAGiF,MAC7DgS,EAAYmO,KAChB,OAAO8S,GAAWjzB,EAASyS,gBAAoB0zB,GAAiB,CAAEnmC,MAAOA,IAAkC,kBAAfozB,EAA2B3gB,gBAAoBA,WAAgB,KAAMT,EAAUohB,EAAY,CAAEtoB,EAAGsoB,MAAiC,IAAfA,EAO9M3gB,gBAAoB,OAAQ,CAAE8zB,wBAAyBH,KAAuB,MCZ9EvpC,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMIsqC,GAJc,SAAUzrC,GACjBA,EAAG0rC,YAA0B1rC,EAAGkkC,WAAwBlkC,EAAG2rC,UAAsB3rC,EAAGgkC,SAAqBhkC,EAAG8T,SAAyB9T,EAAG4rC,aAA0B5rC,EAAG8gB,UAAkB9gB,EAAGgF,KAAqBhF,EAAG+/B,aAAuB//B,EAAG6rC,OAAuB7rC,EAAG8rC,aAA8B9rC,EAAG+rC,cAA8B/rC,EAAG2pC,aAA+B3pC,EAAGgsC,eAAwBhsC,EAAGib,MAAiBjb,EAAG0I,QAAsB1I,EAAGupB,WAAoBvpB,EAAGgQ,MAA6BhQ,EAAGisC,oBAA8BjsC,EAAG8W,OAAe9W,EAAG4J,KAAiB5J,EAAGksC,SAAiBlsC,EAAGkD,KAAgBlD,EAAGwD,QAAsBxD,EAAGmsC,WAA0BnsC,EAAGosC,YAAqBpsC,EAAGs/B,MAAgBt/B,EAAGsI,OAActI,EAAGwuB,IAAcxuB,EAAG6gB,OAAmB7gB,EAAGD,SAAmBC,EAAG+jC,OAAuB/jC,EAAGumC,aAA0BvmC,EAAGg3B,UAAuBh3B,EAAGiX,UAA6BjX,EAAGqsC,gBAAwBrsC,EAAGlB,KAAiBkB,EAAG44B,SAA2B54B,EAAGssC,eAAwBtsC,EAAG6I,MACj/B,OAD+/B/G,GAAO9B,EAAI,CAAC,cAAe,aAAc,YAAa,WAAY,WAAY,eAAgB,YAAa,OAAQ,eAAgB,SAAU,eAAgB,gBAAiB,eAAgB,iBAAkB,QAAS,UAAW,aAAc,QAAS,sBAAuB,SAAU,OAAQ,WAAY,OAAQ,UAAW,aAAc,cAAe,QAAS,SAAU,MAAO,SAAU,WAAY,SAAU,eAAgB,YAAa,YAAa,kBAAmB,OAAQ,WAAY,iBAAkB,WCZ5/CiB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAsBPorC,GAAY,SAAUvsC,GACtB,IAAIgQ,EAAQhQ,EAAGgQ,MAAO67B,EAAS7rC,EAAG6rC,OAAQxT,EAAar4B,EAAGq4B,WAAY0Q,EAAS/oC,EAAG+oC,OAAQG,EAAUlpC,EAAGkpC,QAAS1C,EAAWxmC,EAAGwmC,SAAUhjC,EAAUxD,EAAGwD,QAAS87B,EAAQt/B,EAAGs/B,MAAOv/B,EAAWC,EAAGD,SAAUgkC,EAAS/jC,EAAG+jC,OAAQnL,EAAW54B,EAAG44B,SAAUlT,EAAO5jB,GAAO9B,EAAI,CAAC,QAAS,SAAU,aAAc,SAAU,UAAW,WAAY,UAAW,QAAS,WAAY,SAAU,aAC/WC,EAAK4oC,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACjC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EAAQjlC,KAAM,OAAQ85B,SAAUA,GAAYlT,IAAQnd,EAAKtI,EAAGsI,GAAI0S,EAAQhb,EAAGgb,MAAOsO,EAAatpB,EAAGspB,WAAY7V,EAAKzT,EAAG2J,KAAM3E,EAAQyO,EAAGzO,MAAOizB,EAAUxkB,EAAGwkB,QACvK,OAAQxgB,gBAAoB2yB,GAAqBppC,GAAS,CAAEsH,GAAIA,GAAM0S,EAAO,CAAEjL,MAAiB,KAAVA,IACpE,IAAVA,GAAoB0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,IAAgBtkB,SAAUizB,IAAWjzB,GAAQozB,WAAY3gB,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,KAAiB70B,EAASioC,GAAuB/lB,MAE7T6mB,GAAUnmB,UAAY,CAClBX,UAAWY,KAAUC,OACrBtW,MAAOqW,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAU6F,OACxD1oB,QAAS6iB,KAAUiB,OACnBvnB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,QAEtBimB,GAAU/sB,aAAe,CACrBhc,QAAS,IAEE+oC,UChEXtrC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPolB,GAAYC,aAAW,CACvBvL,MAAO,CACH8S,UAAW,KAEhB,CAAE7qB,KAAM,kBACPspC,GAAc,SAAU19B,GACFA,EAAMgY,QAA5B,IAAqCpB,EAAO5jB,GAAOgN,EAAO,CAAC,YACvDmI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACxB,GAAIA,EAAMkB,MACN,MAAM,IAAIvL,MAAM,mGAEpB,OAAQiT,gBAAoB60B,GAAWtrC,GAAS,CAAEwrC,aAAa,EAAMz8B,MAAO,GAAIw6B,YAAY,EAAMkC,YAAaz1B,EAAU,oBAAqBszB,WAAY,CAClJK,aAAelzB,gBAAoBszB,KAAgB,CAAEtd,SAAU,OAC3DhW,gBAAoBi1B,KAAY,CAAEzmB,MAAO,eAC9CT,UAAWqB,EAAQ7L,OAASyK,KAEvC8mB,GAAYpmB,UAAY,CACpBU,QAAST,KAAUiB,QAERklB,UCjDXvrC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAcPyrC,GAAsB,SAAU/jC,GAChC,GAAMA,aAAiB3B,OAASg5B,MAAMr3B,EAAMgkC,WAA5C,CAEA,IACIC,EAAOjkC,EAAMkkC,cAAc9oC,WAC3B+oC,GAAMnkC,EAAMokC,WAAa,GAAGhpC,WAC5BipC,EAAKrkC,EAAMgkC,UAAU5oC,WACzB,OAAO6oC,EAAO,KAJJ,KAIiBE,GAAIhpC,OAAO,GAAK,KAJjC,KAI8CkpC,GAAIlpC,OAAO,KAEnEmpC,GAAY,sBACZC,GAAyB,CAAEC,QAAQ,GACnCC,GAAoB,SAAUzkC,GAG9B,OAAa,MAATA,GAA2B,KAAVA,EACV,GAEPA,aAAiB3B,KACV0lC,GAAoB/jC,GAG3BskC,GAAUzE,KAAK7/B,GACRA,EAEJ+jC,GAAoB,IAAI1lC,KAAK2B,KAEpC0kC,GAAY,SAAUvtC,GACtB,IAAIC,EAAKD,EAAG6rC,OAAQA,OAAgB,IAAP5rC,EAAgBqtC,GAAoBrtC,EAAI+P,EAAQhQ,EAAGgQ,MAAOxM,EAAUxD,EAAGwD,QAASugC,EAAS/jC,EAAG+jC,OAAQhkC,EAAWC,EAAGD,SAAUs4B,EAAar4B,EAAGq4B,WAAY3kB,EAAK1T,EAAG0mB,OAAQA,OAAgB,IAAPhT,EAAgB,QAAUA,EAAIq1B,EAAS/oC,EAAG+oC,OAAQvC,EAAWxmC,EAAGwmC,SAAU0C,EAAUlpC,EAAGkpC,QAAS5J,EAAQt/B,EAAGs/B,MAAO1G,EAAW54B,EAAG44B,SAAUjlB,EAAK3T,EAAG2rB,QAASA,OAAiB,IAAPhY,EAAgB,SAAWA,EAAI+R,EAAO5jB,GAAO9B,EAAI,CAAC,SAAU,QAAS,UAAW,SAAU,WAAY,aAAc,SAAU,SAAU,WAAY,UAAW,QAAS,WAAY,YACniBqkB,EAAKwkB,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACjC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EACRnL,SAAUA,GAAYlT,IAAQnd,EAAK8b,EAAG9b,GAAI0S,EAAQoJ,EAAGpJ,MAAOsO,EAAalF,EAAGkF,WAAYjF,EAAKD,EAAGza,KAAM3E,EAAQqf,EAAGrf,MAAOizB,EAAU5T,EAAG4T,QACzI,OAAQxgB,gBAAoB0gB,KAAWn3B,GAAS,CAAEsH,GAAIA,GAAM0S,EAAO,CAAE0Q,QAASA,EAASjF,OAAQA,EAAQ5nB,KAAM,OAAQmG,SAAUizB,IAAWjzB,GAAQozB,WAAY3gB,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,IAAeroB,MAAO0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,IAAeikB,gBAAiBJ,IAA0B5pC,EAASioC,GAAuB/lB,MAErc6nB,GAAUnnB,UAAY,CAClBpW,MAAOqW,KAAUC,OACjB9iB,QAAS6iB,KAAUiB,OACnBvnB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,QAEtBinB,GAAU/tB,aAAe,CACrBhc,QAAS,IAEE+pC,UCjFXtsC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD3I,MAAO,CAAEsM,MAAO3D,EAAM+C,QAAQ,QAC3B,CAAEzjB,KAAM,2BACXuqC,GAAuB,SAAU5kC,GACjC,MAAc,SAAVA,GAEU,UAAVA,GAEG,MAEP6kC,GAAuB,SAAU7kC,GACjC,OAAc,IAAVA,EACO,QACG,IAAVA,EACO,QACJ,IAEP8kC,GAAuB,SAAU7+B,GACjC,IAAI2W,EAAY3W,EAAM2W,UAA4CzlB,GAAf8O,EAAMgY,QAAchY,EAAM+8B,QAAQA,OAAgB,IAAP7rC,EAAgB0tC,GAAuB1tC,EAAIq4B,EAAavpB,EAAMupB,WAAYroB,EAAQlB,EAAMkB,MAAO/P,EAAK6O,EAAM4X,OAAQA,OAAgB,IAAPzmB,EAAgB,QAAUA,EAAI8oC,EAASj6B,EAAMi6B,OAAQvC,EAAW13B,EAAM03B,SAAU0C,EAAUp6B,EAAMo6B,QAAS1lC,EAAUsL,EAAMtL,QAASkQ,EAAK5E,EAAMwwB,MAAOA,OAAe,IAAP5rB,EAAgB+5B,GAAuB/5B,EAAI3T,EAAW+O,EAAM/O,SAAUgkC,EAASj1B,EAAMi1B,OAAQnL,EAAW9pB,EAAM8pB,SAAUjlB,EAAK7E,EAAM6c,QAASA,OAAiB,IAAPhY,EAAgB,SAAWA,EAAI0Q,EAAKvV,EAAM8+B,UAAWA,OAAmB,IAAPvpB,EAAgB,kBAAoBA,EAAIC,EAAKxV,EAAM++B,WAAYA,OAAoB,IAAPvpB,EAAgB,mBAAqBA,EAAIC,EAAKzV,EAAMg/B,UAAWA,OAAmB,IAAPvpB,EAAgB,kBAAoBA,EAAImB,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,UAAW,SAAU,aAAc,QAAS,SAAU,SAAU,WAAY,UAAW,UAAW,QAAS,WAAY,SAAU,WAAY,UAAW,YAAa,aAAc,cAC79BgY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KACZX,EAAKokB,GAAS,CACdgD,OAAQA,EACR9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EACRnL,SAAUA,IACVrwB,EAAKkc,EAAGlc,GAAI0S,EAAQwJ,EAAGxJ,MAAOsO,EAAa9E,EAAG8E,WAAY5E,EAAKF,EAAG7a,KAAM3E,EAAQ0f,EAAG1f,MAAOizB,EAAUvT,EAAGuT,QAC3G,OAAQxgB,gBAAoB0gB,KAAWn3B,GAAS,CAAEsH,GAAIA,GAAM0S,EAAO,CAAE5I,QAAQ,EAAMqU,OAAQA,EAAQ1W,MAAO0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,IAAetkB,SAAUizB,IAAWjzB,GAAQozB,WAAY3gB,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,IAAe5S,UAAW8J,KAAWzI,EAAQ7L,MAAOwK,GAAYkG,QAASA,GAAWnoB,EAASioC,GAAuB/lB,IACrchO,gBAAoB4X,KAAU,CAAEzmB,MAAO,IAAMoO,EAAU22B,IACvDl2B,gBAAoB4X,KAAU,CAAEzmB,MAAO,SAAWoO,EAAU42B,IAC5Dn2B,gBAAoB4X,KAAU,CAAEzmB,MAAO,QAAUoO,EAAU62B,MAEnEH,GAAqBvnB,UAAY,CAC7BpW,MAAOqW,KAAUC,OACjB9iB,QAAS6iB,KAAUiB,OACnBvnB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,OAClBsnB,UAAWvnB,KAAUC,OACrBunB,WAAYxnB,KAAUC,OACtBwnB,UAAWznB,KAAUC,QAEVqnB,U,qBCvCXI,GAAoBl3B,wBAAc,CAClCimB,iBAAkB,KAClBC,aAAc,KACdC,WAAY,KACZI,WAAY,KACZI,WAAY,KACZz9B,SAAU,OAsBdguC,GAAkBz2B,YAAc,oBACjBy2B,UChCXC,GAAkBn3B,wBAAc,CAChCgmB,YAAa,KACbU,QAAS,KACTx9B,SAAU,OAEHkuC,GAAqB,SAAUvQ,GACtC,OAAO59B,mBAAQ,WAAc,OAAOouC,KAAKxQ,EAAS,CAAC,cAAe,UAAW,eAE7E,CAACA,EAAQb,YAAaa,EAAQH,WAElCyQ,GAAgB12B,YAAc,kBACf02B,UCPXG,GAAwBt3B,wBAAc,CACtC1R,QAAS,KACT6G,KAAM,KACNC,QAAS,KACToxB,QAAS,KACTC,WAAY,KACZp4B,MAAO,KACPnF,SAAU,OAEdouC,GAAsB72B,YAAc,wBAC7B,IAAI82B,GAA2B,SAAU1Q,GAC5C,OAAO59B,mBAAQ,WACX,OAAOouC,KAAKxQ,EAAS,CACjB,UACA,OACA,UACA,UACA,aACA,QACA,eAIR,CACIA,EAAQv4B,QACRu4B,EAAQ1xB,KACR0xB,EAAQzxB,QACRyxB,EAAQL,QACRK,EAAQJ,WACRI,EAAQx4B,SAGDipC,MC/BAE,GAPW,SAAUruC,GAChC,IHYwC09B,EGZpC70B,EAAQ7I,EAAG6I,MAAO2O,EAAWxX,EAAGwX,SACpC,OAAQE,gBAAoBklB,GAAYhlB,SAAU,CAAE/O,MAAOA,GACvD6O,gBAAoBq2B,GAAkBn2B,SAAU,CAAE/O,OHUd60B,EGV0C70B,EHW3E/I,mBAAQ,WACX,OAAOouC,KAAKxQ,EAAS,CACjB,mBACA,eACA,aACA,aACA,aACA,eAIR,CACIA,EAAQZ,iBACRY,EAAQX,aACRW,EAAQV,WACRU,EAAQN,WACRM,EAAQF,eG1BJ9lB,gBAAoBs2B,GAAgBp2B,SAAU,CAAE/O,MAAOolC,GAAmBplC,IACtE6O,gBAAoBy2B,GAAsBv2B,SAAU,CAAE/O,MAAOulC,GAAyBvlC,IAAU2O,O,UCrC5GvW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMPolB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EAAIC,EACR,MAAQ,CACJ+pB,SAAUhqB,EAAK,CACPmwB,eAAgB,gBAChBqC,WAAY,aACZvI,aAAc,GAElBjqB,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BmI,YAAa,GAEjBt2B,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/B+K,YAAa1S,EAAM+C,QAAQ,GAC3BkH,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,OAE9ChtB,GACJsuC,SAAUruC,EAAK,CACPo2B,WAAYzS,EAAM+C,QAAQ,GAC1BsP,UAAWrS,EAAM+C,QAAQ,IAE7B1mB,EAAG2jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BkH,QAAS7O,EAAM+C,QAAQ,GACvBkH,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,OAE9C/sB,MAET,CAAEiD,KAAM,kBACPqrC,GAAc,SAAUz/B,GACFA,EAAMgY,QAA5B,IAAqCka,EAAUlyB,EAAMkyB,QAASsN,EAAUx/B,EAAMw/B,QAAS5oB,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,UAAW,YAC/HgY,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoB+T,KAAS,CAAEhG,UAAWqB,EAAQkD,SACtDgX,GACItpB,eAAmBspB,EAAS//B,GAASA,GAAS,GAAIykB,GAAO,CAAEgY,QAAS,UACxEhmB,gBAAoB,OAAQ,MAC5B42B,GACI52B,eAAmB42B,EAASrtC,GAASA,GAASA,GAAS,GAAIykB,GAAO,CAAED,UAAWqB,EAAQwnB,QAAStN,QAASA,IAAYsN,EAAQx/B,UAEzIy/B,GAAYnoB,UAAY,CACpBU,QAAST,KAAUiB,OACnB0Z,QAAS3a,KAAUrd,QAEnBslC,QAASjoB,KAAU8F,UAAU,CAAC9F,KAAU6F,KAAM7F,KAAUrd,UAExD65B,SAAUxc,KAAU8F,UAAU,CAAC9F,KAAUuJ,KAAMvJ,KAAU6F,QAE9CxU,cAAW62B,I,WC/BXC,GApBgB,SAAU1/B,GACrC,IAAI4uB,EAAUzlB,qBAAWk2B,IACzB,OAAKzQ,EAAQL,QAgBNK,EAFI5uB,G,0CC5BXyX,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD0qB,QAAS,CACLG,WAAY,EACZvoB,MAAOtC,EAAMoK,QAAQW,KAAKC,UAC1BzE,WAAY,IAEhB6N,OAAQ,GACR0W,kBAAmB,GACnBC,OAAQ,CAAElc,QAAS,YAChB,CAAEvvB,KAAM,wBACf,SAAS0rC,GAAkB9/B,GACvB,IAAI9C,EAAO8C,EAAM9C,KAAM6iC,EAAc//B,EAAM+/B,YAAanuB,EAAQ5R,EAAM4R,MAAOouB,EAAehgC,EAAMggC,aAAc5oB,EAAQpX,EAAMoX,MAAOkB,EAAOtY,EAAMsY,KAC9IN,EAAUP,GAAUzX,GACpBmI,EAAYmO,KACZxB,EAAQqD,eAsCR8nB,EAAa,WAAc,OAAO3hC,KAAKm2B,KAAK7iB,EAAQmuB,IAAgB,GAapEG,EAAW,SAAUlpB,GACrB,IAAI9Z,EAAOi0B,SAASna,EAAM0C,cAAcgc,QAAQx4B,KAAM,IACtD,GAAIA,EAAO,GAAKA,EAAO+iC,IAAe,EAClC,MAAM,IAAItqC,MAAMwS,EAAU,uCAAwC,CAC9DjL,KAAMA,EAAO,KAGrB8iC,EAAahpB,EAAO9Z,IAUpBijC,EAAUF,IACd,OAAgB,IAAZE,EACOv3B,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQwnB,UAEnD52B,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQwnB,SACpDtiC,EAAO,GAAM0L,gBAAoBgR,KAAQ,CAAExC,MAAOA,EAAOkB,KAAMA,EAAMxjB,IAAK,OAAQ4hB,QAlCvE,SAAUM,GACrB,GAAa,IAAT9Z,EACA,MAAM,IAAIvH,MAAMwS,EAAU,sCAE9B63B,EAAahpB,EAAO9Z,EAAO,IA8B0EyZ,UAAW,iBACxF,QAApB7B,EAAMkG,UAAuBpS,gBAAoBw3B,KAAc,MAAUx3B,gBAAoBy3B,KAAa,MAC1Gl4B,EAAU,uBAvEN,WACR,IAAIg4B,EAAU7hC,KAAKm2B,KAAK7iB,EAAQmuB,IAAgB,EAChD,GAAI3O,MAAMl0B,IAAqB,IAAZijC,EACf,MAAO,GAEX,IAAIh0B,EAAQ,GA2BZ,OAzBIjP,EAAO,GACPiP,EAAMpK,KAAK,GAEF,IAAT7E,GACAiP,EAAMpK,KAAK,GAEX7E,EAAO,GACPiP,EAAMpK,KAAK,KAEX7E,EAAO,GACPiP,EAAMpK,KAAK7E,GAEfiP,EAAMpK,KAAK7E,EAAO,GACdA,EAAOijC,EAAU,GACjBh0B,EAAMpK,KAAK7E,EAAO,GAElBA,IAASijC,EAAU,GACnBh0B,EAAMpK,KAAKo+B,EAAU,GAErBjjC,EAAOijC,EAAU,GACjBh0B,EAAMpK,KAAK,KAEX7E,EAAOijC,EAAU,GACjBh0B,EAAMpK,KAAKo+B,GAERh0B,EAyBAm0B,GAAQ5mC,KAAI,SAAU6mC,EAAS/jC,GAClC,IAAItL,EACJ,MAAmB,MAAZqvC,EAAmB33B,gBAAoB,OAAQ,CAAE9T,IAAK,UAAY0H,EAAOma,UAAWqB,EAAQ6nB,QAAU,UAAcj3B,gBAAoBgR,KAAQ,CAAEtB,KAAMA,EAAM3B,UAAW8J,KAAW,cAAezI,EAAQkR,QAASh4B,EAAK,GACxNA,EAAG8mB,EAAQ4nB,mBAAqBW,IAAYrjC,EAAO,EACnDhM,IAAMkmB,MAAOmpB,IAAYrjC,EAAO,EAAI,UAAYka,EAAOtiB,IAAKyrC,EAAS,YAAaA,EAAU,EAAG7pB,QAASwpB,GAAYK,MAYhIrjC,IAASijC,EAAU,GAAMv3B,gBAAoBgR,KAAQ,CAAExC,MAAOA,EAAOkB,KAAMA,EAAMxjB,IAAK,OAAQ4hB,QAhCnF,SAAUM,GACrB,GAAI9Z,EAAO+iC,IAAe,EACtB,MAAM,IAAItqC,MAAMwS,EAAU,oCAE9B63B,EAAahpB,EAAO9Z,EAAO,IA4BsFyZ,UAAW,aACxHxO,EAAU,sBACU,QAApB2M,EAAMkG,UAAuBpS,gBAAoBy3B,KAAa,MAAUz3B,gBAAoBw3B,KAAc,QAQtHN,GAAkBxoB,UAAY,CAC1BkpB,oBAAqBjpB,KAAUiB,OAC/B5G,MAAO2F,KAAU7H,OAAO+K,WACxBzC,QAAST,KAAUiB,OACnBioB,oBAAqBlpB,KAAUiB,OAC/BwnB,aAAczoB,KAAUuJ,KAAKrG,WAC7Bvd,KAAMqa,KAAU7H,OAAO+K,WACvBslB,YAAaxoB,KAAU7H,OAAO+K,WAC9BrD,MAAOG,KAAU3H,MAAM,CAAC,UAAW,cACnC0I,KAAMf,KAAU3H,MAAM,CAAC,QAAS,SAAU,UAC1CkF,MAAOyC,KAAUiB,QAErBsnB,GAAkBpvB,aAAe,CAC7B0G,MAAO,UACPkB,KAAM,SAEK1P,cAAWk3B,I,WCnHXxiB,mBALO,WAClB,IAAInV,EAAYmO,KAChB,OAAQ1N,gBAAoB83B,KAAa,KACrC93B,gBAAoBsU,KAAY,CAAEL,QAAS,SAAW1U,EAAU,iCCRpEhW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPsuC,GAAa,GACbC,GAAa,SAAU5gC,GACvB,IAAI6gC,EAAqB7gC,EAAM6gC,mBAAoBrB,EAAUx/B,EAAMw/B,QAASsB,EAAQ9gC,EAAM8gC,MAAOlqB,EAAO5jB,GAAOgN,EAAO,CAAC,qBAAsB,UAAW,UACpJ9O,EAAKwuC,GAAyB1/B,GAAQ3J,EAAUnF,EAAGmF,QAAS6G,EAAOhM,EAAGgM,KAAMC,EAAUjM,EAAGiM,QAAS/G,EAAQlF,EAAGkF,MAAOm4B,EAAUr9B,EAAGq9B,QAASC,EAAat9B,EAAGs9B,WAC1JrmB,EAAYmO,KACZoH,EAAUnB,cAAc,SAAUzH,GAClC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9B+X,EAAaxjC,mBAAQ,WACrB,OAAOsN,KAAKm2B,KAAKr+B,EAAQ+G,IAAY,IACtC,CAACA,EAAS/G,IAIT2qC,EAAmBrqC,uBAAY,SAAUsgB,EAAO9Z,GAEhD,GADA8Z,GAASA,EAAMgqB,kBACX9jC,EAAO,GAAKA,EAAOs3B,EAAa,EAChC,MAAM,IAAI7+B,MAAMwS,EAAU,uCAAwC,CAC9DjL,KAAMA,EAAO,KAGrBqxB,EAAQrxB,EAAO,KAChB,CAACs3B,EAAYjG,EAASpmB,IACrB84B,EAAsBvqC,uBAAY,SAAUsgB,GAC5CwX,EAAWxX,EAAM7iB,OAAO4F,SACzB,CAACy0B,IACA0S,EAAqBxqC,uBAAY,SAAUxF,GAC3C,IAAIqU,EAAOrU,EAAGqU,KAAM8N,EAAKniB,EAAGmiB,GAAIzB,EAAQ1gB,EAAG0gB,MAC3C,OAAOzJ,EAAU,gCAAiC,CAC9Cg5B,YAAa57B,EACb67B,UAAW/tB,EACXjd,MAAOwb,MAEZ,CAACzJ,IAEJ,OAAc,OAAV/R,GAA4B,IAAVA,GAAe8G,EAAO,GAAKA,EAAOs3B,EAC7Cn+B,EAAUuS,gBAAoB+T,KAAS,CAAEE,QAAS,UAAaikB,EAEtEpjB,EACQ9U,gBAAoBy4B,KAAiBlvC,GAAS,CAAEyf,MAAOxb,EAAO2pC,YAAa5iC,EAASD,KAAMA,EAAO,EAAG8iC,aAAce,EAAkBF,mBAAoBF,GAAY3uB,UAAW,OAAQkvB,mBAAoBA,GAAsBrN,GAAsBjd,KAE3PhO,gBAAoBy4B,KAAiBlvC,GAAS,CAAEyf,MAAOxb,EAAO2pC,YAAa5iC,EAASD,KAAMA,EAAO,EAAG8iC,aAAce,EAAkBO,oBAAqBL,EAAqBM,iBAAkB/B,EAASxtB,UAAW,OAAQwvB,iBAAkBr5B,EAAU,oCAAqC+4B,mBAAoBA,EAAoBL,mBAAoBA,GAAsBhN,GAAsBjd,MAEjZgqB,GAAWtpB,UAAY,CACnBkoB,QAASjZ,GACTua,MAAOvpB,KAAUrd,QACjB2mC,mBAAoBtpB,KAAUsf,QAAQtf,KAAU7H,SAEpDkxB,GAAWlwB,aAAe,CACtB8uB,QAASiC,GACTX,MAAOl4B,gBAAoB84B,GAAwB,MACnDb,mBAAoB,CAAC,EAAG,GAAI,KAEjBj4B,cAAWg4B,I,+DCpDfe,GAAmB,sB,iGC9B1BxvC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAiB5BglB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD8sB,eAAgB,CACZxqB,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC2gB,eAAgB,CACZzqB,MAAOtC,EAAMoK,QAAQ/oB,MAAM+qB,KAC3B,UAAW,CACPnC,gBAAiB+iB,gBAAKhtB,EAAMoK,QAAQ/oB,MAAM+qB,KAAM,KAEhD,uBAAwB,CACpBnC,gBAAiB,iBAI7BgjB,iBAAkB,CACd5mB,aAAc,YAEf,CAAE/mB,KAAM,cAkBX4tC,GAAU,SAAUhiC,GACpB,IAAI9O,EACA+wC,EAASjiC,EAAMiiC,OAAQ5rC,EAAU2J,EAAM3J,QAASmc,EAAQxS,EAAMwS,MAAOwS,EAAUhlB,EAAMglB,QAASpa,EAAU5K,EAAM4K,QAAS1E,EAASlG,EAAMkG,OAAQg8B,EAAeliC,EAAMkiC,aAAcC,EAAcniC,EAAMmiC,YAAaC,EAAapiC,EAAMoiC,WAAY/nB,EAAUra,EAAMqa,QAASgoB,EAAYriC,EAAMqiC,UAAWlxC,EAAK6O,EAAMsiC,iBAAkBA,OAA0B,IAAPnxC,EAAgB,GAAKA,EAC5W6mB,EAAUP,GAAUzX,GACpBmI,EAAYmO,KACZisB,EAAgB7rC,uBAAY,SAAUzD,GACtCA,EAAE+tC,kBACFqB,EAAUpvC,KACX,CAACovC,IACAtrB,EAAcrgB,uBAAY,SAAUzD,GACpCA,EAAE+tC,oBACH,IACH,OAAQp4B,gBAAoB45B,KAAQ,CAAEjpB,KAAM0oB,EAAQ5nB,QAASA,EAAS3D,QAASK,EAAa,kBAAmB,sBAC3GnO,gBAAoB65B,KAAa,CAAEhpC,GAAI,sBAAwB0O,EAAUqK,EAAOrgB,GAAS,CAAE8O,EAAGuR,GAAS8vB,KACvG15B,gBAAoB85B,KAAe,KAC/B95B,gBAAoB+5B,KAAmB,KAAMx6B,EAAU6c,EAAS7yB,GAAS,CAAE8O,EAAG+jB,GAAWsd,MAC7F15B,gBAAoBg6B,KAAe,KAC/Bh6B,gBAAoBgR,KAAQ,CAAEwQ,SAAU/zB,EAASqgB,QAAS2D,GACtDzR,gBAAoBw5B,EAAY,CAAEzrB,UAAWqB,EAAQ+pB,mBACrD55B,EAAUjC,EAAQ,CAAEjF,EAAGiF,KAC3B0C,gBAAoBgR,KAAQ,CAAEwQ,SAAU/zB,EAASqgB,QAAS6rB,EAAe5rB,UAAW8J,KAAW,cAAevvB,EAAK,GAC3GA,EAAG8mB,EAAQ6pB,gBAAmC,YAAjBK,EAC7BhxC,EAAG8mB,EAAQ4pB,gBAAmC,YAAjBM,EAC7BhxC,IAAMi5B,WAAW,GACrBvhB,gBAAoBu5B,EAAa,CAAExrB,UAAWqB,EAAQ+pB,mBACtD55B,EAAUyC,EAAS,CAAE3J,EAAG2J,QAExCo3B,GAAQ1qB,UAAY,CAChBpR,OAAQqR,KAAUC,OAClBQ,QAAST,KAAUiB,OACnB5N,QAAS2M,KAAUC,OACnB0qB,aAAc3qB,KAAUC,OACxB2qB,YAAa5qB,KAAUsrB,YACvBT,WAAY7qB,KAAUsrB,YACtB7d,QAASzN,KAAUC,OAAOiD,WAC1BwnB,OAAQ1qB,KAAU6F,KAClB/mB,QAASkhB,KAAU6F,KACnB/C,QAAS9C,KAAUuJ,KAAKrG,WACxB4nB,UAAW9qB,KAAUuJ,KAAKrG,WAC1BjI,MAAO+E,KAAUC,OAAOiD,YAE5BunB,GAAQtxB,aAAe,CACnBxK,OAAQ,mBACR8R,QAAS,GACTpN,QAAS,oBACTs3B,aAAc,UACdC,YAAaW,KACbV,WAAYW,KACZd,QAAQ,GAEGD,UC/GX7vC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDkuB,aAAc,CACV5rB,MAAOtC,EAAMoK,QAAQ/oB,MAAM+qB,KAC3B,UAAW,CACPnC,gBAAiB+iB,gBAAKhtB,EAAMoK,QAAQ/oB,MAAM+qB,KAAM,KAEhD,uBAAwB,CACpBnC,gBAAiB,oBAI1B,CAAE3qB,KAAM,kCACXqiB,GAAc7N,gBAAoBq6B,KAAc,MAChDC,GAA8B,SAAUljC,GACzBA,EAAMgF,SAA4BhF,EAAMgY,QAAvD,IAAgE9mB,EAAK8O,EAAMmjC,aAAcA,OAAsB,IAAPjyC,EAAgB,+BAAiCA,EAAIC,EAAK6O,EAAMojC,eAAgBA,OAAwB,IAAPjyC,EAAgB,iCAAmCA,EAAIyT,EAAK5E,EAAMwW,KAAMA,OAAc,IAAP5R,EAAgB6R,GAAc7R,EAAI1D,EAAQlB,EAAMkB,MAAOwV,EAAU1W,EAAM0W,QAAS7Y,EAAcmC,EAAMnC,YAAa+Y,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,UAAW,eAAgB,iBAAkB,OAAQ,QAAS,UAAW,gBAChf6E,EAAKuU,oBAAS,GAAQ6oB,EAASp9B,EAAG,GAAIwd,EAAUxd,EAAG,GACnDmT,EAAUP,GAAUzX,GACpBxP,EAASC,eACTK,EAAcC,eACdH,EAAUC,eACVsX,EAAYmO,KACZrlB,EAAWyiC,GAAmB1zB,GAC9BuV,EAAK8tB,aAAcpyC,EAAU4M,EAAa,CAC1CnC,OAAQimC,GACRvwC,UAAW,WACPR,IACAJ,EAAO,0BAA2B,OAAQ,CACtCgxB,YAAa3jB,EAAYlM,SAE7Bb,EAAYG,IAEhBK,UAAW,SAAU6E,GACjB3F,EAAwB,kBAAV2F,EACRA,EACAA,EAAM8M,SAAW,6BAA8B,UAAW,CAC5DhC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,IAEdgxB,GAAQ,MAEZihB,EAAa/tB,EAAG,GAAIlf,EAAUkf,EAAG,GAAGlf,QAcxC,OAAQuS,gBAAoBub,WAAU,KAClCvb,gBAAoBgR,GAAQznB,GAAS,CAAEukB,QAdzB,SAAUzjB,GACxBovB,GAAQ,GACRpvB,EAAE+tC,mBAY2D9/B,MAAOA,EAAOyV,UAAWqB,EAAQgrB,cAAgB5a,GAAkBxR,IAAQJ,GACxI5N,gBAAoBo5B,GAAS,CAAEC,OAAQA,EAAQ5rC,QAASA,EAASmc,MAAO2wB,EAAcne,QAASoe,EAAgBd,iBAAkB,CACzH9gB,YAAa3jB,EAAYlM,OACzByC,KAAM+T,EAAU,aAAelX,EAAW,kBAAmB,CACzDuwB,YAAa3jB,EAAYlM,OACzBsP,EAAGwgB,KAAWC,SAASvZ,EAAU,aAAelX,EAAW,QAAS,CAChEuwB,YAAa3jB,EAAYlM,OACzBsP,EAAGwgB,KAAW8hB,QAAQtyC,EAAU4M,EAAYlM,WAC5C,MAET0wC,UAjBQ,SAAUpvC,GACzBqwC,IACuB,oBAAZ5sB,GACPA,EAAQzjB,IAcoBonB,QApBZ,WACpBgI,GAAQ,QAqBZ+F,GAAoB,SAAUl3B,GACfA,EAAG8T,SAAoB9T,EAAG8mB,QAAwB9mB,EAAG+8B,aAAsB/8B,EAAGgQ,MAC7F,OAD2GlO,GAAO9B,EAAI,CAAC,WAAY,UAAW,eAAgB,WAGlKgyC,GAA4B5rB,UAAY,CACpCtS,SAAUuS,KAAUC,OACpBQ,QAAST,KAAUiB,OACnB2qB,aAAc5rB,KAAUC,OACxB4rB,eAAgB7rB,KAAUC,OAC1BtW,MAAOqW,KAAUC,OACjBvmB,SAAUsmB,KAAUC,OAAOiD,WAC3B5c,YAAa0Z,KAAUsf,QAAQtf,KAAUkM,KAAKhJ,WAC9CjE,KAAMe,KAAUrd,SAEpBgpC,GAA4BxyB,aAAe,CACvCxP,MAAO,oBAEIgiC,UCvHX/wC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDkuB,aAAc,CACV5rB,MAAOtC,EAAMoK,QAAQ/oB,MAAM+qB,KAC3B,UAAW,CACPnC,gBAAiB+iB,gBAAKhtB,EAAMoK,QAAQ/oB,MAAM+qB,KAAM,KAEhD,uBAAwB,CACpBnC,gBAAiB,oBAI1B,CAAE3qB,KAAM,+BACXovC,GAA2B,SAAUxjC,GACtBA,EAAMgF,SAA4BhF,EAAMgY,QAAvD,IAAgExB,EAAOxW,EAAMwW,KAAMtV,EAAQlB,EAAMkB,MAAOwV,EAAU1W,EAAM0W,QAAS7Y,EAAcmC,EAAMnC,YAAa+Y,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,UAAW,OAAQ,QAAS,UAAW,gBACvOgY,EAAUP,GAAUzX,GACpBxP,EAASC,eACTK,EAAcC,eACdH,EAAUC,eACVI,EAAWyiC,GAAmB1zB,GAC9B9O,EAAKmyC,aAAcpyC,EAAU4M,EAAa,CAC1CnC,OAAQimC,GACRvwC,UAAW,WACPZ,EAAO,0BAA2B,OAAQ,CAAEgxB,YAAa3jB,EAAYlM,SAAU,GAC/Eb,EAAYG,GACZL,KAEJU,UAAW,SAAU6E,GACjB,OAAO3F,EAAwB,kBAAV2F,EACfA,EACAA,EAAM8M,SAAW,6BAA8B,UAAW,CAC5DhC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,KAGlByT,UAAU,IACVw+B,EAAapyC,EAAG,GAAImF,EAAUnF,EAAG,GAAGmF,QAOxC,OAAQuS,gBAAoBgR,GAAQznB,GAAS,CAAEukB,QAN7B,SAAUzjB,GACxBqwC,IACuB,oBAAZ5sB,GACPA,EAAQzjB,IAGqDiO,MAAOA,EAAOyV,UAAWqB,EAAQgrB,aAAc5Y,SAAU/zB,GAAW+xB,GAAkBxR,IAAQJ,IAEnK4R,GAAoB,SAAUl3B,GACfA,EAAG8T,SAAoB9T,EAAG8mB,QAAwB9mB,EAAG+8B,aAAsB/8B,EAAGgQ,MAC7F,OAD2GlO,GAAO9B,EAAI,CAAC,WAAY,UAAW,eAAgB,WAGlKsyC,GAAyBlsB,UAAY,CACjCtS,SAAUuS,KAAUC,OACpBQ,QAAST,KAAUiB,OACnBtX,MAAOqW,KAAUC,OACjBvmB,SAAUsmB,KAAUC,OACpB3Z,YAAa0Z,KAAUsf,QAAQtf,KAAUkM,KAAKhJ,WAC9CjE,KAAMe,KAAUrd,SAEpBspC,GAAyB9yB,aAAe,CACpCxP,MAAO,mBACPsV,KAAM5N,gBAAoBq6B,KAAc,OAE7BO,UC5FXrxC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMPoxC,GAAmB,SAAUvyC,GAC7B,IAAI4T,EAAW5T,EAAG4T,SAAU9E,EAAQhN,GAAO9B,EAAI,CAAC,aAChD,OAAO4T,EAAY8D,gBAAoB46B,GAA0BrxC,GAAS,GAAI6N,IAAY4I,gBAAoBs6B,GAA6B/wC,GAAS,GAAI6N,KAE5JyjC,GAAiBnsB,UAAY,CACzBtS,SAAUuS,KAAUC,OACpBtW,MAAOqW,KAAUC,OACjBvmB,SAAUsmB,KAAUC,OAAOiD,WAC3B5c,YAAa0Z,KAAUsf,QAAQtf,KAAUkM,KAAKhJ,WAC9C3V,SAAUyS,KAAU6F,KACpB5G,KAAMe,KAAUrd,SAEpBupC,GAAiB/yB,aAAe,CAC5B5L,UAAU,GAEC2+B,U,qBCzCXtxC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAOPolB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJ+rB,MAAO/rB,EAAK,CACJiwB,QAAS,OACTE,eAAgB,WAChBqC,WAAY,aACZ6D,WAAYzS,EAAM+C,QAAQ,GAC1B6rB,cAAe5uB,EAAM+C,QAAQ,GAC7BsP,UAAWrS,EAAM+C,QAAQ,IAE7B3mB,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BmI,YAAa,EACbrM,aAAc,GAElBjqB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BtB,aAAcrG,EAAM+C,QAAQ,IAEhC3mB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BkH,QAAS7O,EAAM+C,QAAQ,GACvBkH,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,OAE9ChtB,MAET,CAAEkD,KAAM,iBACPuvC,GAAa,SAAU3jC,GACvB,IAAI2W,EAAY3W,EAAM2W,UAAWjO,EAAW1I,EAAM0I,SAAUkO,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,aAC3FgY,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoB+T,KAASxqB,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQiF,KAAMtG,IAAcC,GAAOlO,IAE7Gi7B,GAAWrsB,UAAY,CACnB5O,SAAU6O,KAAUiD,KACpB7D,UAAWY,KAAUC,QAEVmsB,UC7DXxxC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAcPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDoG,QAAS,CACLqE,OAAQ,EACRnI,MAA8B,UAAvBtC,EAAMoK,QAAQlvB,KACf8kB,EAAMoK,QAAQc,QAAQkB,KACtBpM,EAAMoK,QAAQW,KAAKG,QACzBqB,eAAgB,gBAChBtC,gBAAwC,UAAvBjK,EAAMoK,QAAQlvB,KACzB4zC,mBAAQ9uB,EAAMoK,QAAQc,QAAQkC,MAAO,KACrCpN,EAAMoK,QAAQc,QAAQgC,KAC5BmF,UAAWrS,EAAM+C,QAAQ,GACzBqB,OAAQpE,EAAM+C,QAAQ,GACtB2D,WAAY1G,EAAM2G,YAAY5Q,OAAO,UAAY,KAAOiK,EAAM2G,YAAY5Q,OAAO,eAErFg5B,QAAS,GACTC,UAAW,CACP3c,UAAW,EACXjO,OAAQ,EACR6qB,UAAW,UAEfvxB,MAAO,CACH2O,QAAS,OACTnF,KAAM,YAEVxF,KAAM,CACF6E,WAAY,SACZC,YAAa,YAEd,CAAElnB,KAAM,yBACX4vC,GAAqB,SAAUhkC,GAETA,EAAMgY,QAD5B,IAAI9mB,EACiCC,EAAK6O,EAAMkB,MAAOA,OAAe,IAAP/P,EAAgB,yBAA2BA,EAAIuX,EAAW1I,EAAM0I,SAAUkO,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,QAAS,aAC/K4E,EAAK+pB,GAAe3uB,GAAQgF,EAAWJ,EAAGI,SAAUipB,EAAerpB,EAAGqpB,aAAch9B,EAAW2T,EAAG3T,SAAU4M,EAAc+G,EAAG/G,YAAawwB,EAAkBzpB,EAAGypB,gBAC/JrW,EAAUP,GAAUzX,GACpBmI,EAAYmO,KAChB,OAAQ1N,gBAAoB+T,KAASxqB,GAAS,CAAE,YAAa,uBAAwBwkB,UAAW8J,KAAWzI,EAAQkD,SAAUhqB,EAAK,GAC1HA,EAAG8mB,EAAQ8rB,WAAoC,IAAvBjmC,EAAYlM,OACpCT,KAAQ2iC,GAAsBjd,IAClChO,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQxF,OAC5C5J,gBAAoBuO,KAAY,CAAER,UAAWqB,EAAQxB,KAAM,aAAcrO,EAAU,sBAAuBqK,MAAOrK,EAAU,sBAAuBuO,QAAS2X,EAAiB/V,KAAM,SAC9K1P,gBAAoBq7B,KAAW,CAAE7W,SAAU,WAC/CxkB,gBAAoBsU,KAAY,CAAE9F,MAAO,UAAWyF,QAAS,aAAe1U,EAAUjH,EAAO,CACzFD,EAAGC,EACHsgB,YAAa3jB,EAAYlM,WAEjCiX,gBAAoB+6B,GAAY,KAAM56B,WAASrP,IAAIgP,GAAU,SAAUoK,GACnE,OAAOyH,yBAAezH,GAChBD,uBAAaC,EAAO,CAClB9N,SAAUA,EACVipB,aAAcA,EACdh9B,SAAUA,EACV4M,YAAaA,IAEf,WAGlBmmC,GAAmB1sB,UAAY,CAC3B5O,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUiB,OACnBtX,MAAOqW,KAAUC,QAENwsB,UCzFJE,GAAwB,SAAUlkC,GACzC,IAAI/O,EAAWyiC,GAAmB1zB,GAElC,OADgBkY,YAAY5X,IACX6jC,MAAK,SAAU5wC,GAAK,OAAc,OAANA,QAAoB,IAANA,OAAe,EAASA,EAAEa,QAAUnD,MAAgB+O,G,gCCT/G7N,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYP+xC,GAAe,SAAUpkC,GACzB,IAAI9O,EAAK8O,EAAMgF,SAAUA,OAAkB,IAAP9T,EAAgB,GAAKA,EAAIylB,EAAY3W,EAAM2W,UAA4CxlB,GAAf6O,EAAMgY,QAAchY,EAAMkB,OAAOA,OAAe,IAAP/P,EAAgB,mBAAqBA,EAAIyT,EAAK5E,EAAMwW,KAAMA,OAAc,IAAP5R,EAAgB6R,GAAc7R,EAAIiY,EAAU7c,EAAM6c,QAASjG,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,YAAa,UAAW,QAAS,OAAQ,YACxVgY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KAIhB,OAHciG,cAAc,SAAUzH,GAClC,OAAOA,EAAM0H,YAAYC,KAAK,SAEhB7T,gBAAoBy7B,KAAKlyC,GAAS,CAAE6f,UAAWsyB,KAAMltB,MAAO,UAAWT,UAAW8J,KAAWzI,EAAQusB,SAAU5tB,GAAYtD,GAAIrO,EAAW,UAAW,aAAc9D,GAASiH,EAAUjH,IAAUg3B,GAAwBthB,IAAQJ,GAAU5N,gBAAoBgR,GAAQznB,GAAS,CAAE6f,UAAWsyB,KAAMjxB,GAAIrO,EAAW,UAAW2R,UAAWA,EAAWzV,MAAOA,EAAO2b,QAASA,GAAWjG,GAAOJ,IAE7YC,GAAc7N,gBAAoB47B,KAAY,MAC9C/sB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDyvB,SAAU,CACNntB,MAAOtC,EAAMoK,QAAQkI,gBAAgBtS,EAAMoK,QAAQc,QAAQkB,MAC3DtJ,OAAQ,EACRqN,IAAK,OACLC,MAAO,GACPuf,OAAQ,GACRC,KAAM,OACN9lB,SAAU,QACVW,OAAQ,KAEZolB,aAAc,CACVvtB,MAAO,cAER,CAAEhjB,KAAM,mBACfgwC,GAAa9sB,UAAY,CACrBtS,SAAUuS,KAAUC,OACpBQ,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBhB,KAAMe,KAAUrd,QAChBgH,MAAOqW,KAAUC,QAEN8F,sBAAK8mB,IAAc,SAAUQ,EAAWC,GACnD,OAAQD,EAAU5/B,WAAa6/B,EAAU7/B,UACrC4/B,EAAU1jC,QAAU2jC,EAAU3jC,OAC9B0jC,EAAUz8B,YAAc08B,EAAU18B,WAClCy8B,EAAUvxB,KAAOwxB,EAAUxxB,M,+BCvBxByxB,GAAgB,SAAU/rC,EAASq3B,GAC1C,OAAO58B,MAAM+R,KAAK,IAAIF,IAAItM,EACrBwB,QAAO,SAAUf,GAAU,OAAwB,MAAjBA,EAAO42B,MACzC12B,KAAI,SAAUF,GAAU,OAAOA,EAAO42B,MACtC51B,QAAO,SAAUW,EAAKpB,GAAS,OAAOoB,EAAIuD,OAAO3E,KAAW,OAEtDgrC,GAvCW,SAAUjxC,GAAgB,OAAO,SAAUoC,EAAMk6B,EAAOn/B,GAC9E,OAAO6C,EACFkxC,QAAQ/zC,EAAU,CAAEkK,IAAK2pC,GAAc5uC,EAAMk6B,KAC7Ct5B,MAAK,SAAU5F,GAEhB,OADWA,EAAGgF,KACFsE,QAAO,SAAU0F,EAAK+kC,GAE9B,OADA/kC,EAAI+kC,EAAKxrC,IAAMwrC,EACR/kC,IACR,SCpBP/N,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQP6yC,GAAe,SAAUllC,GACzB,IAAI9O,EAAK8O,EAAMmlC,WAAYA,OAAoB,IAAPj0C,EAAgB,IAAOA,EAAIwlB,EAAU1W,EAAM0W,QAASvlB,EAAK6O,EAAMkB,MAAOA,OAAe,IAAP/P,EAAgB,mBAAqBA,EAAIyT,EAAK5E,EAAMwW,KAAMA,OAAc,IAAP5R,EAAgB6R,GAAc7R,EAAIwgC,EAAiBplC,EAAM+zB,SAAU/2B,EAAOgD,EAAMhD,KACvQ4Z,EAAO5jB,GAAOgN,EAAO,CAAC,aAAc,UAAW,QAAS,OAAQ,WAAY,SACxE6E,EAAK8pB,GAAe3uB,GAAQzF,EAASsK,EAAGtK,OAAQ0zB,EAAeppB,EAAGopB,aAAcF,EAAclpB,EAAGkpB,YAAasX,EAAsBxgC,EAAGkvB,SAAU39B,EAAQyO,EAAGzO,MAC5JnF,EAAWyiC,GAAmB1zB,GAC9B+zB,EAAWqR,GAAkBC,EAC7BvxC,EAAeC,eACfvD,EAASC,eACTsmB,EAAcrgB,uBAAY,SAAUsgB,GACpCljB,EACKwxC,QAAQr0C,EAAU,CACnB+L,KAAM+wB,GAAe/wB,EACrBzC,OAAQA,EACFpI,GAASA,GAAS,GAAI87B,GAAe1zB,GAAU0zB,EACrDsX,WAAY,CAAEroC,KAAM,EAAGC,QAASgoC,KAE/BruC,MAAK,SAAU5F,GAChB,IAAIgF,EAAOhF,EAAGgF,KACd,OAAO69B,GACHA,EAAS79B,EAAM6uC,GAAoBjxC,GAAeA,EAAc7C,MAEnE8F,OAAM,SAAUZ,GACjBse,QAAQte,MAAMA,GACd3F,EAAO,6BAA8B,cAElB,oBAAZkmB,GACPA,EAAQM,KAEb,CACC+W,EACAj6B,EACAigC,EACAx5B,EACA0zB,EACAkX,EACA30C,EACAkmB,EACAzlB,EACA+L,IAEJ,OAAQ4L,gBAAoBgR,GAAQznB,GAAS,CAAEukB,QAASK,EAAa7V,MAAOA,EAAOkpB,SAAoB,IAAVh0B,GAAegyB,GAAkBxR,IAAQJ,IAEtIC,GAAc7N,gBAAoB48B,KAAc,MAChDpd,GAAoB,SAAUl3B,GACfA,EAAG8T,SAAyB9T,EAAG+8B,aAAyB/8B,EAAGD,SAC1E,OAD2F+B,GAAO9B,EAAI,CAAC,WAAY,eAAgB,cAGvIg0C,GAAa5tB,UAAY,CACrBtS,SAAUuS,KAAUC,OACpBuc,SAAUxc,KAAUuJ,KACpBmN,aAAc1W,KAAUiB,OACxBtX,MAAOqW,KAAUC,OACjB2tB,WAAY5tB,KAAU7H,OACtBze,SAAUsmB,KAAUC,OACpBxa,KAAMua,KAAUrE,MAAM,CAClBkd,MAAO7Y,KAAUC,OACjBva,MAAOsa,KAAUC,SAErBhB,KAAMe,KAAUrd,SAELgrC,UCxFX/yC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQPozC,GAAc,SAAUzlC,GACxB,IAAI2W,EAAY3W,EAAM2W,UAAWod,EAAW/zB,EAAM+zB,SAAU7B,EAAUlyB,EAAMkyB,QAAStb,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,WAAY,YAChI9O,EAAKy9B,GAAe3uB,GAAQ+tB,EAAc78B,EAAG68B,YAAaC,EAAmB98B,EAAG88B,iBAAkBC,EAAe/8B,EAAG+8B,aAAcjpB,EAAW9T,EAAG8T,SAAUnH,EAAc3M,EAAG2M,YAAa6wB,EAAax9B,EAAGw9B,WAAYt4B,EAAQlF,EAAGkF,MAC/NnF,EAAWyiC,GAAmB9c,GAC9BuV,EAAY+X,GAAsBttB,GAAMuV,UAC5C,OAAOn7B,mBAAQ,WAAc,OAAQ4X,gBAAoB+6B,GAAYxxC,GAAS,CAAEwkB,UAAWA,GAAakd,GAAsBjd,IAC1Hsb,GACIrf,uBAAaqf,EAAS,CAClBjhC,SAAUA,EACVy9B,WAAYA,EACZV,iBAAkBA,EAClBC,aAAcA,EACdW,QAAS,WAEjBzC,GAAavjB,gBAAoBw7B,GAAc,CAAEp/B,SAAUA,KAC9C,IAAb+uB,GAAuBnrB,gBAAoBs8B,GAAc,CAAE9a,SAAoB,IAAVh0B,EAAanF,SAAUA,EAAU+L,KAAM+wB,EAAaE,aAAcA,OAAuB,CAACh9B,EAAU+8B,EAAkBC,EAAcpwB,EAAaq0B,EAAS97B,KAGvOqvC,GAAYnuB,UAAY,CACpBtS,SAAUuS,KAAUC,OACpBb,UAAWY,KAAUC,OACrBuW,YAAaxW,KAAUkM,IACvBuK,iBAAkBzW,KAAUiB,OAC5Bub,SAAUxc,KAAU8F,UAAU,CAAC9F,KAAUuJ,KAAMvJ,KAAU6F,OACzD8U,QAAS3a,KAAUrd,QACnB+zB,aAAc1W,KAAUiB,OACxB2T,UAAW5U,KAAU6F,KACrBnsB,SAAUsmB,KAAUC,OACpB6W,gBAAiB9W,KAAUuJ,KAAKrG,WAChC5c,YAAa0Z,KAAUsf,QAAQtf,KAAUkM,KACzCiL,WAAYnX,KAAUuJ,KACtB1qB,MAAOmhB,KAAU7H,QAErB+1B,GAAY/0B,aAAe,CACvB7S,YAAa,GACbwwB,gBAAiB,WAAc,OAAO,OAE3BoX,U,qBC1DXhuB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD7R,QAAS,CACLilB,UAAW,SACXrE,QAAgC,UAAvB/O,EAAMoK,QAAQlvB,KAAmB,GAAM,GAChD4nB,OAAQ,QACRR,MAA8B,UAAvBtC,EAAMoK,QAAQlvB,KACf,UACA8kB,EAAMoK,QAAQW,KAAKG,SAE7BxJ,KAAM,CACFiC,MAAO,MACPS,OAAQ,OAEZgC,QAAS,CACLgN,UAAW,SACXjJ,UAAW,UAEZ,CAAE7qB,KAAM,YA2BAsxC,GA1BH,SAAU1lC,GAClB,IAAI9O,EAAKy9B,GAAe3uB,GAAQgF,EAAW9T,EAAG8T,SAAUmnB,EAAYj7B,EAAGi7B,UACnEl7B,EAAWyiC,GAAmB1zB,GAC9BgY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KACZoe,EAAevsB,EAAU,aAAelX,EAAW,kBAAmB,CACtEuwB,YAAa,EACbvgB,EAAGwgB,KAAWC,SAASvZ,EAAU,aAAelX,EAAW,QAAS,CAChEuwB,YAAa,EACbvgB,EAAGwgB,KAAWE,UAAU1wB,MACxB,KAEJ00C,EAAex9B,EAAU,gBAAiB,CAAE/T,KAAMsgC,IAClDkR,EAAgBz9B,EAAU,kBAC9B,OAAQS,gBAAoBA,WAAgB,KACxCA,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQ/U,SAC5C2F,gBAAoBi9B,KAAO,CAAElvB,UAAWqB,EAAQxB,OAChD5N,gBAAoBsU,KAAY,CAAEL,QAAS,KAAMipB,WAAW,GAAQ39B,EAAU,aAAelX,EAAW,SAAU,CAC9GgQ,EAAG0kC,KAEPxZ,GAAcvjB,gBAAoBsU,KAAY,CAAEL,QAAS,SAAW1U,EAAU,aAAelX,EAAW,UAAW,CAC/GgQ,EAAG2kC,MAEXzZ,GAAcvjB,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQkD,SAC1DtS,gBAAoBw7B,GAAc,CAAEvnB,QAAS,YAAa7X,SAAUA,OCjD5E7S,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAgBA0zC,GAAW,SAAU/lC,GAC5B,IAAIw/B,EAAUx/B,EAAMw/B,QAASwG,EAAQhmC,EAAMgmC,MAAO9T,EAAUlyB,EAAMkyB,QAAS+T,EAAoBjmC,EAAMimC,kBAAmBV,EAAavlC,EAAMulC,WAAY78B,EAAW1I,EAAM0I,SAAUiO,EAAY3W,EAAM2W,UAA4CuvB,GAAflmC,EAAMgY,QAAmBhY,EAAMgS,WAAW9gB,EAAK8O,EAAM+zB,SAAUA,OAAkB,IAAP7iC,EAAgByhC,GAAkBzhC,EAAIshB,EAAQxS,EAAMwS,MAAOvG,EAAQjM,EAAMiM,MAAO2K,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,QAAS,UAAW,oBAAqB,aAAc,WAAY,YAAa,UAAW,YAAa,WAAY,QAAS,UACrhBmmC,E1CwK4B,SAAUnmC,GAC1C,OAAO4zB,GAAcp5B,QAAO,SAAU0F,EAAKpL,GACvC,IAAI5D,EACJ,OAAQiB,GAASA,GAAS,GAAI+N,KAAOhP,EAAK,IAAO4D,GAAOkL,EAAMlL,GAAM5D,MACrE,I0C5KmBk1C,CAAuBpmC,GACzCqmC,EAAc1X,GAAe3uB,GAC7BgY,EAAUP,GAAUzX,GACpBkjB,EAAemjB,EAAYnjB,aAAc9sB,EAAQiwC,EAAYjwC,MAAOE,EAAS+vC,EAAY/vC,OAAQD,EAAUgwC,EAAYhwC,QAAS43B,EAAeoY,EAAYpY,aAAcpwB,EAAcwoC,EAAYxoC,YACnMyoC,EAAUC,eAgBVC,EAAwBlwC,IAAWD,GAAqB,IAAVD,IAAgB3E,OAAOC,KAAKu8B,GAAct8B,OAC5F,OAAQiX,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAW,YAAazI,EAAQiF,KAAMtG,IAAcyR,GAAkBxR,IAC3HhO,gBAAoBqa,GAAO,CAAEzQ,MAAOA,EAAO0Q,aAAcA,IACzDsjB,IAAmC,IAAVv6B,EACnB4G,uBAAa5G,EAAOo6B,GAnBb,WACb,IAAIn1C,EACJ,OAAQ0X,gBAAoBA,WAAgB,MACvCspB,GAAWsN,IAAa52B,gBAAoB62B,GAAattC,GAAS,CAAE+/B,QAASA,GAAWiU,EAAiB,CAAE3G,QAASA,EAASzL,SAAUA,KACxInrB,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQkJ,MAC5CtY,gBAAoBs9B,EAAS,CAAEvvB,UAAW8J,KAAWzI,EAAQgN,SAAU9zB,EAAK,GACpEA,EAAG8mB,EAAQyuB,sBAAwB5oC,EAAYlM,OAAS,EACxDT,IAAM4D,IAAKwxC,IACO,IAAtBL,GAA+BA,GAAsBr9B,gBAAoBo7B,GAAoB7xC,GAAS,GAAIg0C,GAAkBF,GAC5Hv9B,GAEImK,uBAAa9J,WAASC,KAAKN,GAAWvW,GAASA,GAAS,GAAIg0C,GAAkB,CAAEO,gBAAsC,IAAtBT,KACpGV,GAAc1yB,uBAAa0yB,EAAYc,IAC3CL,GAASnzB,uBAAamzB,EAAOK,KAO/BM,KAEdZ,GAASzuB,UAAY,CAEjBkoB,QAASjoB,KAAU8F,UAAU,CAAC9F,KAAU6F,KAAM7F,KAAUrd,UACxD8rC,MAAOzuB,KAAUrd,QACjB8K,SAAUuS,KAAUC,OAEpByuB,kBAAmB1uB,KAAU8F,UAAU,CAAC9F,KAAU6F,KAAM7F,KAAUrd,UAClEwO,SAAU6O,KAAUrd,QACpByc,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnBxG,UAAWuU,GAEXwH,YAAaxW,KAAUqvB,MAAM,CACzBxW,MAAO7Y,KAAUC,OAAOiD,WACxBxd,MAAOsa,KAAUC,OAAOiD,aAE5BvkB,KAAMqhB,KAAUkM,IAChBP,aAAc3L,KAAUC,OACxBwW,iBAAkBzW,KAAUiB,OAE5Bub,SAAUxc,KAAU8F,UAAU,CAAC9F,KAAUuJ,KAAMvJ,KAAU6F,OACzDyT,oBAAqBtZ,KAAUiB,OAC/B0Z,QAAS3a,KAAUrd,QACnB+zB,aAAc1W,KAAUiB,OACxB2T,UAAW5U,KAAU6F,KACrB8Q,WAAY3W,KAAUuJ,KACtB3lB,IAAKoc,KAAUsvB,MACfxwC,QAASkhB,KAAU6F,KACnB+Q,SAAU5W,KAAUuJ,KACpBsN,aAAc7W,KAAUuJ,KACxBuN,gBAAiB9W,KAAUuJ,KAC3B5jB,KAAMqa,KAAU7H,OAEhB61B,WAAYhuB,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAU6F,OAC9DjgB,QAASoa,KAAU7H,OACnB9e,QAAS2mB,KAAUuJ,KACnB7vB,SAAUsmB,KAAUC,OACpB3Z,YAAa0Z,KAAUsvB,MACvBvY,WAAY/W,KAAUuJ,KACtByN,QAAShX,KAAUuJ,KACnB0N,WAAYjX,KAAUuJ,KACtB2N,QAASlX,KAAUuJ,KACnB4N,WAAYnX,KAAUuJ,KACtBtO,MAAOgR,GACPptB,MAAOmhB,KAAU7H,OACjB42B,QAAS/uB,KAAU7H,QAGvBq2B,GAASr1B,aAAe,CACpB8uB,QAAS52B,gBAAoBk+B,GAAgB,MAC7C9uB,QAAS,GACThG,UAAWoZ,KACX6a,kBAAmBr9B,iBALQ,SAAU5I,GAAS,OAAO4I,gBAAoB66B,GAAkBtxC,GAAS,GAAI6N,MAKvC,MACjEulC,WAAY38B,gBAAoBm+B,GAAmB,MACnD96B,MAAOrD,gBAAoB88B,GAAO,OAEtC,IAAIjuB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJ+rB,KAAM,GACNiE,KAAM,CACFC,QAAS,QAEb6D,SAAU9zB,EAAK,CACP+tB,UAAW,EACXzD,WAAY1G,EAAM2G,YAAY5Q,OAAO,cACrC+T,SAAU,WACV5C,KAAM,YAEV9qB,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BuqB,UAAW,QAEf91C,EAAGirB,SAAW,UACdjrB,GACJu1C,qBAAsB,CAClBxnB,WAAYnK,EAAM+C,QAAQ,GAC1B2D,WAAY1G,EAAM2G,YAAY5Q,OAAO,eAEzC20B,QAAS,CACLjgB,OAAQ,EACR4B,QAAS,OACTE,eAAgB,WAChBgU,SAAU,QAEd4R,UAAW,CAAEtjB,QAAS,OAE3B,CAAEvvB,KAAM,WACPg0B,GAAoB,SAAUl3B,GACrBA,EAAG8T,SAAqD9T,EAAG68B,YAA2D78B,EAAGgF,KAA6ChF,EAAGgyB,aAA6DhyB,EAAG88B,iBAAqE98B,EAAG2/B,oBAA2E3/B,EAAG+8B,aAA6D/8B,EAAGi7B,UAAuDj7B,EAAG+6B,QAAmD/6B,EAAG4wB,QAAmD5wB,EAAGg7B,QAAmDh7B,EAAGg9B,WAAyDh9B,EAAG2V,QAAmD3V,EAAGiK,IAA2CjK,EAAGmF,QAAmDnF,EAAGoF,OAAiDpF,EAAG0R,SAAqD1R,EAAGk1B,MAA+Cl1B,EAAGi9B,SAAqDj9B,EAAGk9B,aAA6Dl9B,EAAGm9B,gBAAmEn9B,EAAGwD,QAAmDxD,EAAGgM,KAA6ChM,EAAGwgB,YAA2DxgB,EAAGiM,QAAmDjM,EAAGD,SAAqDC,EAAG2M,YAA2D3M,EAAGo9B,WAAyDp9B,EAAGq9B,QAAmDr9B,EAAGs9B,WAAyDt9B,EAAGu9B,QAAmDv9B,EAAGw9B,WAAyDx9B,EAAG8L,KAA8C9L,EAAGkF,MACv3D,OAD06DpD,GAAO9B,EAAI,CAAC,WAAY,cAAe,OAAQ,eAAgB,mBAAoB,sBAAuB,eAAgB,YAAa,UAAW,UAAW,UAAW,aAAc,UAAW,MAAO,UAAW,SAAU,WAAY,QAAS,WAAY,eAAgB,kBAAmB,UAAW,OAAQ,cAAe,UAAW,WAAY,cAAe,aAAc,UAAW,aAAc,UAAW,aAAc,OAAQ,WAGh1E60C,MC5JX5zC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAoD5By0C,GAAO,SAAUlnC,GACjB6uB,GAA6B,OAAQ,CAAC,YAAa7uB,GACnD,IAAImmC,EAAkBrS,GAAkB9zB,GACxC,OAAQ4I,gBAAoB22B,GAAqB,CAAExlC,MAAOosC,GACtDv9B,gBAAoBm9B,GAAU5zC,GAAS,GAAI6N,EAAOmmC,MAE1De,GAAK5vB,UAAY,CAGbkoB,QAASjoB,KAAU8F,UAAU,CAAC9F,KAAU6F,KAAM7F,KAAUrd,UACxD8rC,MAAOzuB,KAAUrd,QAEjB+rC,kBAAmB1uB,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAU6F,OACrE1U,SAAU6O,KAAUrd,QACpB8d,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBjd,OAAQgd,KAAUiB,OAClBqY,oBAAqBtZ,KAAUiB,OAC/B0Z,QAAS3a,KAAUrd,QAEnBqrC,WAAYhuB,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAU6F,OAC9DjgB,QAASoa,KAAU7H,OAAO+K,WAE1Bzd,KAAMua,KAAUqvB,MAAM,CAClBxW,MAAO7Y,KAAUC,OACjBva,MAAOsa,KAAUC,SAErBhF,MAAOgR,GAEPvhB,aAAcsV,KAAUuJ,KACxBqL,UAAW5U,KAAU6F,KAAK3C,WAC1BwR,QAAS1U,KAAU6F,KAAK3C,WACxBqH,QAASvK,KAAU6F,KAAK3C,WACxByR,QAAS3U,KAAU6F,KAAK3C,WACxB7X,SAAU2U,KAAUkM,IACpB2C,MAAO7O,KAAUkM,IACjBzQ,KAAMuE,KAAUC,OAChBvmB,SAAUsmB,KAAUC,OAAOiD,YAE/BysB,GAAKx2B,aAAe,CAChBnW,OAAQ,GACR4C,QAAS,IAEE+pC,U,kECxGX/0C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPolB,GAAYC,aAAW,CACvBlB,KAAM,CACF2K,QAAS,QAEbpB,OAAQ,CACJ,UAAW,CACPoB,QAAS,YAGlB,CAAE/sB,KAAM,yBACA+yC,GAAqB,SAAUnnC,GACtC,IAAI2W,EAAY3W,EAAM2W,UAA4CyZ,GAAfpwB,EAAMgY,QAAiBhY,EAAMowB,OAAOrC,EAAc/tB,EAAM+tB,YAAaqZ,EAAapnC,EAAMonC,WAAyCxwB,GAAjB5W,EAAMqnC,UAAkBr0C,GAAOgN,EAAO,CAAC,YAAa,UAAW,QAAS,cAAe,aAAc,eACpQ/O,EAAWyiC,GAAmB1zB,GAC9BgY,EAAUP,GAAUzX,GACpBmI,EAAYmO,KAChB,OAAQ1N,gBAAoB0+B,KAAWn1C,GAAS,CAAEwkB,UAAW8J,KAAW9J,EAAWyZ,EAAMpwB,MAAMunC,iBAAkBC,MAAOpX,EAAMpwB,MAAMkoB,UAAWrL,QAAS,QAAUjG,IAAgC,IAAzBwZ,EAAMpwB,MAAMynC,WAChLrX,EAAMpwB,MAAM0nC,QAAUtX,EAAMpwB,MAAMi1B,QAAWrsB,gBAAoBsO,KAAS,CAAE1E,MAAOrK,EAAU,kBAAmB0Y,UAAqC,UAA1BuP,EAAMpwB,MAAMkoB,UAClI,aACA,eAAgBpL,WAAY,KAClClU,gBAAoB++B,KAAgB,CAAE5nB,OAAQgO,EAAYqC,SACjDA,EAAMpwB,MAAM0nC,QAAUtX,EAAMpwB,MAAMi1B,QAASja,UAAiC,QAAtB+S,EAAY9wB,MAAkB,MAAQ,OAAQ,YAAamzB,EAAMpwB,MAAM0nC,QAAUtX,EAAMpwB,MAAMi1B,OAAQ,aAAc7E,EAAMpwB,MAAM0nC,QAAUtX,EAAMpwB,MAAMi1B,OAAQ,aAAc7E,EAAMpwB,MAAM4nC,aAAe,MAAOlxB,QAAS0wB,EAAYpvB,QAASA,GACtSpP,gBAAoB+uB,GAAY,CAAEz2B,MAAOkvB,EAAMpwB,MAAMkB,MAAO+zB,OAAQ7E,EAAMpwB,MAAMi1B,OAAQhkC,SAAUA,MAAkB2X,gBAAoB+uB,GAAY,CAAEz2B,MAAOkvB,EAAMpwB,MAAMkB,MAAO+zB,OAAQ7E,EAAMpwB,MAAMi1B,OAAQhkC,SAAUA,MAElOk2C,GAAmB7vB,UAAY,CAC3BX,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnB4X,MAAO7Y,KAAUrd,QACjB6zB,YAAaxW,KAAUqvB,MAAM,CACzB5pC,KAAMua,KAAUC,OAChBva,MAAOsa,KAAUC,SAClBiD,WACH4sB,UAAW9vB,KAAU6F,KACrBnsB,SAAUsmB,KAAUC,OACpB4vB,WAAY7vB,KAAUuJ,KAAKrG,YAEhB6C,sBAAK6pB,IAAoB,SAAUnnC,EAAO6kC,GACrD,OAAO7kC,EAAMonC,aAAevC,EAAUuC,YAClCpnC,EAAM+tB,YAAYqC,QAAUyU,EAAU9W,YAAYqC,OAClDpwB,EAAM+tB,YAAY9wB,QAAU4nC,EAAU9W,YAAY9wB,OAClD+C,EAAMqnC,YAAcxC,EAAUwC,WAC9BrnC,EAAM/O,WAAa4zC,EAAU5zC,Y,gCCnEjCwmB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmI,KAAM,CACF8B,gBAAiBjK,EAAMoK,QAAQ2oB,KAAK,KACpC1mB,QAAS,WAEV,CAAE/sB,KAAM,kBAKA0zC,GAJG,SAAU9nC,GACxB,IAAIgY,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoB,MAAO,CAAE+N,UAAW8J,KAAWzI,EAAQiF,KAAMjd,EAAM2W,YAAc,SCH7FoxB,GAAQ,SAAUC,EAAY1O,GAC9B,OAAO9lC,MAAM+R,KAAK,CAAE5T,OAAQq2C,IAAc,SAAU/mC,EAAGnM,GAAO,OAAOwkC,EAAGxkC,OAExEmzC,GAAkB,SAAU/2C,GAC5B,IAAI8mB,EAAU9mB,EAAG8mB,QAASrB,EAAYzlB,EAAGylB,UAAWpL,EAASra,EAAGqa,OAAQm7B,EAAiBx1C,EAAGw1C,eAAgBsB,EAAa92C,EAAG82C,WAAY72C,EAAKD,EAAGg3C,YAAaA,OAAqB,IAAP/2C,EAAgB,EAAIA,EAAImnB,EAAOpnB,EAAGonB,KAE7M,OADyBpE,aAAW,KACPtL,gBAAoBu/B,KAAO,CAAExxB,UAAW8J,KAAWzI,EAAQowB,MAAOzxB,GAAY2B,KAAMA,GAC7G1P,gBAAoBy/B,KAAW,KAC3Bz/B,gBAAoB0/B,KAAU,CAAE3xB,UAAWqB,EAAQuwB,KAC/Ch9B,GAAW3C,gBAAoB0+B,KAAW,CAAE3jB,QAAS,OAAQhN,UAAWqB,EAAQwwB,eAChF9B,GAAmB99B,gBAAoB0+B,KAAW,CAAE3jB,QAAS,WAAYhN,UAAWqB,EAAQywB,gBACxF7/B,gBAAoB8/B,KAAU,CAAE/xB,UAAW,aAAcS,MAAO,UAAWuxB,SAAS,KACxFZ,GAAMC,GAAY,SAAUlzC,GAAO,OAAQ8T,gBAAoB0+B,KAAW,CAAEzqB,QAAS,OAAQlG,UAAWqB,EAAQ4wB,WAAY9zC,IAAKA,GAC7H8T,gBAAoBk/B,GAAa,YAC7Cl/B,gBAAoBigC,KAAW,KAAMd,GAAMG,GAAa,SAAUY,GAAQ,OAAQlgC,gBAAoB0/B,KAAU,CAAExzC,IAAKg0C,EAAM9d,MAAO,CAAEnH,QAAS,GAAKilB,EAAO,KACvJv9B,GAAW3C,gBAAoB0+B,KAAW,CAAE3jB,QAAS,OAAQhN,UAAWqB,EAAQywB,gBAC5E7/B,gBAAoBuO,KAAY,CAAER,UAAWqB,EAAQ+wB,WAAY/2B,UAAW,MAAO,cAAe,QAC9FpJ,gBAAoBogC,KAAgB,QAC5CtC,GAAmB99B,gBAAoB0+B,KAAW,CAAE3jB,QAAS,WAAYhN,UAAWqB,EAAQywB,gBACxF7/B,gBAAoB8/B,KAAU,CAAE/xB,UAAW,aAAcS,MAAO,UAAWuxB,SAAS,KACxFZ,GAAMC,GAAY,SAAUiB,GAAQ,OAAQrgC,gBAAoB0+B,KAAW,CAAE3wB,UAAWqB,EAAQkxB,QAASp0C,IAAKm0C,GAC1GrgC,gBAAoBk/B,GAAa,gBAAuB,MAExEG,GAAgB3wB,UAAY,CACxBU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBjM,OAAQgM,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAUsrB,cAC1D6D,eAAgBnvB,KAAU6F,KAC1B4qB,WAAYzwB,KAAU7H,OACtBw4B,YAAa3wB,KAAU7H,OACvB4I,KAAMf,KAAU3H,MAAM,CAAC,QAAS,YAErB0N,sBAAK2qB,ICRLkB,GAfG,SAAUl4C,EAAUwI,GAClC,IAAIod,EAAWC,cACXsyB,EAAelxB,aAAY,SAAUqZ,GACrC,OAAOA,EAAW1yB,MAAMiB,UAAU7O,GAC5BsgC,EAAW1yB,MAAMiB,UAAU7O,GAAUgP,KAAK3D,cAC1CjL,KAQV,MAAO,MANyBA,IAAjB+3C,IAE+D,IAAxEA,EAAa1vC,KAAI,SAAU+C,GAAM,OAAOA,GAAMhD,KAAOvG,SAAQ,GAC9CwD,uBAAY,WAC7BmgB,EAASwyB,YAAqBp4C,EAAUwI,MACzC,CAACod,EAAU5lB,EAAUwI,M,UC7BxBtH,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMPi3C,GAAe1gC,cAAiB,SAAU1X,EAAIwuB,GAC9C,IAAI/I,EAAYzlB,EAAGylB,UAAWyZ,EAAQl/B,EAAGk/B,MAAO52B,EAAStI,EAAGsI,OAAQwL,EAAW9T,EAAG8T,SAAU/T,EAAWC,EAAGD,SAAU2lB,EAAO5jB,GAAO9B,EAAI,CAAC,YAAa,QAAS,SAAU,WAAY,aACnL,OAAQ0X,gBAAoB0+B,KAAWn1C,GAAS,CAAEwkB,UAAW8J,KAAW9J,EAAWyZ,EAAMpwB,MAAMupC,eAAgB/B,MAAOpX,EAAMpwB,MAAMkoB,UAAWxI,IAAKA,GAAO9I,GAAOhO,eAAmBwnB,EAAO,CACtL52B,OAAQA,EACRwL,SAAUorB,EAAMpwB,MAAMgF,UAAYA,EAClC/T,SAAUA,QAGlBq4C,GAAahyB,UAAY,CACrBX,UAAWY,KAAUC,OACrB4Y,MAAO7Y,KAAUrd,QAEjBV,OAAQ+d,KAAUiB,OAClBxT,SAAUuS,KAAUC,OACpBvmB,SAAUsmB,KAAUC,QAGxB8xB,GAAa9gC,YAAc,eACZ8gC,UC5CXn3C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAiBIirB,mBATO,SAAUpsB,GAC5B,IAAIC,EACA6mB,EAAU9mB,EAAG8mB,QAAS1b,EAAWpL,EAAGoL,SAAUktC,EAAkBt4C,EAAGs4C,gBAAiBxpC,EAAQhN,GAAO9B,EAAI,CAAC,UAAW,WAAY,oBAC/HiX,EAAYmO,KAChB,OAAQ1N,gBAAoBuO,KAAYhlB,GAAS,CAAE,aAAcgW,EAAU7L,EAAW,kBAAoB,oBAAqB,gBAAiBA,EAAU,gBAAiBktC,EAAiB7yB,UAAW0B,KAAWL,EAAQ+wB,YAAa53C,EAAK,GACpOA,EAAG6mB,EAAQ1b,UAAYA,EACvBnL,IAAMs4C,UAAW,EAAG,cAAe,OAAQz3B,UAAW,OAAShS,GACnE4I,gBAAoBogC,KAAgB,UCnCxC72C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5B+gB,GAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,GAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAwBzD1O,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPq3C,GAAmB,SAAUn+B,EAAQ7C,EAAUg+B,GAC/C,OAAOn7B,EACD,GACGm7B,EAAiB,EAAI,GACtB99B,IAAMG,SAAS2J,QAAQhK,GAAUnO,QAAO,SAAUuY,GAAS,QAASA,KAAUnhB,OAChF,GAENg4C,GAAiB,CAAElB,eAAgB,GAAImB,SAAU,GAAIV,QAAS,IAC9DW,GAAcjhC,IAAM6W,YAAW,SAAUzf,EAAO0f,GAChD,IAAI1a,EAAWhF,EAAMgF,SAAU0D,EAAW1I,EAAM0I,SAAUxX,EAAK8O,EAAMgY,QAASA,OAAiB,IAAP9mB,EAAgBy4C,GAAiBz4C,EAAIylB,EAAY3W,EAAM2W,UAAWpL,EAASvL,EAAMuL,OAAQm7B,EAAiB1mC,EAAM0mC,eAAgBoD,EAAQ9pC,EAAM8pC,MAAOrwC,EAAKuG,EAAMvG,GAAI20B,EAAepuB,EAAMouB,aAAc50B,EAASwG,EAAMxG,OAAQuwC,EAAW/pC,EAAM+pC,SAAUC,EAAWhqC,EAAMgqC,SAAUhf,EAAQhrB,EAAMgrB,MAAOif,EAAajqC,EAAMiqC,WAAYrzB,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,WAAY,UAAW,YAAa,SAAU,iBAAkB,QAAS,KAAM,eAAgB,SAAU,WAAY,WAAY,QAAS,eACxkB/O,EAAWyiC,GAAmB1zB,GAC9B7O,EAAKg4C,GAAYl4C,EAAUwI,GAAK6C,EAAWnL,EAAG,GAAI+4C,EAAiB/4C,EAAG,GACtEyT,EAAKwU,mBAASswB,GAAiBn+B,EAAQ7C,EAAUg+B,IAAkByD,EAAYvlC,EAAG,GAAIwlC,EAAexlC,EAAG,GAC5GyM,qBAAU,WAIN,IAAIg5B,EAAeX,GAAiBn+B,EAAQ7C,EAAUg+B,GAClD2D,IAAiBF,GACjBC,EAAaC,KAElB,CAAC9+B,EAAQ4+B,EAAWzhC,EAAUg+B,IACjC,IAAI7/B,EAAU8hB,eACV2hB,EAAqB5zC,uBAAY,SAAUsgB,GAC3CkzB,IACAlzB,EAAMgqB,oBACP,CAACkJ,IACAK,EAAwB7zC,uBAAY,SAAUsgB,GACzCizB,IAEL7b,EAAa30B,GACbud,EAAMgqB,qBACP,CAACvnC,EAAI20B,EAAc6b,IAClBlzB,EAAcrgB,uBAAY,SAAUsgB,GAAS,OAAOxD,QAAU,OAAQ,OAAQ,GAAQ,WACtF,IAAIg3B,EAAQt5C,EACZ,OAAO0P,GAAY7N,MAAM,SAAU5B,GAC/B,OAAQA,EAAG+P,OACP,KAAK,EACD,OAAK6oC,GAEL/yB,EAAMyzB,UACoB,oBAAbV,EAAiC,CAAC,EAAa,GACrD,CAAC,EAAaA,EAAStwC,EAAIuL,EAAUxL,KAHjC,CAAC,GAIhB,KAAK,EAED,OADAtI,EAAKC,EAAGgQ,OACD,CAAC,EAAa,GACzB,KAAK,EACDjQ,EAAK64C,EACL54C,EAAG+P,MAAQ,EACf,KAAK,EAED,OADAspC,EAASt5C,GAEL,IAAK,OAED,OADA2V,EAAQ9E,KAAK2oC,aAAa1lC,EAAUvL,IAC7B,CAAC,GACZ,IAAK,OAED,OADAoN,EAAQ9E,KAAK2oC,aAAa1lC,EAAUvL,EAAI,SACjC,CAAC,GACZ,IAAK,SAED,OADA6wC,EAAmBtzB,GACZ,CAAC,GACZ,IAAK,kBAED,OADAuzB,EAAsBvzB,GACf,CAAC,GACZ,QAGI,OAFIwzB,GACA3jC,EAAQ9E,KAAKyoC,GACV,CAAC,GAEhB,MAAO,CAAC,YAGjB,CACHxlC,EACA6B,EACAyjC,EACAC,EACA9wC,EACAD,EACAuwC,IAEJ,OAAQnhC,IAAMC,cAAcsb,WAAU,KAClCvb,IAAMC,cAAcy/B,KAAUn2C,GAAS,CAAEutB,IAAKA,EAAK/I,UAAWA,EAAW7hB,IAAK2E,EAAIuxB,MAAOA,EAAO8e,MAAOA,EAAOpzB,QAASK,GAAeH,GAClIrL,GAAW3C,IAAMC,cAAcy+B,KAAW,CAAE3jB,QAAS,OAAQhN,UAAWqB,EAAQywB,gBAC5E7/B,IAAMC,cAAc8hC,GAAiB,CAAE3yB,QAASA,EAAS1b,SAAUA,EAAUoa,QAAS4zB,EAAoBd,gBAAiB/vC,EAAK,aACpIitC,GAAmB99B,IAAMC,cAAcy+B,KAAW,CAAE3jB,QAAS,YAAcsmB,GAAerhC,IAAMC,cAAc6/B,KAAU,CAAEtxB,MAAO,UAAWT,UAAW,eAAiBqB,EAAQ4xB,SAAUjB,QAASqB,EAAUtzB,QAAS6zB,KACtN3hC,IAAMG,SAASrP,IAAIgP,GAAU,SAAU0nB,EAAO5zB,GAC1C,OAAO+d,yBAAe6V,GAAUxnB,IAAMC,cAAcygC,GAAcn3C,GAAS,CAAE2C,IAAK2E,EAAK,KAAO22B,EAAMpwB,MAAMi1B,QAAUz4B,GAAQma,UAAW8J,KAAW,UAAY2P,EAAMpwB,MAAMi1B,OAAQjd,EAAQkxB,SAAU1vC,OAAQA,GAAU,CAAE42B,MAAOA,EAAOprB,SAAUA,EAAU/T,SAAUA,KAAgB,SAE5Rsa,GAAUjP,GAAasM,IAAMC,cAAcy/B,KAAU,CAAExzC,IAAK2E,EAAK,UAAWA,GAAIA,EAAK,WACjFmP,IAAMC,cAAcy+B,KAAW,CAAEsD,QAAST,GAAa5vB,yBAAehP,GAChEsH,uBAAatH,EAAQ,CAEnB/R,OAAQA,EACRwL,SAAUA,EACV/T,SAAUA,EACVwI,GAAIoxC,OAAOpxC,KAEboP,wBAAc0C,EAAQ,CACpB/R,OAAQA,EACRwL,SAAUA,EACV/T,SAAUA,EACVwI,GAAIoxC,OAAOpxC,WAG/BowC,GAAYvyB,UAAY,CACpBtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUkM,IACnB9M,UAAWY,KAAUC,OAErBjM,OAAQgM,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAUsrB,cAC1D6D,eAAgBnvB,KAAU6F,KAAK3C,WAC/BqvB,MAAOvyB,KAAU6F,KACjB3jB,GAAI8d,KAAUkM,IACd2K,aAAc7W,KAAUuJ,KAExBtnB,OAAQ+d,KAAUiB,OAClBvnB,SAAUsmB,KAAUC,OAEpBuyB,SAAUxyB,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUuJ,OAC3DkpB,SAAUzyB,KAAU6F,KACpB4N,MAAOzT,KAAUiB,OACjByxB,WAAY1yB,KAAU6F,MAE1BysB,GAAYn5B,aAAe,CACvBg2B,gBAAgB,EAChBoD,OAAO,EACPE,UAAU,EACVC,YAAY,GAEhB,IAKWa,GAAkBxtB,eAAKusB,IALnB,SAAUjF,EAAWC,GACvBD,EAAUl8B,SAAek8B,EAAUr5B,OAA5C,IAAoDw/B,EAA2B/3C,GAAO4xC,EAAW,CAAC,WAAY,WAC1DoG,GAA3CnG,EAAUn8B,SAAem8B,EAAUt5B,OAAmCvY,GAAO6xC,EAAW,CAAC,WAAY,YAC9G,OAAOhjB,YAAakpB,EAA0BC,MAGlDF,GAAgBtiC,YAAc,kBACfqhC,UC7MX13C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASP44C,GAAeriC,cAAiB,SAAU1X,EAAIwuB,GAC9C,IAAI1a,EAAW9T,EAAG8T,SAAU0D,EAAWxX,EAAGwX,SAAUsP,EAAU9mB,EAAG8mB,QAASrB,EAAYzlB,EAAGylB,UAAWzgB,EAAOhF,EAAGgF,KAAMqV,EAASra,EAAGqa,OAAQm7B,EAAiBx1C,EAAGw1C,eAAgBoD,EAAQ54C,EAAG44C,MAAO3uC,EAAMjK,EAAGiK,IAAKizB,EAAel9B,EAAGk9B,aAAcn9B,EAAWC,EAAGD,SAAUs3C,EAAMr3C,EAAGq3C,IAAKwB,EAAW74C,EAAG64C,SAAUmB,EAAWh6C,EAAGg6C,SAAUrtC,EAAc3M,EAAG2M,YAAastC,EAAkBj6C,EAAGi6C,gBAAiBv0B,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,WAAY,UAAW,YAAa,OAAQ,SAAU,iBAAkB,QAAS,MAAO,eAAgB,WAAY,MAAO,WAAY,WAAY,cAAe,oBACvkB,OAAQ0X,gBAAoBigC,KAAW12C,GAAS,CAAEutB,IAAKA,EAAK/I,UAAW8J,KAAW,gBAAiB9J,IAAcC,GAAOzb,EAAIzB,KAAI,SAAUD,EAAI2xC,GAC1I,IAAIl6C,EACJ,OAAO2hB,uBAAa01B,EAAK,CACrBvjC,SAAUA,EACVgT,QAASA,EACTrB,UAAW8J,KAAWzI,EAAQuwB,KAAMr3C,EAAK,GACrCA,EAAG8mB,EAAQqzB,SAAWD,EAAW,IAAM,EACvCl6C,EAAG8mB,EAAQszB,QAAUF,EAAW,IAAM,EACtCl6C,EAAG8mB,EAAQuzB,cAAgBxB,EAC3B74C,IACJqa,OAAQA,EACRm7B,eAAgBA,EAChBoD,MAAOA,EACPrwC,GAAIA,EACJ3E,IAAK2E,EACL20B,aAAcA,EACd50B,OAAQtD,EAAKuD,GACbxI,SAAUA,EACV84C,SAAUA,EACVE,YAAakB,GAAmBA,EAAgBj1C,EAAKuD,IACrDuwC,SAAUnsC,EAAY9I,SAAS0E,GAC/BuxB,MAAOkgB,EAAWA,EAASh1C,EAAKuD,GAAK2xC,GAAY,MAClD1iC,UAGXuiC,GAAa3zB,UAAY,CACrBtS,SAAUuS,KAAUC,OACpBQ,QAAST,KAAUkM,IACnB9M,UAAWY,KAAUC,OACrB9O,SAAU6O,KAAUiD,KAEpBtkB,KAAMqhB,KAAUiB,OAAOiC,WAEvBlP,OAAQgM,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAUsrB,cAC1D6D,eAAgBnvB,KAAU6F,KAAK3C,WAC/BqvB,MAAOvyB,KAAU6F,KACjBjiB,IAAKoc,KAAUsf,QAAQtf,KAAUkM,KAAKhJ,WACtC2T,aAAc7W,KAAUuJ,KACxB7vB,SAAUsmB,KAAUC,OACpB+wB,IAAKhxB,KAAUrd,QACf6vC,SAAUxyB,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUuJ,OAC3DoqB,SAAU3zB,KAAUuJ,KACpBjjB,YAAa0Z,KAAUsf,QAAQtf,KAAUkM,KACzCnB,OAAQ/K,KAAUiB,OAClB2yB,gBAAiB5zB,KAAUuJ,MAE/BmqB,GAAav6B,aAAe,CACxBxa,KAAM,GACNwwC,gBAAgB,EAChBvrC,IAAK,GACLotC,IAAK3/B,gBAAoBihC,GAAa,OAI1CoB,GAAaO,QAAU,YACvB,IAKWC,GAAmBnuB,eAAK2tB,IALpB,SAAUrG,EAAWC,GACvBD,EAAUl8B,SAAek8B,EAAUr5B,OAAaq5B,EAAU2D,IAAnE,IAAwEwC,EAA2B/3C,GAAO4xC,EAAW,CAAC,WAAY,SAAU,QACpEoG,GAA/DnG,EAAUn8B,SAAem8B,EAAUt5B,OAAas5B,EAAU0D,IAAgCv1C,GAAO6xC,EAAW,CAAC,WAAY,SAAU,SAC5I,OAAOhjB,YAAakpB,EAA0BC,MAKlDS,GAAiBD,QAAU,YAE3BC,GAAiB/6B,aAAe,CAC5B63B,IAAK3/B,gBAAoBkiC,GAAiB,OAE/BG,UCrDAS,GA7CSh0B,cAAW,SAAU5C,GAAS,MAAQ,CAC1DszB,MAAO,CACHuD,YAAa,QAEjBC,MAAO,GACPC,MAAO,GACPC,UAAW,GACXlD,WAAY,CACRhqB,SAAU,SACVqG,IAAK,EACL1F,OAAQ,EACRR,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,MAC1C,gBAAiB,CACb6tB,oBAAqBj3B,EAAM8xB,MAAMzhB,cAErC,eAAgB,CACZ6mB,qBAAsBl3B,EAAM8xB,MAAMzhB,eAG1CykB,SAAU,GACVrB,IAAK,GACLgD,aAAc,CACVU,OAAQ,WAEZZ,QAAS,GACTC,OAAQ,GACRpC,QAAS,GACTV,aAAc,CACV7kB,QAAS,EACTlL,MAAO3D,EAAM+C,QAAQ,IAEzB4wB,eAAgB,CACZhwB,MAAO3D,EAAM+C,QAAQ,IAEzBkxB,WAAY,CACRplB,QAAS7O,EAAM+C,QAAQ,GACvBiE,UAAW,iBACXN,WAAY1G,EAAM2G,YAAY5Q,OAAO,YAAa,CAC9C+Q,SAAU9G,EAAM2G,YAAYG,SAASswB,YAG7C5vC,SAAU,CACNwf,UAAW,mBAEZ,CAAE1nB,KAAM,eC7CXjC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA4CP85C,GAAWvjC,cAAiB,SAAU5I,EAAO0f,GAC7C,IAAI1H,EAAU0zB,GAAkB1rC,GAC5B9O,EAAK8O,EAAMosC,UAAWA,OAAmB,IAAPl7C,GAAwBA,EAAIC,EAAK6O,EAAMhO,KAAMA,OAAc,IAAPb,EAAgBi7C,EAAYxjC,gBAAoB6iC,GAAkB,MAAQ7iC,gBAAoBqiC,GAAc,MAAQ95C,EAAIuX,EAAW1I,EAAM0I,SAA2CiO,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWpL,EAASvL,EAAMuL,OAAQ3G,EAAK5E,EAAM0mC,eAAgBA,OAAwB,IAAP9hC,GAAwBA,EAAIklC,EAAQ9pC,EAAM8pC,MAAOqB,EAAkBnrC,EAAMmrC,gBAAiBl6C,EAAW+O,EAAM/O,SAAU84C,EAAW/pC,EAAM+pC,SAAUmB,EAAWlrC,EAAMkrC,SAAUrmC,EAAK7E,EAAMsY,KAAMA,OAAc,IAAPzT,EAAgB,QAAUA,EAAI+R,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,OAAQ,WAAY,UAAW,YAAa,SAAU,iBAAkB,QAAS,kBAAmB,WAAY,WAAY,WAAY,SACtvBuV,EAAKoZ,GAAe3uB,GAAQgF,EAAWuQ,EAAGvQ,SAAU+oB,EAAcxY,EAAGwY,YAAa73B,EAAOqf,EAAGrf,KAAMiF,EAAMoa,EAAGpa,IAAK7E,EAASif,EAAGjf,OAAQ63B,EAAW5Y,EAAG4Y,SAAUC,EAAe7Y,EAAG6Y,aAAcvwB,EAAc0X,EAAG1X,YAAa4wB,EAAUlZ,EAAGkZ,QAASr4B,EAAQmf,EAAGnf,MAC3PkwC,EAAUC,eACVa,EAAa1wC,uBAAY,SAAUsgB,GACnCA,EAAMgqB,kBACN,IAAIqL,EAAWr1B,EAAM0C,cAAcgc,QAAQtF,MACvCkc,EAAWve,EAAYqC,QAAUic,EACT,QAAtBte,EAAY9wB,MACR,OACA,MACJ+Z,EAAM0C,cAAcgc,QAAQz4B,MAClCwxB,EAAQ4d,EAAUC,KACnB,CAACve,EAAYqC,MAAOrC,EAAY9wB,MAAOwxB,IACtC8d,EAAkB71C,uBAAY,SAAUsgB,GACxC,GAAIA,EAAM7iB,OAAOw0C,QAAS,CACtB,IAAI6D,EAAQrxC,EAAIuD,OAAOb,EAAYtD,QAAO,SAAUd,GAAM,OAAQ0B,EAAIpG,SAAS0E,OAC/E00B,EAASgd,EACHqB,EAAMjyC,QAAO,SAAUd,GAAM,OAAO0xC,EAAgBj1C,EAAKuD,OACzD+yC,QAGNre,EAAS,MAEd,CAACj4B,EAAMiF,EAAKgzB,EAAUgd,EAAiBttC,IAM1C,IAAe,IAAXvH,EACA,OAAQsS,gBAAoBq/B,GAAiB,CAAEjwB,QAASA,EAASrB,UAAWA,EAAWpL,OAAQA,EAAQm7B,eAAgBA,EAAgBsB,WAAYp/B,WAAegJ,MAAMlJ,GAAW4P,KAAMA,IAO7L,GAAIhiB,IAA0B,IAAf6E,EAAIxJ,QAA0B,IAAVyE,GAC/B,OAAO,KAEX,IAAI8L,EAAMipC,EACJhwC,EAAIZ,QAAO,SAAUd,GAAM,OAAO0xC,EAAgBj1C,EAAKuD,OACvD0B,EAMN,OAAQyN,gBAAoBu/B,KAAOh2C,GAAS,CAAEutB,IAAKA,EAAK/I,UAAW8J,KAAWzI,EAAQowB,MAAOzxB,GAAY2B,KAAMA,GAAQub,GAAsBjd,IACzIhO,gBAAoBy/B,KAAW,CAAE1xB,UAAWqB,EAAQ4zB,OAChDhjC,gBAAoB0/B,KAAU,CAAE3xB,UAAW8J,KAAWzI,EAAQuwB,IAAKvwB,EAAQ8zB,YACvEvgC,GAAW3C,gBAAoB0+B,KAAW,CAAE3jB,QAAS,OAAQhN,UAAW8J,KAAWzI,EAAQ4wB,WAAY5wB,EAAQwwB,gBAC/G9B,GAAmB99B,gBAAoB0+B,KAAW,CAAE3jB,QAAS,WAAYhN,UAAWqB,EAAQ4wB,YACxFhgC,gBAAoB8/B,KAAU,CAAE/xB,UAAW,aAAcS,MAAO,UAAWuxB,QAAS9qC,EAAYlM,OAAS,GACjGuQ,EAAIvQ,OAAS,GACbuQ,EAAIuqC,OAAM,SAAUhzC,GAAM,OAAOoE,EAAY9I,SAAS0E,MAASi+B,SAAU6U,KACrFxjC,WAASrP,IAAIgP,GAAU,SAAU0nB,EAAO5zB,GACpC,OAAO+d,yBAAe6V,GAAUxnB,gBAAoBu+B,GAAoB,CAAExwB,UAAWqB,EAAQ4wB,WAAY7a,YAAaA,EAAaqC,MAAOA,EAAOiX,UAAWtZ,EAAYqC,SAC/JA,EAAMpwB,MAAM0nC,QACTtX,EAAMpwB,MAAMi1B,QAASngC,IAAKs7B,EAAMpwB,MAAMi1B,QAAUz4B,EAAOvL,SAAUA,EAAUm2C,WAAYA,IAAiB,UAEhIv0B,uBAAa7gB,EAAM,CACfgT,SAAUA,EACV2R,UAAWqB,EAAQ6zB,MACnB7zB,QAASA,EACTzM,OAAQA,EACRw+B,SAAUA,EACV7zC,KAAMA,EACNwwC,eAAgBA,EAChBoD,MAAOA,EACP3uC,IAAKA,EACLizB,aAAcA,EACdn9B,SAAUA,EACVi6C,SAAUA,EACVrtC,YAAaA,EACbstC,gBAAiBA,EACjB7E,QAASA,GACV59B,OAEXyjC,GAAS70B,UAAY,CACjBtS,SAAUuS,KAAUC,OACpBxlB,KAAMulB,KAAUrd,QAChBwO,SAAU6O,KAAUiD,KAAKC,WACzBzC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBuW,YAAaxW,KAAUqvB,MAAM,CACzBxW,MAAO7Y,KAAUC,OACjBva,MAAOsa,KAAUC,SAErBthB,KAAMqhB,KAAUiB,OAEhBjN,OAAQgM,KAAU8F,UAAU,CAAC9F,KAAUrd,QAASqd,KAAUsrB,cAC1D6D,eAAgBnvB,KAAU6F,KAC1B0sB,MAAOvyB,KAAU6F,KACjBjiB,IAAKoc,KAAUsf,QAAQtf,KAAUkM,KACjCptB,QAASkhB,KAAU6F,KACnB+Q,SAAU5W,KAAUuJ,KACpBsN,aAAc7W,KAAUuJ,KACxB7vB,SAAUsmB,KAAUC,OACpBuyB,SAAUxyB,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUuJ,OAC3DoqB,SAAU3zB,KAAUuJ,KACpBjjB,YAAa0Z,KAAUsf,QAAQtf,KAAUkM,KACzCgL,QAASlX,KAAUuJ,KACnB1qB,MAAOmhB,KAAU7H,OACjB42B,QAAS/uB,KAAU7H,OACnBy7B,gBAAiB5zB,KAAUuJ,MAEhBqrB,UC7KXn5C,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAMIq6C,GAJc,SAAUx7C,GACpBA,EAAGy7C,SAAuBz7C,EAAGkkC,WAAuBlkC,EAAG8T,SAA0B9T,EAAGq4C,cAA2Br4C,EAAGylB,UAAuBzlB,EAAG07C,UAA2B17C,EAAG+rC,cAA2B/rC,EAAGs4B,UAA6Bt4B,EAAGq2C,gBAAyBr2C,EAAGgQ,MAAkBhQ,EAAG27C,SAAiB37C,EAAG47C,KAAe57C,EAAG8W,OAAiB9W,EAAGsI,OAAmBtI,EAAGD,SAAqBC,EAAGu2C,SAAmBv2C,EAAGw2C,OAAsBx2C,EAAG02C,YAAsB12C,EAAG+jC,OAAoB/jC,EAAGg3B,UAA6Bh3B,EAAGqsC,gBAC/gB,OADwiBvqC,GAAO9B,EAAI,CAAC,WAAY,aAAc,WAAY,gBAAiB,YAAa,YAAa,gBAAiB,YAAa,kBAAmB,QAAS,WAAY,OAAQ,SAAU,SAAU,WAAY,WAAY,SAAU,cAAe,SAAU,YAAa,qBCXxyB67C,GAAiB,CACxBJ,SAAUp1B,KAAU6F,KACpBsqB,OAAQnwB,KAAUC,OAClBowB,YAAarwB,KAAU3H,MAAM,CAAC,MAAO,SACrCqlB,OAAQ1d,KAAUC,OAClBtW,MAAOqW,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUrd,UACxDutC,SAAUlwB,KAAU6F,KACpBzG,UAAWY,KAAUC,OACrB+xB,cAAehyB,KAAUC,OACzB+vB,gBAAiBhwB,KAAUC,OAC3B0Q,UAAW3Q,KAAU3H,MAAM,CAAC,QAAS,SACrCg9B,UAAWr1B,KAAUC,QCZrBrlB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASP26C,GAAiC,WAEjC,KACI,IAAI50C,MAAO60C,eAAe,KAE9B,MAAO92C,GACH,OAAOA,aAAiB+2C,WAE5B,OAAO,EAR0B,GAkC1BC,GAAY7vB,gBAAK,SAAUpsB,GAClC,IAAIylB,EAAYzlB,EAAGylB,UAAWi2B,EAAY17C,EAAG07C,UAAWQ,EAAUl8C,EAAGk8C,QAAS14C,EAAUxD,EAAGwD,QAAS8E,EAAStI,EAAGsI,OAAQrI,EAAKD,EAAGm8C,SAAUA,OAAkB,IAAPl8C,GAAwBA,EAAI8jC,EAAS/jC,EAAG+jC,OAAQre,EAAO5jB,GAAO9B,EAAI,CAAC,YAAa,YAAa,UAAW,UAAW,SAAU,WAAY,WAC9R,IAAKsI,EACD,OAAO,KAEX,IAAIO,EAAQ7F,KAAIsF,EAAQy7B,GACxB,GAAa,MAATl7B,EACA,OAAO6yC,EAAahkC,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAWA,GAAa+1B,GAAuB91B,IAAQg2B,GAAc,KAE7K,IAAI/zC,EAAOkB,aAAiB3B,KAAO2B,EAAQ,IAAI3B,KAAK2B,GAChDuzC,EAAaD,EACXL,GACIn0C,EAAKo0C,eAAeG,EAAS14C,GAC7BmE,EAAKo0C,iBACTD,GACIn0C,EAAK00C,mBAAmBH,EAAS14C,GACjCmE,EAAK00C,qBACf,OAAQ3kC,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAWA,GAAa+1B,GAAuB91B,IAAQ02B,MAEnJH,GAAUz8B,aAAe,CACrBi8B,UAAU,GAEdQ,GAAU71B,UAAYnlB,GAASA,GAASA,GAAS,GAAI+qB,KAAW5F,WAAYy1B,IAAiB,CAAEK,QAAS71B,KAAU8F,UAAU,CACpH9F,KAAUC,OACVD,KAAUsf,QAAQtf,KAAUC,UAC5B9iB,QAAS6iB,KAAUiB,OAAQ60B,SAAU91B,KAAU6F,OACxC+vB,UCzFXh7C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPm7C,KAAqC,kBAATC,OAC5BA,MAC6B,oBAAtBA,KAAKC,cA6BLC,GAAcrwB,gBAAK,SAAUpsB,GACpC,IAAIylB,EAAYzlB,EAAGylB,UAAWi2B,EAAY17C,EAAG07C,UAAWpzC,EAAStI,EAAGsI,OAAQy7B,EAAS/jC,EAAG+jC,OAAQmY,EAAUl8C,EAAGk8C,QAAS14C,EAAUxD,EAAGwD,QAAmCkiB,GAAd1lB,EAAGg3B,UAAkBl1B,GAAO9B,EAAI,CAAC,YAAa,YAAa,SAAU,SAAU,UAAW,UAAW,eAC7P,IAAKsI,EACD,OAAO,KAEX,IAAIO,EAAQ7F,KAAIsF,EAAQy7B,GACxB,OAAa,MAATl7B,EACO6yC,EAAahkC,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAWA,GAAa+1B,GAAuB91B,IAAQg2B,GAAc,KAErKhkC,gBAAoBsU,KAAY/qB,GAAS,CAAE0qB,QAAS,QAAS7K,UAAW,OAAQ2E,UAAWA,GAAa+1B,GAAuB91B,IAAQ42B,GACzIzzC,EAAMkzC,eAAeG,EAAS14C,GAC9BqF,MAGV4zC,GAAYnlC,YAAc,cAC1BmlC,GAAYj9B,aAAe,CACvBi8B,UAAU,EACVzkB,UAAW,SAEfylB,GAAYr2B,UAAYnlB,GAASA,GAASA,GAAS,GAAI+qB,KAAW5F,WAAYy1B,IAAiB,CAAEK,QAAS71B,KAAU8F,UAAU,CACtH9F,KAAUC,OACVD,KAAUsf,QAAQtf,KAAUC,UAC5B9iB,QAAS6iB,KAAUiB,SACZm1B,U,qBCnFXx7C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAcPolB,GAAYC,aAAW,CACvBuF,KAAM,CACFkE,QAAS,SAEd,CACC/sB,KAAM,mBAECw5C,GAAetwB,gBAAK,SAAUtd,GACrC,IAAI2W,EAAY3W,EAAM2W,UAA4Ci2B,GAAf5sC,EAAMgY,QAAqBhY,EAAM4sC,WAAW3X,EAASj1B,EAAMi1B,OAAQ/jC,EAAK8O,EAAMxG,OAAQA,OAAgB,IAAPtI,EAAgB,GAAKA,EAAI28C,EAAiB7tC,EAAM6tC,eAAgBC,EAAkB9tC,EAAM8tC,gBAAiBC,EAAW/tC,EAAM+tC,SAAUC,EAAYhuC,EAAMguC,UAAWp3B,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,UAAW,YAAa,SAAU,SAAU,iBAAkB,kBAAmB,WAAY,cAC/amI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACpBjG,EAAQ7F,KAAIsF,EAAQy7B,GACpBgZ,EAAYl0C,EAAQ8zC,EAAiBC,EAKzC,OAJKG,IACDA,GACc,IAAVl0C,EAAkB,mBAAqB,oBAEjC,IAAVA,IAA6B,IAAVA,EACX6O,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAW8J,KAAWzI,EAAQiF,KAAMtG,IAAc+1B,GAAuB91B,IAC7JhO,gBAAoBsO,KAAS,CAAE1E,MAAOrK,EAAU8lC,EAAW,CAAEhtC,EAAGgtC,MAA0B,IAAVl0C,EAAkB6O,gBAAoB,OAAQ,KAC1HA,gBAAoBmlC,EAAU,CAAE,cAAe,OAAQ3gB,SAAU,WAAgBxkB,gBAAoB,OAAQ,KAC7GA,gBAAoBolC,EAAW,CAAE,cAAe,QAAS5gB,SAAU,aAEvExkB,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAWA,GAAa+1B,GAAuB91B,IAAQg2B,MAEnJgB,GAAal9B,aAAe,CACxBi8B,UAAU,EACVoB,SAAUG,KACVF,UAAW5R,MAEfwR,GAAat2B,UAAYnlB,GAASA,GAASA,GAAS,GAAI+qB,KAAW5F,WAAYy1B,IAAiB,CAAEe,gBAAiBv2B,KAAUC,OAAQq2B,eAAgBt2B,KAAUC,OAAQu2B,SAAUx2B,KAAUsrB,YAAamL,UAAWz2B,KAAUsrB,cAC9M+K,U,WCjEA,IACX,CAAEn0C,GAAI,aAAcrF,KAAM,sCAC1B,CAAEqF,GAAI,YAAarF,KAAM,qCACzB,CAAEqF,GAAI,eAAgBrF,KAAM,wCAC5B,CAAEqF,GAAI,UAAWrF,KAAM,mCACvB,CAAEqF,GAAI,UAAWrF,KAAM,mCACvB,CAAEqF,GAAI,WAAYrF,KAAM,qCCEtBqjB,GAAYC,aAAW,CACzBwJ,KAAM,CACFC,QAAS,OACTkU,SAAU,OACVpW,WAAY,EACZkvB,cAAe,GAEnBC,KAAM,CAAEx2B,OAAQ,KAGdy2B,GAA0C,SAAC,GAAgB,IAAd70C,EAAa,EAAbA,OACzC2O,EAAYmO,KACZ0B,EAAUP,KAEhB,OAAOje,EACH,sBAAMmd,UAAWqB,EAAQkJ,KAAzB,SACK1nB,EAAO80C,QACJ90C,EAAO80C,OAAO50C,KAAI,SAAA60C,GACd,IAAMC,EAAUC,GAAStK,MAAK,SAAA7xC,GAAC,OAAIA,EAAEmH,KAAO80C,KAE5C,OAAOC,EACH,cAACE,GAAA,EAAD,CACIp2B,KAAK,QAEL3B,UAAWqB,EAAQo2B,KACnBltC,MAAOiH,EAAUqmC,EAAQp6C,OAFpBo6C,EAAQ/0C,IAIjB,UAGhB,MAGR40C,GAAc39B,aAAe,CACzBi8B,UAAU,EACV1X,OAAQ,UAGGoZ,UCRAM,GAxBE,SAAUz9C,GACvB,IAAIC,EAAKD,EAAGmsC,WAAYA,OAAoB,IAAPlsC,EAAgB,OAASA,EAAIyT,EAAK1T,EAAGosC,YAAaA,OAAqB,IAAP14B,EAAgB,KAAOA,EAAIC,EAAK3T,EAAGqsC,gBAAiBA,OAAyB,IAAP14B,GAAuBA,EAC9LsD,EAAYmO,KAiBhB,MAAO,CACHs4B,cAjBgBl4C,uBAAY,SAAUm4C,GACtC,GAAIt0B,yBAAe8iB,GACf,OAAOxqB,uBAAawqB,EAAY,CAC5B7jC,OAAQq1C,IAGhB,IAAIC,EAAmC,oBAAfzR,EAClBA,EAAWwR,GACX36C,KAAI26C,EAAQxR,GAClB,OAAOE,EACDp1B,EAAU2mC,EAAY,CAAE7tC,EAAG6tC,IAC3BA,IACP,CAACzR,EAAYl1B,EAAWo1B,IAMvBwR,eALiBr4C,uBAAY,SAAUm4C,GAAU,OAAO36C,KAAI26C,EAAQvR,KAAiB,CACrFA,MC/BJnrC,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAgBPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD3I,MAAO,CACH8T,SAAUnL,EAAM+C,QAAQ,QAEzB,CAAEzjB,KAAM,kBA2EX46C,GAAc,SAAUhvC,GACxB,IAAIo1B,EAAap1B,EAAMo1B,WAAYlkC,EAAK8O,EAAMivC,QAASA,OAAiB,IAAP/9C,EAAgB,GAAKA,EAAqCylB,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWu4B,EAAelvC,EAAMkvC,aAActC,EAAY5sC,EAAM4sC,UAAWuC,EAAanvC,EAAMmvC,WAAYpS,EAAS/8B,EAAM+8B,OAAQxT,EAAavpB,EAAMupB,WAAYroB,EAAQlB,EAAMkB,MAAO+4B,EAASj6B,EAAMi6B,OAAQvC,EAAW13B,EAAM03B,SAAU0C,EAAUp6B,EAAMo6B,QAAS1lC,EAAUsL,EAAMtL,QAAS2oC,EAAar9B,EAAMq9B,WAAYC,EAAct9B,EAAMs9B,YAAa9M,EAAQxwB,EAAMwwB,MAAOv/B,EAAW+O,EAAM/O,SAAUgkC,EAASj1B,EAAMi1B,OAAQsI,EAAkBv9B,EAAMu9B,gBAAiBzT,EAAW9pB,EAAM8pB,SAAUlT,EAAO5jB,GAAOgN,EAAO,CAAC,aAAc,UAAW,UAAW,YAAa,eAAgB,YAAa,aAAc,SAAU,aAAc,QAAS,SAAU,WAAY,UAAW,UAAW,aAAc,cAAe,QAAS,WAAY,SAAU,kBAAmB,aAC33BmI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACxBkS,kBAAmB7gB,IAAX4jC,EAAsB,oGAC9B/iB,kBAAoB7gB,IAAZ49C,EAAuB,qGAC/B,IAAI99C,EAAKw9C,GAAW,CAChBtR,WAAYA,EACZC,YAAaA,EACbC,gBAAiBA,IACjBqR,EAAgBz9C,EAAGy9C,cAAeG,EAAiB59C,EAAG49C,eACtDnqC,EAAKm1B,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACjC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EACRnL,SAAUA,GAAYlT,IAAQnd,EAAKmL,EAAGnL,GAAI0S,EAAQvH,EAAGuH,MAAOsO,EAAa7V,EAAG6V,WAAY5V,EAAKD,EAAG9J,KAAM3E,EAAQ0O,EAAG1O,MAAOizB,EAAUvkB,EAAGukB,QACrIgmB,EAAwB14C,uBAAY,WACpC,OAAOkS,iBAAqBgkC,GACtBhkC,eAAmBgkC,GACL,KAAdA,EACI,SACAzkC,EAAUykC,EAAW,CAAE3rC,EAAG2rC,MACrC,CAACA,EAAWzkC,IACXknC,EAAuB34C,uBAAY,SAAUm4C,GAAU,OAAOD,EAAcC,KAAY,CACxFD,IAEJ,OAAQhmC,gBAAoB2yB,GAAqBppC,GAAS,CAAEsH,GAAIA,GAAM0S,EAAO,CAAE5I,QAAQ,EAAMrC,MAAiB,KAAVA,IAClF,IAAVA,GAAoB0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,IAAgB9D,UAAWqB,EAAQ7L,MAAQ,IAAMwK,EAAW6kB,oBAAoB,EAAMrlC,SAAUizB,IAAWjzB,GAAQozB,WAAY3gB,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,KAAiB70B,EAjH3U,SAAUxD,GACfA,EAAGy7C,SAAwBz7C,EAAG0rC,YAAyB1rC,EAAG2rC,UAA0B3rC,EAAG4rC,aAAwB5rC,EAAG+9C,QAAqB/9C,EAAGylB,UAA6BzlB,EAAGo+C,gBAA8Bp+C,EAAGq+C,WAAmBr+C,EAAGgF,KAAehF,EAAGqJ,OAAwBrJ,EAAGs+C,cAA8Bt+C,EAAG8rC,aAAwB9rC,EAAG0I,QAA+B1I,EAAGisC,oBAAgCjsC,EAAGksC,SAAiBlsC,EAAGkD,KAAmBlD,EAAGq0C,WAAsBr0C,EAAGiM,QAAejM,EAAGwuB,IAAiBxuB,EAAGu+C,UAAoBv+C,EAAG6gB,OAAoB7gB,EAAGw+C,UAA2Bx+C,EAAGy+C,cAAyBz+C,EAAGu9B,QAAgBv9B,EAAG8L,KAAqB9L,EAAGumC,aAAqBvmC,EAAGlB,KAAuBkB,EAAGssC,eAA6BtsC,EAAGke,WAAoBle,EAAG6I,MAAnwB,IAA0wB6c,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,cAAe,YAAa,eAAgB,UAAW,YAAa,kBAAmB,aAAc,OAAQ,SAAU,gBAAiB,eAAgB,UAAW,sBAAuB,WAAY,OAAQ,aAAc,UAAW,MAAO,YAAa,SAAU,YAAa,gBAAiB,UAAW,OAAQ,eAAgB,OAAQ,iBAAkB,aAAc,UACvpC,OAAOyrC,GAAuB/lB,GA+G0UwR,CAAkBxR,IACtXwe,EAAcxsB,gBAAoB4X,KAAU,CAAEzmB,MAAOo1C,EAAYr6C,IAAK,OAAQ,aAAcqT,EAAU,+BAAgCqK,MAAOrK,EAAU,gCAAkCinC,KAA4B,KACrNH,EAAQv1C,KAAI,SAAUm1C,GAAU,OAAQjmC,gBAAoB4X,KAAU,CAAE1rB,IAAKi6C,EAAeF,GAAS90C,MAAOg1C,EAAeF,GAASzkB,SAAUl2B,KAAI26C,EAAQK,IAAiBG,EAAqBR,SAExMG,GAAY13B,UAAY,CACpB8d,WAAY7d,KAAU6F,KACtBwvB,UAAWr1B,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUrd,UAC5Di1C,WAAY53B,KAAUkM,IACtBwrB,QAAS13B,KAAUsf,QAAQtf,KAAUiB,QACrCR,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBtW,MAAOqW,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAU6F,OACxD1oB,QAAS6iB,KAAUiB,OACnB6kB,WAAY9lB,KAAU8F,UAAU,CAC5B9F,KAAUC,OACVD,KAAUuJ,KACVvJ,KAAUrd,UACXugB,WACH6iB,YAAa/lB,KAAUC,OAAOiD,WAC9By0B,aAAc33B,KAAUC,OACxBkkB,WAAYnkB,KAAU6F,KACtBnsB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,OAClB+lB,gBAAiBhmB,KAAU6F,MAE/B4xB,GAAYt+B,aAAe,CACvBk8B,UAAW,GACXuC,WAAY,GACZz6C,QAAS,GACT2oC,WAAY,OACZC,YAAa,KACbC,iBAAiB,EACjB2R,aAAc,YAEHF,UC5KTv3B,GAAYC,aAAW,CACzBvL,MAAO,CAAEsM,MAAO,OAOdm3B,GAA0B,SAAA5vC,GAC5B,IAAMmI,EAAYmO,KACZ0B,EAAUP,KAChB,OACI,cAAC,GAAD,2BACQzX,GADR,IAEIivC,QAASR,GAAS/0C,KAAI,SAAA80C,GAAO,MAAK,CAC9B/0C,GAAI+0C,EAAQ/0C,GACZrF,KAAM+T,EAAUqmC,EAAQp6C,UAE5BuiB,UAAWqB,EAAQ7L,UAK/ByjC,GAAal/B,aAAe,CACxBukB,OAAQ,UAGG2a,UClCXz9C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAOPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDg4B,KAAM,CACF+C,eAAgB,OAChBz4B,MAAOtC,EAAMoK,QAAQc,QAAQkB,SAE9B,CAAE9sB,KAAM,WACXkwC,GAAO,SAAUtkC,GACjB,IAAIqT,EAAKrT,EAAMqT,GAAI3K,EAAW1I,EAAM0I,SAA2CiO,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWC,EAAO5jB,GAAOgN,EAAO,CAAC,KAAM,WAAY,UAAW,cAC3JgY,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoBknC,KAAQ39C,GAAS,CAAEkhB,GAAIA,EAAIsD,UAAW0B,KAAWL,EAAQ80B,KAAMn2B,IAAcC,GAAOlO,IAEpH47B,GAAKhtB,UAAY,CACbX,UAAWY,KAAUC,OACrB9O,SAAU6O,KAAUiD,KACpBnH,GAAIkE,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUiB,UAE1C8rB,UCvBAyL,GATgB,SAAC,GAAD,IAAGv2C,EAAH,EAAGA,OAAH,IAAW8e,YAAX,MAAkB,KAAlB,EAAwB3B,EAAxB,EAAwBA,UAAxB,OAC3Bnd,EACI,cAACsgB,GAAA,EAAD,CACI9D,IAAG,UAAKxc,EAAOyf,OAAZ,iBAA2BX,EAA3B,YAAmCA,GACtC0S,MAAO,CAAEvS,MAAO0Y,SAAS7Y,EAAM,IAAKY,OAAQiY,SAAS7Y,EAAM,KAC3D3B,UAAWA,IAEf,MCVFc,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmI,KAAM,CACFkE,QAAS,OACTkU,SAAU,SACV3R,WAAY,UAEhBzK,OAAQ,CACJqC,YAAaxG,EAAM+C,QAAQ,GAC3BoH,WAAYnK,EAAM+C,QAAQ,IAC1Bs2B,cAAer5B,EAAM+C,QAAQ,SAQ/Bm4B,GAA2B,SAAC,GAAsB,IAApBx2C,EAAmB,EAAnBA,OAAQ8e,EAAW,EAAXA,KAClCN,EAAUP,KAChB,OAAOje,EACH,sBAAKmd,UAAWqB,EAAQiF,KAAxB,UACI,cAAC,GAAD,CACItG,UAAWqB,EAAQiB,OACnBzf,OAAQA,EACR8e,KAAMA,IAET9e,EAAOy2C,WANZ,IAMyBz2C,EAAO02C,aAEhC,MAGRF,GAAct/B,aAAe,CACzBukB,OAAQ,YACR/zB,MAAO,mCAGIoc,sBAAY0yB,ICrCrBG,GAA8C,SAAAnwC,GAAK,OACrDA,EAAMxG,OACF,cAAC,GAAD,CAAM6Z,GAAE,qBAAgBrT,EAAMxG,OAAOC,IAArC,SACI,cAAC,GAAD,eAAmBuG,MAEvB,MAERmwC,GAAkBz/B,aAAe,CAC7BukB,OAAQ,cACR0X,UAAU,GAGCwD,UChBTC,GAAqB,SAACpwC,GAAD,OACvBA,EAAMxG,QAAUwG,EAAMi1B,OAClBj1B,EAAMxG,OAAOwG,EAAMi1B,QAAU,IACzB,sBAAMjK,MAAO,CAAE5T,MAAO,OAAtB,SACI,cAAC,GAAD,eAAiBpX,MAGrB,cAAC,GAAD,eAAiBA,IAErB,MAERowC,GAAmB1/B,aAAei9B,GAAYj9B,aAE/B0/B,U,gCChBXj+C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQPg+C,GAAa,SAAUn/C,GACvB,IAAIC,EAAKD,EAAG8T,SAAUA,OAAkB,IAAP7T,EAAgB,GAAKA,EAAIyT,EAAK1T,EAAGgQ,MAAOA,OAAe,IAAP0D,EAAgB,iBAAmBA,EAAIpL,EAAStI,EAAGsI,OAAQqL,EAAK3T,EAAGslB,KAAMA,OAAc,IAAP3R,EAAgB4R,GAAc5R,EAAI+R,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,QAAS,SAAU,SACrP,OAAQ0X,gBAAoBgR,GAAQznB,GAAS,CAAE6f,UAAWsyB,KAAMjxB,GAAIq3B,aAAa1lC,EAAUxL,GAAUA,EAAOC,IAAKyH,MAAOA,EAAOwV,QAASsqB,IAAmBpqB,GAAOJ,IAElKC,GAAc7N,gBAAoB0nC,KAAe,MAEjDtP,GAAkB,SAAU/tC,GAAK,OAAOA,EAAE+tC,mBAC9CqP,GAAW/4B,UAAY,CACnBtS,SAAUuS,KAAUC,OACpBhB,KAAMe,KAAUrd,QAChBgH,MAAOqW,KAAUC,OACjBhe,OAAQ+d,KAAUkM,KAEP4sB,UCrBT54B,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmI,KAAM,CAAErF,OAAQ,OAChB8S,KAAM,CACFxR,OAAQ,OACRiI,QAAS,OACTC,cAAe,SACfxJ,OAAQ,YAEZ24B,iBAAkB,CACdpvB,QAAS,OACTC,cAAe,MACfsC,WAAY,SACZrC,eAAgB,iBAEpBmvB,YAAY,2BACL17B,EAAM0P,WAAWisB,OADb,IAEPtvB,QAAS,OACTC,cAAe,eAUjBsvB,GAAwB,SAAC,GAA6B,IAA3Bv1C,EAA0B,EAA1BA,IAAKjF,EAAqB,EAArBA,KAAM8O,EAAe,EAAfA,SAClCmD,EAAYmO,KACZ0B,EAAUP,KAEhB,OAAKtc,GAAQjF,EAKT,qBAAKygB,UAAWqB,EAAQiF,KAAxB,SACK9hB,EAAIzB,KAAI,SAAAD,GAAE,OACP,eAAC2xB,GAAA,EAAD,CAAezU,UAAWqB,EAAQ0S,KAAlC,UACI,cAACimB,GAAA,EAAD,CACIn+B,MACI,sBAAKmE,UAAWqB,EAAQu4B,iBAAxB,UACI,uCAAQr6C,EAAKuD,GAAIw2C,WAAjB,YAA+B/5C,EAAKuD,GAAIy2C,aACxC,cAAC,GAAD,CACIj/C,SAAS,WACT+T,SAAUA,EACVxL,OAAQtD,EAAKuD,QAIzBwf,OAAQ,cAAC,GAAD,CAAazf,OAAQtD,EAAKuD,GAAK6e,KAAK,SAEhD,eAACooB,GAAA,EAAD,CAAa/pB,UAAWqB,EAAQw4B,YAAhC,UACI,gCACKroC,EACG,4CAFR,OAKI,cAAC,GAAD,CAAW3O,OAAQtD,EAAKuD,GAAKw7B,OAAO,iBAExC,gCACK9sB,EACG,0BACAjS,EAAKuD,GAAIm3C,aAAe,GAHhC,YAMI,cAAC,GAAD,CACIp3C,OAAQtD,EAAKuD,GACbw7B,OAAO,cACP/zB,MAAM,2CAGd,gCACKiH,EACG,0CAFR,SAIa,IACT,cAAC,GAAD,CACI3O,OAAQtD,EAAKuD,GACbw7B,OAAO,cACPvgC,QAAS,CAAEs2B,MAAO,WAAY6lB,SAAU,eAInD36C,EAAKuD,GAAI60C,QAAUp4C,EAAKuD,GAAI60C,OAAO38C,OAAS,GACzC,cAAC+uC,GAAA,EAAD,CAAa/pB,UAAWqB,EAAQw4B,YAAhC,SACI,cAAC,GAAD,CAAeh3C,OAAQtD,EAAKuD,SAhD7BA,QANZ,MA+Dfi3C,GAAWhgC,aAAe,CACtBxa,KAAM,GACNiF,IAAK,IAGMu1C,U,oFChFAI,GApBY,SAAU9wC,GACjC,IAAI4uB,EAAUzlB,qBAAW81B,IACzB,OAAKrQ,EAAQV,WAgBNU,EAFI5uB,GCpCX7N,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA+CIirB,mBAvBQ,SAAUtd,GAC7B,IAAI9O,EAAK8O,EAAMi1B,OAAQA,OAAgB,IAAP/jC,EAAgB,IAAMA,EAAI0lB,EAAO5jB,GAAOgN,EAAO,CAAC,WAC5E7O,EAAK2/C,KAAwB7iB,EAAe98B,EAAG88B,aAAcK,EAAan9B,EAAGm9B,WAC7EnmB,EAAYmO,KACZy6B,EAAiB,SAAU/5B,GAC3B,IAAI9lB,EACJ,GAAI8lB,EAAM7iB,OACNm6B,EAAWn8B,GAASA,GAAS,GAAI87B,KAAgB/8B,EAAK,IAAO+jC,GAAUje,EAAM7iB,OAAO4F,MAAO7I,IAAM,UAEhG,CACD,IAAIC,EAAK88B,EAAcrpB,EAAKqwB,EAAoB/C,GAAR/gC,EAAGyT,GAAe5R,GAAO7B,EAAI,CAAe,kBAAPyT,EAAkBA,EAAKA,EAAK,MACzG0pB,EAAW4D,EAAS,QAI5B,OAAQtpB,gBAAoB+gB,KAAM,CAAEC,SADrB,eAC2C,SAAU14B,GAC7CA,EAAG84B,aACtB,OAAQphB,gBAAoB60B,GAAWtrC,GAAS,CAAEupC,YAAY,EAAMnS,YAAY,EAAO0L,OAAQA,EAAQ/zB,MAAOiH,EAAU,oBAAqBszB,WAAY,CACjJK,aAAelzB,gBAAoBszB,KAAgB,CAAEtd,SAAU,OAC3DhW,gBAAoBi1B,KAAY,CAAEzmB,MAAO,eAC9CsgB,SAAUqZ,GAAkBn6B,U,WCf5Bo6B,GATE,SAAU9/C,GACvB,IAAIgQ,EAAQhQ,EAAGgQ,MAAOsV,EAAOtlB,EAAGslB,KAAM9N,EAAWxX,EAAGwX,SAChDP,EAAYmO,KAChB,OAAQ1N,gBAAoBA,WAAgB,KACxCA,gBAAoBqoC,KAAK,CAAEC,GAAI,EAAG/vB,QAAS,OAAQuC,WAAY,UAC3D9a,gBAAoBqoC,KAAK,CAAEE,GAAI,GAAK36B,GACpC5N,gBAAoBsU,KAAY,CAAEL,QAAS,YAAc1U,EAAUjH,KACvE0H,gBAAoBs+B,KAAM,CAAEjmB,OAAO,EAAMmwB,gBAAgB,GAAQ1oC,K,2EC/CrEvW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAW5BglB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDu8B,SAAU,CACN7pB,YAAa,OAEjB8pB,aAAc,CACV15B,OAAQ,OA0JD0F,mBA9BM,SAAUtd,GAC3B,IAAIkB,EAAQlB,EAAMkB,MAAOnH,EAAQiG,EAAMjG,MACnC7I,EAAK4/C,KAAwB7iB,EAAe/8B,EAAG+8B,aAAcK,EAAap9B,EAAGo9B,WAC7EnmB,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACpBuxC,EAAahyC,KAAQ3G,IAAOmB,GAAO,SAAUW,GAAO,MAAsB,qBAARA,KAArD6E,CAA8E0uB,GAc3FujB,EAAe,WAAc,OAAQD,EAVtB,WACf,IAAIE,EAAehgD,OAAOC,KAAKqI,GAC3Bm4B,EAAUzgC,OAAOC,KAAKu8B,GAAczzB,QAAO,SAAU0F,EAAKpL,GAC1D,IAAI5D,EACJ,OAAOugD,EAAa18C,SAASD,GACvBoL,EACA/N,GAASA,GAAS,GAAI+N,KAAOhP,EAAK,IAAO4D,GAAOm5B,EAAan5B,GAAM5D,MAC1E,IACHo9B,EAAW4D,EAAS,MAAM,GAEwBwf,QAZlDpjB,EAAWn8B,GAASA,GAAS,GAAI87B,GAAel0B,GAAQ,MAAM,IAalE,OAAQ6O,gBAAoB+oC,KAAU,CAAEzoB,QAAQ,EAAMxS,QAAS86B,EAAcxH,SAAUuH,EAAY56B,UAAWqB,EAAQq5B,UAClHzoC,gBAAoBgpC,KAAc,CAAE5xB,QAAS7X,EAAUjH,EAAO,CAAED,EAAGC,IAAUyV,UAAWqB,EAAQs5B,aAAc,gBAAiBC,EAAa,OAAS,UACrJA,GAAe3oC,gBAAoBipC,KAAyB,KACxDjpC,gBAAoBuO,KAAY,CAAEmB,KAAM,QAAS5B,QAAS86B,GACtD5oC,gBAAoBw5B,KAAY,YAE5B,SAAUwC,EAAWC,GACrC,OAAOD,EAAU1jC,QAAU2jC,EAAU3jC,OACjC2gB,YAAa+iB,EAAU7qC,MAAO8qC,EAAU9qC,U,SC9J1CqxB,GAAOnE,cAAW,SAAAnS,GAAK,YAAK,CAC9BmI,MAAI,oBACCnI,EAAM0H,YAAY6C,GAAG,MAAQ,CAC1BpiB,OAAQ,EACRwb,MAAO,OACP6C,YAAa,QAJjB,eAMCxG,EAAM0H,YAAYC,KAAK,MAAQ,CAC5B0E,QAAS,SAPb,MADK8F,CAWT6qB,MAkHWC,GAhHG,kBACd,cAAC,GAAD,UACI,eAACrR,GAAA,EAAD,WACI,cAAC,GAAD,IAEA,eAAC,GAAD,CACIx/B,MAAM,2CACNsV,KAAM,cAAC,KAAD,IAFV,UAII,cAAC,GAAD,CACItV,MAAM,oCACNnH,MAAO,CACHi4C,cAAeC,4BAAiBC,cAChCC,mBAAe9gD,KAGvB,cAAC,GAAD,CACI6P,MAAM,wCACNnH,MAAO,CACHi4C,cAAeI,uBAAY,IAAIh6C,MAAQ85C,cACvCC,mBAAe9gD,KAGvB,cAAC,GAAD,CACI6P,MAAM,wCACNnH,MAAO,CACHi4C,cAAeK,oBACXD,uBAAY,IAAIh6C,MAChB,GACF85C,cACFC,cAAeC,uBAAY,IAAIh6C,MAAQ85C,iBAG/C,cAAC,GAAD,CACIhxC,MAAM,yCACNnH,MAAO,CACHi4C,cAAeM,wBAAa,IAAIl6C,MAAQ85C,cACxCC,mBAAe9gD,KAGvB,cAAC,GAAD,CACI6P,MAAM,yCACNnH,MAAO,CACHi4C,cAAeO,qBACXD,wBAAa,IAAIl6C,MACjB,GACF85C,cACFC,cAAeG,wBAAa,IAAIl6C,MAAQ85C,iBAGhD,cAAC,GAAD,CACIhxC,MAAM,sCACNnH,MAAO,CACHi4C,mBAAe3gD,EACf8gD,cAAeI,qBACXD,wBAAa,IAAIl6C,MACjB,GACF85C,oBAKd,eAAC,GAAD,CACIhxC,MAAM,0CACNsV,KAAM,cAAC,KAAD,IAFV,UAII,cAAC,GAAD,CACItV,MAAM,kBACNnH,MAAO,CACHy4C,gBAAiB,EACjBC,qBAAiBphD,KAGzB,cAAC,GAAD,CACI6P,MAAM,mBACNnH,MAAO,CACHy4C,qBAAiBnhD,EACjBohD,gBAAiB,QAK7B,eAAC,GAAD,CACIvxC,MAAM,6CACNsV,KAAM,cAAC,KAAD,IAFV,UAII,cAAC,GAAD,CACItV,MAAM,kBACNnH,MAAO,CAAE24C,gBAAgB,KAE7B,cAAC,GAAD,CACIxxC,MAAM,mBACNnH,MAAO,CAAE24C,gBAAgB,QAIjC,cAAC,GAAD,CACIxxC,MAAM,oCACNsV,KAAM,cAAC,KAAD,IAFV,SAIKi4B,GAAS/0C,KAAI,SAAA80C,GAAO,OACjB,cAAC,GAAD,CACIttC,MAAOstC,EAAQp6C,KAEf2F,MAAO,CAAEu0C,OAAQE,EAAQ/0C,KADpB+0C,EAAQ/0C,eC9G/Bk5C,GAAgB,SAAC3yC,GAAD,OAClB,eAAC,GAAD,2BAAYA,GAAZ,cACI,cAAC,GAAD,CAAai1B,OAAO,IAAIC,UAAQ,IAChC,cAAC,GAAD,CAAWD,OAAO,kBAClB,cAAC,GAAD,CAAsBA,OAAO,gBAC7B,cAAC,GAAD,CAAsBA,OAAO,iBAAiBhE,cAAY,IAC1D,cAAC,GAAD,SAIFxZ,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnC87B,YAAa,CAAEx5B,MAAO,UACtBw7B,qBAAqB,cACjBzxB,QAAS,cACRrM,EAAM0H,YAAYC,KAAK,MAAQ,CAC5B0E,QAAS,aA8CN0xB,GAzCK,SAAC7yC,GACjB,IAAMgY,EAAUP,KACVq7B,EAAWv2B,cAAqB,SAAAzH,GAAK,OACvCA,EAAM0H,YAAYC,KAAK,SAErBiB,EAAUnB,cAAqB,SAAAzH,GAAK,OAAIA,EAAM0H,YAAYC,KAAK,SACrE,OACI,cAAC,GAAD,2BACQzc,GADR,IAEIkyB,QAASxU,EAAU,cAAC,GAAD,SAAoBrsB,EACvC2L,KAAM,CAAEozB,MAAO,YAAanzB,MAAO,QACnCE,QAAS,GACT6oC,MAAO,cAAC+M,GAAD,IALX,SAOKD,EACG,cAAC,GAAD,IAEA,eAAC,GAAD,CAAU1G,WAAS,EAACrC,SAAS,OAA7B,UACI,cAAC,GAAD,IACA,cAAC,GAAD,CAAW9U,OAAO,cAClB,cAAC,GAAD,CACIA,OAAO,cACP/zB,MAAM,sCACNyV,UAAWqB,EAAQ44B,cAEvB,cAAC,GAAD,CACI3b,OAAO,cACPvgC,QAAS,CAAEs2B,MAAO,WAAY6lB,SAAU,SAE5C,cAAC,GAAD,CAAW5b,OAAO,kBAAkBoY,UAAQ,IAC5C,cAAC,GAAD,CAAcpY,OAAO,iBAAiB/zB,MAAM,UAC5C,cAAC,GAAD,CACIqoC,cAAevxB,EAAQ46B,qBACvBrL,gBAAiBvvB,EAAQ46B,8B,sBCvDtCI,IArBoBjrC,wBAAc,IAqBf,SAAU7W,GACpC,IAAIE,EAAYF,EAAGE,UAAWE,EAAYJ,EAAGI,UAAWwqB,EAAY5qB,EAAG4qB,UACnEm3B,EAAerrB,iBAAOx2B,GAQtB8hD,EAAetrB,iBAAOt2B,GAQtB6hD,EAAevrB,iBAAO9L,GAQ1B,MAAO,CACHm3B,aAAcA,EACdG,aAzBe,SAAUhiD,GACzB6hD,EAAalrB,QAAU,SAAUzjB,GAG7B,OADA2uC,EAAalrB,aAAU12B,EAChBD,EAAUkT,KAsBrB4uC,aAAcA,EACdG,aAnBe,SAAU/hD,GACzB4hD,EAAanrB,QAAU,SAAU5xB,GAG7B,OADA+8C,EAAanrB,aAAU12B,EAChBC,EAAU6E,KAgBrBg9C,aAAcA,EACdG,aAbe,SAAUx3B,GACzBq3B,EAAaprB,QAAU,SAAU7xB,GAG7B,OADAi9C,EAAaprB,aAAU12B,EAChByqB,EAAU5lB,QC2ElBq9C,GAAY,SAAUriD,EAAIsI,GACjC,IAAIjD,EAAQrF,EAAGqF,MAAO6U,EAASla,EAAGka,OAElC,QADe,IAAX5R,IAAqBA,EAAS,IAC9BjD,GAASA,EAAMiD,OACf,OAAOjD,EAAMiD,OAEjB,GAAI4R,EACA,IACI,IAAIooC,EAAehjB,iBAAMplB,GACzB,GAAIooC,EAAave,OACb,OAAIzhC,MAAMuhB,QAAQy+B,EAAave,aAC3BxgB,QAAQte,MAAM,8CAAgDiV,EAAS,0HAGpEnU,KAAKu5B,MAAMgjB,EAAave,QAGvC,MAAOhiC,GACHwhB,QAAQte,MAAM,8CAAgDiV,EAAS,0HAG/E,OAAO5R,GAEPi6C,GAA0B,SAAUvnB,EAASD,GAC7C,OAAIA,EACO,OAEPC,EACO,OAEJ,QClIAwnB,GAAgB3rC,6BAAc1W,GAC9BsiD,GAAwB,SAAUziD,GACzC,IAAIwX,EAAWxX,EAAGwX,SAAU3O,EAAQ7I,EAAG6I,MACvC,OAAQ6O,gBAAoB8qC,GAAc5qC,SAAU,CAAE/O,MAAOA,GAAS2O,IAE1EgrC,GAAclrC,YAAc,gBACrB,IAAIorC,GAAuB,SAAUhlB,GAExC,OADY59B,mBAAQ,WAAc,OAAOouC,KAAKxQ,EAAS,CAAC,aAAe,CAACA,EAAQp1B,UCTzEq6C,GAAgB9rC,wBAAc,CACrC/C,SAAU,KACVxL,OAAQ,KACR0pB,aAAc,KACdgwB,aAAc,KACdD,aAAc,KACdE,aAAc,KACd78C,OAAQ,KACRD,QAAS,KACT3F,SAAU,KACV2iD,aAAc,KACdD,aAAc,KACdE,aAAc,KACdriD,SAAU,KACVka,KAAM,KACNutB,OAAQ,KACRob,eAAgB,KAChBxN,QAAS,OAEbuN,GAAcrrC,YAAc,gBCnCrB,IAAIurC,GAAchsC,6BAAc1W,GAC5B2iD,GAAsB,SAAU9iD,GACvC,IAAIwX,EAAWxX,EAAGwX,SAAU3O,EAAQ7I,EAAG6I,MACvC,OAAQ6O,gBAAoBmrC,GAAYjrC,SAAU,CAAE/O,MAAOA,GAAS2O,IA8B7DurC,GAAqB,SAAUrlB,GA2BtC,OA1BY59B,mBAAQ,WAChB,OAAOouC,KAAKxQ,EAAS,CACjB,OACA,SACA,eACA,eACA,eACA,eACA,eACA,mBAIR,CACIA,EAAQzjB,KACRyjB,EAAQ8J,OACR9J,EAAQykB,aACRzkB,EAAQwkB,aACRxkB,EAAQ0kB,aACR1kB,EAAQ0kB,aACR1kB,EAAQskB,aACRtkB,EAAQqkB,aACRrkB,EAAQukB,gBChCLe,GAAwB,SAAUhjD,GACzC,IAAIwX,EAAWxX,EAAGwX,SAAU3O,EAAQ7I,EAAG6I,MACvC,OAAQ6O,gBAAoBirC,GAAc/qC,SAAU,CAAE/O,MAAOA,GACzD6O,gBAAoBorC,GAAqB,CAAEj6C,MAAOk6C,GAAmBl6C,IACjE6O,gBAAoB+qC,GAAuB,CAAE55C,MAAO65C,GAAqB75C,IAAU2O,MC5B3FyrC,GAAiB,SAAUjjD,GAC3B,IAAIgyB,EAAehyB,EAAGgyB,aAAc1pB,EAAStI,EAAGsI,OAAQgZ,EAAQthB,EAAGshB,MACnE,OAAOhZ,EAAUoP,gBAAoBqa,GAAO,CAAEzQ,MAAOA,EAAOhZ,OAAQA,EAAQ0pB,aAAcA,IAAmB,MAEjHixB,GAAe78B,UAAY,CACvB4L,aAAc3L,KAAUkM,IACxBjqB,OAAQ+d,KAAUiB,OAClBhG,MAAOgR,IAEI2wB,UCZXhiD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUA+hD,GAAa,SAAUp0C,GAC9B,IAAI9O,EACAsuC,EAAUx/B,EAAMw/B,QAASwG,EAAQhmC,EAAMgmC,MAAOt9B,EAAW1I,EAAM0I,SAA2CiO,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWuvB,EAAUlmC,EAAMgS,UAAWQ,EAAQxS,EAAMwS,MAAOoE,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,QAAS,WAAY,UAAW,YAAa,YAAa,UAClRgY,EAAUP,GAAUzX,GACpB7O,EChCsB,SAAU6O,GACpC,IAAI4uB,EAAUzlB,qBAGd0qC,IACA,OAAKjlB,EAAQ39B,SAYN29B,EAFI5uB,EDiBFq0C,CAAiBr0C,GAAQgF,EAAW7T,EAAG6T,SAAUke,EAAe/xB,EAAG+xB,aAAcpB,EAAU3wB,EAAG2wB,QAAStoB,EAASrI,EAAGqI,OAAQ9I,EAAWS,EAAGT,SAAUO,EAAWE,EAAGF,SAAUka,EAAOha,EAAGga,KAAMutB,EAASvnC,EAAGunC,OAAQ4N,EAAUn1C,EAAGm1C,QACrO,OAAQ19B,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAW,cAAezI,EAAQiF,KAAMtG,IAAcyR,GAAkBxR,IAC7HhO,gBAAoBurC,GAAgB,CAAE3hC,MAAOA,EAAOhZ,OAAQA,EAAQ0pB,aAAcA,IAClFsc,GACI3sB,uBAAa2sB,EAASrtC,GAAS,CAAE6S,SAAUA,EACvC/T,SAAUA,EACV6wB,QAASA,GAAW0d,EAAQx/B,QACpC4I,gBAAoB,MAAO,CAAE+N,UAAW8J,KAAWzI,EAAQkJ,MAAOhwB,EAAK,GAC/DA,EAAG8mB,EAAQs8B,YAAc9U,EACzBtuC,KACJ0X,gBAAoBs9B,EAAS,CAAEvvB,UAAWqB,EAAQ0S,MAAQ7X,uBAAa9J,WAASC,KAAKN,GAAW,CAC5F1D,SAAUA,EACVxL,OAAQA,EACR9I,SAA6C,qBAA5BgY,EAAS1I,MAAMtP,SAC1BA,EACAgY,EAAS1I,MAAMtP,SACrBO,SAAUA,EACVka,KAAMA,EACNutB,OAAQA,EACR4N,QAASA,KAEbN,GACInzB,uBAAamzB,EAAO,CAChBhhC,SAAUA,EACVxL,OAAQA,EACRvI,SAAUA,EACVka,KAAMA,EACNutB,OAAQA,EACR4N,QAASA,OAG7B8N,GAAW98B,UAAY,CACnBkoB,QAASjoB,KAAUrd,QACnB8rC,MAAOzuB,KAAUrd,QACjB8K,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QACpB8d,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB0L,aAAc3L,KAAUkM,IACxB3B,QAASvK,KAAU6F,KACnB8O,QAAS3U,KAAU6F,KACnB5jB,OAAQ+d,KAAUiB,OAClB9nB,SAAU6mB,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAU6F,OAC3DnsB,SAAUsmB,KAAUC,OACpBrM,KAAMoM,KAAUuJ,KAChBtO,MAAO+E,KAAUiD,KACjBppB,UAAWmmB,KAAUuJ,KACrBxvB,UAAWimB,KAAUuJ,KACrBsyB,aAAc77B,KAAUuJ,KACxBuyB,aAAc97B,KAAUuJ,KACxBwyB,aAAc/7B,KAAUuJ,MAE5BszB,GAAW1jC,aAAe,CACtBsH,QAAS,GACThG,UAAWoZ,MAEf,IAAI3T,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJ+rB,KAAM,GACNiE,KAAM,CACFC,QAAS,QAEbmzB,WAAYpjD,EAAK,GACbA,EAAG4jB,EAAM0H,YAAY6C,GAAG,OAAS,CAC7BJ,UAAW,OAEf/tB,GACJw5B,KAAM,CACF1O,KAAM,eAGf,CAAE5nB,KAAM,aACPg0B,GAAoB,SAAUl3B,GACrBA,EAAG8T,SAAqD9T,EAAGgyB,aAA6DhyB,EAAGi7B,UAAuDj7B,EAAG+6B,QAAmD/6B,EAAG4wB,QAAmD5wB,EAAGg7B,QAAmDh7B,EAAG2V,QAAmD3V,EAAGoF,OAAiDpF,EAAGmF,QAAmDnF,EAAG0R,SAAqD1R,EAAGk1B,MAA+Cl1B,EAAGI,UAAuDJ,EAAGgiD,aAA6DhiD,EAAGE,UAAuDF,EAAG+hD,aAA6D/hD,EAAGwD,QAAmDxD,EAAGwgB,YAA2DxgB,EAAGia,KAA6Cja,EAAGwnC,OAAiDxnC,EAAGmiD,aAA6DniD,EAAGkiD,aAA6DliD,EAAGoiD,aAA6DpiD,EAAG4qB,UAAuD5qB,EAAGiiD,aAChzC,OAD+2CngD,GAAO9B,EAAI,CAAC,WAAY,eAAgB,YAAa,UAAW,UAAW,UAAW,UAAW,SAAU,UAAW,WAAY,QAAS,YAAa,eAAgB,YAAa,eAAgB,UAAW,cAAe,OAAQ,SAAU,eAAgB,eAAgB,eAAgB,YAAa,kBE5G7pDiB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAiDrB8hD,GAAS,SAAUv0C,GAC1B6uB,GAA6B,SAAU,CAAC,YAAa7uB,GACrD,IAAImmC,ER9ByB,SAAUnmC,GACvC6uB,GAA6B,SAAU,CAAC,WAAY,YAAa7uB,GACjE,IAAIgF,EAAWhF,EAAMgF,SAAUinB,EAAUjsB,EAAMisB,QAASC,EAAUlsB,EAAMksB,QAASh7B,EAAK8O,EAAMxG,OAAQA,OAAgB,IAAPtI,EAAgB,GAAKA,EAAI4iD,EAAiB9zC,EAAM8zC,eAAgB1iD,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UAAWwqB,EAAY9b,EAAM8b,UACrP7qB,EAAWyiC,GAAmB1zB,GAC9B4C,EAAW8lB,eACXvgB,EAAYmO,KACZ9lB,EAASC,eACTC,EAAWC,eACX6jD,EAAcjB,GAAU3wC,EAAUpJ,GAClC8sC,EAAUC,eAIVp1C,EAAK6hD,GAAiB,CAAE5hD,UAAWA,EAAWE,UAAWA,EAAWwqB,UAAWA,IAAcm3B,EAAe9hD,EAAG8hD,aAAcG,EAAejiD,EAAGiiD,aAAcF,EAAe/hD,EAAG+hD,aAAcG,EAAeliD,EAAGkiD,aAAcF,EAAehiD,EAAGgiD,aAAcG,EAAeniD,EAAGmiD,aAC/Q1uC,EAAK6vC,aAAUxjD,GAAW4Z,EAASjG,EAAG,GAAI8zB,EAAS9zB,EAAG,GAAGvO,QACzD8U,EAAOzU,uBAAY,SAAUR,EAAMrE,EAAYX,QAC5B,IAAfW,IAAyBA,EAAa,QAC1C,IAAIV,OAAY,IAAPD,EAAgB,GAAKA,EAAIwjD,EAAoBvjD,EAAGC,UAAWujD,EAAoBxjD,EAAGG,UAAWsjD,EAAoBzjD,EAAG2qB,UAC7H,OAAO1mB,QAAQkT,QAAQssC,EACjBA,EAAkB1+C,GAClBi9C,EAAaprB,QACTorB,EAAaprB,QAAQ7xB,GACrBA,GAAMY,MAAK,SAAUZ,GAC3B,OAAO2U,EAAO,CAAErW,QAAS,CAAE0B,KAAMA,IAAU,CACvCwF,OAAQkB,GACRxL,UAAWsjD,IAELzB,EAAalrB,QACTkrB,EAAalrB,QACb,SAAU72B,GACR,IAAI4I,EAAY5I,EAAGgF,KACnB1F,EAAOsjD,GACH,0BAA2B,OAAQ,CACnCtyB,YAAa,IAEjB9wB,EAASmB,EAAYmT,EAAUlL,EAAUL,GAAIK,KAEzDxI,UAAWqjD,IAELzB,EAAanrB,QACTmrB,EAAanrB,QACb,SAAU5xB,GACR3F,EAAwB,kBAAV2F,EACRA,EACAA,EAAM8M,SACJ,6BAA8B,UAAW,CAC7ChC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,aAKnC,CACC8hD,EACAtoC,EACAooC,EACAC,EACA1iD,EACAsjD,EACApjD,EACAsU,IAEA0vB,EAAevsB,EAAU,aAAelX,EAAW,QAAS,CAC5DuwB,YAAa,EACbvgB,EAAGwgB,KAAWC,SAASD,KAAWozB,YAAY5jD,MAKlD,MAAO,CACHoF,SAAS,EACTC,QAAQ,EACRoiC,OAAQA,EACRxV,aAPe/a,EAAU,iBAAkB,CAC3C/T,KAAM,GAAKsgC,IAOXwe,aAAcA,EACdD,aAAcA,EACdE,aAAcA,EACdhoC,KAAMA,EACNioC,aAAcA,EACdC,aAAcA,EACdC,aAAcA,EACdriD,SAAUA,EACV+T,SAAUA,EACVxL,OAAQg7C,EACR9jD,SAAU+iD,GAAwBvnB,EAASD,GAC3Cqa,QAASA,GQ1DSwO,CAAoB90C,GACtChO,EAAQ4W,gBAAoBsrC,GAAuB,CAAEn6C,MAAOosC,GAC5Dv9B,gBAAoBwrC,GAAYjiD,GAAS,GAAI6N,EAAOmmC,KACxD,OAAOnmC,EAAM/O,SAEb2X,gBAAoBkjB,GAAyB,CAAE/xB,MAAOiG,EAAM/O,UAAYe,GAAUA,GAEtFuiD,GAAOj9B,UAAY,CACfkoB,QAASjoB,KAAUrd,QACnB8rC,MAAOzuB,KAAUrd,QACjBwO,SAAU6O,KAAUrd,QACpB8d,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB2U,UAAW5U,KAAU6F,KACrB6O,QAAS1U,KAAU6F,KACnB8O,QAAS3U,KAAU6F,KACnBnsB,SAAUsmB,KAAUC,OACpBhF,MAAO+E,KAAUiD,KACjBhhB,OAAQ+d,KAAUiB,OAClBsJ,QAASvK,KAAU6F,KACnB02B,eAAgBv8B,KAAUC,OAC1BpmB,UAAWmmB,KAAUuJ,KACrBxvB,UAAWimB,KAAUuJ,KACrBhF,UAAWvE,KAAUuJ,MAEVyzB,I,qBC9DAQ,GAjBmB,SAAUv7C,GACxC,IAAIyvB,EAAO+rB,eACX3jC,qBAAU,WACN,GAAK7X,EAAL,CAGA,IAAIi8B,EAAgBxM,EAAKgsB,WAAWxf,cAChCyf,EAAgCr/C,KAAM,GAAI4/B,EAAej8B,GAG7DyvB,EAAKksB,UAAU,2BAA2B,GAG1ClsB,EAAKmsB,QAAQF,GACbjsB,EAAKksB,UAAU,2BAA2B,MAC3C,CAAClsB,EAAMhyB,KAAKC,UAAUsC,MC4Cd67C,GA/CiB,SAAUC,GACtC,IAAIrsB,EAAO+rB,eACPnuC,EAAU8hB,eACVxgB,EAAYmO,KAEZi/B,EAAe3tB,iBAAO/gB,EAAQjE,UAClCyO,qBAAU,WACNkkC,EAAaxtB,QAAUlhB,EAAQjE,WAChC,CAACiE,EAAQjE,WACZyO,qBAAU,WACN,GAAKikC,EAAL,CAKA,IAAIE,EAAiBv+C,KAAKu5B,MAAMnxB,OAAOo2C,eAAe7oB,QAAQ,mBAQ9D,OAPI4oB,IACA/jD,OAAOC,KAAK8jD,GAAgBl9C,SAAQ,SAAUxD,GAC1C,OAAOm0B,EAAKysB,OAAO5gD,EAAK0gD,EAAe1gD,OAE3CuK,OAAOo2C,eAAe9oB,WAAW,mBAG9B,WACH,IAAIgpB,EAAY1sB,EAAKgsB,WACrB,GAAIU,EAAUhgB,SACRggB,EAAUnf,iBACPmf,EAAUnf,iBACPmf,EAAU7f,uBAClB,IAAKz2B,OAAOuL,QAAQzC,EAAU,+BAAgC,CAC1D,IAAIytB,EAAc+f,EAAUnf,gBACtBmf,EAAU7f,qBACV6f,EAAU/f,YACZggB,EAAmBnkD,OAAOC,KAAKkkC,GAAap7B,QAAO,SAAU0F,EAAKpL,GAElE,OADAoL,EAAIpL,GAAO6gD,EAAU9rB,OAAO/0B,GACrBoL,IACR,IACHb,OAAOo2C,eAAe/oB,QAAQ,iBAAkBz1B,KAAKC,UAAU0+C,IAC/D/uC,EAAQ9E,KAAKwzC,EAAaxtB,eAI9B1oB,OAAOo2C,eAAe9oB,WAAW,mBA/BrCttB,OAAOo2C,eAAe9oB,WAAW,oBAkCtC,CAACxkB,KCnBO0tC,GAjCW,SAAtBA,EAAgCpgB,EAAe5L,GAG/C,IAAK4L,EACD,OAAO5L,EACX,IAAIisB,EAA+BrkD,OAAOC,KAAK+jC,GAAej7B,QAAO,SAAU0F,EAAKpL,GAuBhF,OAtBI+0B,EAAO/0B,aAAgBsD,KACvB8H,EAAIpL,GAAO+0B,EAAO/0B,GAEbtB,MAAMuhB,QAAQ8U,EAAO/0B,IACtBtB,MAAMuhB,QAAQ0gB,EAAc3gC,IAC5BoL,EAAIpL,GAAO+0B,EAAO/0B,GAAK4E,KAAI,SAAUK,EAAOyC,GACxC,OAAOq5C,EAAoBpgB,EAAc3gC,GAAK0H,GAAQzC,MAI1DmG,EAAIpL,GAAO+0B,EAAO/0B,GAGM,kBAAhB+0B,EAAO/0B,IACW,kBAAvB2gC,EAAc3gC,IACL,OAAhB+0B,EAAO/0B,GACPoL,EAAIpL,GAAO+gD,EAAoBpgB,EAAc3gC,GAAM+0B,EAAO/0B,IAG1DoL,EAAIpL,GACuB,qBAAhB+0B,EAAO/0B,GAAuB,KAAO+0B,EAAO/0B,GAEpDoL,IACR,IAEH,OAAOrK,KAAMigD,EAA8BjsB,IC1C3C13B,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAQhC,SAASsjD,GAAUlsB,EAAQrwB,GACvB,MAAsB,kBAAXqwB,EACAA,EAEW,oBAAXA,EACAA,EAAOrwB,GAEX,GCvBX,IACIw8C,GAAcjuC,wBADS,CAAEkuC,UAAW,eAExCD,GAAYxtC,YAAc,cACXwtC,UCJX7jD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAgFP6jD,GAAsB,CACtBzf,YAAY,EACZL,UAAU,EACVM,OAAO,EACPT,SAAS,GAETkgB,GAAW,SAAUjlD,GACrB,IAAI6gB,EAAS7gB,EAAG6gB,OAAQqkC,EAAyBllD,EAAGklD,uBAAwBC,EAAcnlD,EAAGmlD,YAAar2C,EAAQhN,GAAO9B,EAAI,CAAC,SAAU,yBAA0B,gBAElK6jD,GAA4B/0C,EAAMxG,QAClC67C,GAA0Be,GAC1B,IAAIv/B,EAAWC,cACfzF,qBAAU,WACNwF,EAASy/B,YAAoBt2C,EAAMo2B,aACpC,CAACvf,EAAU7W,EAAMo2B,WACpB,IAAI1lC,EAAWsP,EAAMtP,SAAUs5B,EAAehqB,EAAMgqB,aAiBhDwO,EAA2B9hC,uBAAY,SAAU7E,QAC9B,IAAfA,IAAyBA,EAAanB,GAC1C2lD,EAAYxkD,GACZm4B,MACD,CAACqsB,EAAa3lD,EAAUs5B,IAC3B,OAAOjY,EAAO5f,GAASA,GAAS,GAAI6N,GAAQ,CAAEw4B,yBAA0BA,MAE7D+d,GAjFQ,SAAUrlD,GAC7B,IAAIslD,EAAQtlD,EAAGslD,MAAOC,EAAavlD,EAAGulD,WAAYxlB,EAAe//B,EAAG+/B,aAAcylB,EAAsBxlD,EAAGwlD,oBAAqBztB,EAAO/3B,EAAG+3B,KAAMwM,EAAgBvkC,EAAGukC,cAAekhB,EAAqBzlD,EAAGylD,mBAAoBxlD,EAAKD,EAAG0lD,wBAAyBA,OAAiC,IAAPzlD,GAAuBA,EAAIyT,EAAK1T,EAAGmmC,SAAUA,OAAkB,IAAPzyB,EAAgB0yB,KAAgB1yB,EACjXpL,EAAStI,EAAGsI,OAAQuY,EAAS7gB,EAAG6gB,OAAQ5G,EAAOja,EAAGia,KAAMutB,EAASxnC,EAAGwnC,OAAQ7zB,EAAK3T,EAAGumC,aAAcA,OAAsB,IAAP5yB,EAAgBqxC,GAAsBrxC,EAAIilB,EAAW54B,EAAG44B,SAAU+sB,EAAiB3lD,EAAG2lD,eAAgBvQ,EAAUp1C,EAAGo1C,QAAS8P,EAAyBllD,EAAGklD,uBAAwB7gC,EAAKrkB,EAAG2kD,oBAAqBiB,OAAmC,IAAPvhC,GAAuBA,EAAIvV,EAAQhN,GAAO9B,EAAI,CAAC,QAAS,aAAc,eAAgB,sBAAuB,OAAQ,gBAAiB,qBAAsB,0BAA2B,WAAY,SAAU,SAAU,OAAQ,SAAU,eAAgB,WAAY,iBAAkB,UAAW,yBAA0B,wBAClpBR,EAAWk3B,iBAAO5nB,EAAMtP,UACxB+nC,EAAS7Q,iBAAOzc,GAIhBkrC,EAAc,SAAUU,GACxBrmD,EAASq3B,QAAUgvB,GAWnBd,EAAYv/C,uBAAY,SAAUsgD,GAE3Bve,EAAO1Q,QADO,oBAAdivB,EACiBA,EACA7rC,IACzB,CAACA,IACA8rC,EAAmBjmD,mBAAQ,WAAc,MAAQ,CAAEilD,UAAWA,KAAiB,CAACA,IAChFiB,EFzEO,SAA8BzhB,EAAexE,EAAcz3B,GAItE,MAH4B,qBAAjBy3B,GACPxc,QAAQ0iC,KAAK,oEAEVhlD,GAASA,GAASA,GAAS,GAAI4jD,GAAU9kB,EAAcz3B,IAAUu8C,GAAUtgB,EAAej8B,IAAUA,GEqElF49C,CAAqB3hB,EAAexE,EAAcz3B,GAa3E,OAAQoP,gBAAoBotC,GAAYltC,SAAU,CAAE/O,MAAOk9C,GACvDruC,gBAAoB+gB,KAAM,CAAE70B,IAAKwxC,EAASkQ,MAAOA,EAAOC,WAAYA,EAAYC,oBAAqBA,EAAqBztB,KAAMA,EAAMwM,cAAeyhB,EAAoBP,mBAAoBA,EAAoBC,wBAAyBA,EAAyBvf,SAAUA,EAAUzN,SAb9Q,SAAUC,GACnB,IAAIwtB,OAA4ChmD,WAArBX,EAASq3B,QAC9B/nB,EAAMtP,SACNA,EAASq3B,QACf,GAAI+uB,EAA2B,CAC3B,IAAIQ,EAAkBzB,GAAoBqB,EAAoBrtB,GAC9D4O,EAAO1Q,QAAQuvB,EAAiBD,QAGhC5e,EAAO1Q,QAAQ8B,EAAQwtB,IAI8Q5f,aAAcA,EAAc3N,SAAUA,EAAU+sB,eAAgBA,EAAgB9kC,OAAQ,SAAUwlB,GAAa,OAAQ3uB,gBAAoButC,GAAUhkD,GAAS,GAAI6N,EAAOu3B,EAAW,CAAE/9B,OAAQA,EAAQ68C,YAAaA,EAAa3d,OAAQnB,EAAUd,YAAciC,EAAQ3mB,OAAQA,EAAQ5G,KAAMA,EAAMirC,uBAAwBA,U,sBClGzmBjkD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD5T,MAAO,CACH0d,SAAU,YAEd7kB,MAAO,CACH6pB,WAAY9O,EAAM0P,WAAWZ,WAC7BxM,MAAO,eACPuM,QAAS7O,EAAM+C,QAAQ,GAAK,QAAU/C,EAAM+C,QAAQ,GAAK,EAAI,KAC7DyH,OAAQ,EACRi4B,UAAW,cACXC,cAAe,SACfr4B,WAAY,OACZvH,OAAQ,EACRuJ,QAAS,QACT1I,MAAO,WAER,CAAErkB,KAAM,cAgBXqjD,GAAU,SAAUz3C,GACpB,IAAI0I,EAAW1I,EAAM0I,SAAUiO,EAAY3W,EAAM2W,UAA4C6S,GAAfxpB,EAAMgY,QAAqBhY,EAAMwpB,WAAW/vB,EAAKuG,EAAMvG,GAAI0S,EAAQnM,EAAMmM,MAAOsO,EAAaza,EAAMya,WAAYvZ,EAAQlB,EAAMkB,MAAOhQ,EAAK8O,EAAM4X,OAAQA,OAAgB,IAAP1mB,EAAgB,QAAUA,EAAI4J,EAAOkF,EAAMlF,KAAM7J,EAAW+O,EAAM/O,SAAUgkC,EAASj1B,EAAMi1B,OAAQre,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,YAAa,UAAW,YAAa,KAAM,QAAS,aAAc,QAAS,SAAU,OAAQ,WAAY,WACxdgY,EAAUP,GAAUzX,GACxB,IAAKkB,IAAU+zB,EAAQ,CAEnB,IAAIyiB,EAAShvC,GAAYA,EAAS1Y,MAAQ0Y,EAAS1Y,KAAKoE,KACxD,MAAM,IAAIuB,MAAM,sCAAwC+hD,EAAS,gKAErE,IAAIzf,EAAYzO,EAAYr3B,GAASA,GAAS,GAAIykB,GAAO,CAAE4S,UAAWA,IAAe5S,EACrF,OAAQhO,gBAAoB+uC,KAAa,CAAEhhC,UAAWA,EAAW6S,UAAWA,EAAWrzB,MAAO2E,GAAQA,EAAKsuB,WAAatuB,EAAK3E,MAAOyhB,OAAQA,GACxIhP,gBAAoBgvC,KAAY,CAAEC,QAASp+C,EAAI8kC,QAAQ,EAAM5nB,UAAWqB,EAAQ9W,OAC5E0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,KACpG7R,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQje,OAAS2O,GAAqC,kBAAlBA,EAAS1Y,KAC/E4Y,eAAmBF,EAAUvW,GAAS,CAAEga,MAAOA,EAC7Clb,SAAUA,GAAYgnC,IACxBvvB,KAEd+uC,GAAQngC,UAAY,CAChBtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QACpByc,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnBgR,UAAWjS,KAAU6F,KACrB3jB,GAAI8d,KAAUC,OACdrL,MAAOoL,KAAUiB,OACjBiC,WAAYlD,KAAU6F,KACtBlc,MAAOqW,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAUrd,UACxDY,KAAMyc,KAAUiB,OAChBkf,SAAUngB,KAAUuJ,KACpBtnB,OAAQ+d,KAAUiB,OAClBvnB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,OAClBsgC,WAAYvgC,KAAUiB,QAEXi/B,UC9FXtlD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClD3I,MAAO,CAAEsM,MAAO3D,EAAM+C,QAAQ,QAC3B,CAAEzjB,KAAM,gBACX2jD,GAAY,SAAU/3C,GACtB,IAAI9O,EAAIC,EACJgb,EAAQnM,EAAMmM,MAAwCyK,GAAf5W,EAAMgY,QAAgBhlB,GAAOgN,EAAO,CAAC,QAAS,aACrFgY,EAAUP,GAAUzX,GACxB,OAAOmM,EAASvD,gBAAoB,MAAO,CAAE+N,UAAW8J,KAAW,WAAY,YAActU,EAAMnM,MAAMi1B,OAAQ9oB,EAAMnM,MAAMi9B,gBAAkB9wB,EAAMnM,MAAM2sC,SAAY/jC,gBAAoB6uC,GAAStlD,GAAS,CAAEsH,GAAI0S,EAAMnM,MAAMvG,IAAM0S,EAAMnM,MAAMi1B,QAAU9oB,EAAMnM,MAX7O,SAAU9O,GAE9B,OADeA,EAAG8T,SAAmB9T,EAAGsI,OAAexG,GAAO9B,EAAI,CAAC,WAAY,WAUyLk3B,CAAkBxR,IAAQhO,eAAmBuD,EAAOha,GAAS,CAAEwkB,UAAW8J,MAAYvvB,EAAK,GAC3VA,EAAG8mB,EAAQ7L,QAAUA,EAAMnM,MAAMwpB,UACjCt4B,GAAKib,EAAMnM,MAAM2W,WAAYld,GAAI0S,EAAMnM,MAAMvG,IAAM0S,EAAMnM,MAAMi1B,QAAUre,KAAYhO,eAAmBuD,EAAOha,GAAS,CAAEwkB,UAAW8J,MAAYtvB,EAAK,GACtJA,EAAG6mB,EAAQ7L,QAAUA,EAAMnM,MAAMwpB,UACjCr4B,GAAKgb,EAAMnM,MAAM2W,WAAYld,GAAI0S,EAAMnM,MAAMvG,IAAM0S,EAAMnM,MAAMi1B,QAAUre,KAAY,MAEjGmhC,GAAUzgC,UAAY,CAClBU,QAAST,KAAUiB,OAEnBrM,MAAOoL,KAAUiD,MAGrBu9B,GAAUvvC,YAAc,YACTuvC,U,gCCnDX5lD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAgDP2lD,GAAa,SAAUh4C,GACvB,IAAI2W,EAAY3W,EAAM2W,UAA4Csf,GAAfj2B,EAAMgY,QAAmBhY,EAAMi2B,SAAS/kC,EAAK8O,EAAMkB,MAAOA,OAAe,IAAPhQ,EAAgB,iBAAmBA,EAAIk5B,EAAWpqB,EAAMoqB,SAAU15B,EAAWsP,EAAMtP,SAAUgoC,EAAS14B,EAAM04B,OAAQC,EAAgB34B,EAAM24B,cAAexnC,EAAK6O,EAAM6c,QAASA,OAAiB,IAAP1rB,EAAgB,YAAcA,EAAIyT,EAAK5E,EAAMwW,KAAMA,OAAc,IAAP5R,EAAgB6R,GAAc7R,EAAI8R,EAAU1W,EAAM0W,QAAS8hB,EAA2Bx4B,EAAMw4B,yBAA0BC,EAASz4B,EAAMy4B,OAAQrnC,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UAAWwqB,EAAY9b,EAAM8b,UAAWlF,EAAO5jB,GAAOgN,EAAO,CAAC,YAAa,UAAW,UAAW,QAAS,WAAY,WAAY,SAAU,gBAAiB,UAAW,OAAQ,UAAW,2BAA4B,SAAU,YAAa,YAAa,cACzxBgY,EAAUP,GAAUzX,GACpBxP,EAASC,eACT0X,EAAYmO,KACZ2/B,EAAY9sC,qBAAW6sC,IAAaC,UACpCpxC,EdtDoB,SAAU7E,GAClC,IAAI4uB,EAAUzlB,qBAAW4qC,IACzB,OAAKnlB,GAAYA,EAAQzjB,MAASyjB,EAAQykB,aAYnCzkB,EAFI5uB,Ec0CFi4C,CAAej4C,GAAQozC,EAAevuC,EAAGuuC,aAAcC,EAAexuC,EAAGwuC,aAAcC,EAAezuC,EAAGyuC,aAwC9GtjD,EAAO2oC,EAAgB,SAAW,SAClCuf,EAAiBh3C,GAASiH,EAAUjH,EAAO,CAAED,EAAGC,IACpD,OAAQ0H,IAAMC,cAAc+Q,KAAQznB,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQkR,OAAQvS,GAAYkG,QAASA,EAAS7sB,KAAMA,EAAM0mB,QAzC7G,SAAUM,GAEF,oBAAXyhB,EAIPwd,EAAUxd,GAIVwd,IAEA7kD,GACAgiD,EAAahiD,GAEbE,GACA+hD,EAAa/hD,GAEbwqB,GACAw3B,EAAax3B,GAEb4c,EAEA1hB,EAAMC,kBAGFgf,GACAzlC,EAAO,0BAA2B,WAGlCwmB,GACAA,EAAMC,iBAEVuhB,EAAyB9nC,IAEN,oBAAZgmB,GACPA,EAAQM,IAKqII,MAAOshB,EAAS,UAAY,UAAW,aAAcwf,EAAgB9tB,SAAUA,GAAY8N,GAAwBthB,IACpQ8hB,EAAU9vB,IAAMC,cAAcuP,KAAkB,CAAEE,KAAM,GAAIC,UAAW,EAAG5B,UAAWqB,EAAQoI,WAAgBvN,uBAAa2D,EAAM,CAC5HG,UAAW8J,KAAWzI,EAAQoI,SAAUpI,EAAQxB,QAEpD0hC,IAEJzhC,GAAc7N,IAAMC,cAAcsvC,KAAa,MAC/C1gC,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDoU,OAAQ,CACJtK,SAAU,YAEdwB,SAAU,CACN9E,YAAaxG,EAAM+C,QAAQ,IAE/BrB,KAAM,CACF4W,SAAU,OAEX,CAAEh5B,KAAM,iBACf4jD,GAAW1gC,UAAY,CACnBX,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnBggB,yBAA0BjhB,KAAUuJ,KAEpC2X,OAAQlhB,KAAUuJ,KAClBmV,QAAS1e,KAAU6F,KACnBlc,MAAOqW,KAAUC,OACjB9mB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd4X,OAAQnhB,KAAU6F,KAClBub,cAAephB,KAAU6F,KACzBP,QAAStF,KAAU3H,MAAM,CAAC,OAAQ,WAAY,cAC9C4G,KAAMe,KAAUrd,SAEL89C,U,WCpEAI,GA1CmB,SAAUp4C,GACxC,IAAIxG,EAASwG,EAAMxG,OAAQwL,EAAWhF,EAAMgF,SAAU9T,EAAK8O,EAAMtP,SAAUmB,OAAoB,IAAPX,EAAgB,OAASA,EAAIwlB,EAAU1W,EAAM0W,QAAStlB,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UACzLL,EAAWyiC,GAAmB1zB,GAC9BxP,EAASC,eACTC,EAAWC,eACXC,EAAUC,eACVM,EAAKknD,aAAUpnD,EAAU,KAAM,KAAM,CACrCyK,OAAQ4B,GACRlM,eAAyBC,IAAdD,EACLA,EACA,WACEZ,EAAO,0BAA2B,OAAQ,CAAEgxB,YAAa,IAAK,GAC9D9wB,EAASmB,EAAYmT,GACrBpU,KAERU,eAAyBD,IAAdC,EACLA,EACA,SAAU6E,GACR3F,EAAwB,kBAAV2F,EACRA,EACAA,EAAM8M,SAAW,6BAA8B,UAAW,CAC5DhC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,IAEdT,KAERkU,UAAU,IACVwzC,EAAYnnD,EAAG,GAUnB,MAAO,CAAEkF,QAVwBlF,EAAG,GAAGkF,QAUZkiD,aATR7hD,uBAAY,SAAUsgB,GACrCA,EAAMgqB,kBACNsX,EAAU,CACN9jD,QAAS,CAAEiF,GAAID,EAAOC,GAAI++C,aAAch/C,KAErB,oBAAZkd,GACPA,EAAQM,KAEb,CAACshC,EAAW5hC,EAASld,MCjFxBrH,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPomD,GAAuB,SAAUz4C,GACjC,IAAI9O,EAAK8O,EAAMkB,MAAOA,OAAe,IAAPhQ,EAAgB,mBAAqBA,EAAqCylB,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWxlB,EAAK6O,EAAMwW,KAAMA,OAAc,IAAPrlB,EAAgBslB,GAActlB,EAAIulB,EAAU1W,EAAM0W,QAASld,EAASwG,EAAMxG,OAAQwL,EAAWhF,EAAMgF,SAAUJ,EAAK5E,EAAMtP,SAAUA,OAAkB,IAAPkU,EAAgB,OAASA,EAAIxT,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UAAWslB,EAAO5jB,GAAOgN,EAAO,CAAC,QAAS,UAAW,YAAa,OAAQ,UAAW,SAAU,WAAY,WAAY,YAAa,cACtfgY,EAAUP,GAAUzX,GACpB/O,EAAWyiC,GAAmB1zB,GAC9B6E,EAAKuzC,GAA4B,CACjC5+C,OAAQA,EACRvI,SAAUA,EACV+T,SAAUA,EACVtU,SAAUA,EACVgmB,QAASA,EACTtlB,UAAWA,EACXE,UAAWA,IACX+E,EAAUwO,EAAGxO,QAASkiD,EAAe1zC,EAAG0zC,aAC5C,OAAQ3vC,gBAAoBgR,GAAQznB,GAAS,CAAEukB,QAAS6hC,EAAcnuB,SAAU/zB,EAAS6K,MAAOA,EAAOyV,UAAW8J,KAAW,mBAAoBzI,EAAQgrB,aAAcrsB,GAAY7hB,IAAK,UAAY8hB,GAAOJ,IAE3MiB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDkuB,aAAc,CACV5rB,MAAOtC,EAAMoK,QAAQ/oB,MAAM+qB,KAC3B,UAAW,CACPnC,gBAAiB+iB,gBAAKhtB,EAAMoK,QAAQ/oB,MAAM+qB,KAAM,KAEhD,uBAAwB,CACpBnC,gBAAiB,oBAI1B,CAAE3qB,KAAM,2BACXqiB,GAAc7N,gBAAoBq6B,KAAc,MACpDwV,GAAqBnhC,UAAY,CAC7BtS,SAAUuS,KAAUC,OACpBQ,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBtW,MAAOqW,KAAUC,OACjBhe,OAAQ+d,KAAUkM,IAClB/yB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd7vB,SAAUsmB,KAAUC,OACpBhB,KAAMe,KAAUrd,SAELu+C,UC2CAC,GA1DsB,SAAU14C,GAC3C,IAAIxG,EAASwG,EAAMxG,OAAQ3H,EAAamO,EAAMtP,SAAUsU,EAAWhF,EAAMgF,SAAU0R,EAAU1W,EAAM0W,QAAStlB,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UACvJL,EAAWyiC,GAAmB1zB,GAC9B9O,EAAKkoB,oBAAS,GAAQG,EAAOroB,EAAG,GAAImxB,EAAUnxB,EAAG,GACjDV,EAASC,eACTC,EAAWC,eACXC,EAAUC,eACVM,EAAKknD,aAAUpnD,EAAU,KAAM,KAAM,CACrCyK,OAAQ4B,GACRlM,UAAW,SAAUkT,GACjB+d,GAAQ,QACUhxB,IAAdD,GACAZ,EAAO,0BAA2B,OAAQ,CAAEgxB,YAAa,IACzD9wB,EAASmB,EAAYmT,GACrBpU,KAGAQ,EAAUkT,IAGlBhT,UAAW,SAAU6E,GACjBksB,GAAQ,QACUhxB,IAAdC,GACAd,EAAwB,kBAAV2F,EACRA,EACAA,EAAM8M,SAAW,6BAA8B,UAAW,CAC5DhC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,IAEdT,KAGAU,EAAU6E,IAGlB2O,UAAU,IACVwzC,EAAYnnD,EAAG,GAiBnB,MAAO,CAAEooB,KAAMA,EAAMljB,QAjBYlF,EAAG,GAAGkF,QAiBAsiD,iBAhBhB,SAAU1lD,GAC7BovB,GAAQ,GACRpvB,EAAE+tC,mBAcqE4X,kBAZnD,SAAU3lD,GAC9BovB,GAAQ,GACRpvB,EAAE+tC,mBAU2GuX,aAR9F7hD,uBAAY,SAAUsgB,GACrCshC,EAAU,CACN9jD,QAAS,CAAEiF,GAAID,EAAOC,GAAI++C,aAAch/C,KAErB,oBAAZkd,GACPA,EAAQM,KAEb,CAACshC,EAAW5hC,EAASld,MChHxBrH,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYPwmD,GAA0B,SAAU74C,GACpC,IAAIgF,EAAWhF,EAAMgF,SAA2C2R,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWzlB,EAAK8O,EAAMmjC,aAAcA,OAAsB,IAAPjyC,EAAgB,0BAA4BA,EAAIC,EAAK6O,EAAMojC,eAAgBA,OAAwB,IAAPjyC,EAAgB,4BAA8BA,EAAIyT,EAAK5E,EAAMwW,KAAMA,OAAc,IAAP5R,EAAgB6R,GAAc7R,EAAIC,EAAK7E,EAAMkB,MAAOA,OAAe,IAAP2D,EAAgB,mBAAqBA,EAAI6R,EAAU1W,EAAM0W,QAASld,EAASwG,EAAMxG,OAAQ+b,EAAKvV,EAAMtP,SAAUA,OAAkB,IAAP6kB,EAAgB,OAASA,EAAInkB,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UAAWslB,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,UAAW,YAAa,eAAgB,iBAAkB,OAAQ,QAAS,UAAW,SAAU,WAAY,YAAa,cAC9sBmI,EAAYmO,KACZ0B,EAAUP,GAAUzX,GACpBwV,EAAKkjC,GAA+B,CACpCl/C,OAAQA,EACR9I,SAAUA,EACVsU,SAAUA,EACV0R,QAASA,EACTtlB,UAAWA,EACXE,UAAWA,IACXioB,EAAO/D,EAAG+D,KAAMljB,EAAUmf,EAAGnf,QAASsiD,EAAmBnjC,EAAGmjC,iBAAkBC,EAAoBpjC,EAAGojC,kBAAmBL,EAAe/iC,EAAG+iC,aAC1ItnD,EAAWyiC,GAAmB1zB,GAClC,OAAQ4I,IAAMC,cAAcsb,WAAU,KAClCvb,IAAMC,cAAc+Q,GAAQznB,GAAS,CAAEukB,QAASiiC,EAAkBz3C,MAAOA,EAAOyV,UAAW8J,KAAW,mBAAoBzI,EAAQgrB,aAAcrsB,GAAY7hB,IAAK,UAAY8hB,GAAOJ,GACpL5N,IAAMC,cAAcm5B,GAAS,CAAEC,OAAQ1oB,EAAMljB,QAASA,EAASmc,MAAO2wB,EAAcne,QAASoe,EAAgBd,iBAAkB,CACvHluC,KAAM+T,EAAU,aAAelX,EAAW,kBAAmB,CACzDuwB,YAAa,EACbvgB,EAAGwgB,KAAWC,SAASvZ,EAAU,aAAelX,EAAW,QAAS,CAChEuwB,YAAa,EACbvgB,EAAGwgB,KAAWozB,YAAY5jD,MAC1B,KAERwI,GAAID,EAAOC,IACZ4oC,UAAWkW,EAAcl+B,QAASu+B,MAE7CniC,GAAc7N,IAAMC,cAAco6B,KAAc,MAChDxrB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDkuB,aAAc,CACV5rB,MAAOtC,EAAMoK,QAAQ/oB,MAAM+qB,KAC3B,UAAW,CACPnC,gBAAiB+iB,gBAAKhtB,EAAMoK,QAAQ/oB,MAAM+qB,KAAM,KAEhD,uBAAwB,CACpBnC,gBAAiB,oBAI1B,CAAE3qB,KAAM,8BACfykD,GAAwBvhC,UAAY,CAChCtS,SAAUuS,KAAUC,OACpBQ,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB2rB,aAAc5rB,KAAUC,OACxB4rB,eAAgB7rB,KAAUC,OAC1BtW,MAAOqW,KAAUC,OACjBhe,OAAQ+d,KAAUkM,IAClB/yB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd7vB,SAAUsmB,KAAUC,OACpBhB,KAAMe,KAAUrd,SAEL2+C,UCvFX1mD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA2CPymD,GAAe,SAAU5nD,GACzB,IAAI4T,EAAW5T,EAAG4T,SAAUtL,EAAStI,EAAGsI,OAAQwG,EAAQhN,GAAO9B,EAAI,CAAC,WAAY,WAChF,OAAKsI,GAAuB,MAAbA,EAAOC,GAGfqL,EAAY8D,gBAAoB6vC,GAAsBtmD,GAAS,CAAEqH,OAAQA,GAAUwG,IAAY4I,gBAAoBiwC,GAAyB1mD,GAAS,CAAEqH,OAAQA,GAAUwG,IAFrK,MAIf84C,GAAaxhC,UAAY,CACrBtS,SAAUuS,KAAUC,OACpBtW,MAAOqW,KAAUC,OACjBhe,OAAQ+d,KAAUkM,IAElB/yB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd7vB,SAAUsmB,KAAUC,OACpB1S,SAAUyS,KAAU6F,KACpB5G,KAAMe,KAAUrd,SAEpB4+C,GAAapoC,aAAe,CACxB5L,UAAU,GAECg0C,UCvFX3mD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAUPolB,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJgqB,QAAS,CACL6D,gBAAwC,UAAvBjK,EAAMoK,QAAQlvB,KACzB8kB,EAAMoK,QAAQ2oB,KAAK,KACnB/yB,EAAMoK,QAAQ2oB,KAAK,MAE7BkR,eAAgB,CACZ95B,UAAWnK,EAAM+C,QAAQ,IAE7BmhC,cAAe,CACXp6B,SAAU,QACV6lB,OAAQ,EACRC,KAAM,EACNxf,MAAO,EACPvB,QAAS,OACTlL,MAAO,OACP8+B,UAAW,aACX5X,WAAY,EACZpgB,OAAQ,GAEZ05B,eAAgB,CACZj9B,KAAM,EACNmF,QAAS,OACTE,eAAgB,iBAEpBoM,QAASv8B,EAAK,GACVA,EAAG4jB,EAAM0H,YAAYC,KAAK,OAAS,CAC/BvD,OAAQ,OAEZhoB,MAET,CAAEkD,KAAM,cACP8kD,GAAiB,SAAUn/C,EAAOk3B,GAClC,MAAwB,qBAAVl3B,EAAwBk3B,EAAel3B,GAuCrD4iB,GAAU,SAAU3c,GACpB,IAAI9O,EACAioD,EAAyBn5C,EAAMm5C,uBAAwBn0C,EAAWhF,EAAMgF,SAAU0D,EAAW1I,EAAM0I,SAAUiO,EAAY3W,EAAM2W,UAA4CqT,GAAfhqB,EAAMgY,QAAwBhY,EAAMgqB,cAAcwO,EAA2Bx4B,EAAMw4B,yBAA0BvC,EAAUj2B,EAAMi2B,QAASG,EAAWp2B,EAAMo2B,SAAU58B,EAASwG,EAAMxG,OAAQ9I,EAAWsP,EAAMtP,SAAUO,EAAW+O,EAAM/O,SAAUynC,EAAS14B,EAAM04B,OAAQC,EAAgB34B,EAAM24B,cAAe7zB,EAAW9E,EAAM8E,SAAU2T,EAAQzY,EAAMyY,MAAO7B,EAAO5jB,GAAOgN,EAAO,CAAC,yBAA0B,WAAY,WAAY,YAAa,UAAW,eAAgB,2BAA4B,UAAW,WAAY,SAAU,WAAY,WAAY,SAAU,gBAAiB,WAAY,UACluBgY,EAAUP,GAAUzX,GAGpBoqB,GAAY8uB,GAAeC,GAAyB/iB,GACxD,OAAQxtB,gBAAoBub,WAAU,KAClCvb,gBAAoBwwC,KAAYjnD,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQkD,SAAUhqB,EAAK,GAChFA,EAAG8mB,EAAQghC,eAA2B,OAAVvgC,EAC5BvnB,EAAG8mB,EAAQ+gC,gBAA4B,OAAVtgC,EAC7BvnB,GAAKylB,GAAYyN,KAAM,WAAaxN,GAAoC,IAA7B7N,WAAS6I,MAAMlJ,GAAmBE,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQihC,gBACjIrwC,gBAAoBovC,GAAY,CAAExf,yBAA0BA,GAA4BxO,EAAcI,SAAUA,EAAU6L,QAASA,EAASvlC,SAAUA,EAAUgoC,OAAQA,EAAQC,cAAeA,IAC/Ln/B,GAA+B,qBAAdA,EAAOC,IAAuBmP,gBAAoBkwC,GAAc,CAAE9zC,SAAUA,EAAUxL,OAAQA,EAAQvI,SAAUA,EAAU6T,SAAUA,KAAkBiE,WAASrP,IAAIgP,GAAU,SAAUwgB,GACxM,OAAOA,GAAU3O,yBAAe2O,GAC1BtgB,eAAmBsgB,EAAQ,CACzBlkB,SAAUA,EACVglB,aAAckvB,GAAehwB,EAAOlpB,MAAMgqB,aAAcA,GACxDwO,yBAA0B0gB,GAAehwB,EAAOlpB,MAAMw4B,yBAA0BA,GAChFC,OAAQvP,EAAOlpB,MAAMy4B,OACrBxC,QAASA,EACTG,SAAUA,EACV58B,OAAQA,EACRvI,SAAUA,EACVynC,OAAQA,EACRC,cAAeugB,GAAehwB,EAAOlpB,MAAM24B,cAAeA,GAC1D7zB,SAAUo0C,GAAehwB,EAAOlpB,MAAM8E,SAAUA,KAElD,SAEV8D,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQyV,WAExD9Q,GAAQrF,UAAY,CAChBtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBwS,aAAczS,KAAUuJ,KACxB0X,yBAA0BjhB,KAAUuJ,KACpCmV,QAAS1e,KAAU6F,KACnBgZ,SAAU7e,KAAU6F,KACpB5jB,OAAQ+d,KAAUkM,IAClB/yB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd7vB,SAAUsmB,KAAUC,OACpBkhB,OAAQnhB,KAAU6F,KAClBub,cAAephB,KAAU6F,KACzBtY,SAAUyS,KAAU6F,KACpB3E,MAAOlB,KAAUC,QAErBmF,GAAQjM,aAAe,CACnBioB,eAAe,GAEJ0gB,oBAAU,CAAEC,aAAc,MAA1BD,CAAkC18B,IC3J7ClF,GAAYC,cAAW,SAAU5C,GACjC,IAAI5jB,EACJ,MAAQ,CACJ+rB,KAAM,CACFsK,WAAY,EACZmc,cAAe,EACf,gBAAiB,CACbnc,WAAY,IAEhB,gBAAiBr2B,EAAK,CACdwyC,cAAe,IAEnBxyC,EAAG4jB,EAAM0H,YAAYxT,KAAK,OAAS,CAC/B06B,cAAe,IAEnBxyC,OAGb,CAAEkD,KAAM,uBAQPmlD,GAAmB,SAAUv5C,GAC7B,IAAI2W,EAAY3W,EAAM2W,UAAWjO,EAAW1I,EAAM0I,SAC9CsP,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoB83B,KAAa,CAAE/pB,UAAW8J,KAAWzI,EAAQiF,KAAMtG,IAAcjO,IAEjG6wC,GAAiBjiC,UAAY,CACzBX,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnB9P,SAAU6O,KAAUiD,MAET++B,UCzCXpnD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA6CPmnD,GAAa,SAAUx5C,GAAS,OAAQ4I,gBAAoB2tC,GAAkBpkD,GAAS,GAAI6N,EAAO,CAAE+R,OAAQ,SAAUwlB,GAAa,OAAO3uB,gBAAoB6wC,GAAgBtnD,GAAS,GAAIolC,SAC/LiiB,GAAWliC,UAAY,CACnB5O,SAAU6O,KAAUiD,KACpBib,cAAele,KAAU8F,UAAU,CAAC9F,KAAUiB,OAAQjB,KAAUuJ,OAEhEtnB,OAAQ+d,KAAUiB,OAClB9nB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd3V,KAAMoM,KAAUuJ,KAChB4X,OAAQnhB,KAAU6F,KAClBub,cAAephB,KAAU6F,KACzBlC,QAAS3D,KAAUrd,QACnB4K,SAAUyS,KAAU6F,KACpB0M,SAAUvS,KAAUuJ,KACpBwlB,QAAS/uB,KAAU7H,OACnBmmC,oBAAqBt+B,KAAU6F,MAEnC,IAAIq8B,GAAiB,SAAUvoD,GAC3B,IAAI8T,EAAW9T,EAAG8T,SAAU0D,EAAWxX,EAAGwX,SAAUiO,EAAYzlB,EAAGylB,UAAWqT,EAAe94B,EAAG84B,aAAcwO,EAA2BtnC,EAAGsnC,yBAA0BvC,EAAU/kC,EAAG+kC,QAASre,EAAS1mB,EAAG0mB,OAAQwe,EAAWllC,EAAGklC,SAAU58B,EAAStI,EAAGsI,OAAQ9I,EAAWQ,EAAGR,SAAUO,EAAWC,EAAGD,SAAUynC,EAASxnC,EAAGwnC,OAAQC,EAAgBznC,EAAGynC,cAAezd,EAAUhqB,EAAGgqB,QAASpW,EAAW5T,EAAG4T,SAAU+X,EAAU3rB,EAAG2rB,QAASjG,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,WAAY,YAAa,eAAgB,2BAA4B,UAAW,SAAU,WAAY,SAAU,WAAY,WAAY,SAAU,gBAAiB,UAAW,WAAY,YAC/nB,OAAQ0X,gBAAoB,OAAQzW,GAAS,CAAEwkB,UAAW8J,KAAW,cAAe9J,IAAcyR,GAAkBxR,IAChHhO,gBAAoB2wC,GAAkB,KAAMxwC,WAASrP,IAAIgP,GAAU,SAAUyD,GACzE,OAAOA,GAAUvD,gBAAoBmvC,GAAW,CAAE/yC,SAAUA,EAAUmH,MAAOA,EAAO3S,OAAQA,EAAQvI,SAAUA,EAAU4rB,QAAS1Q,EAAMnM,MAAM6c,SAAWA,EAASjF,OAAQzL,EAAMnM,MAAM4X,QAAUA,QAEnMsD,GACItS,eAAmBsS,EAAS,CACxBlW,SAAUA,EACVwzB,yBAA0BA,EAC1BxO,aAAcA,EACdiM,QAASA,EACTG,SAAUA,EACV58B,OAAQA,EACR9I,SAAUA,EACVO,SAAUA,EACVynC,OAAQA,EACRC,cAAeA,EACf7zB,SAAUA,MAG1B20C,GAAeniC,UAAY,CACvBtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUiD,KACpB7D,UAAWY,KAAUC,OACrBwS,aAAczS,KAAUuJ,KACxBmV,QAAS1e,KAAU6F,KACnBgZ,SAAU7e,KAAU6F,KAEpB5jB,OAAQ+d,KAAUiB,OAClBvnB,SAAUsmB,KAAUC,OACpB9mB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd3V,KAAMoM,KAAUuJ,KAChB4X,OAAQnhB,KAAU6F,KAClBub,cAAephB,KAAU6F,KACzBlC,QAAS3D,KAAUrd,QACnB4K,SAAUyS,KAAU6F,KACpB0M,SAAUvS,KAAUuJ,MAExB24B,GAAe/oC,aAAe,CAC1BioB,eAAe,EACfzd,QAAStS,gBAAoB+T,GAAS,OAE1C,IAAIyL,GAAoB,SAAUl3B,GACjBA,EAAG6uB,OAAgB7uB,EAAGykC,MAAqBzkC,EAAG0kC,YAA0C1kC,EAAG2kC,2BAAmD3kC,EAAG4kC,qBAA8B5kC,EAAGiF,MAAgBjF,EAAG64B,OAAe74B,EAAG+3B,KAAwB/3B,EAAG6kC,gBAAuC7kC,EAAG8kC,oBAAqC9kC,EAAGukC,cAAoBvkC,EAAGglC,SAA0EhlC,EAAGilC,wBAA8BjlC,EAAGia,KAAsDja,EAAGmlC,YAA4BnlC,EAAGolC,aAA6BplC,EAAGqlC,aAAgCrlC,EAAGslC,gBAA8BtlC,EAAGulC,WAAiBvlC,EAAGk4B,QAAsDl4B,EAAGwlC,MAAoBxlC,EAAGylC,WAAqBzlC,EAAG24B,OAAa34B,EAAG0lC,QAAmD1lC,EAAGwoD,WACp1B,OADg5B1mD,GAAO9B,EAAI,CAAC,SAAU,QAAS,cAAe,6BAA8B,uBAAwB,QAAS,SAAU,OAAQ,kBAAmB,sBAAuB,gBAAiB,WAAY,0BAA2B,OAAQ,cAAe,eAAgB,eAAgB,kBAAmB,aAAc,UAAW,QAAS,aAAc,SAAU,UAAW,gBAGrvCsoD,M,0CCxIXrnD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAuBIsnD,GAdK,SAAUzoD,GAC1B,IAAIC,EAAKD,EAAG0oD,iBAAkBA,OAA0B,IAAPzoD,GAAwBA,EAAI6O,EAAQhN,GAAO9B,EAAI,CAAC,qBAC7F0T,EAAKwU,mBAASwgC,GAAmBC,EAAUj1C,EAAG,GAAIk1C,EAAal1C,EAAG,GAClEuD,EAAYmO,KAIhB,OAAQ1N,gBAAoB60B,GAAWtrC,GAAS,GAAI6N,EAAO,CAAEhQ,KAAM6pD,EAAU,OAAS,WAAYpe,WAAY,CACtGK,aAAelzB,gBAAoBszB,KAAgB,CAAEtd,SAAU,OAC3DhW,gBAAoBuO,KAAY,CAAE,aAAchP,EAAU0xC,EAChD,mCACA,mCAAoCnjC,QAPxC,WACdojC,GAAYD,KAMkEA,EAAUjxC,gBAAoBmxC,KAAY,MAAQnxC,gBAAoBoxC,KAAe,aCLrKviC,GAAYC,aAjBwB,CACtCu4B,WAAY,CAAE9uB,QAAS,gBACvB+uB,UAAW,CAAE/uB,QAAS,eAAgB9F,WAAY,IAClD1L,MAAO,CAAE8I,MAAO,KAChBwhC,QAAS,CAAEC,SAAU,KACrBC,QAAS,CAAEh5B,QAAS,gBACpBi5B,KAAM,CAAEj5B,QAAS,eAAgB9F,WAAY,IAC7Cg/B,QAAS,CACLH,SAAU,OACV/9B,SAAU,SACVF,aAAc,WACdC,WAAY,UAEhBvP,SAAU,CAAEwU,QAAS,gBACrBm5B,iBAAkB,CAAEn5B,QAAS,eAAgB9F,WAAY,MAKhDk/B,GAAoB,SAAC,GAGhB,IAFd5tC,EAEa,EAFbA,SACA2tC,EACa,EADbA,iBAEMvwB,EAAS,GAQf,OANIpd,GAAY2tC,GAAoB3tC,IAAa2tC,IAC7CvwB,EAAOuwB,iBAAmB,CACtB,iDAIDvwB,GAgELywB,GAAmB,CAACnrC,MAEpBorC,GAAe,SAAC,GAAkC,IAAhCv5C,EAA+B,EAA/BA,MACdiH,EAAYmO,KAElB,OACI,cAAC4G,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EAAUjH,MAKjBy5C,GAAY,kBAAM,cAAC1J,GAAA,EAAD,CAAK2J,GAAG,SAEjBC,GA3EwB,SAAA76C,GACnC,IAAMgY,EAAUP,GAAUzX,GAE1B,OACI,cAAC,GAAD,2BAAYA,GAAZ,aACI,eAAC,GAAD,CAAY8pB,SAAUywB,GAAtB,UACI,cAAC,GAAD,CAAcr5C,MAAM,6CACpB,cAAC,GAAD,CACIipB,WAAS,EACT8K,OAAO,aACPgI,cAAejlB,EAAQi4B,WACvBnmB,SAAU0wB,KAEd,cAAC,GAAD,CACIvlB,OAAO,YACPgI,cAAejlB,EAAQk4B,UACvBpmB,SAAU0wB,KAEd,cAAC,GAAD,CACIxqD,KAAK,QACLilC,OAAO,QACP7lB,WAAY,CAAEO,OAAO,GACrB6Z,WAAS,EACTyT,cAAejlB,EAAQrI,MACvBma,SAAU,CAACza,KAAYM,QAE3B,cAAC,GAAD,CAAWslB,OAAO,aAClB,cAAC,GAAD,IACA,cAAC,GAAD,CAAc/zB,MAAM,4CACpB,cAAC,GAAD,CACI+zB,OAAO,UACPgI,cAAejlB,EAAQiiC,QACvBa,WAAS,EACTtxB,WAAS,EACTD,YAAY,IAEhB,cAAC,GAAD,CACI0L,OAAO,UACPgI,cAAejlB,EAAQmiC,QACvB5wB,YAAY,IAEhB,cAAC,GAAD,CACI0L,OAAO,OACPgI,cAAejlB,EAAQoiC,KACvB7wB,YAAY,IAEhB,cAAC,GAAD,IACA,cAAC,GAAD,CAAcroB,MAAM,6CACpB,cAAC,GAAD,CACI+zB,OAAO,WACPgI,cAAejlB,EAAQrL,WAE3B,cAAC,GAAD,CACIsoB,OAAO,mBACPgI,cAAejlB,EAAQsiC,0B,sBCrFhCS,GAAe,kBCUfC,GAAc,iBCJdC,GAAoB,SAAUj7C,GACrC6uB,GAA6B,OAAQ,CAAC,WAAY,YAAa7uB,GAC/D,IAAIgF,EAAWhF,EAAMgF,SAAUmnB,EAAYnsB,EAAMmsB,UAAWF,EAAUjsB,EAAMisB,QAASnK,EAAU9hB,EAAM8hB,QAASoK,EAAUlsB,EAAMksB,QAASzyB,EAAKuG,EAAMvG,GAAIq6C,EAAiB9zC,EAAM8zC,eAAgB5iD,EAAK8O,EAAM8E,SAAUA,OAAkB,IAAP5T,GAAuBA,EAAIE,EAAY4O,EAAM5O,UAAWE,EAAY0O,EAAM1O,UAAWwqB,EAAY9b,EAAM8b,UAChU7qB,EAAWyiC,GAAmB1zB,GAC9BmI,EAAYmO,KACZ9lB,EAASC,eACTC,EAAWC,eACXC,EAAUC,eACVy1C,EAAUC,eAId,IAAIp1C,EAAK6hD,GAAiB,CAAE5hD,UAAWA,EAAWE,UAAWA,EAAWwqB,UAAWA,IAAcm3B,EAAe9hD,EAAG8hD,aAAcG,EAAejiD,EAAGiiD,aAAcF,EAAe/hD,EAAG+hD,aAAcG,EAAeliD,EAAGkiD,aAAcF,EAAehiD,EAAGgiD,aAAcG,EAAeniD,EAAGmiD,aAC/Q1uC,EAAKs2C,aAAUjqD,EAAUwI,EAAI,CAC7BiC,OAAQq/C,GACRzpD,UAAW,WACPd,EAAO,oCAAqC,WAC5CE,EAAS,OAAQsU,GACjBpU,OAEJ4I,EAASoL,EAAG1O,KAAMG,EAAUuO,EAAGvO,QAASC,EAASsO,EAAGtO,OACpDo+B,EAAevsB,EAAU,aAAelX,EAAW,QAAS,CAC5DuwB,YAAa,EACbvgB,EAAGwgB,KAAWC,SAASD,KAAWozB,YAAY5jD,MAE9CiyB,EAAe/a,EAAU,eAAgB,CACzC/T,KAAM,GAAKsgC,EACXj7B,GAAIA,EACJD,OAAQA,IAERqL,EAAKs2C,aAAUlqD,EAAUwI,EAAI,GACjCD,GAAS4hD,EAASv2C,EAAG,GAAI6zB,EAAS7zB,EAAG,GAAGxO,QACpC8U,EAAOzU,uBAAY,SAAUR,EAAMrE,EAAYX,QAC5B,IAAfW,IAAyBA,EAAawpD,IAC1C,IAAIlqD,OAAY,IAAPD,EAAgB,GAAKA,EAAIwjD,EAAoBvjD,EAAGC,UAAWujD,EAAoBxjD,EAAGG,UAAWsjD,EAAoBzjD,EAAG2qB,UAC7H,OAAO1mB,QAAQkT,QAAQssC,EACjBA,EAAkB1+C,GAClBi9C,EAAaprB,QACTorB,EAAaprB,QAAQ7xB,GACrBA,GAAMY,MAAK,SAAUZ,GAC3B,OAAOklD,EAAO,CAAE5mD,QAAS,CAAE0B,KAAMA,IAAU,CACvCwF,OAAQs/C,GACR5pD,UAAWsjD,IAELzB,EAAalrB,QACTkrB,EAAalrB,QACb,WACEv3B,EAAOsjD,GACH,0BAA2B,OAAQ,CACnCtyB,YAAa,GACd1c,GACHpU,EAASmB,EAAYmT,EAAU9O,EAAKuD,GAAIvD,KAEpD5E,UAAWqjD,IAELzB,EAAanrB,QACTmrB,EAAanrB,QACb,SAAU5xB,GACR3F,EAAwB,kBAAV2F,EACRA,EACAA,EAAM8M,SACJ,6BAA8B,UAAW,CAC7ChC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,IAEVyT,GACAlU,MAGhBkU,SAAUA,SAGnB,CACCquC,EACAiI,EACAnI,EACAC,EACApuC,EACAtU,EACAsjD,EACApjD,EACAsU,EACApU,IAEJ,MAAO,CACHyF,QAASA,EACTC,OAAQA,EACRoiC,OAAQA,EACRxV,aAAcA,EACdiJ,UAAWA,EACXF,QAASA,EACTnK,QAASA,EACToK,QAASA,EACT+mB,aAAcA,EACdC,aAAcA,EACdC,aAAcA,EACdhoC,KAAMA,EACNioC,aAAcA,EACdC,aAAcA,EACdC,aAAcA,EACdriD,SAAUA,EACV+T,SAAUA,EACVxL,OAAQA,EACR9I,SAAU2qD,GACV/U,QAASA,IAGb+U,GAAkB,OCtHXC,GAAcvzC,wBAAc,CACnC/C,SAAU,KACVxL,OAAQ,KACR0pB,aAAc,KACd5sB,OAAQ,KACRD,QAAS,KACT68C,aAAc,KACdD,aAAc,KACdE,aAAc,KACdziD,SAAU,KACV2iD,aAAc,KACdD,aAAc,KACdE,aAAc,KACdriD,SAAU,KACVka,KAAM,KACNutB,OAAQ,KACRob,eAAgB,KAChBxN,QAAS,OAEbgV,GAAY9yC,YAAc,cCXnB,IAAI+yC,GAAsB,SAAUrqD,GACvC,IAAIwX,EAAWxX,EAAGwX,SAAU3O,EAAQ7I,EAAG6I,MACvC,OAAQ6O,gBAAoB0yC,GAAYxyC,SAAU,CAAE/O,MAAOA,GACvD6O,gBAAoBorC,GAAqB,CAAEj6C,MAAOk6C,GAAmBl6C,IACjE6O,gBAAoB+qC,GAAuB,CAAE55C,MAAO65C,GAAqB75C,IAAU2O,MC/B3FvW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAIrB+oD,GAAiB,SAAUx7C,GAGlC,IAAI4uB,EAAUzlB,qBAAWmyC,IACzB,OAAK1sB,EAAQ39B,SAcN29B,EAFIz8B,GAASA,GAAS,GAAI6N,GAAQ,CAAExG,OAAQwG,EAAMxG,QAAUwG,EAAM9J,KAAMA,KAAM8J,EAAMxG,QAAUwG,EAAM9J,Q,qBC7B3G/D,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPopD,GAAa,SAAUvqD,GACvB,IAAIC,EAAKD,EAAG8T,SAAUA,OAAkB,IAAP7T,EAAgB,GAAKA,EAAIyT,EAAK1T,EAAGgQ,MAAOA,OAAe,IAAP0D,EAAgB,iBAAmBA,EAAIpL,EAAStI,EAAGsI,OAAQqL,EAAK3T,EAAGslB,KAAMA,OAAc,IAAP3R,EAAgB4R,GAAc5R,EAAI+R,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,QAAS,SAAU,SACrP,OAAQ0X,gBAAoBgR,GAAQznB,GAAS,CAAE6f,UAAWsyB,KAAMjxB,GAAIq3B,aAAa1lC,EAAUxL,GAAUA,EAAOC,IAAM,QAASyH,MAAOA,EAAOwV,QAASsqB,IAAmBpqB,GAAOJ,IAE5KC,GAAc7N,gBAAoB8yC,KAAU,MAE5C1a,GAAkB,SAAU/tC,GAAK,OAAOA,EAAE+tC,mBAC9Cya,GAAWnkC,UAAY,CACnBtS,SAAUuS,KAAUC,OACpBhB,KAAMe,KAAUrd,QAChBgH,MAAOqW,KAAUC,OACjBhe,OAAQ+d,KAAUkM,KAEtB,IAOek4B,GAPMr+B,eAAKm+B,IAAY,SAAUz7C,EAAO6kC,GACnD,OAAQ7kC,EAAMxG,QAAUqrC,EAAUrrC,OAC5BwG,EAAMxG,OAAOC,KAAOorC,EAAUrrC,OAAOC,GACrCuG,EAAMxG,QAAUqrC,EAAUrrC,SAC5BwG,EAAMgF,WAAa6/B,EAAU7/B,UAC7BhF,EAAMqT,KAAOwxB,EAAUxxB,MC/C3BlhB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAgCPupD,GAAc,SAAU1qD,GACxB,IAAIylB,EAAYzlB,EAAGylB,UAAWC,EAAO5jB,GAAO9B,EAAI,CAAC,cAC7CC,EAAKqqD,GAAe5kC,GAAO5R,EAAW7T,EAAG6T,SAAUxL,EAASrI,EAAGqI,OAC/D0yB,EAAUgY,GAAsBttB,GAAMsV,QAC1C,OAAQtjB,gBAAoB+6B,GAAYxxC,GAAS,CAAEwkB,UAAWA,GAAayR,GAAkBxR,IAAQsV,GAAWtjB,gBAAoB6yC,GAAY,CAAEz2C,SAAUA,EAAUxL,OAAQA,MAE9K4uB,GAAoB,SAAUl3B,GACrBA,EAAG8T,SAAqD9T,EAAGi7B,UAAuDj7B,EAAG+6B,QAAmD/6B,EAAGg7B,QAAmDh7B,EAAG4wB,QAC1O,OAD+R9uB,GAAO9B,EAAI,CAAC,WAAY,YAAa,UAAW,UAAW,aAG9V0qD,GAAYtkC,UAAY,CACpBtS,SAAUuS,KAAUC,OACpBb,UAAWY,KAAUC,OACrBthB,KAAMqhB,KAAUiB,OAChB0T,QAAS3U,KAAU6F,KACnBnsB,SAAUsmB,KAAUC,QAETokC,UCrEXzpD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYAwpD,GAAW,SAAU77C,GAC5B,IAAI9O,EACAsuC,EAAUx/B,EAAMw/B,QAASwG,EAAQhmC,EAAMgmC,MAAOt9B,EAAW1I,EAAM0I,SAA2CiO,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWuvB,EAAUlmC,EAAMgS,UAAWQ,EAAQxS,EAAMwS,MAAO1N,EAAW9E,EAAM8E,SAAU8R,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,QAAS,WAAY,UAAW,YAAa,YAAa,QAAS,aACtTgY,EAAUP,GAAUzX,GACpB7O,EAAKqqD,GAAex7C,GAAQgF,EAAW7T,EAAG6T,SAAUke,EAAe/xB,EAAG+xB,aAAcpB,EAAU3wB,EAAG2wB,QAASoK,EAAU/6B,EAAG+6B,QAAS1yB,EAASrI,EAAGqI,OAAQ9I,EAAWS,EAAGT,SAAUO,EAAWE,EAAGF,SAAUka,EAAOha,EAAGga,KAAMutB,EAASvnC,EAAGunC,OAAQ4N,EAAUn1C,EAAGm1C,QACrPwV,EAAkC,qBAAZtc,GAA2BtT,EAAWtjB,gBAAoBk+B,GAAgB,MAAUtH,EAC9G,OAAK92B,EAGGE,gBAAoB,MAAOzW,GAAS,CAAEwkB,UAAW8J,KAAW,YAAazI,EAAQiF,KAAMtG,IAAcyR,GAAkBxR,IAC3HhO,gBAAoBurC,GAAgB,CAAE3hC,MAAOA,EAAOhZ,OAAQA,EAAQ0pB,aAAcA,IAClF44B,GACIjpC,uBAAaipC,EAAc3pD,GAAS,CAAE6S,SAAUA,EAAU9O,KAAMsD,EAAQ0yB,QAASA,EAC7EpK,QAASA,EACT7wB,SAAUA,GAAY6qD,EAAa97C,QAC3C4I,gBAAoB,MAAO,CAAE+N,UAAW8J,KAAWzI,EAAQkJ,MAAOhwB,EAAK,GAC/DA,EAAG8mB,EAAQs8B,YAAcwH,EACzB5qD,KACJ0X,gBAAoBs9B,EAAS,CAAEvvB,UAAWqB,EAAQ0S,MAAQlxB,EAAUqZ,uBAAa9J,WAASC,KAAKN,GAAW,CACtG1D,SAAUA,EACVxL,OAAQA,EACR9I,SAA6C,qBAA5BgY,EAAS1I,MAAMtP,SAC1BA,EACAgY,EAAS1I,MAAMtP,SACrBO,SAAUA,EACVka,KAAMA,EACNutB,OAAQA,EACR5zB,SAAUA,EACVwhC,QAASA,IACN19B,gBAAoB83B,KAAa,KAAM,SAC9CsF,GACIp9B,eAAmBo9B,EAAO,CACtBhhC,SAAUA,EACVxL,OAAQA,EACRvI,SAAUA,EACVq1C,QAASA,EACTn7B,KAAMA,EACNutB,OAAQA,MA9Bb,MAiCfmjB,GAASvkC,UAAY,CACjBkoB,QAASjoB,KAAUrd,QACnB8rC,MAAOzuB,KAAUrd,QACjB8K,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QACpB8d,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBxF,UAAWuU,GACXrD,aAAc3L,KAAUkM,IACxB3B,QAASvK,KAAU6F,KACnB8O,QAAS3U,KAAU6F,KACnB5jB,OAAQ+d,KAAUiB,OAClB9nB,SAAU6mB,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAU6F,OAC3DnsB,SAAUsmB,KAAUC,OACpBrM,KAAMoM,KAAUuJ,KAChBtO,MAAO+E,KAAUiD,KACjB8rB,QAAS/uB,KAAU7H,OACnBte,UAAWmmB,KAAUuJ,KACrBxvB,UAAWimB,KAAUuJ,KACrBsyB,aAAc77B,KAAUuJ,KACxBuyB,aAAc97B,KAAUuJ,KACxBwyB,aAAc/7B,KAAUuJ,MAE5B+6B,GAASnrC,aAAe,CACpBsH,QAAS,GACThG,UAAWoZ,MAEf,IAAI3T,GAAYC,aAAW,CACvBuF,KAAM,GACNiE,KAAM,CACFC,QAAS,QAEbmzB,UAAW,CACPr1B,UAAW,OAEfyL,KAAM,CACF1O,KAAM,aAEX,CAAE5nB,KAAM,WACPg0B,GAAoB,SAAUl3B,GACrBA,EAAG8T,SAAqD9T,EAAGgyB,aAA6DhyB,EAAGi7B,UAAuDj7B,EAAG+6B,QAAmD/6B,EAAG4wB,QAAmD5wB,EAAGg7B,QAAmDh7B,EAAG2V,QAAmD3V,EAAGuI,GAAyCvI,EAAGoF,OAAiDpF,EAAGmF,QAAmDnF,EAAG0R,SAAqD1R,EAAGk1B,MAA+Cl1B,EAAGI,UAAuDJ,EAAGgiD,aAA6DhiD,EAAGE,UAAuDF,EAAG+hD,aAA6D/hD,EAAGwD,QAAmDxD,EAAGwgB,YAA2DxgB,EAAGia,KAA6Cja,EAAGwnC,OAAiDxnC,EAAGmiD,aAA6DniD,EAAGkiD,aAA6DliD,EAAGoiD,aAA6DpiD,EAAG4iD,eAAiE5iD,EAAG4qB,UAAuD5qB,EAAGiiD,aACh6C,OAD+9CngD,GAAO9B,EAAI,CAAC,WAAY,eAAgB,YAAa,UAAW,UAAW,UAAW,UAAW,KAAM,SAAU,UAAW,WAAY,QAAS,YAAa,eAAgB,YAAa,eAAgB,UAAW,cAAe,OAAQ,SAAU,eAAgB,eAAgB,eAAgB,iBAAkB,YAAa,kBChHryDiB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAmDrBspD,GAAO,SAAU/7C,GACxB6uB,GAA6B,OAAQ,CAAC,YAAa7uB,GACnD,IAAImmC,EAAkB8U,GAAkBj7C,GACpChO,EAAQ4W,gBAAoB2yC,GAAqB,CAAExhD,MAAOosC,GAC1Dv9B,gBAAoBizC,GAAU1pD,GAAS,GAAI6N,EAAOmmC,KACtD,OAAOnmC,EAAM/O,SAEb2X,gBAAoBkjB,GAAyB,CAAE/xB,MAAOiG,EAAM/O,UAAYe,GAAUA,GAEtF+pD,GAAKzkC,UAAY,CACbkoB,QAASjoB,KAAUrd,QACnB8rC,MAAOzuB,KAAUrd,QACjBwO,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB2U,UAAW5U,KAAU6F,KACrB6O,QAAS1U,KAAU6F,KACnB8O,QAAS3U,KAAU6F,KACnB0E,QAASvK,KAAU6F,KACnB3jB,GAAI8d,KAAUkM,IAAIhJ,WAClBxpB,SAAUsmB,KAAUC,OAAOiD,WAC3BjI,MAAO+E,KAAUiD,KACjBs5B,eAAgBv8B,KAAUC,OAC1BpmB,UAAWmmB,KAAUuJ,KACrBxvB,UAAWimB,KAAUuJ,KACrBhF,UAAWvE,KAAUuJ,KACrBhc,SAAUyS,KAAU6F,MCtFxB,IAAIjrB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQPi3B,GAAYhM,gBAAK,SAAUpsB,GAC3B,IAAIylB,EAAYzlB,EAAGylB,UAAWse,EAAS/jC,EAAG+jC,OAAQ9jC,EAAKD,EAAGsI,OAAQA,OAAgB,IAAPrI,EAAgB,GAAKA,EAAIy7C,EAAY17C,EAAG07C,UAAWh2B,EAAO5jB,GAAO9B,EAAI,CAAC,YAAa,SAAU,SAAU,cAC9K6I,EAAQ7F,KAAIsF,EAAQy7B,GACxB,OAAQrsB,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAWA,GAAa+1B,GAAuB91B,IAAiB,MAAT7c,GAAkC,kBAAVA,EACjK9C,KAAKC,UAAU6C,GACfA,GAAS6yC,MAGnBtjB,GAAU9gB,YAAc,YACxB8gB,GAAU5Y,aAAe,CACrBi8B,UAAU,GAEdrjB,GAAUhS,UAAYnlB,GAASA,GAAS,GAAI+qB,KAAW5F,WAAYy1B,IACpDzjB,U,qBCMA0yB,GAlBW,SAAU9qD,GAChC,IAAI8T,EAAW9T,EAAG8T,SAAU7T,EAAKD,EAAG47C,KAAMA,OAAc,IAAP37C,EAAgB,OAASA,EAAI07C,EAAW37C,EAAG27C,SAAU4C,EAAYv+C,EAAGu+C,UAAW7qC,EAAK1T,EAAGsI,OAAQA,OAAgB,IAAPoL,EAAgB,CAAEnL,GAAI,IAAOmL,EAAI3T,EAAWC,EAAGD,SAAUgkC,EAAS/jC,EAAG+jC,OAC1NgnB,EAAW/nD,KAAIsF,EAAQy7B,GACvBinB,EAAWl3C,EAASrB,QAAQ1S,EAAUw+C,GAEtCuM,EAAsB,SAAUG,GAChC,QAAQA,IAEgB,oBAAXA,EACHA,EAAO3iD,EAAQi2C,GACf/E,aAAawR,EAAUD,EAAUE,KAM/C,YAJiB9qD,IAAbw7C,GACAp4B,QAAQ0iC,KAAK,yFAEM6E,OAAiC3qD,IAAbw7C,EAAyBA,EAAWC,I,WCPpEsP,GAVW,SAAUlrD,GAChC,IAAIu+C,EAAYv+C,EAAGu+C,UAAWh2C,EAAKvI,EAAGuI,GAClCtI,EAAKkrD,aAAW5M,EAAW,CAACh2C,IAAMvD,EAAO/E,EAAG+E,KAAMC,EAAQhF,EAAGgF,MAAOE,EAAUlF,EAAGkF,QAASC,EAASnF,EAAGmF,OAC1G,MAAO,CACHgmD,gBAAiBnmD,OAAQ9E,EAAY6E,EAAK,GAC1CC,MAAOA,EACPE,QAASA,EACTC,OAAQA,I,WClCZnE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmI,KAAM,CACFrF,OAAQ9C,EAAM+C,QAAQ,GAAK,OAC3BY,MAAO3D,EAAM+C,QAAQ,IAAM,SAE5B,CAAEzjB,KAAM,qBAeXmoD,GAAiB,SAAUrrD,GAC3B,IAAIC,EAAKD,EAAGsrD,QAASA,OAAiB,IAAPrrD,EAAgB,IAAOA,EAAI6O,EAAQhN,GAAO9B,EAAI,CAAC,YACzCylB,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWC,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,cAC/FgY,EAAUP,GAAUzX,GAExB,OADyBkU,aAAWsoC,GACP5zC,gBAAoB6zC,KAAUtqD,GAAS,CAAEwkB,UAAW8J,KAAWzI,EAAQiF,KAAMtG,IAAcC,IAAU,MAEtI2lC,GAAejlC,UAAY,CACvBU,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrBglC,QAASjlC,KAAU7H,QAGvB6sC,GAAe/zC,YAAc,iBACd+zC,UC9DXpqD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA2DPqqD,GAAiB,SAAUxrD,GAC3B,IAAIsI,EAAStI,EAAGsI,OAAQy7B,EAAS/jC,EAAG+jC,OAAQ2X,EAAY17C,EAAG07C,UAAW5sC,EAAQhN,GAAO9B,EAAI,CAAC,SAAU,SAAU,cAC9G,OAA8B,MAAvBgD,KAAIsF,EAAQy7B,GAAmB2X,EAAahkC,gBAAoBsU,KAAY,CAAElL,UAAW,OAAQ6K,QAAS,SAAW+vB,GAAc,KAAShkC,gBAAoB+zC,GAAwBxqD,GAAS,GAAI6N,EAAO,CAAExG,OAAQA,EAAQy7B,OAAQA,MAEjPynB,GAAeplC,UAAY,CACvBq1B,SAAUp1B,KAAU6F,KACpBpY,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QAAQugB,WAC5BzC,QAAST,KAAUkM,IACnB9M,UAAWY,KAAUC,OACrB+xB,cAAehyB,KAAUC,OACzB+vB,gBAAiBhwB,KAAUC,OAC3BtW,MAAOqW,KAAUC,OACjBhe,OAAQ+d,KAAUkM,IAClBgsB,UAAWl4B,KAAUC,OAAOiD,WAC5BxpB,SAAUsmB,KAAUC,OACpBkwB,OAAQnwB,KAAUC,OAClBowB,YAAamF,GAAenF,YAC5B3S,OAAQ1d,KAAUC,OAAOiD,WACzB8iB,gBAAiBhmB,KAAU8F,UAAU,CAAC9F,KAAUuJ,KAAMvJ,KAAU6F,OAChEyvB,SAAUt1B,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEdgsB,KAAMv1B,KAAU8F,UAAU,CACtB9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OACXrG,YAEPiiC,GAAehsC,aAAe,CAC1Bi8B,UAAU,EACV30B,QAAS,GACT80B,KAAM,QAMH,IAAI6P,GAAyB,SAAUzrD,GAC1C,IAAIwX,EAAWxX,EAAGwX,SAAUlP,EAAStI,EAAGsI,OAAQy7B,EAAS/jC,EAAG+jC,OAAQj1B,EAAQhN,GAAO9B,EAAI,CAAC,WAAY,SAAU,WAC9G,GAAuC,IAAnC0X,WAAegJ,MAAMlJ,GACrB,MAAM,IAAI/S,MAAM,gDAEpB,IAAIqP,EAAWhF,EAAMgF,SAAU/T,EAAW+O,EAAM/O,SAAUw+C,EAAYzvC,EAAMyvC,UACxEmN,EAAmBZ,GAAoB7pD,GAASA,GAAS,GAAI6N,GAAQ,CAAE/O,SAAUA,EACjFuI,OAAQA,EACRy7B,OAAQA,EACRjwB,SAAUA,KACd,OAAQ4D,gBAAoBkjB,GAAyB,CAAE/xB,MAAO01C,GAC1D7mC,gBAAoBi0C,GAAwB1qD,GAAS,GAAI6N,EAAOo8C,GAAa,CACzE3M,UAAWA,EACXh2C,GAAIvF,KAAIsF,EAAQy7B,KAChB,CAAE2nB,iBAAkBA,IAAqBl0C,KAEjD+O,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDg4B,KAAM,CACF11B,MAAOtC,EAAMoK,QAAQc,QAAQkB,SAE9B,CAAE9sB,KAAM,qBAEX4sC,GAAkB,SAAU/tC,GAAK,OAAOA,EAAE+tC,mBACnC8b,GAAqB,SAAU98C,GACtC,IAAIgF,EAAWhF,EAAMgF,SAAU0D,EAAW1I,EAAM0I,SAAUiO,EAAY3W,EAAM2W,UAA4CxgB,GAAf6J,EAAMgY,QAAiBhY,EAAM7J,OAAOG,EAAS0J,EAAM1J,OAAwDm5C,GAAtCzvC,EAAM3J,QAAkB2J,EAAMxG,OAAoBwG,EAAMyvC,WAAW6M,EAAkBt8C,EAAMs8C,gBAA4CM,GAAhB58C,EAAM/O,SAA6B+O,EAAM48C,kBAAyC1rD,GAAd8O,EAAMi1B,OAAaj1B,EAAMu9B,iBAAiBA,OAAyB,IAAPrsC,GAAwBA,EAAI0lB,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,WAAY,YAAa,UAAW,QAAS,SAAU,UAAW,SAAU,YAAa,kBAAmB,WAAY,mBAAoB,SAAU,oBACrnBgY,EAAUP,GAAUzX,GACxB,OAAK1J,EAGDH,EAGAyS,gBAAoByb,KAAW,CAAE,oBAAqBluB,EAAM8M,QAAU9M,EAAM8M,QAAU9M,EAAOiuB,KAAM,eAAgBhN,MAAO,QAASgW,SAAU,UAI5IkvB,EAGDM,EACQh0C,gBAAoB07B,GAAM,CAAEjxB,GAAIupC,EAAkBjmC,UAAWA,EAAWD,QAASsqB,IAAmBnuB,uBAAa9J,WAASC,KAAKN,GAAWvW,GAAS,CAAEwkB,UAAW8J,KAAW/X,EAAS1I,MAAM2W,UAAWqB,EAAQ80B,MAC9MtzC,OAAQ8iD,EAAiBrrD,SAAUw+C,EAAWzqC,SAAUA,EAC3Du4B,gBAAiBA,GAAmBmP,GAAuB91B,MAE5D/D,uBAAa9J,WAASC,KAAKN,GAAWvW,GAAS,CAAEqH,OAAQ8iD,EAAiBrrD,SAAUw+C,EAAWzqC,SAAUA,EAC5Gu4B,gBAAiBA,GAAmBmP,GAAuB91B,KARpD,KAVAhO,gBAAoB2zC,GAAgB,OAoBnDO,GAAmBxlC,UAAY,CAC3BtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QACpByc,UAAWY,KAAUC,OACrBQ,QAAST,KAAUkM,IACnBptB,QAASkhB,KAAU6F,KACnB5jB,OAAQ+d,KAAUkM,IAClBgsB,UAAWl4B,KAAUC,OACrB8kC,gBAAiB/kC,KAAUkM,IAC3BxyB,SAAUsmB,KAAUC,OACpBolC,iBAAkBrlC,KAAU8F,UAAU,CAClC9F,KAAUC,OACVD,KAAU3H,MAAM,EAAC,MAErBqlB,OAAQ1d,KAAUC,OAClB+lB,gBAAiBhmB,KAAU8F,UAAU,CAAC9F,KAAUuJ,KAAMvJ,KAAU6F,QAEpE,IAAIy/B,GAAyBv/B,eAAKw/B,IACnBJ,M,4ECxLXK,GAA4B,SAAUC,GACtC,OAAOA,QAAmD3rD,IAA7B2rD,EAAmB7mD,OCDhDhE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAG5BwqD,GAAoB,SAAUpmD,EAAWqmD,GACzC,OAAO/qD,GAASA,GAAS,GAAI0E,GAAYqmD,IAEzCC,GAAoB,CACpBjgD,KAAM,EACNC,QAAS,IAYG,YAAUigD,QACI,IAAtBA,IAAgCA,EAAoB,IACxD,IAAIlsD,EAAKmsD,qBAAWJ,GAAmB9qD,GAASA,GAAS,GAAIgrD,IAAoBC,IAAqB7X,EAAar0C,EAAG,GAAIy+C,EAAgBz+C,EAAG,GACzIosD,EAAgB11B,kBAAO,GACvB4G,EAAa93B,uBAAY,SAAUyG,GAAW,OAAOwyC,EAAc,CAAExyC,QAASA,MAAe,IAC7FoxB,EAAU73B,uBAAY,SAAUwG,GAAQ,OAAOyyC,EAAc,CAAEzyC,KAAMA,MAAY,IAQrF,OAPAmU,qBAAU,WACFisC,EAAcv1B,QACdu1B,EAAcv1B,SAAU,EAG5ByG,EAAW4uB,EAAkBjgD,SAAW,MACzC,CAACigD,EAAkBjgD,QAASqxB,IACxB,CACHtxB,KAAMqoC,EAAWroC,KACjBC,QAASooC,EAAWpoC,QACpBooC,WAAYA,EACZhX,QAASA,EACTC,WAAYA,EACZmhB,cAAeA,IChDnBx9C,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAI5B8qD,GAAc,SAAUhnD,EAAOmF,GAC/B,OAAQA,EAAO1L,MACX,IAAK,WACD,OAAO0L,EAAOlH,QAAQwI,KAC1B,IAAK,iBACD,IAAIozB,EAAQ10B,EAAOlH,QAAQ47B,MAM3B,MAAO,CAAEA,MAAOA,EAAOnzB,MALnBA,EAAQ1G,EAAM65B,QAAUA,GACtB75B,EAAM0G,QAAUmyB,GACZC,GAEJD,IAGV,IAAK,iBACD,IAAInyB,EAAQvB,EAAOlH,QAAQyI,MAC3B,OAAO9K,GAASA,GAAS,GAAIoE,GAAQ,CAAE0G,MAAOA,IAElD,QACI,OAAO1G,IAGR45B,GAAc,CAAEC,MAAO,KAAMnzB,MAAO,QAyEhCugD,GAxBI,SAAUC,QACL,IAAhBA,IAA0BA,EAActtB,IAC5C,IAAIj/B,EAAKmsD,qBAAWE,GAAaE,GAAczgD,EAAO9L,EAAG,GAAI2lB,EAAW3lB,EAAG,GACvEosD,EAAgB11B,kBAAO,GAQ3B,OAPAvW,qBAAU,WACFisC,EAAcv1B,QACdu1B,EAAcv1B,SAAU,EAG5BlR,EAAS,CAAE7mB,KAAM,WAAYwE,QAAS,CAAEwI,KAAMygD,OAC/C,CAACA,EAAYrtB,MAAOqtB,EAAYxgD,QAC5B,CACHwxB,QAAS/3B,uBAAY,SAAUsG,GAC3B,OAAO6Z,EAAS,CAAE7mB,KAAM,WAAYwE,QAAS,CAAEwI,KAAMA,OACtD,CAAC6Z,IACJ6mC,aAAchnD,uBAAY,SAAU05B,GAChC,OAAOvZ,EAAS,CAAE7mB,KAAM,iBAAkBwE,QAAS,CAAE47B,MAAOA,OAC7D,CAACvZ,IACJ8mC,aAAcjnD,uBAAY,SAAUuG,GAChC,OAAO4Z,EAAS,CAAE7mB,KAAM,iBAAkBwE,QAAS,CAAEyI,MAAOA,OAC7D,CAAC4Z,IACJ7Z,KAAMA,ICxGV7K,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAM5BmrD,GAAuB,SAAUl8C,GAAK,MAAQ,CAAEm8C,EAAGn8C,ICfnDrO,GAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAIPuqD,GAAmB,GA8CRC,GAnCS,SAAUC,QACL,IAArBA,IAA+BA,EAAmBF,IACtD,IAAI5sD,EAAK+E,aAAgB+nD,GAAmBngD,EAAc3M,EAAG,GAAI+sD,EAAiB/sD,EAAG,GACjFosD,EAAgB11B,kBAAO,GAyB3B,OAxBAvW,qBAAU,WACFisC,EAAcv1B,QACdu1B,EAAcv1B,SAAU,EAG5Bk2B,EAAeD,KAChB,CAACA,EAAkBC,IAkBf,CACHpgD,YAAaA,EACbswB,SAnBWz3B,uBAAY,SAAU47B,GACjC2rB,EAAe3rB,KAChB,CAAC2rB,IAkBA7vB,aAjBe13B,uBAAY,SAAU+C,GACrCwkD,GAAe,SAAUpjD,GACrB,IAAI2B,EAAQ3B,EAAc3H,QAAQuG,GAClC,OAAI+C,GAAS,EACFnJ,GAAewH,EAAc3F,MAAM,EAAGsH,GAAQ3B,EAAc3F,MAAMsH,EAAQ,IAG1EnJ,GAAewH,EAAe,CAACpB,SAG/C,CAACwkD,IAQA5vB,gBAPkB33B,uBAAY,WAC9BunD,EAAe,MAChB,CAACA,MC/CJ9rD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BY,GAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAeP2qD,GAAgB,GAuCTC,GAA8B,SAAUn+C,GAC/C,IAAI9O,EA+BAqjC,EAAU6pB,EAAW9pB,EA9BrBtvB,EAAWhF,EAAMgF,SAAUmH,EAAQnM,EAAMmM,MAAOhb,EAAK6O,EAAM9C,KAAMmhD,OAAqB,IAAPltD,EAAgB,EAAIA,EAAIyT,EAAK5E,EAAM7C,QAASmhD,OAAwB,IAAP15C,EAAgB,GAAKA,EAAIC,EAAK7E,EAAMzF,OAAQA,OAAgB,IAAPsK,EAAgBq5C,GAAgBr5C,EAAI4qC,EAAYzvC,EAAMyvC,UAAWD,EAAgBxvC,EAAMwvC,cAAe+O,EAAev+C,EAAMhD,KAC5T/L,EAAWyiC,GAAmB1zB,GAC9BmI,EAAYmO,KAEZf,EAAKipC,GAAmB,CAAEthD,KAAMmhD,EAAalhD,QAASmhD,IAAmB/Y,EAAahwB,EAAGgwB,WAAYoK,EAAgBp6B,EAAGo6B,cAAezyC,EAAOqY,EAAGrY,KAAMqxB,EAAUhZ,EAAGgZ,QAASpxB,EAAUoY,EAAGpY,QAASqxB,EAAajZ,EAAGiZ,WAEnNhZ,EAAKgoC,GAAae,GAAevhD,EAAOwY,EAAGxY,KAAMyhD,EAAgBjpC,EAAGiZ,QACpEA,EAAU/3B,uBAAY,SAAU05B,EAAOnzB,QACzB,IAAVA,IAAoBA,EAAQ,OAChCwhD,EAAc,CAAEruB,MAAOA,EAAOnzB,MAAOA,IACrCsxB,EAAQ,KACT,CAACA,EAASkwB,IAEThpC,EFxCQ,SAAUvkB,GACtB,IAAIC,EAAKD,EAAGs+C,cAAeA,OAAuB,IAAPr+C,EAAgBysD,GAAuBzsD,EAAIyT,EAAK1T,EAAGwtD,gBAAiBA,OAAyB,IAAP95C,EAAgB,GAAKA,EAAIC,EAAK3T,EAAGytD,aAAcA,OAAsB,IAAP95C,EAAgB,IAAMA,EACjN+5C,EAAsBh3B,iBAAO82B,GAC7BG,EAAcj3B,mBACdrS,EAAKtf,aAAgB9D,GAASA,GAAS,GAAIusD,GAAkBlP,EAAc,MAAOj1C,EAASgb,EAAG,GAAIupC,EAAiBvpC,EAAG,GAOtHwpC,EAA2B9nD,KAAKC,UAAUwnD,GAa9C,OAZArtC,qBAAU,WACDzX,IAAQglD,EAAoB72B,QAAS22B,KACtCE,EAAoB72B,QAAU22B,EAC9BI,EAAe3sD,GAASA,GAAS,GAAIusD,GAAkBlP,EAAcqP,EAAY92B,cAEtF,CAACg3B,EAA0BH,EAAqBpP,IAO5C,CACHj1C,OAAQA,EACRm1C,UAPYh5C,sBAAY46B,MAAS,SAAUv3B,GAC3C+kD,EAAe3sD,GAASA,GAAS,GAAIusD,GAAkBlP,EAAcz1C,KACrE8kD,EAAY92B,QAAUhuB,IACvB4kD,GAAe,CAACI,KEkBVC,CAAe,CACpBN,gBAAiBnkD,EACjBi1C,cAAeA,IACfvhB,EAAexY,EAAGlb,OAAQm1C,EAAYj6B,EAAGi6B,UAKzC/5B,EAAKooC,KAAqBlgD,EAAc8X,EAAG9X,YAAaswB,EAAWxY,EAAGwY,SAAUC,EAAezY,EAAGyY,aAAcC,EAAkB1Y,EAAG0Y,gBAErIxY,EAAKse,aAAWsb,EAAWlK,EAAYvoC,EAAMixB,GAAegxB,EAAoBppC,EAAG1a,IAAK+jD,EAAqBrpC,EAAG3f,KAAMipD,EAAsBtpC,EAAGzf,MAAOgpD,EAAuBvpC,EAAGvf,OAAQ+oD,EAAwBxpC,EAAGxf,QAASipD,EAAsBzpC,EAAG1f,MAErPopD,EAAKnD,GAAa,CAClB3iD,GAAI0S,EAAMpS,MACV01C,UAAWA,IACX6M,EAAkBiD,EAAGjD,gBAAiBkD,EAAiBD,EAAGppD,MAAOspD,EAAmBF,EAAGlpD,QAASqpD,EAAkBH,EAAGjpD,QAGpHgmD,GAAmB2C,EAAkBlqD,SAASoX,EAAMpS,QACrDw6B,EAAW0qB,EACXb,EAAYc,EACZ5qB,EAAa6qB,IAGb5qB,EAAWlhC,GAAe,CAAC8Y,EAAMpS,OAAQklD,GACzCb,EAAYjsD,KAAUjB,EAAK,IAAOib,EAAMpS,OAASuiD,EAAiBprD,GAAKguD,GACvE5qB,GAAc,GAGlB,IAAIqrB,EL/GuB,SAAUzuD,GACrC,IAAIib,EAAQjb,EAAGib,MAAO6wC,EAAqB9rD,EAAG8rD,mBAAoBV,EAAkBprD,EAAGorD,gBAAiBnrD,EAAKD,EAAGiX,UAAWA,OAAmB,IAAPhX,EAAgB,SAAUiX,GAAK,OAAOA,GAAOjX,EAChLyuD,EAA0B7C,GAA0BC,GAClD70C,EAAU60C,EAAmB7mD,MAAO,CAClC8K,EAAG+7C,EAAmB7mD,QAExB,KACF0pD,EAAyB1zC,EAAMpS,QAAUuiD,EACvCn0C,EAAU,qCAAsC,CAC9ClH,EAAG,uCAEL,KACN,MAAO,CACH6+C,QAAU3zC,EAAMpS,OAAS8lD,IAA2B7C,IAC9C7wC,EAAMpS,QAAUijD,EACtB7mD,MAAQgW,EAAMpS,OACV8lD,GACAD,IACEzzC,EAAMpS,OAAS6lD,EACfzzC,EAAMpS,MACF8lD,EACAD,EACJ,KACN1tC,QAAS2tC,GAA0BD,EACnC3Q,QAASz7C,MAAMuhB,QAAQioC,GACjBA,EACA,CAACV,GAAiB/hD,QAAO,SAAUs0C,GAAU,OAAOA,MKqF7CkR,CAAc,CAC3B5zC,MAAOA,EACP6wC,mBAAoBvrD,OAAOC,KAAK0sD,GAAW1kD,KAAI,SAAUD,GAAM,OAAO2kD,EAAU3kD,MAChF6iD,gBAAiBA,EACjBn0C,UAAWA,IAEf,MAAO,CAEHjJ,eAAgB,CACZ8F,SAAUA,EACV9O,KAAMkoD,EACNjjD,IAAKo5B,EACLn+B,MAAOk+B,EACPn+B,MAAOmpD,EACPhpD,OAAQ8oD,EACR/oD,QAASgpD,EACTlzB,WAAW,EACXjvB,KAAMA,EACNqxB,QAASA,EACTpxB,QAASA,EACTqxB,WAAYA,EACZT,YAAa/wB,EACbyxB,QAASA,EACTR,aAAcA,EACdD,iBAjDe,GAkDfM,WAAYohB,EACZhhB,WAAYA,GACZR,WAAYA,GACZrwB,YAAaA,EACbswB,SAAUA,EACVC,aAAcA,EACdC,gBAAiBA,EACjBp9B,SAAUA,GAEdqrD,gBAAiB,CACbpmD,KAAMomD,EACNhmD,OAAQopD,EACRrpD,QAASopD,EACTtpD,MAAOqpD,GAEXG,WAAY,CACRxpD,MAAOwpD,EAAWxpD,MAClBE,QAASspD,EAAWG,QACpB5tC,QAASytC,EAAWztC,SAExB+8B,QAAS1a,EAAS76B,KAAI,SAAUD,GAAM,OAAO2kD,EAAU3kD,MAGvDtD,MAAOwpD,EAAWxpD,MAClBE,QAASspD,EAAWG,QACpBvlD,OAAQ0zB,EACRyhB,UAAWA,EACXnK,WAAYA,EACZoK,cAAeA,EACf3yC,KAAMA,EACNyxB,QAASgwB,EACTvsC,QAASytC,EAAWztC,UAGxBgc,GAAa,aACbQ,GAAa,aC3KbsxB,GAAiB,SAAU9uD,GAC3B,IAAIgQ,EAAQhQ,EAAGgQ,MAAO/K,EAAQjF,EAAGiF,MACjC,OAAQyS,gBAAoB0gB,KAAW,CAAEnzB,OAAO,EAAMi0B,UAAU,EAAMlpB,MAAOA,EAAOnH,MAAO5D,EAAOyhB,OAAQ,YAE9GooC,GAAe1oC,UAAY,CACvBnhB,MAAOohB,KAAUC,OAAOiD,WACxBvZ,MAAOqW,KAAUC,OAAOiD,YAEbulC,UCXX7tD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAwFP4tD,GAAiB,SAAU/uD,GAC3B,IAAI6rC,EAAS7rC,EAAG6rC,OAAQ9C,EAAS/oC,EAAG+oC,OAAQvC,EAAWxmC,EAAGwmC,SAAU0C,EAAUlpC,EAAGkpC,QAAS5J,EAAQt/B,EAAGs/B,MAAO1G,EAAW54B,EAAG44B,SAAU9pB,EAAQhN,GAAO9B,EAAI,CAAC,SAAU,SAAU,WAAY,UAAW,QAAS,aACxMm4B,EAAa0Q,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACzC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACP1G,SAAUA,GAAY9pB,IAC1B,OAAQ4I,IAAMC,cAAcq3C,GAAoB/tD,GAAS,GAAIk3B,EAAYrpB,EAAOm+C,GAA4BhsD,GAASA,GAAS,GAAI6N,GAAQqpB,OAE9I42B,GAAe3oC,UAAY,CACvB8d,WAAY7d,KAAU6F,KACtBpY,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QAAQugB,WAC5B9D,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnBje,OAAQgd,KAAUiB,OAClBg3B,cAAej4B,KAAUuJ,KAAKrG,WAC9BvZ,MAAOqW,KAAUC,OACjBkgB,SAAUngB,KAAUuJ,KACpB3jB,QAASoa,KAAU7H,OACnBlW,OAAQ+d,KAAUiB,OAClBi3B,UAAWl4B,KAAUC,OAAOiD,WAC5BxpB,SAAUsmB,KAAUC,OACpBxa,KAAMua,KAAUqvB,MAAM,CAClBxW,MAAO7Y,KAAUC,OACjBva,MAAOsa,KAAU3H,MAAM,CAAC,MAAO,WAEnCqlB,OAAQ1d,KAAUC,QAEtByoC,GAAevvC,aAAe,CAC1BnW,OAAQ,GACRi1C,cAAe,SAAU2Q,GAAc,OAAQA,EAAa,CAAEtC,EAAGsC,GAAe,IAChFhjD,QAAS,GACTH,KAAM,CAAEozB,MAAO,KAAMnzB,MAAO,SAEhC,IAIWijD,GAAqB,SAAUhvD,GACtC,IAAIkkC,EAAalkC,EAAGkkC,WAAYpwB,EAAW9T,EAAG8T,SAAU0D,EAAWxX,EAAGwX,SAAUumC,EAAU/9C,EAAG+9C,QAASj3B,EAAU9mB,EAAG8mB,QAASrB,EAAYzlB,EAAGylB,UAAWxgB,EAAQjF,EAAGiF,MAAOozB,EAAar4B,EAAGq4B,WAAY9vB,EAAKvI,EAAGuI,GAAI0S,EAAQjb,EAAGib,MAAOsO,EAAavpB,EAAGupB,WAAYpkB,EAAUnF,EAAGmF,QAAS6K,EAAQhQ,EAAGgQ,MAAOpG,EAAO5J,EAAG4J,KAAMoE,EAAiBhO,EAAGgO,eAAgBjO,EAAWC,EAAGD,SAAUw+C,EAAYv+C,EAAGu+C,UAAWC,EAAYx+C,EAAGw+C,UAAWC,EAAgBz+C,EAAGy+C,cAAelhB,EAAUv9B,EAAGu9B,QAASwG,EAAS/jC,EAAG+jC,OAAQ/iB,EAAUhhB,EAAGghB,QAAS0E,EAAO5jB,GAAO9B,EAAI,CAAC,aAAc,WAAY,WAAY,UAAW,UAAW,YAAa,QAAS,aAAc,KAAM,QAAS,aAAc,UAAW,QAAS,OAAQ,iBAAkB,WAAY,YAAa,YAAa,gBAAiB,UAAW,SAAU,YAClxB,GAAiC,IAA7B6X,WAAS6I,MAAMlJ,GACf,MAAM,IAAI/S,MAAM,gDAEpB,GAAIU,EACA,OAAQuS,IAAMC,cAAc4uC,GAAS,CAAEh+C,GAAIA,EAAIyH,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAU0lB,UAAWA,EAAW8D,WAAYA,EAAY3f,KAAMA,EAAMqR,MAAOA,GAC9JvD,IAAMC,cAAc0zC,GAAgB,OAI5C,GAAIpmD,EACA,OAAOyS,IAAMC,cAAcm3C,GAAgB,CAAE9+C,MAAOA,EAAO/K,MAAOA,IAKtE,IAAIiqD,EAAYluC,EACV/f,GAASA,GAAS,GAAI2I,GAAO,CAAE3E,MAAO+b,IAAapX,EAGzDulD,kBAA0BhvD,IAAfk4B,IAA2C,IAAfA,EAAsB,6GAC7D,IAAI+2B,GAAoC,IAAf/2B,EAAuB,CAAEA,WAAYA,GAAe,GAC7E,OAAQ3gB,IAAMC,cAAcijB,GAAyB,CAAE/xB,MAAO01C,GAC1D7mC,IAAMC,cAAc02B,GAAqB,CAAExlC,MAAOmF,GAAkB2T,uBAAanK,EAAUvW,GAASA,GAAS,CAAEijC,WAAYA,EACvHpd,QAASA,EACTrB,UAAWA,EACXxK,MAAOA,EACPsO,WAAYA,EACZvZ,MAAOA,EACPjQ,SAAUA,EAAU6J,KAAMslD,EAAWnrB,OAAQA,EAC7Cga,QAASA,EACTjqC,SAAUA,EACV0qC,UAAWA,EACXC,cAAeA,EACflhB,QAASA,EAAS8O,iBAAiB,GAAS+iB,GAvChC,SAAUpvD,GACrBA,EAAGyuD,WAAyDzuD,EAAGqJ,OAAiDrJ,EAAGs+C,cAA+Dt+C,EAAGwmC,SAAqDxmC,EAAGiM,QAAmDjM,EAAGu+C,UAAuDv+C,EAAGorD,gBAAmEprD,EAAGqvD,gBAAmErvD,EAAG8L,KAA6C9L,EAAGke,WAAliB,IAAslBwH,EAAO5jB,GAAO9B,EAAI,CAAC,aAAc,SAAU,gBAAiB,WAAY,UAAW,YAAa,kBAAmB,kBAAmB,OAAQ,eACpuB,OAAOyrC,GAAuB/lB,GAqC2CwR,CAAkBxR,QAEhFqpC,M,UCnHAO,GA7CM,SAAUtvD,GAC3B,IAAIuvD,EAAkBvvD,EAAGuvD,gBAAiBrrB,EAAalkC,EAAGkkC,WAAY6Z,EAAU/9C,EAAG+9C,QAAS99C,EAAKD,EAAG07C,UAAWA,OAAmB,IAAPz7C,EAAgB,GAAKA,EAAIyT,EAAK1T,EAAGi+C,WAAYA,OAAoB,IAAPvqC,EAAgB,KAAOA,EAAIu4B,EAAsBjsC,EAAGisC,oBAAqBujB,EAAkBxvD,EAAGwvD,gBAAiBrjB,EAAansC,EAAGmsC,WAAYC,EAAcpsC,EAAGosC,YAAaqjB,EAAezvD,EAAGyvD,aAAc97C,EAAK3T,EAAG0vD,gBAAiBA,OAAyB,IAAP/7C,EAAgB,EAAIA,EAAI04B,EAAkBrsC,EAAGqsC,gBACldp1B,EAAYmO,KACZf,EAAKo5B,GAAW,CAChBtR,WAAYA,EACZC,YAAaA,EACbC,gBAAiBA,IACjBqR,EAAgBr5B,EAAGq5B,cAAeG,EAAiBx5B,EAAGw5B,eAgC1D,MAAO,CACHH,cAAeA,EACfG,eAAgBA,EAChB8R,eAjCiBnqD,sBAAYoqD,GAAsB,CACnDL,gBAAiBA,EACjBrrB,WAAYA,EACZ6Z,QAASA,EACTrC,UAAWzkC,EAAUykC,EAAW,CAAE3rC,EAAG2rC,IACrCuC,WAAYA,EACZP,cAAeA,EACfG,eAAgBA,EAChB5R,oBAAqBA,EACrBujB,gBAAiBA,EACjBrjB,WAAYA,EACZC,YAAaA,EACbqjB,aAAcA,EACdC,gBAAiBA,IACjB,CACAH,EACArrB,EACA6Z,EACArC,EACAuC,EACAP,EACAG,EACA5R,EACAujB,EACArjB,EACAC,EACAqjB,EACAC,EACAz4C,MAgDG24C,GAAwB,SAAU5vD,GACzC,IAAIC,EAAKD,EAAG+9C,QAASA,OAAiB,IAAP99C,EAAgB,GAAKA,EAAIsvD,EAAkBvvD,EAAGuvD,gBAAiBrrB,EAAalkC,EAAGkkC,WAAYwX,EAAY17C,EAAG07C,UAAWuC,EAAaj+C,EAAGi+C,WAAY9R,EAAansC,EAAGmsC,WAAYC,EAAcpsC,EAAGosC,YAAasR,EAAgB19C,EAAG09C,cAAeG,EAAiB79C,EAAG69C,eAAgBnqC,EAAK1T,EAAGisC,oBAAqBA,OAA6B,IAAPv4B,GAAwBA,EAAIC,EAAK3T,EAAGwvD,gBAAiBA,OAAyB,IAAP77C,EAlCjZ,SAAU+pC,GAAiB,OAAO,SAAUr0C,EAAQwmD,GAC7E,IAPyBhnD,EAOrBinD,EAAiBpS,EAAcmS,GAEnC,OADqBxmC,yBAAeymC,IAG9BA,GACEA,EAAe56B,MAGf,IAAI66B,QAfalnD,EAeOQ,GAdjBR,EAAM4J,QAAQ,sBAAuB,QAAU,GAcrB,OAyBiZu9C,CAAuBtS,GAAiB/pC,EAAI87C,EAAezvD,EAAGyvD,aAAcprC,EAAKrkB,EAAG0vD,gBAAiBA,OAAyB,IAAPrrC,EAAgB,EAAIA,EACrkB,OAAO,SAAUhb,GACb,IAAI4mD,EAAc,GAkClB,OAhCIR,IACCntD,MAAMuhB,QAAQ4rC,IACfD,EAAgBnmD,EAAQomD,GAGpBQ,EAFAhkB,EAEc8R,EAAQ10C,QAAO,SAAUs0C,GACnC,OAAOE,EAAeF,KAAYE,EAAe4R,MAG/CF,EAKQxR,EAHAmS,GAAiCnS,EAAS0R,EAAc5R,IAO1EoS,EAAclS,EAAQ10C,QAAO,SAAUs0C,GAAU,OAAO6R,EAAgBnmD,EAAQs0C,MAC3E4R,IACDU,EAAcC,GAAiCD,EAAaR,EAAc5R,KAGlFoS,EAAcE,GAAiBF,EAAaP,GACxCxrB,IACA+rB,EAAcG,GAAmBH,EAAa,CAC1C9jB,WAAYA,EACZC,YAAaA,EACbsP,UAAWA,EACXuC,WAAYA,KAGbgS,IAiBXC,GAAmC,SAAUD,EAAaI,EAAexS,GACzE,IAAKwS,EACD,OAAOJ,EAEX,IAAIK,EAAiBhuD,MAAMuhB,QAAQwsC,GAC7BA,EAAc7nD,IAAIq1C,GAClB,CAACA,EAAewS,IACtB,OAAOJ,EAAY5mD,QAAO,SAAUwmD,GAAc,OAAQS,EAAezsD,SAASg6C,EAAegS,QAejGM,GAAmB,SAAUF,EAAargB,GAE1C,YADc,IAAVA,IAAoBA,EAAQ,GACzBpH,OAAO+nB,UAAU3gB,IAAUA,EAAQ,EACpCqgB,EAAYjsD,MAAM,EAAG4rC,GACrBqgB,GAYNG,GAAqB,SAAUH,EAAajwD,GAC5C,IAAIC,EAAKD,EAAGmsC,WAAYA,OAAoB,IAAPlsC,EAAgB,OAASA,EAAIyT,EAAK1T,EAAGosC,YAAaA,OAAqB,IAAP14B,EAAgB,KAAOA,EAAIC,EAAK3T,EAAG07C,UAAWA,OAAmB,IAAP/nC,EAAgB,GAAKA,EAAI0Q,EAAKrkB,EAAGi+C,WAAYA,OAAoB,IAAP55B,EAAgB,KAAOA,EAC5OmsC,EAAiBP,EACjBQ,EAAkB,GAKtB,OAJAxvB,KAAIwvB,EAAiBrkB,EAAa6R,GACR,kBAAf9R,GACPlL,KAAIwvB,EAAiBtkB,EAAYuP,GAE9B,GAAGluC,OAAOijD,EAAiBD,I,qBClNlCvvD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAM5BglB,GAAYC,aAAW,CACvBkqC,qBAAsB,CAClBriC,OAAQ,GAEZsiC,iBAAkB,CACdC,UAAW,OACX/d,UAAW,SAEhB,CAAE3vC,KAAM,iCAWI2tD,GAVkB,SAAU/hD,GACvC,IAAI0I,EAAW1I,EAAM0I,SAAUiO,EAAY3W,EAAM2W,UAAWsrB,EAASjiC,EAAMiiC,OAAQ+f,EAAYhiD,EAAMgiD,UAAWC,EAAUjiD,EAAMiiD,QAASC,EAA4BliD,EAAMkiD,0BACvKlqC,EAAUP,GAAUzX,GACxB,OAAQ4I,gBAAoBu5C,KAAQhwD,GAAS,CAAEonB,KAAM0oB,EAAQ5oB,SAAU4oC,EAAStrC,UAAW8J,KAAWzI,EAAQ4pC,qBAAsBjrC,GAAYyrC,UAAW,IAAMF,GAC7Jt5C,gBAAoB,MAAOzW,GAAS,GAAK8vC,EAAS+f,EAAY,IAC1Dp5C,gBAAoBy5C,KAAO,CAAEC,QAAQ,EAAMt3B,MAAO,CAC1C/L,UAAW,EACXgB,SAAUgiC,EAAUA,EAAQM,YAAc,MAC3C5rC,UAAWqB,EAAQ6pC,kBAAoBn5C,M,0CChCtDvW,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmI,KAAM,CACFyH,WAAY,KAEhBslB,SAAU,CACNtlB,WAAY,KAEhBq8B,WAAY,CACR5/B,QAAS,QACTyC,WAAY9O,EAAM0P,WAAWZ,WAC7BuD,UAAW,IAEf65B,eAAgB,CAAEt8B,WAAY,KAC9B89B,0BAA2B,CAAE99B,WAAY,QACtC,CAAEtwB,KAAM,iCAmBAquD,GAlBkB,SAAUziD,GACvC,IAAI9O,EAKAqO,EACAmjD,EALA3B,EAAa/gD,EAAM+gD,WAAYvkD,EAAQwD,EAAMxD,MAAOmmD,EAAmB3iD,EAAM2iD,iBAAkBpR,EAAavxC,EAAMuxC,WAAYqR,EAAc5iD,EAAM4iD,YAA8CC,GAAf7iD,EAAMgY,QAA6BhY,EAAM6iD,mBAAmBjsC,EAAO5jB,GAAOgN,EAAO,CAAC,aAAc,QAAS,mBAAoB,aAAc,cAAe,UAAW,sBACtVgY,EAAUP,GAAUzX,GACpB8iD,EAAgBH,IAAqBnmD,EACrCwkD,EAAiB6B,EAAkB9B,GAOvC,OAJKxmC,yBAAeymC,KAChBzhD,EAAU6mB,KAAM46B,EAAgB4B,GAChCF,EAAQlyB,KAAMwwB,EAAgBzhD,IAE1BqJ,gBAAoB4X,KAAUruB,GAAS,CAAE2C,IAAKksD,EAAgBhX,SAAU8Y,EAAensC,UAAW8J,KAAWzI,EAAQiF,MAAO/rB,EAAK,GACjIA,EAAG8mB,EAAQgyB,UAAYuH,EACvBrgD,KAAQ0lB,GAAO2D,yBAAeymC,GAAmBnuC,uBAAamuC,EAAgB,CAAE4B,YAAaA,IAAmBh6C,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQ+oC,YAAc2B,EAAMhpD,KAAI,SAAUqpD,EAAMvmD,GAC5M,OAAOumD,EAAKC,UAAap6C,gBAAoB,OAAQ,CAAE9T,IAAK0H,EAAOma,UAAWqB,EAAQwqC,2BAA6BO,EAAKljC,MAAUjX,gBAAoB,SAAU,CAAE9T,IAAK0H,EAAOma,UAAWqB,EAAQgpC,gBAAkB+B,EAAKljC,YC3D5N1tB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA2QPipC,GAA6B,SAAUtkB,GACvCA,EAAMC,kBAENQ,GAAYC,aAAW,CACvByL,UAAW,CACPkE,SAAU,EACVzI,SAAU,YAEdqc,UAAW,CACP/hB,OAAQ,GACRT,MAAO,GAEXyiB,iBAAkB,CACdziB,MAAO,IAEX0iB,YAAa,CACTjiB,OAAQ,GACRT,MAAO,GACPkL,QAAS,GAEbyX,gBAAiB,CACbxc,SAAU,WACVsG,MAAO,IAEXmW,gBAAiB,CACblgB,aAAc,GAElBymC,qBAAsB,IACvB,CAAExtD,KAAM,wBACI6uD,GA7NS,SAAUjjD,GAC9B,IAAIo1B,EAAap1B,EAAMo1B,WAAYze,EAAY3W,EAAM2W,UAA4C6kB,GAAfx7B,EAAMgY,QAA8BhY,EAAMw7B,oBAAoBtqC,EAAK8O,EAAMivC,QAASA,OAAiB,IAAP/9C,EAAgB,GAAKA,EAAIk5B,EAAWpqB,EAAMoqB,SAAUwiB,EAAY5sC,EAAM4sC,UAAWuC,EAAanvC,EAAMmvC,WAAYpS,EAAS/8B,EAAM+8B,OAAQvT,EAAYxpB,EAAMwpB,UAAWD,EAAavpB,EAAMupB,WAAY25B,EAAaljD,EAAMvG,GAAI0pD,EAAgBnjD,EAAMmM,MAAOi3C,EAAqBpjD,EAAMya,WAAYvZ,EAAQlB,EAAMkB,MAAOi8B,EAAsBn9B,EAAMm9B,oBAAqBhsC,EAAK6O,EAAM4X,OAAQA,OAAgB,IAAPzmB,EAAgB,QAAUA,EAAIuvD,EAAkB1gD,EAAM0gD,gBAAiB2C,EAAerjD,EAAMlF,KAAMm/B,EAASj6B,EAAMi6B,OAAQvC,EAAW13B,EAAM03B,SAAU0C,EAAUp6B,EAAMo6B,QAASx1B,EAAK5E,EAAMtL,QAASmQ,OAAY,IAAPD,EAAgB,CAChwBs9C,+BAA2B7wD,EAC3BiyD,gBAAYjyD,EACZoqC,gBAAYpqC,GACZuT,EAAIs9C,EAA4Br9C,EAAGq9C,0BAA2BoB,EAAaz+C,EAAGy+C,WAAY7nB,EAAa52B,EAAG42B,WAAY/mC,EAAU1B,GAAO6R,EAAI,CAAC,4BAA6B,aAAc,eAAgB0Q,EAAKvV,EAAMq9B,WAAYA,OAAoB,IAAP9nB,EAAgB,OAASA,EAAIguC,EAAYvjD,EAAMujD,UAAW/tC,EAAKxV,EAAMs9B,YAAaA,OAAqB,IAAP9nB,EAAgB,KAAOA,EAAIgb,EAAQxwB,EAAMwwB,MAAOkL,EAAa17B,EAAM07B,WAAYzqC,EAAW+O,EAAM/O,SAAUy+C,EAAY1vC,EAAM0vC,UAAW8T,EAAkCxjD,EAAMyjD,wBAAyBxuB,EAASj1B,EAAMi1B,OAAQ2rB,EAAkB5gD,EAAM4gD,gBAAiBnrC,EAAKzV,EAAMu9B,gBAAiBA,OAAyB,IAAP9nB,GAAuBA,EAAIqU,EAAW9pB,EAAM8pB,SAAUnU,EAAK3V,EAAM6c,QAASA,OAAiB,IAAPlH,EAAgB,SAAWA,EAAIiB,EAAO5jB,GAAOgN,EAAO,CAAC,aAAc,YAAa,UAAW,qBAAsB,UAAW,WAAY,YAAa,aAAc,SAAU,YAAa,aAAc,KAAM,QAAS,aAAc,QAAS,sBAAuB,SAAU,kBAAmB,OAAQ,SAAU,WAAY,UAAW,UAAW,aAAc,YAAa,cAAe,QAAS,aAAc,WAAY,YAAa,0BAA2B,SAAU,kBAAmB,kBAAmB,WAAY,YAChuC,GAAIua,yBAAe8iB,KAAgBkmB,EAC/B,MAAM,IAAI5tD,MAAM,kLAEpBuc,aAAQqI,yBAAe8iB,KAAgBqjB,EAAiB,yLACxDxuC,kBAAmB7gB,IAAX4jC,EAAsB,0GAC9B/iB,kBAAoB7gB,IAAZ49C,EAAuB,2GAC/B,IAAIj3B,EAAUP,GAAUzX,GACpBiiD,EAAUr6B,mBACVvO,EAAWuO,mBACXzf,EAAYmO,KACZT,GAAKkkB,GAAS5nC,GAAS,CAAE4qC,OAAQA,EAAQtjC,GAAIypD,EAAY/2C,MAAOg3C,EAAeroD,KAAMuoD,EAAcppB,OAAQA,EAC3GvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EACRnL,SAAUA,GAAYlT,IAAQnd,GAAKoc,GAAGpc,GAAI0S,GAAQ0J,GAAG1J,MAAOsO,GAAa5E,GAAG4E,WAAY8kC,GAAK1pC,GAAG/a,KAAMsuB,GAAUm2B,GAAGn2B,QAASjzB,GAAQopD,GAAGppD,MACvIutD,GAAKtqC,mBAAS,IAAKwpC,GAAcc,GAAG,GAAI5E,GAAiB4E,GAAG,GAC5DC,GAAyBjtD,uBAAY,SAAUqD,GAAS,OAAOk1C,EAAQ9K,MAAK,SAAU0K,GAAU,OAAO36C,KAAI26C,EAAQvR,KAAiBvjC,OAAc,CAACk1C,EAAS3R,IAC5JqjB,GAAe3vD,mBAAQ,WAAc,OAAO2yD,GAAuBx3C,GAAMpS,QAAU,OAAS,CAACoS,GAAMpS,MAAO4pD,KAC1GC,GAAKpD,GAAe,CACpBprB,WAAYA,EACZ6Z,QAASA,EACTrC,UAAWA,EACXuC,WAAYA,EACZhS,oBAAqBA,EACrBujB,gBAAiBA,EACjBrjB,WAAYA,EACZC,YAAaA,EACbqjB,aAAcA,GACdC,gBAAiBA,EACjBrjB,gBAAiBA,IACjBqR,GAAgBgV,GAAGhV,cAAeG,GAAiB6U,GAAG7U,eAAgB8R,GAAiB+C,GAAG/C,eAC1FgD,GAAqBntD,uBAAY,SAAUotD,GAC3C,IAAI9sC,EAAQ8sC,EACR/pD,EAAQid,EAAM7iB,OACZ6iB,EAAM7iB,OAAO4F,MACb+pD,EACFpU,GACAA,EAAU31C,KAEf,CAAC21C,IAKJr+B,qBAAU,WACNwyC,GAAmB,IAGnB/E,GAAsC,qBAAhB3yC,GAAMpS,OACR,OAAhBoS,GAAMpS,OACW,OAAjB4mD,GACE,GACA4C,EACIA,EAAU3U,GAAc+R,IAAc3gD,MAAMxG,QAC5Co1C,GAAc+R,OACzB,CACCx0C,GAAMpS,MACN8pD,GACAlD,GACA/R,GACA2U,IAEJ,IAAIxoB,GAAerkC,uBAAY,SAAUyD,GACT,MAAxB40C,GAAe50C,IAAiByoD,IAChC9D,GAAe,IAEnB3yC,GAAMurB,SAASqX,GAAe50C,MAC/B,CAACyoD,GAAa7T,GAAgB5iC,KAwB7B43C,GAAgB,SAAU53C,GAC1B81C,EAAQl6B,QAAU5b,EAtBD,WACjB,GAAK81C,EAAQl6B,QAAb,CAGA,IAAIi8B,EAAgB/B,EAAQl6B,QAAQk8B,wBAIpC,GAAK5qC,EAAS0O,QAGT,CACD,IAAIm8B,EAAiB7qC,EAAS0O,QAAQk8B,wBAClCC,EAAe97C,IAAM47C,EAAc57C,GACnC87C,EAAenjD,IAAMijD,EAAcjjD,IACnCsY,EAAS0O,QAAU,CACfk8B,sBAAuB,WAAc,OAAOD,UAPpD3qC,EAAS0O,QAAU,CAAEk8B,sBAAuB,WAAc,OAAOD,KAcrEG,IAEArpB,GAAapkC,uBAAY,SAAUsgB,GACnC6sC,GAAmB,IAGnB/E,GAAe3yC,GAAMpS,MACfwpD,EACIA,EAAU3U,GAAc+R,IAAc3gD,MAAMxG,QAC5Co1C,GAAc+R,IAClB,IACNx0C,GAAM8tB,OAAOjjB,KACd,CAAC43B,GAAeiV,GAAoB13C,GAAOo3C,EAAW5C,KACrD3lB,GAActkC,uBAAY,SAAU0tD,GAAY,OAAO,SAAUptC,GACjEotC,EAASptC,GACT7K,GAAMiuB,QAAQpjB,MACZ,CAAC7K,KAQHk4C,GAAK5oB,GAAc,GAAIK,GAAeuoB,GAAGvoB,aAAcC,GAAgC/oC,GAAOqxD,GAAI,CAAC,iBACnG1oB,GAAyBjlC,uBAAY,SAAU0tD,GAAY,OAAO,SAAUptC,GAC5EA,EAAMgqB,kBACN8d,GAAe,IACf3yC,GAAMurB,SAAS,IACf0sB,EAASptC,GACT7K,GAAMiuB,QAAQpjB,MACZ,CAAC7K,KACHkwB,GAAkB,SAAU+nB,GAC5B,IAAIlzD,EACJ,GAAKwqC,EAGA,IAAKknB,GAmBL,CAED,IAAI0B,EAAUn8C,EAAU,+BACxB,OAAQS,IAAMC,cAAcqzB,KAAgB,CAAEtd,SAAU,OACpDhW,IAAMC,cAAcsO,KAAY,CAAER,UAAWqB,EAAQmjB,YAAa,aAAcmpB,EAAS9xC,MAAO8xC,EAASl/B,eAAe,EAAM1O,QAASilB,GAAuByoB,GAAWjoB,YAAab,GAA4BlR,SAAUA,GACxNxhB,IAAMC,cAAcuzB,KAAW,CAAEzlB,UAAW0B,KAAWL,EAAQijB,WAAY/pC,EAAK,GACxEA,EAAG8mB,EAAQkjB,kBAAoBM,GAAsBonB,GACrD1xD,QAzBhB,IAAIqzD,EAAUp8C,EAAU,+BACxB,OAAIqzB,EAEQ5yB,IAAMC,cAAcqzB,KAAgB,CAAEtd,SAAU,OACpDhW,IAAMC,cAAcsO,KAAY,CAAER,UAAWqB,EAAQmjB,YAAa,aAAcopB,EAAS/xC,MAAO+xC,EAASn/B,eAAe,EAAMgF,UAAU,GACpIxhB,IAAMC,cAAcuzB,KAAW,CAAEzlB,UAAW0B,KAAWL,EAAQijB,UAAWjjB,EAAQkjB,sBAGtFY,IAKQlzB,IAAMC,cAAcqzB,KAAgB,CAAEtd,SAAU,OACpDhW,IAAMC,cAAc,OAAQ,CAAE8N,UAAWqB,EAAQmjB,aAAe,SAjB5E,OAAOW,IA+Bf,OAAQlzB,IAAMC,cAAc27C,KAAWryD,GAAS,CAAEsyD,WAAY7B,GAAalrB,SAAUqD,GAAc4lB,aAAcA,GAAc+D,aAAc,SAAUvqD,GAAQ,OAAO40C,GAAe50C,KAAYyc,IAAO,SAAU1lB,GAC9M,IAlDoCwJ,EAkDhCiqD,EAAgBzzD,EAAGyzD,cAAeC,EAAe1zD,EAAG0zD,aAAcC,EAAgB3zD,EAAG2zD,cAAeC,EAAe5zD,EAAG4zD,aAAc7iB,EAAS/wC,EAAG+wC,OAAQ0gB,EAAmBzxD,EAAGyxD,iBAAkByB,EAAWlzD,EAAGkzD,SAC9MW,EAAa9iB,IAnDmBvnC,EAmDekoD,QAlDXvxD,IAApCmyD,GAC2C,oBAApCA,GACAA,EAAgC9oD,IAiDvCvJ,EAAKwzD,EAAcxyD,GAAS,CAAE8nC,OAAQa,GAAYV,QAASY,GAAYopB,IAAa3oB,IACtExB,GADkG9oC,EAAGsI,GAC/GtI,EAAG4I,MAAgB5I,EAAG8oC,QAAQvC,EAAWvmC,EAAGumC,SAAU0C,EAAUjpC,EAAGipC,QAAuB9hB,GAARnnB,EAAGuuB,IAAYvuB,EAAGmnB,MAAMlB,EAAQjmB,EAAGimB,MAAOiS,EAAar2B,GAAO7B,EAAI,CAAC,KAAM,QAAS,SAAU,WAAY,UAAW,MAAO,OAAQ,UACxNgwD,EAAcN,GAAe+B,IACjC,OAAQh6C,IAAMC,cAAc,MAAO,CAAE8N,UAAWqB,EAAQmL,WACpDva,IAAMC,cAAcygB,KAAWn3B,GAAS,CAAEsH,GAAIA,GAAIrF,KAAM+X,GAAM/X,KAAMqnC,WAAYtpC,GAAS,CAAE6yD,SAAUjB,GAAejoB,aAAcO,GAAgB+nB,GAAWnqB,OAAQA,EAAQvC,SAAU,SAAU1gB,GACrL6sC,GAAmB7sC,GACnB8nC,GAAe9nC,EAAM7iB,OAAO4F,OAC5B29B,EAAS1gB,IACVojB,QAASA,GAAW2B,IAAgC5lC,SAAUizB,KAAWjzB,IAAQ+K,MAAO0H,IAAMC,cAAc8uB,GAAYxlC,GAAS,CAAE+O,MAAOA,GAASoiD,EAAY,CAAEruB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WACpM,qBADuN2oC,EAErNA,EACA3oC,MAAgBikB,gBAAiBmmB,EAAc,CACrDhN,QAASp+C,KACT8vB,WAAY3gB,IAAMC,cAAc4zB,GAAiB,CAAErT,QAASA,GAASjzB,MAAOA,GAAOozB,WAAYA,IAAea,SAAUA,EAAUvN,QAASA,EAASjF,OAAQA,EAAQ4R,UAAWA,EAAWzvB,MAAO6oD,GAAajsC,UAAWA,EAAW2B,KAAMA,EAAMlB,MAAOA,GAASiS,EAAY30B,IACpRkU,IAAMC,cAAck5C,GAA4B,CAAE9f,OAAQ8iB,EAAY/C,UAAW8C,EAAa,GAE1F,CAAEG,kBAAkB,IAAShD,QAASA,EAAQl6B,QAASm6B,0BAA2BA,EAA2BvrC,UAAWqB,EAAQ4pC,sBAAwBT,EAAYznD,KAAI,SAAUqnD,EAAYvkD,GAAS,OAAQoM,IAAMC,cAAc45C,GAA4BtwD,GAAS,CAAE2C,IAAKi6C,GAAegS,GAAaA,WAAYA,EAAYvkD,MAAOA,EAAOmmD,iBAAkBA,EAAkBpR,WAAYplC,GAAMpS,QACnYg1C,GAAegS,GAAa6B,YAAaA,GAAaC,kBAAmBjU,IAAiBgW,EAAa,CAC3GzqD,KAAM4mD,e,iCC3RlB5uD,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAiBP6yD,GAAgB,SAAUh0D,GAC1B,IAAIylB,EAAYzlB,EAAGylB,UAAWnd,EAAStI,EAAGsI,OAAQrI,EAAKD,EAAG+jC,OAAQA,OAAgB,IAAP9jC,EAAgB,GAAKA,EAAI4gB,EAAS7gB,EAAG6gB,OAAQ6E,EAAO5jB,GAAO9B,EAAI,CAAC,YAAa,SAAU,SAAU,WAC5K,OAAOF,mBAAQ,WACX,OAAOwI,EAAUoP,gBAAoBsU,KAAY/qB,GAAS,CAAE6f,UAAW,OAAQ6K,QAAS,QAASlG,UAAWA,GAAa+1B,GAAuB91B,IAAQ7E,EAAOvY,EAAQy7B,IAAY,OACpL,CAACte,EAAWnd,EAAQy7B,EAAQljB,EAAQ6E,KAE3CsuC,GAAcx0C,aAAe,CACzBi8B,UAAU,GAEduY,GAAc5tC,UAAYnlB,GAASA,GAAS,GAAI+qB,KAAW5F,WAAYy1B,IACxDmY,UC3CTnzC,GAAS,SAACvY,GAAD,OAAoBA,GAAUA,EAAO2rD,OAAOxzD,QAErDyzD,GAAe,SAAC,GAAD,IAAG5rD,EAAH,EAAGA,OAAH,OACjB,cAAC,GAAD,CAAsBA,OAAQA,EAAQuY,OAAQA,MAGlDqzC,GAAa10C,aAAe,CACxBxP,MAAO,qCACPgnB,UAAW,SAGAk9B,UCTTC,GAIF,SAAArlD,GAAK,OACL,cAAC,GAAD,yBAAgBi1B,OAAO,cAAcwa,UAAU,aAAgBzvC,GAA/D,aACI,cAAC,GAAD,QAIRqlD,GAAuB30C,aAAe,CAClCukB,OAAQ,cACR0X,UAAU,GAGC0Y,UCTAC,GAPgC,SAAC,GAAD,IAAG9rD,EAAH,EAAGA,OAAH,OAC3CA,EACI,iCACKA,EAAOygD,QADZ,KACuBzgD,EAAO4gD,KAD9B,KACsC5gD,EAAO+rD,UAD7C,IACyD/rD,EAAO2gD,WAEhE,MCSFqL,GAAgB9tC,cAAW,SAAA5C,GAAK,MAAK,CACvC4V,KAAM,CACFxR,OAAQ,OACRiI,QAAS,OACTC,cAAe,SACfxJ,OAAQ,YAEZ24B,iBAAkB,CACdpvB,QAAS,OACTC,cAAe,MACfsC,WAAY,SACZrC,eAAgB,iBAEpBmvB,YAAa17B,EAAM0P,WAAWisB,MAC9BgV,eAAgB,CACZtkC,QAAS,OACTC,cAAe,MACfsC,WAAY,SACZ9L,OAAQ,gBAUV84B,GAAkC,SAAC,GAA6B,IAA3Bv1C,EAA0B,EAA1BA,IAAKjF,EAAqB,EAArBA,KAAM8O,EAAe,EAAfA,SAC5CmD,EAAYmO,KACZ0B,EAAUwtC,KAEhB,OAAKrqD,GAAQjF,GAAS8O,EAKlB,qBAAKgmB,MAAO,CAAEpT,OAAQ,OAAtB,SACKzc,EAAIzB,KAAI,SAAAD,GAAE,OACP,eAAC2xB,GAAA,EAAD,CAAezU,UAAWqB,EAAQ0S,KAAlC,UACI,cAACimB,GAAA,EAAD,CACIn+B,MACI,sBAAKmE,UAAWqB,EAAQu4B,iBAAxB,UACI,iCACKpoC,EAAU,0BAA2B,GAD1C,QAGI,cAAC,GAAD,CACI3O,OAAQtD,EAAKuD,GACbw7B,OAAO,iBAGf,cAAC,GAAD,CACIhkC,SAAS,WACT+T,SAAUA,EACVxL,OAAQtD,EAAKuD,UAK7B,eAACinC,GAAA,EAAD,CAAa/pB,UAAWqB,EAAQw4B,YAAhC,UACI,uBAAM75B,UAAWqB,EAAQytC,eAAzB,UACKt9C,EAAU,2BAA4B,GAD3C,QAEI,cAAC,GAAD,CACI3O,OAAQtD,EAAKuD,GACbuL,SAAUA,OAGlB,uBAAM2R,UAAWqB,EAAQytC,eAAzB,UACKt9C,EAAU,iCADf,QAEI,cAAC,GAAD,CACI3O,OAAQtD,EAAKuD,GACbw7B,OAAO,OACPoY,UAAQ,OAGhB,uBAAM12B,UAAWqB,EAAQytC,eAAzB,UACKt9C,EACG,0CAFR,QAKI,cAAC,GAAD,CACI3O,OAAQtD,EAAKuD,GACbw7B,OAAO,QACPvgC,QAAS,CAAEs2B,MAAO,WAAY6lB,SAAU,YAGhD,uBAAMl6B,UAAWqB,EAAQytC,eAAzB,UACKt9C,EAAU,oCADf,QAGI,cAAC,GAAD,CAAW8sB,OAAO,SAASz7B,OAAQtD,EAAKuD,QAE5C,uBAAMkd,UAAWqB,EAAQytC,eAAzB,UACKt9C,EAAU,sCADf,QAGI,cAAC,GAAD,CAAc3O,OAAQtD,EAAKuD,GAAKw7B,OAAO,qBAvDxCx7B,QANZ,MAsEfi3C,GAAWhgC,aAAe,CACtBxa,KAAM,GACNiF,IAAK,IAGMu1C,UC5FTgV,GAAiD,SAAA1lD,GAAK,OACxD,eAAC,GAAD,2BAAYA,GAAZ,cACI,cAAC,GAAD,CAAai1B,OAAO,IAAIC,UAAQ,IAChC,cAAC,GAAD,CAAgBD,OAAO,cAAcwa,UAAU,YAA/C,SACI,cAAC,GAAD,CACIpS,WAAY,SAACwR,GAAD,OACRA,EAAOp1C,GAAP,UACSo1C,EAAOoB,WADhB,YAC8BpB,EAAOqB,WAC/B,QAIlB,cAAC,GAAD,CAAWjb,OAAO,aAClB,cAAC,GAAD,CAAWA,OAAO,aAClB,cAAC,GAAD,CAAWA,OAAO,cAClB,cAAC,GAAD,CAAsBA,OAAO,kBAI/ByW,GAAoBh0B,aAAW,CACjCthB,MAAO,CAAEsuB,WAAY,UAGnBihC,GAAO,CACT,CAAElsD,GAAI,UAAWrF,KAAM,WACvB,CAAEqF,GAAI,YAAarF,KAAM,aACzB,CAAEqF,GAAI,YAAarF,KAAM,cAgCvBwxD,GAA0C,SAAA5lD,GAC5C,IAAMqmC,EAAc1X,KACZxzB,EAAoDkrC,EAApDlrC,IAAK8yB,EAA+CoY,EAA/CpY,aAAcK,EAAiC+X,EAAjC/X,WAAYN,EAAqBqY,EAArBrY,iBACjChW,EAAU0zB,KACVpvB,EAAWC,cAAqB,SAAAzH,GAAK,OACvCA,EAAM0H,YAAYC,KAAK,SAL0B,EAOvBrD,mBAAuB,IAPA,mBAO9CysC,EAP8C,KAOrCC,EAPqC,OAQnB1sC,mBAC9B,IATiD,mBAQ9C2sC,EAR8C,KAQnCC,EARmC,OAWnB5sC,mBAC9B,IAZiD,mBAW9C3U,EAX8C,KAWnCwhD,EAXmC,KAc/CC,EAzCW,SAACj4B,GAoBlB,MAAO,CACH43B,QApB4B1xB,aAC5B,WACA,CAAEh3B,QAAS,EAAGD,KAAM,GACpB,CAAEkzB,MAAO,KAAMnzB,MAAO,OAHgB,YAAC,eAIlCgxB,GAJiC,IAInBk4B,OAAQ,aAJvB/vD,MAqBJ2vD,UAf8B5xB,aAC9B,WACA,CAAEh3B,QAAS,EAAGD,KAAM,GACpB,CAAEkzB,MAAO,KAAMnzB,MAAO,OAHkB,YAAC,eAIpCgxB,GAJmC,IAIrBk4B,OAAQ,eAJvB/vD,MAgBJqO,UAV8B0vB,aAC9B,WACA,CAAEh3B,QAAS,EAAGD,KAAM,GACpB,CAAEkzB,MAAO,KAAMnzB,MAAO,OAHkB,YAAC,eAIpCgxB,GAJmC,IAIrBk4B,OAAQ,eAJvB/vD,OA4BOgwD,CAAan4B,GAE5B5c,qBAAU,WACN,GAAIlW,GAAOA,IAAQ8yB,EAAak4B,OAC5B,OAAQl4B,EAAak4B,QACjB,IAAK,UACDL,EAAW3qD,GACX,MACJ,IAAK,YACD6qD,EAAa7qD,GACb,MACJ,IAAK,YACD8qD,EAAa9qD,MAI1B,CAACA,EAAK8yB,EAAak4B,SAEtB,IAAMprB,EAAerkC,uBACjB,SAACsgB,EAA8Bjd,GAC3Bu0B,GACIA,EAAW,2BACFL,GADC,IACak4B,OAAQpsD,IAC3Bi0B,KAGZ,CAACA,EAAkBC,EAAcK,IAG/BzwB,EACsB,YAAxBowB,EAAak4B,OACPN,EACwB,cAAxB53B,EAAak4B,OACbJ,EACAthD,EAEV,OACI,eAAC,WAAD,WACI,cAAC4hD,GAAA,EAAD,CACIxpC,QAAQ,YACRypC,UAAQ,EACRvsD,MAAOk0B,EAAak4B,OACpBI,eAAe,UACf7uB,SAAUqD,EALd,SAOK4qB,GAAKjsD,KAAI,SAAAm1C,GAAM,OACZ,cAAC2X,GAAA,EAAD,CAEItlD,MACIglD,EAAOrX,EAAOz6C,MAAd,UACSy6C,EAAOz6C,KADhB,aACyB8xD,EAAOrX,EAAOz6C,MADvC,KAEMy6C,EAAOz6C,KAEjB2F,MAAO80C,EAAOp1C,IANTo1C,EAAOp1C,SAUxB,cAACgtD,GAAA,EAAD,IACCnqC,EACG,cAAC,GAAD,CACIviB,MAAK,2BAAOssC,GAAP,IAAoBlrC,IAAK0C,IADlC,SAGI,cAAC,GAAD,2BAAgBmC,GAAhB,IAAuB7E,IAAK0C,OAGhC,gCAC6B,YAAxBowB,EAAak4B,QACV,cAAC,GAAD,CACIpsD,MAAK,2BAAOssC,GAAP,IAAoBlrC,IAAK0qD,IADlC,SAGI,eAAC,GAAD,2BAAc7lD,GAAd,IAAqBosC,WAAS,EAACrC,SAAS,OAAxC,UACI,cAAC,GAAD,CAAW9U,OAAO,OAAOoY,UAAQ,IACjC,cAAC,GAAD,CAAWpY,OAAO,cAClB,cAAC,GAAD,IACA,cAAC,GAAD,CACIA,OAAO,cACPwa,UAAU,YACV3C,MAAM,EACN5rC,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC,GAAD,IACA,cAAC,GAAD,CACI+zB,OAAO,QACPvgC,QAAS,CACLs2B,MAAO,WACP6lB,SAAU,OAEdl6B,UAAWqB,EAAQ5hB,cAKV,cAAxB63B,EAAak4B,QACV,cAAC,GAAD,CACIpsD,MAAK,2BAAOssC,GAAP,IAAoBlrC,IAAK4qD,IADlC,SAGI,eAAC,GAAD,2BAAc/lD,GAAd,IAAqB+pC,SAAS,OAA9B,UACI,cAAC,GAAD,CAAW9U,OAAO,OAAOoY,UAAQ,IACjC,cAAC,GAAD,CAAWpY,OAAO,cAClB,cAAC,GAAD,IACA,cAAC,GAAD,CACIA,OAAO,cACPwa,UAAU,YACV3C,MAAM,EACN5rC,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC,GAAD,IACA,cAAC,GAAD,CACI+zB,OAAO,QACPvgC,QAAS,CACLs2B,MAAO,WACP6lB,SAAU,OAEdl6B,UAAWqB,EAAQ5hB,QAEvB,cAAC,GAAD,CAAc6+B,OAAO,mBAIR,cAAxBhH,EAAak4B,QACV,cAAC,GAAD,CACIpsD,MAAK,2BAAOssC,GAAP,IAAoBlrC,IAAKsJ,IADlC,SAGI,eAAC,GAAD,2BAAczE,GAAd,IAAqB+pC,SAAS,OAA9B,UACI,cAAC,GAAD,CAAW9U,OAAO,OAAOoY,UAAQ,IACjC,cAAC,GAAD,CAAWpY,OAAO,cAClB,cAAC,GAAD,IACA,cAAC,GAAD,CACIA,OAAO,cACPwa,UAAU,YACV3C,MAAM,EACN5rC,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC,GAAD,IACA,cAAC,GAAD,CACI+zB,OAAO,QACPvgC,QAAS,CACLs2B,MAAO,WACP6lB,SAAU,OAEdl6B,UAAWqB,EAAQ5hB,QAEvB,cAAC,GAAD,CAAc6+B,OAAO,0BAsBtCyxB,GAZkB,SAAA1mD,GAAK,OAClC,cAAC,GAAD,2BACQA,GADR,IAEI6wB,oBAAqB,CAAEs1B,OAAQ,WAC/BnpD,KAAM,CAAEozB,MAAO,OAAQnzB,MAAO,QAC9BE,QAAS,GACT+0B,QAAS,cAAC,GAAD,IALb,SAOI,cAAC,GAAD,Q,4CC7QJy0B,GAAiB,CACjBzlD,MAAOqW,KAAUC,OACjBvmB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,QCPlBrlB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAaPu0D,GAAe,SAAU11D,GACzB,IAAI6rC,EAAS7rC,EAAG6rC,OAAQ77B,EAAQhQ,EAAGgQ,MAAiCqoB,GAAdr4B,EAAGs4B,UAAwBt4B,EAAGq4B,YAAY0Q,EAAS/oC,EAAG+oC,OAAQvC,EAAWxmC,EAAGwmC,SAAU0C,EAAUlpC,EAAGkpC,QAAS1lC,EAAUxD,EAAGwD,QAAS01B,EAAWl5B,EAAGk5B,SAAUoG,EAAQt/B,EAAGs/B,MAAOv/B,EAAWC,EAAGD,SAAUgkC,EAAS/jC,EAAG+jC,OAAQnL,EAAW54B,EAAG44B,SAAUlT,EAAO5jB,GAAO9B,EAAI,CAAC,SAAU,QAAS,YAAa,aAAc,SAAU,WAAY,UAAW,UAAW,WAAY,QAAS,WAAY,SAAU,aAC1bC,EAAK4oC,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACjC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EAAQjlC,KAAM,WAAY85B,SAAUA,GAAYlT,IAAQnd,EAAKtI,EAAGsI,GAAImL,EAAKzT,EAAGgb,MAAO06C,EAAoBjiD,EAAG8yB,SAA4CrO,GAA3BzkB,EAAG5U,KAAc4U,EAAG7K,MAAoB/G,GAAO4R,EAAI,CAAC,WAAY,OAAQ,WAAW6V,EAAatpB,EAAGspB,WAAY5V,EAAK1T,EAAG2J,KAAM3E,EAAQ0O,EAAG1O,MAAOizB,EAAUvkB,EAAGukB,QAC/R2R,EAAerkC,uBAAY,SAAUsgB,EAAOjd,GAC5C8sD,EAAkB9sD,KACnB,CAAC8sD,IACJ,OAAQj+C,gBAAoBk+C,KAAW30D,GAAS,GAAIwqC,GAAuB/lB,IACvEhO,gBAAoBm+C,KAAkB,CAAEC,QAASp+C,gBAAoBgK,KAAQzgB,GAAS,CAAEsH,GAAIA,EAAI2d,MAAO,UAAWsgB,SAAUqD,GAAgB1R,EAAY30B,EAAS,CAAE01B,SAAUA,KAAclpB,MAAO0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,MAClS7R,gBAAoBq+C,KAAgB,CAAE9wD,QAASA,GAC3CyS,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,OAE/Fq9B,GAAatvC,UAAYnlB,GAASA,GAAS,GDzC5Bw0D,ICyCiD,CAE5DjyD,QAAS6iB,KAAUqvB,MAAMh0B,KAAO0E,WAAY8S,SAAU7S,KAAU6F,OACpEwpC,GAAal2C,aAAe,CACxBhc,QAAS,IAEEkyD,U,qBC1CTnvC,GAAYC,aAAW,CACzBwvC,iBAAkB,CAAEh/B,UAAW,WAkGpBi/B,GA/FuB,SAAC,GAAgB,IAAd3tD,EAAa,EAAbA,OAC/Bwe,EAAUP,KACVtP,EAAYmO,KAFgC,EAIf8wC,aAC/B,CACIp3D,KAAM,UACNiB,SAAU,WACVuD,QAAS,CACL2G,IAAK3B,EAASA,EAAO2rD,OAAOzrD,KAAI,SAAAS,GAAI,OAAIA,EAAKktD,cAAc,KAGnE,IACA,SAAA9wD,GAKI,OAJmBiD,EACbA,EAAO2rD,OAAOzrD,KAAI,SAAAS,GAAI,OAAIA,EAAKktD,cAC/B,IAGD3tD,KACG,SAAA4tD,GAAS,OACL/wD,EAAMsI,MAAMiB,UAAUynD,SAASrxD,KAC3BoxD,MAGX/sD,QAAO,SAAAhH,GAAC,MAAiB,qBAANA,KACnBiH,QAAO,SAACyT,EAAM3M,GAEX,OADA2M,EAAK3M,EAAK7H,IAAM6H,EACT2M,IACR,OAzBP3X,EAJ0C,EAI1CA,OAAcixD,EAJ4B,EAIlCrxD,KA6BhB,OAAKI,GAAWkD,EAGZ,eAAC2uC,GAAA,EAAD,WACI,cAACE,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,UACKn/B,EACG,gDAGR,cAACm/B,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,SACK/+C,EACG,iDAGR,cAACm/B,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,SACK/+C,EAAU,+CAEf,cAACm/B,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,SACK/+C,EAAU,iDAIvB,cAAC0gC,GAAA,EAAD,UACKrvC,EAAO2rD,OAAOzrD,KACX,SAACS,GAAD,OACIotD,EAASptD,EAAKktD,aACV,eAAC/e,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,UACI,cAAC,GAAD,CAAMj0B,GAAE,oBAAelZ,EAAKktD,YAA5B,SACKE,EAASptD,EAAKktD,YAAY5X,cAGnC,cAACnI,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,SACKK,EACGptD,EAAKktD,YACPG,MAAMva,oBAAe57C,EAAW,CAC9B25B,MAAO,WACP6lB,SAAU,UAGlB,cAACvJ,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,SACK/sD,EAAKstD,WAEV,cAACngB,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,UAEQK,EAASptD,EAAKktD,YAAYG,MAC1BrtD,EAAKstD,UACPxa,oBAAe57C,EAAW,CACxB25B,MAAO,WACP6lB,SAAU,YAvBP12C,EAAKktD,oBA5Bb,MC1C7B5vC,GAAYC,aAAW,CACzByL,UAAW,CAAElD,SAAU,QACvBinC,iBAAkB,CAAEh/B,UAAW,SAC/Bw/B,SAAU,CAAEhjC,WAAY,UAoEbijC,GAjEuB,SAAC,GAAoC,IAAlCnuD,EAAiC,EAAjCA,OAC/Bwe,EAAUP,KACVtP,EAAYmO,KAElB,OACI,cAAC6xB,GAAA,EAAD,CAAOxxB,UAAWqB,EAAQmL,UAA1B,SACI,eAAC0lB,GAAA,EAAD,WACI,eAACP,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,UACKn/B,EAAU,0CAEf,cAACm/B,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,gBACK1tD,QADL,IACKA,OADL,EACKA,EAAQouD,eAAe3a,oBAAe57C,EAAW,CAC9C25B,MAAO,WACP6lB,SAAU,aAItB,eAACvI,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,UACKn/B,EAAU,+CAEf,cAACm/B,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,gBACK1tD,QADL,IACKA,OADL,EACKA,EAAQquD,cAAc5a,oBAAe57C,EAAW,CAC7C25B,MAAO,WACP6lB,SAAU,aAItB,eAACvI,GAAA,EAAD,WACI,eAAChB,GAAA,EAAD,WACKn/B,EAAU,0CADf,YAEK3O,QAFL,IAEKA,OAFL,EAEKA,EAAQsuD,SAAS7a,oBAAe57C,EAAW,CACxC25B,MAAO,YAHf,OAOA,cAACsc,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQkvC,iBAA9B,gBACK1tD,QADL,IACKA,OADL,EACKA,EAAQuuD,MAAM9a,oBAAe57C,EAAW,CACrC25B,MAAO,WACP6lB,SAAU,aAItB,eAACvI,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,CAAW3wB,UAAWqB,EAAQ0vC,SAA9B,SACKv/C,EAAU,4CAEf,cAACm/B,GAAA,EAAD,CACI3wB,UAAW8J,KACPzI,EAAQ0vC,SACR1vC,EAAQkvC,kBAHhB,gBAMK1tD,QANL,IAMKA,OANL,EAMKA,EAAQpD,MAAM62C,oBAAe57C,EAAW,CACrC25B,MAAO,WACP6lB,SAAU,mBCrChCmX,GAAkC,SAAC,GAAgB,IAAdxuD,EAAa,EAAbA,OACjC2O,EAAYmO,KAClB,OAAO9c,EACH,+BACK2O,EAAU,2BAA4B,CACnCsnC,UAAWj2C,EAAOi2C,cAG1B,MAGFwY,GAAkB,SAAC,GAAD,IAAGzuD,EAAH,EAAGA,OAAH,OACpB,eAACy3C,GAAA,EAAD,CAAK9vB,QAAQ,OAAOC,cAAc,SAAlC,UACI,eAAClE,GAAA,EAAD,CACIlL,UAAWk2C,KACX9wC,MAAM,UACN/D,GAAE,4BAAgB7Z,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAQC,IAC1BuxB,MAAO,CAAE6kB,eAAgB,QAJ7B,iBAMKr2C,QANL,IAMKA,OANL,EAMKA,EAAQy2C,WANb,WAM0Bz2C,QAN1B,IAM0BA,OAN1B,EAM0BA,EAAQ02C,aAElC,cAAChzB,GAAA,EAAD,CACIlL,UAAWsyB,KACXltB,MAAM,UACN+wC,KAAI,wBAAY3uD,QAAZ,IAAYA,OAAZ,EAAYA,EAAQmW,OACxBqb,MAAO,CAAE6kB,eAAgB,QAJ7B,gBAMKr2C,QANL,IAMKA,OANL,EAMKA,EAAQmW,YAKfy4C,GAAkB,SAAC,GAAD,IAAG5uD,EAAH,EAAGA,OAAH,OACpB,eAACy3C,GAAA,EAAD,WACI,eAAC/zB,GAAA,EAAD,kBACK1jB,QADL,IACKA,OADL,EACKA,EAAQy2C,WADb,WAC0Bz2C,QAD1B,IAC0BA,OAD1B,EAC0BA,EAAQ02C,aAElC,cAAChzB,GAAA,EAAD,iBAAa1jB,QAAb,IAAaA,OAAb,EAAaA,EAAQygD,UACrB,eAAC/8B,GAAA,EAAD,kBACK1jB,QADL,IACKA,OADL,EACKA,EAAQ4gD,KADb,YACqB5gD,QADrB,IACqBA,OADrB,EACqBA,EAAQ+rD,UAD7B,WACyC/rD,QADzC,IACyCA,OADzC,EACyCA,EAAQ2gD,eAKnDkO,GAAgB3wC,aAAW,CAC7BuF,KAAM,CAAEyG,WAAY,gBAGlB4kC,GAAS,kBAAM,cAACrX,GAAA,EAAD,CAAKsX,EAAG,EAAR,mBAEfC,GAAY,SAACxoD,GACf,IAAMmI,EAAYmO,KAClB,OACI,cAAC,GAAD,2BACQtW,GADR,IAEI+R,OAAQ,SAACwlB,GAAD,OACJ,cAAC0Z,GAAA,EAAD,CAAKiJ,SAAS,OAAd,SACI,eAAC9uB,GAAA,EAAD,WACI,eAACsV,GAAA,EAAD,WACI,eAAC+nB,GAAA,EAAD,CAAMtlC,WAAS,EAACtL,QAAS,EAAzB,UACI,eAAC4wC,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAA/B,UACI,cAAC1rC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,sCAGR,eAACsgD,GAAA,EAAD,CAAMtlC,WAAS,EAAf,UACI,cAACslC,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAA/B,SACI,cAAC,GAAD,CACI3zB,OAAO,OACPhkC,SAAS,WAFb,SAII,cAAC,GAAD,CACIgkC,OAAO,OACPhkC,SAAS,WACTuI,OAAQ+9B,EAAU/9B,aAI9B,cAACivD,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAA/B,SACI,cAAC,GAAD,CACI3zB,OAAO,YACPhkC,SAAS,WAFb,SAII,cAAC,GAAD,CACIgkC,OAAO,YACPhkC,SAAS,WACTuI,OAAQ+9B,EAAU/9B,gBAKlC,eAACivD,GAAA,EAAD,CAAMtlC,WAAS,EAAf,UACI,cAACslC,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAA/B,SACI,cAAC,GAAD,CACI33D,SAAS,WACTgkC,OAAO,SACPga,QAAS,CACL,CACIx1C,GAAI,YACJrF,KAAM,aAEV,CACIqF,GAAI,UACJrF,KAAM,WAEV,CACIqF,GAAI,YACJrF,KAAM,aAEV,CACIqF,GAAI,UACJrF,KAAM,UACNg2B,UAAU,QAK1B,cAACq+B,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAA/B,SACI,cAAC3X,GAAA,EAAD,CAAKC,GAAI,EAAT,SACI,cAAC,GAAD,CACI3I,KAAK,EACLt3C,SAAS,WACTgkC,OAAO,uBAM3B,eAACwzB,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAA/B,UACI,cAAC1rC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,yCAGR,cAAC,GAAD,CACI8sB,OAAO,cACPhkC,SAAS,WACTw+C,UAAU,YACVzqC,SAAS,aACTxL,OAAQ+9B,EAAU/9B,OAClBszC,MAAM,EANV,SAQI,cAAC,GAAD,MAEJ,cAAC,GAAD,IAEA,cAAC5vB,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,iDAGR,cAAC,GAAD,CACI8sB,OAAO,cACPhkC,SAAS,WACTw+C,UAAU,YACVzqC,SAAS,aACTxL,OAAQ+9B,EAAU/9B,OAClBszC,MAAM,EANV,SAQI,cAAC,GAAD,YAIZ,cAAC,GAAD,IAEA,cAAC5vB,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EAAU,sCAEf,cAAC8oC,GAAA,EAAD,UACI,cAAC,GAAD,CAAQz3C,OAAQ+9B,EAAU/9B,WAE9B,cAAC,GAAD,IAEA,cAAC0jB,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EAAU,sCAEf,cAAC8oC,GAAA,EAAD,UACI,cAAC,GAAD,CAAQz3C,OAAQ+9B,EAAU/9B,cAGlC,cAAC,GAAD,CACIA,OAAQ+9B,EAAU/9B,OAClBwL,SAAUuyB,EAAUvyB,SACpBF,UAAU,EACVmxB,QAASsB,EAAUtB,QACnBjM,aAAcuN,EAAUvN,aACxB0O,OAAQnB,EAAUmB,OAClBznC,SAAS,uBCzNtB,IACXgP,KAAMymD,GACN37C,KD+N6B,SAAA/K,GAC7B,IAAMgY,EAAUqwC,KAChB,OACI,cAAC,GAAD,yBACI71C,MAAO,cAAC,GAAD,IACPwF,QAASA,GACLhY,GAHR,IAIIgS,UAAU,MAJd,SAMI,cAAC,GAAD,QCvORwE,KAAMqyC,M,qDCsBCC,GAAmB,sBCdxBC,GAA4B,GAkDnBC,GAhD+B,SAAC,GAExC,IAAD,IADFnrD,mBACE,MADYkrD,GACZ,EACIv4D,EAASC,eACTG,EAAUC,eACVC,EAAcC,aAAe,WAHjC,EAK6Bk4D,aAC3B,UACAprD,EACA,CAAEsoD,OAAQ,YACV,CACIzqD,OAAQotD,GACRhkD,UAAU,EACV1T,UAAW,WACPZ,EACI,kDACA,OACA,IACA,GAEJI,IACAE,KAEJQ,UAAW,WACPd,EACI,gDACA,cAzBd,mBAKK04D,EALL,KAKgB7yD,EALhB,KAKgBA,QA0BlB,OACI,cAAC,GAAD,CACI6K,MAAM,kCACNwV,QAASwyC,EACT9+B,SAAU/zB,EAHd,SAKI,cAAC,KAAD,O,qBCzCN0yD,GAA4B,GAkDnBI,GAhD+B,SAAC,GAExC,IAAD,IADFtrD,mBACE,MADYkrD,GACZ,EACIv4D,EAASC,eACTG,EAAUC,eACVC,EAAcC,aAAe,WAHjC,EAK4Bk4D,aAC1B,UACAprD,EACA,CAAEsoD,OAAQ,YACV,CACIzqD,OAAQotD,GACRhkD,UAAU,EACV1T,UAAW,WACPZ,EACI,kDACA,OACA,IACA,GAEJI,IACAE,KAEJQ,UAAW,WACPd,EACI,gDACA,cAzBd,mBAKK6E,EALL,KAKegB,EALf,KAKeA,QA0BjB,OACI,cAAC,GAAD,CACI6K,MAAM,kCACNwV,QAASrhB,EACT+0B,SAAU/zB,EAHd,SAKI,cAAC,KAAD,O,WCpCNohB,GAAYC,aAAW,CACzBuF,KAAM,CACFxE,MAAO,SAEXq0B,KAAM,CACF+C,eAAgB,OAChBz4B,MAAO,WAEXgyC,OAAQ,CACJjoC,QAAS,YAIXkoC,GAAmB,WACrB,IAAMrxC,EAAUP,KADW,EAEoBkX,KAAvC3pB,EAFmB,EAEnBA,SAAU9O,EAFS,EAETA,KAAMiF,EAFG,EAEHA,IAAK7E,EAFF,EAEEA,OAAQF,EAFV,EAEUA,MAErC,OAAOE,GAAUojC,OAAOtjC,GAAS,EAC7B,cAAC,KAAD,CAAMugB,UAAWqB,EAAQiF,KAAzB,SACM9hB,EAAuCzB,KAAI,SAAAD,GACzC,IAAMU,EAAQjE,EAAyCuD,GACvD,OAAKU,EAGD,cAAC,KAAD,CACIkZ,GAAIq3B,aAAa1lC,EAAUvL,GAC3Bkd,UAAWqB,EAAQ80B,KAFvB,SAKI,eAAC6E,GAAA,EAAD,CAAUzoB,QAAM,EAAhB,UACI,cAACogC,GAAA,EAAD,UACI,cAAC,GAAD,CACI9vD,OAAQW,EACR86B,OAAO,cACPwa,UAAU,YACVzqC,SAAUA,EACV8nC,MAAM,EALV,SAOI,cAAC,GAAD,CAAax0B,KAAK,WAG1B,cAACs5B,GAAA,EAAD,CACI5xB,QACI,eAAC,WAAD,WACI,cAAC,GAAD,CACIxmB,OAAQW,EACR86B,OAAO,cACPwa,UAAU,YACVzqC,SAAUA,EACV8nC,MAAM,EALV,SAOI,cAAC,GAAD,CACI/6B,OAAQ,SAACvY,GAAD,OACJA,EAAM,UAEKA,EACIy2C,WAHT,YAKKz2C,EACI02C,WAET,IAEVrzB,QAAQ,YACRlG,UAAWqB,EAAQoxC,WAET,IAvBtB,KAwBO,IACH,cAAC,GAAD,CACI5vD,OAAQW,EACR86B,OAAO,aACPwa,UAAU,WACVzqC,SAAUA,EACV8nC,MAAM,EALV,SAOI,cAAC,GAAD,CACI7X,OAAO,YACPpY,QAAQ,YACRlG,UAAWqB,EAAQoxC,cAKnCtpC,UAAW3lB,EAAKkgD,QAChBkP,yBAA0B,CAAEC,QAAQ,SAzDvC/vD,GANK,UAsE1B,MAYR4vD,GAAiB34C,aAAe,CAC5Bg2B,gBAAgB,EAChB7oC,YAAa,IAGFwrD,U,UCzHTI,GAEF,SAAAzpD,GAAK,OACL,cAAC,GAAD,yBACIkB,MAAM,UACN+zB,OAAO,aACPwa,UAAU,YACNzvC,GAJR,aAMI,cAAC,GAAD,CAAWi1B,OAAO,kBAI1Bw0B,GAAsB/4C,aAAe,CACjCukB,OAAQ,aACR0X,UAAU,GAGC8c,U,qBCnBThyC,GAAYC,aAAW,CACzBuF,KAAM,CACF4G,QAAS,IACT3H,WAAY,SACZiF,QAAS,QAEbuoC,MAAO,CACHjxC,MAAO,GACPS,OAAQ,IAEZywC,MAAO,CACHlxC,MAAO,GACPS,OAAQ,MAQV0wC,GAA6C,SAAC,GAG7C,IAFHpwD,EAEE,EAFFA,OAEE,IADF8e,YACE,MADK,QACL,EACIN,EAAUP,KAChB,OAAOje,EACH,sBAAMmd,UAAWqB,EAAQiF,KAAzB,SACKzpB,MAAMgG,EAAOqwD,QACTr8B,MAAK,GACL9zB,KAAI,SAACuH,EAAG1O,GAAJ,OACD,cAAC,KAAD,CAEIokB,UACa,UAAT2B,EAAmBN,EAAQ0xC,MAAQ1xC,EAAQ2xC,OAF1Cp3D,QAOrB,MAGRq3D,GAAgBl5C,aAAe,CAC3BxP,MAAO,kCACP+zB,OAAQ,SACR0X,UAAU,GAGCid,U,+DCVA1e,GApCE,SAAC4e,GAAD,OAA8B,SAACtwD,GAC5C,IAAMsb,EAAQqD,eACV6S,EAAQ,GACZ,OAAKxxB,GAGDswD,GAAeA,IAAgBtwD,EAAOC,KACtCuxB,EAAK,2BACEA,GADF,IAEDjM,gBAAiBjK,EAAMoK,QAAQxjB,OAAOsuC,YAGxB,aAAlBxwC,EAAO2sD,OACA,2BACAn7B,GADP,IAEI++B,gBAAiBC,KAAM,KACvBC,gBAAiB,EACjBC,gBAAiB,UAEH,YAAlB1wD,EAAO2sD,OACA,2BACAn7B,GADP,IAEI++B,gBAAiBI,KAAO,KACxBF,gBAAiB,EACjBC,gBAAiB,UAEH,aAAlB1wD,EAAO2sD,OACA,2BACAn7B,GADP,IAEI++B,gBAAiBK,KAAI,KACrBH,gBAAiB,EACjBC,gBAAiB,UAElBl/B,GA7BIA,ICITw6B,GAAgB9tC,aAAW,CAC7Bo0B,UAAW,CACPie,gBAAiB,cACjBE,gBAAiB,EACjBC,gBAAiB,SAErBthB,WAAY,CACRjlB,QAAS,mBAEbulB,QAAS,CACLvlB,QAAS,mBAEb02B,QAAS,CACLH,SAAU,OACV/9B,SAAU,SACVF,aAAc,WACdC,WAAY,YAoCLmuC,GA5BuC,SAAC,GAGhD,IAFHP,EAEE,EAFFA,YACG9pD,EACD,gCACIgY,EAAUwtC,KAChB,OACI,eAAC,GAAD,yBACIzb,SAAS,OAETmB,SAAUA,GAAS4e,GACnB9xC,QAAS,CACL8zB,UAAW9zB,EAAQ8zB,UACnBlD,WAAY5wB,EAAQ4wB,WACpBM,QAASlxB,EAAQkxB,SAErBkD,WAAS,GACLpsC,GAVR,cAYI,cAAC,GAAD,CAAWi1B,OAAO,SAClB,cAAC,GAAD,CAAwB6X,MAAM,IAC9B,cAAC,GAAD,CAAuBA,MAAM,IAC7B,cAAC,GAAD,CAAiBx0B,KAAK,UACtB,cAAC,GAAD,CAAW2c,OAAO,UAAUsU,cAAevxB,EAAQqiC,UACnD,cAAC,GAAD,CAAWplB,OAAO,gBCjDxBq1B,GAAkB5yC,aAAW,CAC/ByuC,OAAQ,CAAE1tC,MAAO,OAmCN8xC,GAhCyC,SAAAvqD,GACpD,IAAMgY,EAAUsyC,KAChB,OACI,eAAC,GAAD,2BAAYtqD,GAAZ,cACI,cAAC,GAAD,CAAai1B,OAAO,IAAIC,UAAQ,IAChC,cAAC,GAAD,CACID,OAAO,SACPga,QAAS,CACL,CAAEx1C,GAAI,WAAYrF,KAAM,YACxB,CAAEqF,GAAI,UAAWrF,KAAM,WACvB,CAAEqF,GAAI,WAAYrF,KAAM,aAE5BuiB,UAAWqB,EAAQmuC,SAEvB,cAAC,GAAD,CAAgBlxB,OAAO,cAAcwa,UAAU,YAA/C,SACI,cAAC,GAAD,CACIpS,WAAY,SAACwR,GAAD,OACF,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQp1C,IAAR,UACSo1C,EAAOoB,WADhB,YAC8BpB,EAAOqB,WAC/B,QAIlB,cAAC,GAAD,CAAgBjb,OAAO,aAAawa,UAAU,WAA9C,SACI,cAAC,GAAD,CAAmBpS,WAAW,gBAElC,cAAC,GAAD,CAAWpI,OAAO,aAClB,cAAC,GAAD,CAAWA,OAAO,kBCkBfu1B,GApD8B,SAAC,GAAgB,IAAdhxD,EAAa,EAAbA,OACtC2O,EAAYmO,KACZ9lB,EAASC,eACToB,EAAalB,eAHsC,EAK1BwqD,aAC3B,UACA3hD,EAAOC,GACP,CAAE0sD,OAAQ,YACV3sD,EACA,CACIsL,UAAU,EACV1T,UAAW,WACPZ,EACI,kDACA,OACA,IACA,GAEJqB,EAAW,aAEfP,UAAW,WACPd,EACI,gDACA,cAxByC,mBAKlD04D,EALkD,KAKvC7yD,EALuC,KAKvCA,QAwBlB,OAAOmD,GAA4B,YAAlBA,EAAO2sD,OACpB,eAAC,KAAD,CACItpC,QAAQ,WACRzF,MAAM,UACNkB,KAAK,QACL5B,QAASwyC,EACT9+B,SAAU/zB,EALd,UAOI,cAAC,KAAD,CACI+gB,MAAM,UACN4T,MAAO,CAAE7P,aAAc,QAAS/D,MAAO,WAE1CjP,EAAU,sCAGf,0BCSOsiD,GArD8B,SAAC,GAAgB,IAAdjxD,EAAa,EAAbA,OACtC2O,EAAYmO,KACZ9lB,EAASC,eACToB,EAAalB,eAHsC,EAK3BwqD,aAC1B,UACA3hD,EAAOC,GACP,CAAE0sD,OAAQ,YACV3sD,EACA,CACIsL,UAAU,EACV1T,UAAW,WACPZ,EACI,kDACA,OACA,IACA,GAEJqB,EAAW,aAEfP,UAAW,WACPd,EACI,gDACA,cAxByC,mBAKlD6E,EALkD,KAKxCgB,EALwC,KAKxCA,QAyBjB,OAAOmD,GAA4B,YAAlBA,EAAO2sD,OACpB,eAAC,KAAD,CACItpC,QAAQ,WACRzF,MAAM,UACNkB,KAAK,QACL5B,QAASrhB,EACT+0B,SAAU/zB,EALd,UAOI,cAAC,KAAD,CACI+gB,MAAM,UACN4T,MAAO,CAAE7P,aAAc,QAAS/D,MAAO,SAE1CjP,EAAU,sCAGf,0BC9CFsP,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmI,KAAM,CACF8B,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,MAC1CiD,QAAS,OACTE,eAAgB,qBA0CTqpC,GAtCqC,SAAC,GAO9C,IANH1lD,EAME,EANFA,SACAwzB,EAKE,EALFA,yBACAvC,EAIE,EAJFA,QACAz8B,EAGE,EAHFA,OACAvI,EAEE,EAFFA,SACAynC,EACE,EADFA,OAEM1gB,EAAUP,KAEhB,OAAKje,EAED,cAAC,KAAD,CAAYmd,UAAWqB,EAAQiF,KAA/B,SACuB,YAAlBzjB,EAAO2sD,OACJ,eAAC,WAAD,WACI,cAAC,GAAD,CAAc3sD,OAAQA,IACtB,cAAC,GAAD,CAAcA,OAAQA,OAG1B,eAAC,WAAD,WACI,cAAC,GAAD,CACIg/B,yBAA0BA,EAC1BvC,QAASA,EACTyC,OAAQA,EACRhoC,SAAS,OACTioC,eAAe,IAEnB,cAAC,GAAD,CACI3zB,SAAUA,EACVxL,OAAQA,EACRvI,SAAUA,SApBV,MCPlBwmB,GAAYC,cAAW,SAAA5C,GAAK,YAAK,CACnCmI,KAAM,CACFsK,WAAY,IAEhB/U,MAAO,CACH2O,QAAS,OACTuC,WAAY,SACZrC,eAAgB,gBAChBzJ,OAAQ,OAEZqR,MAAI,oBACCnU,EAAM0H,YAAY6C,GAAG,MAAQ,CAC1B5G,MAAO,MAFX,eAIC3D,EAAM0H,YAAYC,KAAK,MAAQ,CAC5BhE,MAAO,QACPwG,WAAY,KANhB,GASJ0rC,YAAa,CACTxpC,QAAS,eACT1I,MAAO,WA2DAmyC,GAnDe,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAa7qD,EAAY,6BAChDgY,EAAUP,KACV0uB,EAAkB8U,GAA0Bj7C,GAC5CmI,EAAYmO,KAClB,OAAK6vB,EAAgB3sC,OAIjB,sBAAKmd,UAAWqB,EAAQiF,KAAxB,UACI,sBAAKtG,UAAWqB,EAAQxF,MAAxB,UACI,cAAC0K,GAAA,EAAD,CAAYL,QAAQ,KAApB,SACK1U,EAAU,8BAEf,cAACgP,GAAA,EAAD,CAAYT,QAASm0C,EAArB,SACI,cAAC,KAAD,SAGR,cAAC,GAAD,CAAqB9wD,MAAOosC,EAA5B,SACI,eAAC,GAAD,CACIxvB,UAAWqB,EAAQiR,KACnBjkB,SAAUmhC,EAAgBnhC,SAC1BxL,OAAQ2sC,EAAgB3sC,OACxB2R,KAAMg7B,EAAgBh7B,KACtBm7B,QAASH,EAAgBG,QACzB51C,SAAS,OACTO,SAAS,UACTiqB,QAAS,cAAC,GAAD,IARb,UAUI,cAAC,GAAD,CACI+hB,cAAejlB,EAAQ2yC,cAE3B,cAAC,GAAD,CACI1tB,cAAejlB,EAAQ2yC,cAE3B,cAAC,GAAD,CACI11B,OAAO,OACPgI,cAAejlB,EAAQ2yC,cAE3B,cAAC,GAAD,CAAiB1tB,cAAejlB,EAAQ2yC,cACxC,cAAC,GAAD,CACI11B,OAAO,UACP61B,QAAS,GACThQ,WAAS,EACTtxB,WAAS,YAtClB,MCnCTuhC,GAA2B,SAAC/qD,GAAD,OAC7B,eAAC,WAAD,WACI,cAAC,GAAD,eAAsBA,IACtB,cAAC,GAAD,eAAsBA,IACtB,cAAC,GAAD,eAAsBA,QAIxByX,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmI,KAAM,CACFkE,QAAS,QAEblhB,KAAM,CACFonB,SAAU,EACV7L,WAAY1G,EAAM2G,YAAY5Q,OAAO,CAAC,OAAQ,CAC1C+Q,SAAU9G,EAAM2G,YAAYG,SAASovC,iBAEzC1vC,YAAa,GAEjB2vC,eAAgB,CACZ3vC,YAAa,KAEjBsC,YAAa,CACT2B,OAAQ,SA8ED2rC,GA1EmB,SAAAlrD,GAC9B,IAAMgY,EAAUP,KACV6E,EAAWC,cAAqB,SAAAzH,GAAK,OACvCA,EAAM0H,YAAYC,KAAK,SAErB5V,EAAU8hB,eAEVhP,EAAcjjB,uBAAY,WAC5BmQ,EAAQ9E,KAAK,cACd,CAAC8E,IAEJ,OACI,qBAAK8P,UAAWqB,EAAQiF,KAAxB,SACI,cAAC,KAAD,CAAOjK,KAAK,eAAZ,SACK,YAAoD,IAAjDoT,EAAgD,EAAhDA,MACM+kC,KACF/kC,IACAA,EAAMxvB,QACc,WAApBwvB,EAAMxvB,OAAO6C,IAGjB,OACI,eAAC,WAAD,WACI,cAAC,GAAD,2BACQuG,GADR,IAEI2W,UAAW8J,KAAWzI,EAAQ/X,KAAT,gBAChB+X,EAAQizC,eAAiBE,IAE9BllB,kBAAmB,cAAC,GAAD,IACnB/T,QAAS,cAAC,GAAD,IACT/0B,QAAS,GACTH,KAAM,CAAEozB,MAAO,OAAQnzB,MAAO,QARlC,SAUKqf,EACG,cAAC,GAAD,IAEA,cAAC,GAAD,CACIwtC,YACIqB,EACMh6B,SACK/K,EAAcxvB,OAAO6C,GACtB,SAEJpI,OAKtB,cAACwsB,GAAA,EAAD,CACIhB,QAAQ,aACRtD,KAAM4xC,EACNC,OAAO,QACP/wC,QAASV,EACT3B,QAAS,CACLkG,MAAOlG,EAAQ4F,aANvB,SAUKutC,EACG,cAAC,GAAD,aACI1xD,GAAK2sB,EAAcxvB,OAAO6C,GAC1BoxD,SAAUlxC,GACN3Z,IAER,gBC5GrB,IACXwW,KAAM60C,KACNprD,KAAMirD,IC8BJI,GAAiB5zC,cAAW,SAAA5C,GAAK,MAAK,CACxCmI,KAAK,cACDxE,MAAO,KACN3D,EAAM0H,YAAYC,KAAK,MAAQ,CAC5B0E,QAAS,aA6BfoqC,GAAiB7zC,aAAW,CAC9B8zC,QAAS,CACLrsC,WAAY,OACZG,OAAQ,OACRjE,WAAY,WAIdowC,GAAgC,SAAC,GAA0B,IAAxBjyD,EAAuB,EAAvBA,OAAQwL,EAAe,EAAfA,SACvCmD,EAAYmO,KACZ0B,EAAUuzC,KACVvjD,EAASuV,KAH6C,EAIpB4W,aACpC,WACA,CAAEj3B,KAAM,EAAGC,QAAS,KACpB,CAAEizB,MAAO,OAAQnzB,MAAO,QACxB,CAAEyuD,YAAalyD,GAAUA,EAAOC,KAJtBkyD,EAJ8C,EAIpDz1D,KAAmB01D,EAJiC,EAItCzwD,IAJsC,EAUlBg5B,aACtC,UACA,CAAEj3B,KAAM,EAAGC,QAAS,KACpB,CAAEizB,MAAO,OAAQnzB,MAAO,QACxB,CAAEyuD,YAAalyD,GAAUA,EAAOC,KAJtBoyD,EAV8C,EAUpD31D,KAAoB41D,EAVgC,EAUrC3wD,IAMjB4wD,EAASC,GAAoBL,EAAQC,EAAUC,EAASC,GAE9D,OACI,qCACI,cAAC7a,GAAA,EAAD,CAAKsX,EAAE,cAAP,SACI,cAACn9B,GAAA,EAAD,UACI,eAACsV,GAAA,EAAD,WACI,cAACxjB,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,6CAGR,eAAC8oC,GAAA,EAAD,CAAK9vB,QAAQ,OAAb,UACI,eAAC8vB,GAAA,EAAD,CAAK5pB,SAAU,EAAf,UACI,eAAC4pB,GAAA,EAAD,CAAK9vB,QAAQ,OAAO8qC,GAAG,MAAvB,UACI,cAAChb,GAAA,EAAD,CAAKE,GAAG,MAAR,SACI,cAAC,KAAD,CACI/jB,SAAS,QACThW,MAAM,eAGd,eAAC65B,GAAA,EAAD,CAAK5pB,SAAU,EAAf,UACI,cAACnK,GAAA,EAAD,UACK/U,EACG,2CAGR,cAAC,GAAD,CACI3O,OAAQA,EACRy7B,OAAO,qBAIlB22B,GAAYA,EAASj6D,OAAS,GAC3B,eAACs/C,GAAA,EAAD,CAAK9vB,QAAQ,OAAb,UACI,cAAC8vB,GAAA,EAAD,CAAKE,GAAG,MAAR,SACI,cAAC,GAAM36B,KAAP,CACI4W,SAAS,QACThW,MAAM,eAGd,cAAC65B,GAAA,EAAD,CAAK5pB,SAAU,EAAf,SACI,cAACnK,GAAA,EAAD,UACK/U,EACG,4BACA,CACIqZ,YACIoqC,EAASj6D,mBAQzC,eAACs/C,GAAA,EAAD,CAAK5pB,SAAU,EAAf,UACI,eAAC4pB,GAAA,EAAD,CAAK9vB,QAAQ,OAAO8qC,GAAG,MAAvB,UACI,cAAChb,GAAA,EAAD,CAAKE,GAAG,MAAR,SACI,cAAC,KAAD,CACI/jB,SAAS,QACThW,MAAM,eAGd,eAAC65B,GAAA,EAAD,CAAK5pB,SAAU,EAAf,UACI,cAACnK,GAAA,EAAD,UACK/U,EACG,0CAGR,cAAC,GAAD,CACI3O,OAAQA,EACRy7B,OAAO,oBAIlB62B,GAAaA,EAAUn6D,OAAS,GAC7B,eAACs/C,GAAA,EAAD,CAAK9vB,QAAQ,OAAb,UACI,cAAC8vB,GAAA,EAAD,CAAKE,GAAG,MAAR,SACI,cAAC,GAAO36B,KAAR,CACI4W,SAAS,QACThW,MAAM,eAGd,cAAC65B,GAAA,EAAD,CAAK5pB,SAAU,EAAf,SACI,cAACnK,GAAA,EAAD,UACK/U,EACG,2BACA,CACIqZ,YACIsqC,EAAUn6D,6BAY1D,cAACu6D,GAAA,EAAD,CAASC,YAAY,WAAWn0C,QAAS,CAAEiF,KAAMjF,EAAQwzC,SAAzD,SACKO,EAAOryD,KAAI,SAAAsd,GAAK,OACb,eAACo1C,GAAA,EAAD,CAEI9vD,UAAQ,EACRyjB,QAAM,EACNssC,WAAS,EAJb,UAMI,cAACC,GAAA,EAAD,CACIC,kBAAmB,WACf,IAAM1lC,EACa,UAAf7P,EAAMhnB,KACAiN,GAAMuZ,KACNg2C,GAAOh2C,KACjB,OACI,cAACqQ,EAAD,CACIuG,SAAS,QACThW,MAAM,WACN4T,MAAO,CAAExD,YAAa,MAVtC,SAeK,IAAIpvB,KAAK4e,EAAMne,MAAMo0C,eAAejlC,EAAQ,CACzCykD,QAAS,OACTC,KAAM,UACNC,MAAO,QACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,cAGhB,cAACC,GAAA,EAAD,UACoB,UAAf/1C,EAAMhnB,KACH,cAAC,GAAD,CACIwJ,OAAQwd,EAAM9gB,KAEd8O,SAAUA,GAHd,gBAEkBgS,EAAM9gB,KAAKuD,KAI7B,cAAC,GAAD,CACID,OAAQwd,EAAM9gB,KAEd8O,SAAUA,GAHd,iBAEmBgS,EAAM9gB,KAAKuD,SAxC1C,UACYud,EAAMhnB,KADlB,YAC0BgnB,EAAM9gB,KAAKuD,cAyDnDuyD,GAAsB,SACxBL,EACAC,EACAC,EACAC,GAEA,IAAMkB,EACFpB,GAAYD,EACNC,EAASlyD,KAAgB,SAAAD,GAAE,MAAK,CAC5BzJ,KAAM,QACN6I,KAAM8yD,EAAOlyD,GAAIZ,KACjB3C,KAAMy1D,EAAOlyD,OAEjB,GACJwzD,EACFnB,GAAaD,EACPC,EAAUpyD,KAAgB,SAAAD,GAAE,MAAK,CAC7BzJ,KAAM,SACN6I,KAAMgzD,EAAQpyD,GAAIZ,KAClB3C,KAAM21D,EAAQpyD,OAElB,GACJsyD,EAASiB,EAAiBtuD,OAAOuuD,GAIvC,OAHAlB,EAAO/uD,MACH,SAACkwD,EAAIC,GAAL,OAAY,IAAI/0D,KAAK+0D,EAAGt0D,MAAMH,UAAY,IAAIN,KAAK80D,EAAGr0D,MAAMH,aAEzDqzD,GAQLqB,GAAwB,SAAC,GAA0B,IAAxB5zD,EAAuB,EAAvBA,OAAQwL,EAAe,EAAfA,SAC/BmD,EAAYmO,KAClB,OAAO9c,EACH,qCACI,cAAC0jB,GAAA,EAAD,CAAYL,QAAQ,QAAQ69B,cAAY,EAAxC,SACI,eAAC,KAAD,CAAMrnC,GAAE,oBAAe7Z,EAAOC,IAAMuY,UAAWk2C,KAA/C,UACK//C,EAAU,0BAA2B,CAClCqZ,YAAa,IACb,IAHR,IAIMhoB,EAAOi2C,eAGjB,eAACvyB,GAAA,EAAD,CAAYL,QAAQ,QAAQzF,MAAM,gBAAlC,UACKjP,EAAU,8BAA+B,CACtCqZ,YAAahoB,EAAO2rD,OAAOxzD,OAC3BsP,EAAG,qCAHX,YAMI,cAAC,GAAD,CACIg0B,OAAO,QACPvgC,QAAS,CACLs2B,MAAO,WACP6lB,SAAU,OAEdr3C,OAAQA,EACRwL,SAAUA,IAblB,YAgBI,cAAC,GAAD,CACIiwB,OAAO,SACPz7B,OAAQA,EACRwL,SAAUA,UAItB,MAQFqoD,GAAkB31C,aAAW,CAC/B41C,MAAO,CACHnsC,QAAS,cACT,qBAAsB,EACtB,qBAAsB,WACtBhF,SAAU,YAIZoxC,GAA0B,SAAC,GAA0B,IAAxB/zD,EAAuB,EAAvBA,OAAQwL,EAAe,EAAfA,SACjCgT,EAAUq1C,KACVllD,EAAYmO,KAClB,OAAO9c,EACH,qCACI,cAAC0jB,GAAA,EAAD,CAAYL,QAAQ,QAAQ69B,cAAY,EAAxC,SACI,eAAC,KAAD,CAAMrnC,GAAE,mBAAc7Z,EAAOC,IAAMuY,UAAWk2C,KAA9C,UACK//C,EAAU,wCADf,KAEI,cAAC,GAAD,CACI8sB,OAAO,aACPwa,UAAU,WACVx+C,SAAS,UACTuI,OAAQA,EACRwL,SAAUA,EACV8nC,MAAM,EANV,SAQI,cAAC,GAAD,CAAW7X,OAAO,YAAYjjB,UAAU,WAVhD,SAeJ,cAACkL,GAAA,EAAD,CAAYL,QAAQ,QAAQzF,MAAM,gBAAgBsjC,cAAY,EAA9D,SACI,cAAC,GAAD,CAAiBlhD,OAAQA,MAE7B,cAAC0jB,GAAA,EAAD,CACIL,QAAQ,QACRzF,MAAM,gBACNT,UAAWqB,EAAQs1C,MAHvB,SAKK9zD,EAAO6gD,aAGhB,MAGOtI,GArUe,SAAC,GAA0B,IAAxBv4C,EAAuB,EAAvBA,OAAQwL,EAAe,EAAfA,SAC/BgT,EAAUszC,KAChB,OACI,qBAAK30C,UAAWqB,EAAQiF,KAAxB,SACKzjB,GAAU,cAAC,GAAD,CAAWA,OAAQA,EAAQwL,SAAUA,O,WCrDxD7S,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAcPolB,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDmI,KAAM,GACNuwC,MAAO,CACHrsC,QAAS,OACTkU,SAAU,QAEd+Y,KAAM,CACFx2B,OAAQ9C,EAAM+C,QAAQ,EAAI,OAE3B,CAAEzjB,KAAM,uBAqDXq5D,GAAmB,SAAUztD,GAC7B,IAAI9O,EAAK8O,EAAMivC,QAASA,OAAiB,IAAP/9C,EAAgB,GAAKA,EAAqCylB,GAAf3W,EAAMgY,QAAqBhY,EAAM2W,WAAWomB,EAAS/8B,EAAM+8B,OAAQxT,EAAavpB,EAAMupB,WAAYroB,EAAQlB,EAAMkB,MAAO/P,EAAK6O,EAAM4X,OAAQA,OAAgB,IAAPzmB,EAAgB,QAAUA,EAAI8oC,EAASj6B,EAAMi6B,OAAQvC,EAAW13B,EAAM03B,SAAU0C,EAAUp6B,EAAMo6B,QAAS1lC,EAAUsL,EAAMtL,QAAS2oC,EAAar9B,EAAMq9B,WAAYC,EAAct9B,EAAMs9B,YAAa9M,EAAQxwB,EAAMwwB,MAAOv/B,EAAW+O,EAAM/O,SAAUgkC,EAASj1B,EAAMi1B,OAAQsI,EAAkBv9B,EAAMu9B,gBAAiBzT,EAAW9pB,EAAM8pB,SAAUllB,EAAK5E,EAAM6c,QAASA,OAAiB,IAAPjY,EAAgB,SAAWA,EAAIgS,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,UAAW,YAAa,SAAU,aAAc,QAAS,SAAU,SAAU,WAAY,UAAW,UAAW,aAAc,cAAe,QAAS,WAAY,SAAU,kBAAmB,WAAY,YACj1BgY,EAAUP,GAAUzX,GACpB0tD,EAAa9lC,iBAAO,MACpB/iB,EAAKuU,mBAAS,GAAIu0C,EAAa9oD,EAAG,GAAI+oD,EAAgB/oD,EAAG,GAC7DwM,qBAAU,WACNu8C,EAAcF,EAAW3lC,QAAQ8lC,eAClC,IACH,IAAIt4C,EAAKo5B,GAAW,CAChBtR,WAAYA,EACZC,YAAaA,EACbC,gBAAiBA,IACjBqR,EAAgBr5B,EAAGq5B,cAAeG,EAAiBx5B,EAAGw5B,eACtDv5B,EAAKukB,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACjC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EACRnL,SAAUA,GAAYlT,IAAQzK,EAAQqJ,EAAGrJ,MAAOsO,EAAajF,EAAGiF,WAAYhF,EAAKD,EAAG1a,KAAM3E,EAAQsf,EAAGtf,MAAOizB,EAAU3T,EAAG2T,QACzHimB,EAAuB34C,uBAAY,SAAUm4C,GAAU,OAAOD,EAAcC,KAAY,CACxFD,IAEAruB,EAAiB7pB,uBAAY,SAAUm4C,GACvC,OAAOA,EAAUjmC,gBAAoB4X,KAAU,CAAE1rB,IAAKi6C,EAAeF,GAAS90C,MAAOg1C,EAAeF,IAAWQ,EAAqBR,IAAY,OACjJ,CAACE,EAAgBM,IACpB,OAAQzmC,gBAAoB+uC,KAAaxlD,GAAS,CAAEylB,OAAQA,EAAQjB,UAAW8J,KAAWzI,EAAQiF,KAAMtG,GAAYxgB,MAAOizB,KAAajzB,EAAO0mB,QAASA,GA7FpI,SAAU3rB,GAE9B,OADeA,EAAGy7C,SAAuBz7C,EAAGkkC,WAAuBlkC,EAAGgkC,SAAqBhkC,EAAG8T,SAAoB9T,EAAG+9C,QAA0C/9C,EAAG48D,+BAAiE58D,EAAG68D,+BAAuE78D,EAAG88D,qCAAwE98D,EAAG+8D,gCAAgD/8D,EAAG+/B,aAAuB//B,EAAGqJ,OAAwBrJ,EAAGs+C,cAA+Bt+C,EAAG+rC,cAAgC/rC,EAAGgsC,eAAwBhsC,EAAGib,MAAoBjb,EAAGupB,WAAoBvpB,EAAGgQ,MAA6BhQ,EAAGisC,oBAA8BjsC,EAAGoF,OAAiBpF,EAAG8W,OAAe9W,EAAG4J,KAAiB5J,EAAGwmC,SAAoBxmC,EAAGwD,QAAuBxD,EAAGosC,YAA0BpsC,EAAGmsC,WAAsBnsC,EAAGiM,QAAkBjM,EAAGsI,OAAoBtI,EAAGu+C,UAAsBv+C,EAAGD,SAAsBC,EAAGw+C,UAA2Bx+C,EAAGy+C,cAAyBz+C,EAAGu9B,QAAgBv9B,EAAG8L,KAAe9L,EAAG+jC,OAAoB/jC,EAAGg3B,UAAuBh3B,EAAGiX,UAA6BjX,EAAGqsC,gBAA8BrsC,EAAGke,WAAmBpc,GAAO9B,EAAI,CAAC,WAAY,aAAc,WAAY,WAAY,UAAW,iCAAkC,iCAAkC,uCAAwC,kCAAmC,eAAgB,SAAU,gBAAiB,gBAAiB,iBAAkB,QAAS,aAAc,QAAS,sBAAuB,SAAU,SAAU,OAAQ,WAAY,UAAW,cAAe,aAAc,UAAW,SAAU,YAAa,WAAY,YAAa,gBAAiB,UAAW,OAAQ,SAAU,YAAa,YAAa,kBAAmB,eA4FrjDk3B,CAAkBxR,IACjLhO,gBAAoBgvC,KAAY,CAAEl4B,IAAKguC,EAAYj0D,GAAIyH,EAAQ,kBAAmB/K,MAAOizB,KAAajzB,GAClGyS,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,KACpG7R,gBAAoBslD,KAAQ/7D,GAAS,CAAEg8D,WAAW,EAAMC,QAASltD,EAAQ,kBAAmBk8B,UAAU,EAAMjnC,SAAUizB,IAAWjzB,GAAQk4D,YAAa,SAAUrkB,GAAY,OAAQphC,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQw1C,OAASxjB,EACpOtwC,KAAI,SAAUS,GACf,OAAO80C,EAAQ9K,MAAK,SAAU0K,GAAU,OAAOE,EAAeF,KAAY10C,QAEzET,KAAI,SAAUS,GAAQ,OAAQyO,gBAAoB8lC,KAAM,CAAE55C,IAAKi6C,EAAe50C,GAAO+G,MAAOmuC,EAAqBl1C,GAAOwc,UAAWqB,EAAQo2B,YAAmB,cAAe,eAAiBjiC,EAAO,CAAEpS,MAAOoS,EAAMpS,OAAS,IAAMrF,EAAS,CAAEi5D,WAAYA,IAAe1e,EAAQv1C,IAAI6mB,IAC9R3X,gBAAoBq+C,KAAgB,CAAE9wD,MAAOizB,KAAajzB,GACtDyS,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,OAE/FkkC,GAAiBn2C,UAAY,CACzB23B,QAAS13B,KAAUsf,QAAQtf,KAAUiB,QACrCR,QAAST,KAAUiB,OACnB7B,UAAWY,KAAUC,OACrB9O,SAAU6O,KAAUiD,KACpBtZ,MAAOqW,KAAUC,OACjB9iB,QAAS6iB,KAAUiB,OACnB6kB,WAAY9lB,KAAU8F,UAAU,CAC5B9F,KAAUC,OACVD,KAAUuJ,KACVvJ,KAAUrd,UACXugB,WACH6iB,YAAa/lB,KAAUC,OAAOiD,WAC9BxpB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,OAClB+lB,gBAAiBhmB,KAAU6F,MAE/BqwC,GAAiB/8C,aAAe,CAC5Bhc,QAAS,GACT2oC,WAAY,OACZC,YAAa,KACbC,iBAAiB,GAENkwB,UCnJTa,GAA2B,SAAC,GAA0B,EAAxBC,SAAyB,IAAZ33C,EAAW,6BAClDzO,EAAYmO,KAClB,OACI,cAAC,GAAD,yBACI2e,OAAO,UACHre,GAFR,IAGIq4B,QAASR,GAAS/0C,KAAI,SAAA80C,GAAO,MAAK,CAC9B/0C,GAAI+0C,EAAQ/0C,GACZrF,KAAM+T,EAAUqmC,EAAQp6C,cAMxCk6D,GAAc59C,aAAe,CACzB69C,UAAU,EACVt5B,OAAQ,SACRhkC,SAAU,aAGCq9D,UCOTE,GAAyC,SAAC,GAAD,IAAGh1D,EAAH,EAAGA,OAAH,OAC3CA,EAAS,cAAC,GAAD,CAAeA,OAAQA,EAAQ8e,KAAK,OAAU,MAErDm2C,GAAc,SAACzuD,GACjB,IAAMmI,EAAYmO,KAElB,OACI,cAAC,GAAD,2BACQtW,GADR,IAEI8pB,SAAUywB,GACVxoC,OAAQ,SAACwlB,GAAD,OACJ,cAACnM,GAAA,EAAD,UACI,iCACI,cAACsV,GAAA,EAAD,UACI,eAACuQ,GAAA,EAAD,CAAK9vB,QAAS,CAAEynC,GAAI,QAAS8F,GAAI,QAAjC,UACI,eAACzd,GAAA,EAAD,CAAKj1B,KAAM,EAAGm1B,GAAI,CAAEyX,GAAI,EAAG8F,GAAI,OAA/B,UACI,cAACxxC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,8CAGR,eAAC8oC,GAAA,EAAD,CAAK9vB,QAAS,CAAEunC,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC1X,GAAA,EAAD,CACIj1B,KAAM,EACNm1B,GAAI,CAAEuX,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,aACPhkC,SAAS,YACT64B,SAAU0wB,GACVhxB,WAAS,MAGjB,cAACynB,GAAA,EAAD,CACIj1B,KAAM,EACN2yC,GAAI,CAAEjG,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,YACPhkC,SAAS,YACT64B,SAAU0wB,GACVhxB,WAAS,SAIrB,cAAC,GAAD,CACIx5B,KAAK,QACLilC,OAAO,QACPhkC,SAAS,YACT64B,SAAU,CAACna,KAASN,MACpBma,WAAS,IAEb,eAACynB,GAAA,EAAD,CAAK9vB,QAAS,CAAEunC,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC1X,GAAA,EAAD,CACIj1B,KAAM,EACNm1B,GAAI,CAAEuX,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,WACPhkC,SAAS,YACTu4B,WAAS,EACTD,YAAY,MAGpB,cAAC0nB,GAAA,EAAD,CACIj1B,KAAM,EACN2yC,GAAI,CAAEjG,GAAI,EAAGC,GAAI,cAIzB,cAAC1X,GAAA,EAAD,CAAKC,GAAG,QAER,cAACh0B,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,6CAGR,cAAC,GAAD,CACI8sB,OAAO,UACPhkC,SAAS,YACT6pD,WAAS,EACTtxB,WAAS,EACTD,YAAY,IAEhB,eAAC0nB,GAAA,EAAD,CAAK9vB,QAAS,CAAEunC,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC1X,GAAA,EAAD,CACIj1B,KAAM,EACNm1B,GAAI,CAAEuX,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,OACPhkC,SAAS,YACTu4B,WAAS,EACTD,YAAY,MAGpB,cAAC0nB,GAAA,EAAD,CACIj1B,KAAM,EACNm1B,GAAI,CAAEuX,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,YACPhkC,SAAS,YACTu4B,WAAS,EACTD,YAAY,MAGpB,cAAC0nB,GAAA,EAAD,CAAKj1B,KAAM,EAAX,SACI,cAAC,GAAD,CACIiZ,OAAO,UACPhkC,SAAS,YACTu4B,WAAS,EACTD,YAAY,SAKxB,cAAC0nB,GAAA,EAAD,CAAKC,GAAG,QAER,cAACh0B,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,qDAGR,eAAC8oC,GAAA,EAAD,CAAK9vB,QAAS,CAAEunC,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC1X,GAAA,EAAD,CACIj1B,KAAM,EACNm1B,GAAI,CAAEuX,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,WACPhkC,SAAS,YACTu4B,WAAS,MAGjB,cAACynB,GAAA,EAAD,CACIj1B,KAAM,EACN2yC,GAAI,CAAEjG,GAAI,EAAGC,GAAI,SAFrB,SAII,cAAC,GAAD,CACI1zB,OAAO,mBACPhkC,SAAS,YACTu4B,WAAS,YAKzB,eAACynB,GAAA,EAAD,CACIj1B,KAAM,EACN2yC,GAAI,CAAEjG,GAAI,EAAGgG,GAAI,OACjBxd,GAAI,CAAEwX,GAAI,MAAOgG,GAAI,GAHzB,UAKI,cAACxxC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,SACKvyC,EACG,2CAGR,8BACI,cAAC,GAAD,CAAeqhB,WAAS,MAE5B,8BACI,cAAC,GAAD,CACIyL,OAAO,iBACPhkC,SAAS,wBAM7B,cAAC,GAAD,CACIuI,OAAQ+9B,EAAU/9B,OAClBwL,SAAUuyB,EAAUvyB,SACpBF,UAAU,EACVmxB,QAASsB,EAAUtB,QACnBjM,aAAcuN,EAAUvN,aACxB0O,OAAQnB,EAAUmB,OAClBznC,SAAS,wBAS/BupD,GAAmB,CAACnrC,MCjNXpe,GAPE,CACbgP,KAAM4yC,GACNhoC,OAAQgwC,GACR9vC,KDe+B,SAAA/K,GAC/B,OACI,cAAC,GAAD,yBACIwS,MAAO,cAAC,GAAD,IACPwzB,MAAO,cAAC,GAAD,IACPh0B,UAAU,OACNhS,GAJR,aAMI,cAAC,GAAD,QCtBRwW,KAAMo4C,M,qBCOJC,GAA0C,SAAC,GAAD,IAAGr1D,EAAH,EAAGA,OAAH,OAC5CA,EACI,eAAC0jB,GAAA,EAAD,WACK1jB,EAAOy2C,WADZ,IACyBz2C,EAAO02C,UAC5B,uBACC12C,EAAOygD,QACR,uBACCzgD,EAAO4gD,KALZ,KAKoB5gD,EAAO2gD,WAE3B,MAqFO2U,GAnFK,SAAC9uD,GAAgB,IACzBxG,ECJmB,SAAUwG,GACrC6uB,GAA6B,OAAQ,CAAC,WAAY,YAAa7uB,GAC/D,IAAIgF,EAAWhF,EAAMgF,SAAUmnB,EAAYnsB,EAAMmsB,UAAWF,EAAUjsB,EAAMisB,QAASnK,EAAU9hB,EAAM8hB,QAASoK,EAAUlsB,EAAMksB,QAASzyB,EAAKuG,EAAMvG,GAC9IxI,EAAWyiC,GAAmB1zB,GAC9BmI,EAAYmO,KACZ9lB,EAASC,eACTC,EAAWC,eACXC,EAAUC,eACVy1C,EAAUC,eACVr1C,EAAKgqD,aAAUjqD,EAAUwI,EAAI,CAC7BiC,OAAQq/C,GACRzpD,UAAW,WACPd,EAAO,oCAAqC,WAC5CE,EAAS,OAAQsU,GACjBpU,OAEJ4I,EAAStI,EAAGgF,KAAMG,EAAUnF,EAAGmF,QAASC,EAASpF,EAAGoF,OACpDo+B,EAAevsB,EAAU,aAAelX,EAAW,QAAS,CAC5DuwB,YAAa,EACbvgB,EAAGwgB,KAAWC,SAASD,KAAWozB,YAAY5jD,MAOlD,MAAO,CACHoF,QAASA,EACTC,OAAQA,EACR4sB,aARe/a,EAAU,eAAgB,CACzC/T,KAAM,GAAKsgC,EACXj7B,GAAIA,EACJD,OAAQA,IAMRvI,SAAUA,EACV+T,SAAUA,EACVxL,OAAQA,EACR2yB,UAAWA,EACXF,QAASA,EACTnK,QAASA,EACToK,QAASA,EACToa,QAASA,GDjCMyoB,CAA2B/uD,GAAtCxG,OACFwe,EAAUP,KAEhB,OAAKje,EAED,cAAC4xB,GAAA,EAAD,CAAMzU,UAAWqB,EAAQiF,KAAzB,SACI,eAACyjB,GAAA,EAAD,WACI,eAAC+nB,GAAA,EAAD,CAAMtlC,WAAS,EAACtL,QAAS,EAAzB,UACI,cAAC4wC,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,EAAf,SACI,cAACxrC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAArC,8BAIJ,cAAC+N,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,EAAf,SACI,eAACxrC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAAClT,MAAM,QAA5C,qBACahuC,EAAOC,WAI5B,cAACgvD,GAAA,EAAD,CAAMtlC,WAAS,EAACtL,QAAS,EAAzB,SACI,cAAC4wC,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,GAAIvlC,WAAS,EAAC6rC,aAAa,WAA1C,SACI,cAAC,GAAD,CACI/9D,SAAS,WACTw+C,UAAU,YACVxa,OAAO,cACPjwB,SAAS,YACTxL,OAAQA,EACRszC,MAAM,EANV,SAQI,cAAC,GAAD,UAIZ,qBAAKn2B,UAAWqB,EAAQyV,OAAxB,kBACA,eAACg7B,GAAA,EAAD,CAAMtlC,WAAS,EAACtL,QAAS,EAAzB,UACI,eAAC4wC,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,EAAf,UACI,eAACxrC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAAClT,MAAM,SAA5C,iBACS,OAET,cAACtqB,GAAA,EAAD,CAAYw9B,cAAY,EAAClT,MAAM,SAA/B,SACK,IAAIpvC,KAAKoB,EAAOX,MAAM00C,0BAI/B,eAACkb,GAAA,EAAD,CAAMtuD,MAAI,EAACuuD,GAAI,EAAf,UACI,cAACxrC,GAAA,EAAD,CAAYL,QAAQ,KAAK69B,cAAY,EAAClT,MAAM,SAA5C,mBAGA,cAAC,GAAD,CACIv2C,SAAS,WACTw+C,UAAU,WACVxa,OAAO,aACPjwB,SAAS,YACTxL,OAAQA,EACRszC,MAAM,EANV,SAQI,cAAC,GAAD,CACI7X,OAAO,YACPuS,MAAM,SACNx1B,UAAU,IACV0oC,cAAY,YAK5B,qBAAK/jC,UAAWqB,EAAQi3C,SAAxB,SACI,cAAC,GAAD,CACIh+D,SAAS,WACTw+C,UAAU,WACVxa,OAAO,aACPjwB,SAAS,YACTxL,OAAQA,EACRszC,MAAM,EANV,SAQI,cAAC,GAAD,aAvEA,MAiFlBr1B,GAAYC,aAAW,CACzBuF,KAAM,CAAExE,MAAO,IAAKb,OAAQ,QAC5B6V,OAAQ,CAAEvU,OAAQ,IAClB+1C,SAAU,CAAEr3C,OAAQ,YEhGlBs3C,GAAc,SAAClvD,GAAD,OAChB,eAAC,GAAD,2BAAYA,GAAZ,cACI,cAAC,GAAD,CAAWi1B,OAAO,WAAWC,UAAQ,IACrC,cAAC,GAAD,CAAWD,OAAO,WAAWC,UAAQ,SAIvCzd,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnC89B,qBAAqB,cACjBzxB,QAAS,cACRrM,EAAM0H,YAAYC,KAAK,MAAQ,CAC5B0E,QAAS,aC3BN,IACXlhB,KD+B+B,SAAAD,GAC/B,IAAMgY,EAAUP,KAChB,OACI,cAAC,GAAD,2BACQzX,GADR,IAEIkyB,QAAS,cAAC,GAAD,IACT/0B,QAAS,GACTH,KAAM,CAAEozB,MAAO,OAAQnzB,MAAO,QAJlC,SAMI,eAAC,GAAD,CAAU8sC,SAAS,SAASx+B,OAAQ,cAAC,GAAD,IAApC,UACI,cAAC,GAAD,CAAW0pB,OAAO,OAClB,cAAC,GAAD,CAAWA,OAAO,SAClB,cAAC,GAAD,CAAgBA,OAAO,cAAcwa,UAAU,YAA/C,SACI,cAAC,GAAD,MAEJ,cAAC,GAAD,CACIxa,OAAO,cACPwa,UAAU,YACV3C,MAAM,EACN5rC,MAAM,oCACNqoC,cAAevxB,EAAQ46B,qBACvBrL,gBAAiBvvB,EAAQ46B,qBAN7B,SAQI,cAAC,GAAD,MAEJ,cAAC,GAAD,CAAgB3d,OAAO,aAAawa,UAAU,WAA9C,SACI,cAAC,GAAD,CAAWxa,OAAO,gBAEtB,cAAC,GAAD,CAAaA,OAAO,mBACpB,cAAC,GAAD,CAAaA,OAAO,kBACpB,cAAC,GAAD,CAAaA,OAAO,UACpB,cAAC,GAAD,CAAaA,OAAO,iBC7DhCze,KAAM24C,M,qBCNNh9D,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAQP+8D,GAAwB,SAAUr1D,GAClC,IAAIs1D,EAAQC,WAAWv1D,GACvB,OAAOq3B,MAAMi+B,GAAS,KAAOA,GAc7BE,GAAc,SAAUr+D,GACxB,IAAI6rC,EAAS7rC,EAAG6rC,OAAQxT,EAAar4B,EAAGq4B,WAAYroB,EAAQhQ,EAAGgQ,MAAO/P,EAAKD,EAAG0mB,OAAQA,OAAgB,IAAPzmB,EAAgB,QAAUA,EAAI8oC,EAAS/oC,EAAG+oC,OAAQG,EAAUlpC,EAAGkpC,QAAS1C,EAAWxmC,EAAGwmC,SAAUhjC,EAAUxD,EAAGwD,QAASkQ,EAAK1T,EAAGs/B,MAAOA,OAAe,IAAP5rB,EAAgBwqD,GAAwBxqD,EAAI3T,EAAWC,EAAGD,SAAUgkC,EAAS/jC,EAAG+jC,OAAQjzB,EAAO9Q,EAAG8Q,KAAMy3B,EAAMvoC,EAAGuoC,IAAKl7B,EAAMrN,EAAGqN,IAAKurB,EAAW54B,EAAG44B,SAAUjlB,EAAK3T,EAAG2rB,QAASA,OAAiB,IAAPhY,EAAgB,SAAWA,EAAI2qD,EAAqBt+D,EAAGm4B,WAAYzS,EAAO5jB,GAAO9B,EAAI,CAAC,SAAU,aAAc,QAAS,SAAU,SAAU,UAAW,WAAY,UAAW,QAAS,WAAY,SAAU,OAAQ,MAAO,MAAO,WAAY,UAAW,eACxpBqkB,EAAKwkB,GAAS5nC,GAAS,CAAE4qC,OAAQA,EACjC9C,OAAQA,EACRvC,SAAUA,EACV0C,QAASA,EACT5J,MAAOA,EACPv/B,SAAUA,EACVgkC,OAAQA,EAAQjlC,KAAM,SAAU85B,SAAUA,GAAYlT,IAAQnd,EAAK8b,EAAG9b,GAAI0S,EAAQoJ,EAAGpJ,MAAOsO,EAAalF,EAAGkF,WAAYjF,EAAKD,EAAGza,KAAM3E,EAAQqf,EAAGrf,MAAOizB,EAAU5T,EAAG4T,QACrKC,EAAal3B,GAASA,GAAS,GAAIq9D,GAAqB,CAAExtD,KAAMA,EAAMy3B,IAAKA,EAAKl7B,IAAKA,IACzF,OAAQqK,gBAAoB0gB,KAAWn3B,GAAS,CAAEsH,GAAIA,GAAM0S,EAAO,CAAE0Q,QAASA,EAAS1mB,SAAUizB,IAAWjzB,GAAQozB,WAAY3gB,gBAAoB6zB,GAAiB,CAAErT,QAASA,EAASjzB,MAAOA,EAAOozB,WAAYA,IAAeroB,MAAO0H,gBAAoB+uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,IAAe7C,OAAQA,EAAQyR,WAAYA,GAAc30B,EAASioC,GAAuB/lB,MAEta24C,GAAYj4C,UAAY,CACpBpW,MAAOqW,KAAUC,OACjB9iB,QAAS6iB,KAAUiB,OACnBvnB,SAAUsmB,KAAUC,OACpByd,OAAQ1d,KAAUC,OAClBxV,KAAMuV,KAAU8F,UAAU,CAAC9F,KAAUC,OAAQD,KAAU7H,UAE3D6/C,GAAY7+C,aAAe,CACvBhc,QAAS,GACTsN,KAAM,MACNkmB,UAAW,SAEAqnC,U,0CC/BAE,GApBU,SAAUzvD,GAC/B,IAAI4uB,EAAUzlB,qBAAW+1B,IACzB,OAAKtQ,EAAQH,QAgBNG,EAFI5uB,GCoCX0vD,GAAe,SAAU1yD,GAAQ,MAAiB,QAATA,EAAiB,OAAS,OAIxDsgB,mBAzCE,SAAUpsB,GACvB,IAAIy+D,EAASz+D,EAAGy+D,OAAQx+D,EAAKD,EAAGgQ,MAAOA,OAAe,IAAP/P,EAAgB,kBAAoBA,EAC/EyT,EAAK6qD,KAAsBx+D,EAAW2T,EAAG3T,SAAU88B,EAAcnpB,EAAGmpB,YAAaU,EAAU7pB,EAAG6pB,QAC9FtmB,EAAYmO,KACZgG,EAAWC,cAAc,SAAUzH,GACnC,OAAOA,EAAM0H,YAAYC,KAAK,SAE9B5X,EAAK+D,WAAe,MAAOyQ,EAAWxU,EAAG,GAAIyU,EAAczU,EAAG,GAC9DkS,EAAc,SAAUC,GACxBsC,EAAYtC,EAAM0C,gBAKlBk2C,EAAmB,SAAU54C,GAC7B,IAAIoZ,EAAQpZ,EAAM0C,cAAcgc,QAAQ14B,KACxCyxB,EAAQ2B,EAAOA,IAAUrC,EAAYqC,MAC/Bs/B,GAAa3hC,EAAY9wB,OACzB,OACNqc,EAAY,OAEZu2C,EAAc1nD,EAAUjH,EAAO,CAC/BkvB,MAAOjoB,EAAU,aAAelX,EAAW,WAAa88B,EAAYqC,OACpEnzB,MAAOkL,EAAU,WAAa4lB,EAAY9wB,OAC1CgE,EAAGC,IAEP,OAAQ0H,gBAAoBA,WAAgB,KACxC0T,EAAY1T,gBAAoBsO,KAAS,CAAE1E,MAAOq9C,GAC9CjnD,gBAAoBuO,KAAY,CAAE,aAAc04C,EAAaz4C,MAAO,UAAWV,QAASK,GACpFnO,gBAAoBknD,KAAU,QAAYlnD,gBAAoBgR,KAAQ,CAAE,gBAAiB,cAAe,gBAAiB,OAAQxC,MAAO,UAAWV,QAASK,EAAa8C,UAAWjR,gBAAoBknD,KAAU,MAAOC,QAASnnD,gBAAoBonD,KAAmB,MAAO13C,KAAM,SAAWu3C,GACzSjnD,gBAAoBoR,KAAM,CAAEvgB,GAAI,cAAe4f,SAAUA,EAAU42C,aAAa,EAAM12C,KAAMC,QAAQH,GAAWgB,QAnBjG,WACdf,EAAY,QAkB2Hq2C,EAAOj2D,KAAI,SAAU02B,GAAS,OAAQxnB,gBAAoB4X,KAAU,CAAE9J,QAASk5C,EAAkB,YAAax/B,EAAOt7B,IAAKs7B,GAC7PjoB,EAAU,aAAelX,EAAW,WAAam/B,GACjD,IACAjoB,EAAU,YAAc4lB,EAAYqC,QAAUA,EACxCs/B,GAAa3hC,EAAY9wB,OACzB,iBAGE,SAAU2nC,EAAWC,GACrC,OAAOhjB,YAAa+iB,EAAU+qB,OAAQ9qB,EAAU8qB,WCvEhD38D,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GA2CI69D,GAJA,SAAUh/D,GACrB,IAAIwX,EAAWxX,EAAGwX,SAAU1I,EAAQhN,GAAO9B,EAAI,CAAC,aAChD,OAAQ0X,gBAAoB22B,GAAqB,CAAExlC,MAAO+5B,GAAkB9zB,IAAU0I,I,iCCjCpF+O,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCq7C,SAAU,CACNv4C,OAAQ,GAEZw4C,QAAS,CACLjxC,WACI,sFAERye,YAAa,CACT7e,gBAAiBjK,EAAMoK,QAAQ2oB,KAAK,KACpC3uB,OAAQ,QAEZsuC,MAAO,CACHrmC,QAAS,SACTiM,SAAU,OAEd0f,KAAM,CACF11B,MAAO,YAITi5C,GAAkB,SAAC53C,GACrB,MAAc,OAAVA,EAAuB,EACb,OAAVA,GACU,OAAVA,EADuB,EAEb,OAAVA,EAAuB,EACpB,GAML63C,GAAwD,SAAC,GAGxD,IANQtoB,EAAoB1O,EAI/B7gB,EAEE,EAFFA,MAEE,IADF83C,eACE,MADQ,GACR,EACIv4C,EAAUP,KAChB,OACI,eAAC,KAAD,CACI+4C,WAAY,IACZC,KAAMJ,GAAgB53C,GACtB9B,UAAWqB,EAAQm4C,SAHvB,UAKK,KAdEnoB,EAeIuoB,EAfgBj3B,EAeP,SAAAxkC,GAAG,OACf,cAAC47D,GAAA,EAAD,UACI,qBAAK/5C,UAAWqB,EAAQ4lB,eADT9oC,IAf/BtB,MAAM+R,KAAK,CAAE5T,OAAQq2C,IAAc,SAAC/mC,EAAGnM,GAAJ,OAAYwkC,EAAGxkC,WAuBhD67D,GAAgC,SAAC,GAAe,IAAbl4C,EAAY,EAAZA,MAAY,EACjBkW,KAAxBxzB,EADyC,EACzCA,IAAKjF,EADoC,EACpCA,KAAM8O,EAD8B,EAC9BA,SACbgT,EAAUP,KAEhB,OAAKtc,GAAQjF,EAGT,cAAC,KAAD,CACIs6D,WAAY,IACZC,KAAMJ,GAAgB53C,GACtB9B,UAAWqB,EAAQm4C,SAHvB,SAKKh1D,EAAIzB,KAAI,SAACD,GAAD,OACL,eAACi3D,GAAA,EAAD,CAEI1+C,UAAWsyB,KAEXjxB,GAAIq3B,aAAa1lC,EAAU9O,EAAKuD,GAAIA,IAJxC,UAMI,qBAAKuc,IAAK9f,EAAKuD,GAAIm3D,UAAW72C,IAAI,KAClC,cAAC82C,GAAA,EAAD,CACIl6C,UAAWqB,EAAQo4C,QACnB59C,MAAOtc,EAAKuD,GAAIg2C,UAChBqhB,SACI,iCACK56D,EAAKuD,GAAIgf,MADd,IACsBviB,EAAKuD,GAAIyf,OAD/B,IACwC,IACpC,cAAC,GAAD,CACIvC,UAAWqB,EAAQwvC,MACnBvyB,OAAO,QACPz7B,OAAQtD,EAAKuD,GACb2d,MAAM,UACN1iB,QAAS,CACLs2B,MAAO,WACP6lB,SAAU,gBAjBzBp3C,QAZK,MAoDf4/C,mBATiB,SAAC,GAAe,IAAb5gC,EAAY,EAAZA,MAE/B,OADmBkW,KAAXr4B,OAEJ,cAAC,GAAD,CAAgBmiB,MAAOA,IAEvB,cAAC,GAAD,CAAiBA,MAAOA,O,qBCzG1BhB,GAAYC,cAAW,SAAA5C,GAAK,YAAK,CACnCmI,MAAI,oBACCnI,EAAM0H,YAAY6C,GAAG,MAAQ,CAC1B5G,MAAO,OACP6C,YAAa,MACba,SAAU,YAJd,eAMCrH,EAAM0H,YAAYC,KAAK,MAAQ,CAC5B0E,QAAS,SAPb,OAwHO4wB,GA5GG,WAAO,IAAD,EACE5d,aAClB,aACA,CAAEj3B,KAAM,EAAGC,QAAS,KACpB,CAAEizB,MAAO,OAAQnzB,MAAO,OACxB,IAJI/G,EADY,EACZA,KAAMiF,EADM,EACNA,IAMR6c,EAAUP,KAChB,OACI,cAAC2T,GAAA,EAAD,CAAMzU,UAAWqB,EAAQiF,KAAzB,SACI,eAACyjB,GAAA,EAAD,WACI,cAAC,GAAD,IAEA,eAAC,GAAD,CACIx/B,MAAM,mCACNsV,KAAM,cAAC,KAAD,IAFV,UAII,cAAC,GAAD,CACItV,MAAM,0CACNnH,MAAO,CACHg3D,eAAW1/D,EACX2/D,SAAU,GACVC,WAAO5/D,KAGf,cAAC,GAAD,CACI6P,MAAM,6CACNnH,MAAO,CACHg3D,UAAW,GACXC,SAAU,GACVC,WAAO5/D,KAGf,cAAC,GAAD,CACI6P,MAAM,yCACNnH,MAAO,CACHg3D,UAAW,GACXC,SAAU,EACVC,WAAO5/D,KAGf,cAAC,GAAD,CACI6P,MAAM,wCACNnH,MAAO,CACHg3D,eAAW1/D,EACX2/D,cAAU3/D,EACV4/D,MAAO,QAKnB,eAAC,GAAD,CACI/vD,MAAM,mCACNsV,KAAM,cAAC,KAAD,IAFV,UAII,cAAC,GAAD,CACItV,MAAM,sCACNnH,MAAO,CACHm3D,cAAU7/D,EACV8/D,cAAU9/D,EACV+/D,MAAO,KAGf,cAAC,GAAD,CACIlwD,MAAM,uCACNnH,MAAO,CACHm3D,SAAU,GACVC,SAAU,EACVC,WAAO//D,KAGf,cAAC,GAAD,CACI6P,MAAM,2CACNnH,MAAO,CACHm3D,SAAU,GACVC,SAAU,EACVC,WAAO//D,KAGf,cAAC,GAAD,CACI6P,MAAM,0CACNnH,MAAO,CACHm3D,cAAU7/D,EACV8/D,SAAU,GACVC,WAAO//D,QAKnB,cAAC,GAAD,CACI6P,MAAM,wCACNsV,KAAM,cAAC,KAAD,IAFV,SAIKrb,GACGjF,GACAiF,EAAIzB,KAAI,SAACD,GAAD,OACJ,cAAC,GAAD,CACIyH,MAAOugB,KAAWC,SAASxrB,EAAKuD,GAAIrF,MAEpC2F,MAAO,CAAEs3D,YAAan7D,EAAKuD,GAAIA,KAD1BvD,EAAKuD,GAAIA,eCrGxC63D,GAAuB55C,cAAW,SAAA5C,GAAK,MAAK,CAC9CmI,KAAM,CACFkxB,aAAcr5B,EAAM+C,QAAQ,QAI9B05C,GAA8B,SAAC,GAAe,IAAbrwD,EAAY,EAAZA,MAC7BiH,EAAYmO,KACZ0B,EAAUs5C,KAChB,OAAO,cAAC5iB,GAAA,EAAD,CAAM/3B,UAAWqB,EAAQiF,KAAM/b,MAAOiH,EAAUjH,MAG9CswD,GAAmD,SAAAxxD,GAAK,OACjE,eAAC,GAAD,2BAAYA,GAAZ,cACI,cAAC,GAAD,CAAai1B,OAAO,IAAIC,UAAQ,IAChC,cAAC,GAAD,CACID,OAAO,cACPwa,UAAU,aACVzyC,KAAM,CAAEozB,MAAO,KAAMnzB,MAAO,OAHhC,SAKI,cAAC,GAAD,CAAag4B,OAAO,WAExB,cAAC,GAAD,CAAaA,OAAO,cACpB,cAAC,GAAD,CAAaA,OAAO,cACpB,cAAC,GAAD,CAAaA,OAAO,eACpB,cAAC,GAAD,CAAaA,OAAO,eACpB,cAAC,GAAD,CACI/zB,MAAM,sCACN+zB,OAAO,YACPhE,aAAc,UAKpBwU,GAAuB,SAAC,GAAD,IAAG/nB,EAAH,EAAGA,QAAH,OACzB,eAAC,GAAD,WACKA,GAAW,cAAC,GAAD,CAAekR,QAAQ,WACnC,cAAC,GAAD,CAAY+gC,OAAQ,CAAC,YAAa,QAAS,WAC3C,cAAC,GAAD,CAAc3qD,SAAS,cACvB,cAAC,GAAD,QAiBFysD,GAA4C,SAAC,GAAiB,IAAf/zC,EAAc,EAAdA,QACzCwF,EAAiByL,KAAjBzL,aACR,OACI,qCACI,cAAC,GAAD,CAAOA,aAAcA,IACrB,cAAC,GAAD,CAAaxF,QAASA,IACrBA,GACG,cAACuzB,GAAA,EAAD,CAAKsX,EAAG,EAAR,SACI,cAAC,GAAD,CAAe35B,QAAQ,WAG/B,eAACqiB,GAAA,EAAD,CAAK9vB,QAAQ,OAAb,UACI,cAAC,GAAD,IACA,eAAC8vB,GAAA,EAAD,CAAKx4B,MAAOiF,EAAU,OAAS,oBAA/B,UACI,cAAC,GAAD,IACA,cAAC,GAAD,CAAYmjB,mBAAoB,CAAC,GAAI,GAAI,gBAM9C6wB,GAlCoB,SAAA1xD,GAC/B,IAAM0d,EAAUnB,cAAqB,SAAAzH,GAAK,OAAIA,EAAM0H,YAAYC,KAAK,SACrE,OACI,cAAC,GAAD,yBACItf,QAAS,GACTH,KAAM,CAAEozB,MAAO,YAAanzB,MAAO,QAC/B+C,GAHR,aAKI,cAAC,GAAD,CAAiB0d,QAASA,QCrEtB,YAAUi0C,GAAO,OAAOA,EAAIhuD,QAAQ,WAAY,SCT5DxR,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAOPu/D,GAAiB,SAAU1gE,GAC3B,IAAIwX,EAAWxX,EAAGwX,SAAUsP,EAAU9mB,EAAG8mB,QAAS25C,EAAMzgE,EAAGygE,IAAKE,EAAiB3gE,EAAG2gE,eAAgBj7C,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,UAAW,MAAO,mBACjJ0R,EAAW8lB,eACXopC,EAAgB/oD,WAASrP,IAAIgP,GAAU,SAAUqpD,EAAKv1D,GACtD,GAAK+d,yBAAew3C,GAEpB,OAAOC,GAAeD,EAAKv1D,EAAOm1D,MASlCM,EAAWH,EAAc/8D,SAAS6N,EAASgB,UACzChB,EAASgB,SACTkuD,EAAc,GACpB,OAAQlpD,gBAAoBy9C,KAAMl0D,GAAS,CAAE4H,MAAOk4D,EAAU1L,eAAgB,WAAa3vC,GAAO7N,WAASrP,IAAIgP,GAAU,SAAUqpD,EAAKv1D,GACpI,IAAK+d,yBAAew3C,GAChB,OAAO,KAKX,IAAIG,EAAUF,GAAeD,EAAKv1D,EAAOm1D,GACzC,OAAO9+C,uBAAak/C,EAAK,CACrB9+C,OAAQ,SACRlZ,MAAOm4D,EACPv7C,UAAWk7C,EAAe98D,SAASg9D,EAAI/xD,MAAMkB,QACzC0B,EAASgB,WAAasuD,EACpBl6C,EAAQm6C,eACR,YAIlBP,GAAet6C,UAAY,CACvB5O,SAAU6O,KAAUiD,KACpBxC,QAAST,KAAUiB,OACnBm5C,IAAKp6C,KAAUC,OACfq6C,eAAgBt6C,KAAUsf,QAAQtf,KAAUC,SAEzC,IAAIw6C,GAAiB,SAAUD,EAAKv1D,EAAO41D,GAC9C,OAAYA,GAAWL,EAAI/xD,MAAMgT,KAAO,IAAM++C,EAAI/xD,MAAMgT,KAAOxW,EAAQ,EAAI,IAAMA,EAAQ,KAE9Eo1D,MCxEXz/D,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAEPgB,GAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAgFP8+D,GAAa,SAAUryD,GAAS,OAAQ4I,gBAAoB2tC,GAAkBpkD,GAAS,GAAI6N,EAAO,CAAE+R,OAAQ,SAAUwlB,GAAa,OAAO3uB,gBAAoB0pD,GAAgBngE,GAAS,GAAIolC,SAC/L86B,GAAW/6C,UAAY,CACnB5O,SAAU6O,KAAUiD,KACpBib,cAAele,KAAU8F,UAAU,CAAC9F,KAAUiB,OAAQjB,KAAUuJ,OAEhEtnB,OAAQ+d,KAAUiB,OAClB9nB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd3V,KAAMoM,KAAUuJ,KAChB4X,OAAQnhB,KAAU6F,KAClBub,cAAephB,KAAU6F,KACzBtY,SAAUyS,KAAU6F,KACpB0M,SAAUvS,KAAUuJ,KACpB+0B,oBAAqBt+B,KAAU6F,MAEnC,IAAI3F,GAAYC,cAAW,SAAU5C,GAAS,MAAQ,CAClDq9C,eAAgB,CAAE/6C,MAAOtC,EAAMoK,QAAQ/oB,MAAM+qB,MAC7C8D,QAAS,CACLuC,WAAYzS,EAAM+C,QAAQ,GAC1B2P,YAAa1S,EAAM+C,QAAQ,GAC3BsD,aAAcrG,EAAM+C,QAAQ,OAE7B,CAAEzjB,KAAM,iBACJk+D,GAAiB,SAAUtyD,GAClC,IAAIgF,EAAWhF,EAAMgF,SAAU0D,EAAW1I,EAAM0I,SAAUiO,EAAY3W,EAAM2W,UAA4CsS,GAAfjpB,EAAMgY,QAAgBhY,EAAMipB,MAAMe,EAAehqB,EAAMgqB,aAAcwO,EAA2Bx4B,EAAMw4B,yBAA0BvC,EAAUj2B,EAAMi2B,QAASG,EAAWp2B,EAAMo2B,SAAU58B,EAASwG,EAAMxG,OAAQ+4D,EAAkBvyD,EAAMtP,SAAUO,EAAW+O,EAAM/O,SAAUynC,EAAS14B,EAAM04B,OAAQC,EAAgB34B,EAAM24B,cAAegtB,EAAO3lD,EAAM2lD,KAAMzqC,EAAUlb,EAAMkb,QAASpW,EAAW9E,EAAM8E,SAAU+X,EAAU7c,EAAM6c,QAASjF,EAAS5X,EAAM4X,OAAQhB,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,WAAY,YAAa,UAAW,OAAQ,eAAgB,2BAA4B,UAAW,WAAY,SAAU,WAAY,WAAY,SAAU,gBAAiB,OAAQ,UAAW,WAAY,UAAW,WACxxB6xD,EAAiBW,GAAmB9pD,EAAUugB,EAAKgsB,WAAWlrB,QAC9D/R,EAAUP,GAAUzX,GACpBomB,EAAQqsC,eACR7vD,EAAW8lB,eACXipC,EAAMvrC,EAAQA,EAAMurC,IAAM/uD,EAASgB,SACvC,OAAQgF,gBAAoB,OAAQzW,GAAS,CAAEwkB,UAAW8J,KAAW,cAAe9J,IAAcyR,GAAkBxR,IAChHhO,eAAmB+8C,EAAM,CACrB3tC,QAASA,EACT25C,IAAKA,EACLE,eAAgBA,GACjBnpD,GACHE,gBAAoB69C,KAAS,MAC7B79C,gBAAoB,MAAO,CAAE+N,UAAWqB,EAAQgN,SAAWjc,WAASrP,IAAIgP,GAAU,SAAUqpD,EAAKv1D,GAC7F,OAAOu1D,GAAQnpD,gBAAoBmK,KAAO,CAAEG,OAAO,EAAMF,KAAM0/C,GAAWV,GAAeD,EAAKv1D,EAAOm1D,MAAS,SAAUx+C,GACpH,OAAOoH,yBAAew3C,GAChBnpD,eAAmBmpD,EAAK,CACtB9+C,OAAQ,UACRhiB,SAAUA,EACVuI,OAAQA,EACRwL,SAAUA,EACV2tD,QAASx/C,EAAWiT,MACpBvJ,QAASk1C,EAAI/xD,MAAM6c,SAAWA,EAC9BjF,OAAQm6C,EAAI/xD,MAAM4X,QAAUA,IAE9B,YAGdsD,GACItS,eAAmBsS,EAAS,CACxBlW,SAAUA,EACV2R,UAAW,UACX6hB,yBAA0BA,EAC1BxO,aAAcA,EACdiM,QAASA,EACTG,SAAUA,EACV58B,OAAQA,EACR9I,SAAU6hE,EACVthE,SAAUA,EACVynC,OAAQA,EACRC,cAAeA,EACf7zB,SAAUA,MAG1BwtD,GAAeh7C,UAAY,CACvBtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUiD,KACpB7D,UAAWY,KAAUC,OACrBQ,QAAST,KAAUiB,OACnByY,aAAc1Z,KAAU8F,UAAU,CAAC9F,KAAUiB,OAAQjB,KAAUuJ,OAC/D2U,cAAele,KAAU8F,UAAU,CAAC9F,KAAUiB,OAAQjB,KAAUuJ,OAChEkJ,aAAczS,KAAUuJ,KACxBmV,QAAS1e,KAAU6F,KACnBxa,SAAU2U,KAAUiB,OACpB4N,MAAO7O,KAAUiB,OACjB4d,SAAU7e,KAAU6F,KAEpB5jB,OAAQ+d,KAAUiB,OAClB9nB,SAAU6mB,KAAU8F,UAAU,CAC1B9F,KAAUC,OACVD,KAAU6F,KACV7F,KAAUuJ,OAEd7vB,SAAUsmB,KAAUC,OACpBrM,KAAMoM,KAAUuJ,KAChB4X,OAAQnhB,KAAU6F,KAClBub,cAAephB,KAAU6F,KACzBuoC,KAAMpuC,KAAUrd,QAAQugB,WACxBo3C,eAAgBt6C,KAAUsf,QAAQtf,KAAUC,QAC5C0D,QAAS3D,KAAUrd,QACnBiO,UAAWoP,KAAUuJ,KACrBhc,SAAUyS,KAAU6F,KACpB0M,SAAUvS,KAAUuJ,KACpB/mB,MAAOwd,KAAU7H,OACjB42B,QAAS/uB,KAAU7H,QAEvB4iD,GAAe5hD,aAAe,CAC1BioB,eAAe,EACfgtB,KAAM/8C,gBAAoBgpD,GAAgB,MAC1C12C,QAAStS,gBAAoB+T,GAAS,OAE1C,IAAIyL,GAAoB,SAAUl3B,GACjBA,EAAG6uB,OAAgB7uB,EAAGykC,MAAqBzkC,EAAG0kC,YAA0C1kC,EAAG2kC,2BAAmD3kC,EAAG4kC,qBAA8B5kC,EAAGiF,MAAgBjF,EAAG64B,OAA0B74B,EAAG6kC,gBAAuC7kC,EAAG8kC,oBAAqC9kC,EAAGukC,cAAoBvkC,EAAGglC,SAA0EhlC,EAAGilC,wBAA8BjlC,EAAGia,KAAsDja,EAAGmlC,YAA4BnlC,EAAGolC,aAA6BplC,EAAGqlC,aAAgCrlC,EAAGslC,gBAA8BtlC,EAAGulC,WAAiBvlC,EAAGk4B,QAAsDl4B,EAAGwlC,MAAoBxlC,EAAGylC,WAAqBzlC,EAAG24B,OAAa34B,EAAG0lC,QAAmD1lC,EAAGwoD,WACp0B,OADg4B1mD,GAAO9B,EAAI,CAAC,SAAU,QAAS,cAAe,6BAA8B,uBAAwB,QAAS,SAAU,kBAAmB,sBAAuB,gBAAiB,WAAY,0BAA2B,OAAQ,cAAe,eAAgB,eAAgB,kBAAmB,aAAc,UAAW,QAAS,aAAc,SAAU,UAAW,gBAGjuCshE,GAAqB,SAAU9pD,EAAUqhB,GAChD,OAAOhhB,WAAS2J,QAAQhK,GAAUlO,QAAO,SAAU0F,EAAK4S,GACpD,OAAKyH,yBAAezH,IAGP/J,WAAS2J,QAAQI,EAAM9S,MAAM0I,UAC/B7T,MAAK,SAAUsX,GACtB,OAAOoO,yBAAepO,IAAUjY,KAAI61B,EAAQ5d,EAAMnM,MAAMi1B,WAEjD5hC,GAAe6M,EAAK,CAAC4S,EAAM9S,MAAMkB,QANjChB,IASZ,KAEQmyD,MCzOXlgE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GASPugE,GAAc,CAAEzxC,QAAS,QACzB0xC,GAAU,SAAU3hE,GACpB,IAAI8T,EAAW9T,EAAG8T,SAAU2R,EAAYzlB,EAAGylB,UAAWm8C,EAAmB5hE,EAAG4hE,iBAAkBpqD,EAAWxX,EAAGwX,SAAUiqD,EAASzhE,EAAGyhE,OAAQn8C,EAAOtlB,EAAGslB,KAAMvD,EAAS/hB,EAAG+hB,OAAQ/R,EAAQhQ,EAAGgQ,MAAO0W,EAAS1mB,EAAG0mB,OAAwBpe,GAATtI,EAAG8hB,KAAe9hB,EAAGsI,QAAQvI,EAAWC,EAAGD,SAAU4rB,EAAU3rB,EAAG2rB,QAAS9iB,EAAQ7I,EAAG6I,MAAO6c,EAAO5jB,GAAO9B,EAAI,CAAC,WAAY,YAAa,mBAAoB,WAAY,SAAU,OAAQ,SAAU,QAAS,SAAU,OAAQ,SAAU,WAAY,UAAW,UACxdiX,EAAYmO,KACZ1T,EAAW8lB,eAKf,MAAkB,WAAXzV,EAJkCrK,gBAAoBmqD,KAAQ5gE,GAAS,CAAE2C,IAAKoM,EAAOA,MAAOiH,EAAUjH,EAAO,CAAED,EAAGC,IAAUnH,MAAOA,EAAOyc,KAAMA,EAAMG,UAAW8J,KAAW,WAAY9J,GAAY3E,UAAWsyB,KAAMjxB,GAAIlhB,GAASA,GAAS,GAAIyQ,GAAW,CAAEgB,SAAU7J,KAAY6c,IAC/OhO,gBAAoB,OAAQ,CAAEoiB,MAAO2nC,EAASC,GAAc,KAAMj8C,UAAWm8C,GAAoBlqD,WAAelP,IAAIgP,GAAU,SAAUyD,GAC9K,OAAOA,GAAUvD,gBAAoBmvC,GAAW,CAAE/yC,SAAUA,EAAUmH,MAAOA,EAAO3S,OAAQA,EAAQvI,SAAUA,EAAU4rB,QAAS1Q,EAAMnM,MAAM6c,SAAWA,EAASjF,OAAQzL,EAAMnM,MAAM4X,QAAUA,SAIvMi7C,GAAQv7C,UAAY,CAChBtS,SAAUuS,KAAUC,OACpBb,UAAWY,KAAUC,OACrBs7C,iBAAkBv7C,KAAUC,OAC5B9O,SAAU6O,KAAUiD,KACpBvH,OAAQsE,KAAU3H,MAAM,CAAC,SAAU,YACnC+iD,OAAQp7C,KAAU6F,KAClB5G,KAAMe,KAAUrd,QAChBgH,MAAOqW,KAAUC,OAAOiD,WACxB7C,OAAQL,KAAU3H,MAAM,CAAC,OAAQ,QAAS,WAC1CoD,KAAMuE,KAAUC,OAEhBhe,OAAQ+d,KAAUiB,OAClBvnB,SAAUsmB,KAAUC,OACpBzd,MAAOwd,KAAUC,OACjBqF,QAAStF,KAAU3H,MAAM,CAAC,WAAY,WAAY,YAEtDijD,GAAQrqD,YAAc,UACPqqD,U,WC1DX1gE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAYP6rD,GAAgB,GAoIL8U,GAhGuB,SAAUhzD,GAC5C,IAAIyvC,EAAYzvC,EAAMyvC,UAAWj2C,EAASwG,EAAMxG,OAAQrF,EAAS6L,EAAM7L,OAAQjD,EAAK8O,EAAMzF,OAAQA,OAAgB,IAAPrJ,EAAgBgtD,GAAgBhtD,EAAI+jC,EAASj1B,EAAMi1B,OAAQjwB,EAAWhF,EAAMgF,SAAUq5C,EAAcr+C,EAAM9C,KAAMohD,EAAiBt+C,EAAM7C,QAAShM,EAAK6O,EAAMhD,KAAMygD,OAAqB,IAAPtsD,EAAgB,CAAEi/B,MAAO,KAAMnzB,MAAO,QAAW9L,EACvUF,EAAWyiC,GAAmB1zB,GAC9BxP,EAASC,eAETmU,EAAK45C,GAAmB,CACxBthD,KAAMmhD,EACNlhD,QAASmhD,IACTphD,EAAO0H,EAAG1H,KAAMqxB,EAAU3pB,EAAG2pB,QAASpxB,EAAUyH,EAAGzH,QAASqxB,EAAa5pB,EAAG4pB,WAE5E3pB,EAAK24C,GAAaC,GAAczgD,EAAO6H,EAAG7H,KAAMyhD,EAAgB55C,EAAG4pB,QACnEA,EAAU/3B,uBAAY,SAAU05B,EAAOnzB,QACzB,IAAVA,IAAoBA,EAAQ,OAChCwhD,EAAc,CAAEruB,MAAOA,EAAOnzB,MAAOA,IACrCsxB,EAAQ,KACT,CAACA,EAASkwB,IAETlpC,EAAKwoC,KAAqBlgD,EAAc0X,EAAG1X,YAAaswB,EAAW5Y,EAAG4Y,SAAUC,EAAe7Y,EAAG6Y,aAAcC,EAAkB9Y,EAAG8Y,gBAErI4kC,EAAYrrC,iBAAOrtB,GACnBib,EAAKvf,aAAgB,IAAK+3B,EAAmBxY,EAAG,GAAI09C,EAAsB19C,EAAG,GAC7EC,EAAKxf,aAAgBsE,GAAS0zB,EAAexY,EAAG,GAAI09C,EAAkB19C,EAAG,GACzEyY,EAAax3B,uBAAY,SAAUu7B,GACnCihC,GAAoB,SAAUr4D,GAC1B,IAAI3J,EAAK2J,EAAe1J,EAAK8gC,EAAgB/gC,EAAGC,GAChD,OADgE6B,GAAO9B,EAAI,CAAe,kBAAPC,EAAkBA,EAAKA,EAAK,QAGnHgiE,GAAgB,SAAUt4D,GACtB,IAAI3J,EAAK2J,EAAe1J,EAAK8gC,EAAgB/gC,EAAGC,GAChD,OADgE6B,GAAO9B,EAAI,CAAe,kBAAPC,EAAkBA,EAAKA,EAAK,UAGpH,CAAC+hE,EAAqBC,IACrBzkC,EAAah4B,uBAAY,SAAUu7B,EAAYhB,GAC/CiiC,GAAoB,SAAUr4D,GAC1B,IAAI3J,EACJ,OAAQiB,GAASA,GAAS,GAAI0I,KAAiB3J,EAAK,IAAO+gC,IAAc,EAAM/gC,OAEnFiiE,GAAgB,SAAUt4D,GACtB,IAAI3J,EACJ,OAAQiB,GAASA,GAAS,GAAI0I,KAAiB3J,EAAK,IAAO+gC,GAAchB,EAAc//B,SAE5F,CAACgiE,EAAqBC,IACrB7kC,EAAa53B,uBAAY,SAAUw7B,EAASlE,GAC5CmlC,EAAgBzjC,GAAYwC,IAC5BghC,EAAoBllC,GACpBO,EAAQ,KACT,CAAC2kC,EAAqBC,EAAiB5kC,IAE1Cld,qBAAU,WACDzX,IAAQW,EAAQ04D,EAAUlrC,WAC3BkrC,EAAUlrC,QAAUxtB,EACpB44D,EAAgB54D,OAGxB,IAAI64D,EAAcl/D,KAAIsF,EAAQy7B,GAC1Btf,EAAK09C,aAAoB5jB,EAAWt7C,EAAQi/D,EAAa,CAAEl2D,KAAMA,EAAMC,QAASA,GAAWH,EAAMixB,EAAch9B,EAAU,CACzHK,UAAW,SAAU6E,GACjB,OAAO3F,EAAwB,kBAAV2F,EACfA,EACAA,EAAM8M,SAAW,6BAA8B,UAAW,CAC5DhC,EAAoB,kBAAV9K,EACJA,EACAA,GAASA,EAAM8M,QACX9M,EAAM8M,aACN5R,OAGlB6E,EAAOyf,EAAGzf,KAAMiF,EAAMwa,EAAGxa,IAAK/E,EAAQuf,EAAGvf,MAAOD,EAAQwf,EAAGxf,MAAOE,EAAUsf,EAAGtf,QAASC,EAASqf,EAAGrf,OACxG,MAAO,CACH0O,SAAUA,EAASrB,QAAQ1S,EAAUw+C,GACrC1hB,YAAa/wB,EACb9G,KAAMA,EACNgtB,aAAc,KACd8K,iBAAkBA,EAClB73B,MAAOA,EACP83B,aAAcA,EACd9B,WAAW,EACX+B,WAAYA,EACZ/yB,IAAKA,EACL7E,OAAQA,EACRD,QAASA,EACT83B,SAAUA,EACVC,aAAcA,EACdC,gBAAiBA,EACjBnxB,KAAMA,EACNC,QAASA,EACTlM,SAAUw+C,EACV5xC,YAAaA,EACbywB,WAAYA,EACZC,QAASA,EACTC,WAAYA,EACZC,QAASA,EACTC,WAAYA,EACZt4B,MAAOA,ICjKXjE,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAqDAihE,GAAqB,SAAUtzD,GACtC,IAAIgF,EAAWhF,EAAMgF,SAAU0D,EAAW1I,EAAM0I,SAAUnO,EAASyF,EAAMzF,OAAQrJ,EAAK8O,EAAM9C,KAAMA,OAAc,IAAPhM,EAAgB,EAAIA,EAAIiM,EAAU6C,EAAM7C,QAAS3D,EAASwG,EAAMxG,OAAQi2C,EAAYzvC,EAAMyvC,UAAWx+C,EAAW+O,EAAM/O,SAAU+L,EAAOgD,EAAMhD,KAAMi4B,EAASj1B,EAAMi1B,OAAQ9gC,EAAS6L,EAAM7L,OAClS,GAAuC,IAAnCyU,IAAMG,SAAS6I,MAAMlJ,GACrB,MAAM,IAAI/S,MAAM,sEAEpB,IAAIwwC,EAAkB6sB,GAAgC,CAClDhuD,SAAUA,EACVzK,OAAQA,EACR2C,KAAMA,EACNC,QAASA,EACT3D,OAAQA,EACRi2C,UAAWA,EACXx+C,SAAUA,EACV+L,KAAMA,EACNi4B,OAAQA,EACR9gC,OAAQA,IAEZ,OAAQyU,IAAMC,cAAcijB,GAAyB,CAAE/xB,MAAO01C,GAC1D7mC,IAAMC,cAAc02B,GAAqB,CAAExlC,MAAOosC,GAC9Cv9B,IAAMC,cAAc0qD,GAAwBphE,GAAS,GAAI6N,EAAOmmC,OAE5EmtB,GAAmBh8C,UAAY,CAC3Bq1B,SAAUp1B,KAAU6F,KACpBpY,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QAAQugB,WAC5B9D,UAAWY,KAAUC,OACrBjd,OAAQgd,KAAUiB,OAClBtX,MAAOqW,KAAUC,OACjBra,QAASoa,KAAU7H,OACnBlW,OAAQ+d,KAAUkM,IAClBgsB,UAAWl4B,KAAUC,OAAOiD,WAC5BxpB,SAAUsmB,KAAUC,OACpBkwB,OAAQnwB,KAAUC,OAClBowB,YAAamF,GAAenF,YAC5B3S,OAAQ1d,KAAUC,OAAOiD,WACzBzd,KAAMua,KAAUrE,MAAM,CAClBkd,MAAO7Y,KAAUC,OACjBva,MAAOsa,KAAUC,SAErBrjB,OAAQojB,KAAUC,OAAOiD,YAE7B64C,GAAmB5iD,aAAe,CAC9BnW,OAAQ,GACR4C,QAAS,GACTH,KAAM,CAAEozB,MAAO,KAAMnzB,MAAO,QAC5Bg4B,OAAQ,KACR0X,UAAU,GAEP,IAAI4mB,GAAyB,SAAUvzD,GAC1C,IAAIgF,EAAWhF,EAAMgF,SAAU0D,EAAW1I,EAAM0I,SAAU68B,EAAavlC,EAAMulC,WAAYkK,EAAYzvC,EAAMyvC,UAAW74B,EAAO5jB,GAAOgN,EAAO,CAAC,WAAY,WAAY,aAAc,cAClL,OAAQ4I,IAAMC,cAAcD,IAAMub,SAAU,KACxCtR,uBAAa9J,WAASC,KAAKN,GAAWvW,GAASA,GAAS,GAAIu6C,GAAuB91B,IAAQ,CAAE5R,SAAUA,EAAU/T,SAAUw+C,KAC3HlK,QACoBl0C,IAAhB2O,EAAM5J,OACNyc,uBAAa0yB,KAEzBguB,GAAuBj8C,UAAY,CAC/BtS,SAAUuS,KAAUC,OACpB9O,SAAU6O,KAAUrd,QACpByc,UAAWY,KAAUC,OACrBuW,YAAaxW,KAAUrE,MAAM,CACzBkd,MAAO7Y,KAAUC,OACjBva,MAAOsa,KAAUC,SAErBthB,KAAMqhB,KAAUkM,IAChBtoB,IAAKoc,KAAUsvB,MACfvwC,OAAQihB,KAAU6F,KAClBmoB,WAAYhuB,KAAUrd,QACtBu1C,UAAWl4B,KAAUC,OACrBiX,QAASlX,KAAUuJ,MAERwyC,U,qBC/IA,IACX,gBAAiB,CACb/b,UAAW,aACX3zB,WAAY,+BACZwJ,SAAU,GACVlU,OAAQ,OACRtB,OAAQ,EACRgH,SAAU,YAEd,wCAAyC,CACrC40C,WAAY,UAEhB,qEAAsE,CAClE5+B,cAAe,QAEnB,gBAAiB,CACb8P,MAAO,IACPxrB,OAAQ,EACR6qB,UAAW,SACXnlB,SAAU,WACVqG,IAAK,OAET,kBAAmB,CACfrN,OAAQ,IACR+L,QAAS,KAEb,aAAc,CACV4zB,UAAW,aACXpqB,WAAY,OACZjU,OAAQ,OACRu6C,QAAS,OACT1vB,UAAW,OACXpgB,QAAS,YACT+vC,QAAS,IACTxrC,UAAW,OACXhM,WAAY,WACZy3C,SAAU,cAEd,iBAAkB,CACd1nB,OAAQ,QAEZ,8KAA+K,CAC3Kr0B,OAAQ,IACR+L,QAAS,IACTiwC,aAAc,kEAElB,+BAAgC,CAC5BpsC,YAAa,SAEjB,yCAA0C,CACtCqsC,cAAe,QAEnB,6BAA8B,CAC1B7uC,QAAS,YAEb,sEAAuE,CACnE4P,cAAe,QAEnB,oFAAqF,CACjFA,cAAe,OAEnB,gGAAiG,CAC7Fxd,MAAO,OACP60B,OAAQ,UACRrX,cAAe,OAEnB,gDAAiD,CAC7C5P,QAAS,YAEb,iDAAkD,CAC9CA,QAAS,YAEb,wBAAyB,CACrB7D,QAAS,eACTjF,WAAY,SACZzD,MAAO,SAEX,+CAAgD,CAC5C4C,WAAY,SACZC,YAAa,QACb4M,UAAW,SAEf,yCAA0C,CACtC7M,WAAY,QACZC,YAAa,UAEjB,mFAAoF,CAChFkM,YAAa,SAEjB,uEAAwE,CACpErM,aAAc,SAElB,mBAAoB,CAChBy4C,aAAc,iEACdE,iBAAkB,UAEtB,0BAA2B,CACvB9uC,QAAS,iCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,2DAElB,sCAAuC,CACnC5uC,QAAS,qCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,oDAElB,sCAAuC,CACnC5uC,QAAS,qCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,6CAElB,sCAAuC,CACnC5uC,QAAS,iCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,sCAElB,sCAAuC,CACnC5uC,QAAS,qCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,+BAElB,sCAAuC,CACnC5uC,QAAS,qCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,wBAElB,sCAAuC,CACnC5uC,QAAS,iCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,iBAElB,sCAAuC,CACnC5uC,QAAS,qCAEb,+BAAgC,CAC5B8uC,iBAAkB,SAClBF,aAAc,UAElB,sCAAuC,CACnC5uC,QAAS,qCAEb,+BAAgC,CAC5B8uC,iBAAkB,UAEtB,sCAAuC,CACnC9uC,QAAS,iCAEb,iDAAkD,CAC9CwC,YAAa,OAEjB,mDAAoD,CAChDA,YAAa,SAEjB,0DAA2D,CACvDrM,aAAc,OAElB,4DAA6D,CACzDA,aAAc,SAElB,iDAAkD,CAC9CqM,YAAa,OAEjB,mDAAoD,CAChDA,YAAa,SAEjB,0DAA2D,CACvDrM,aAAc,OAElB,4DAA6D,CACzDA,aAAc,SAElB,iDAAkD,CAC9CqM,YAAa,OAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,OAElB,4DAA6D,CACzDA,aAAc,UAElB,iDAAkD,CAC9CqM,YAAa,QAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,QAElB,4DAA6D,CACzDA,aAAc,UAElB,iDAAkD,CAC9CqM,YAAa,QAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,QAElB,4DAA6D,CACzDA,aAAc,UAElB,iDAAkD,CAC9CqM,YAAa,QAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,QAElB,4DAA6D,CACzDA,aAAc,UAElB,iDAAkD,CAC9CqM,YAAa,QAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,QAElB,4DAA6D,CACzDA,aAAc,UAElB,iDAAkD,CAC9CqM,YAAa,QAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,QAElB,4DAA6D,CACzDA,aAAc,UAElB,iDAAkD,CAC9CqM,YAAa,QAEjB,mDAAoD,CAChDA,YAAa,UAEjB,0DAA2D,CACvDrM,aAAc,QAElB,4DAA6D,CACzDA,aAAc,UAElB,uBAAwB,CACpBgG,QAAS,QACT+4B,SAAU,QAEd,uCAAwC,CACpCtiC,OAAQ,UAEZ,sCAAuC,CACnCA,OAAQ,cAEZ,0BAA2B,CACvBmH,gBAAiB,QAErB,wBAAyB,CACrBA,gBAAiB,WAErB,2BAA4B,CACxBA,gBAAiB,QAErB,2BAA4B,CACxBA,gBAAiB,QAErB,0BAA2B,CACvBA,gBAAiB,WAErB,yBAA0B,CACtBA,gBAAiB,QAErB,2BAA4B,CACxBA,gBAAiB,QAErB,6BAA8B,CAC1B3H,MAAO,QAEX,2BAA4B,CACxBA,MAAO,WAEX,8BAA+B,CAC3BA,MAAO,QAEX,8BAA+B,CAC3BA,MAAO,QAEX,6BAA8B,CAC1BA,MAAO,WAEX,4BAA6B,CACzBA,MAAO,QAEX,8BAA+B,CAC3BA,MAAO,QAEX,4BAA6B,CACzBwM,WAAY,mCAEhB,gCAAiC,CAC7BA,WAAY,kCAEhB,4BAA6B,CACzBwJ,SAAU,UAEd,4BAA6B,CACzBA,SAAU,SAEd,2BAA4B,CACxBA,SAAU,SAEd,+BAAgC,CAC5BpS,UAAW,MACXkN,UAAW,WAEf,8BAA+B,CAC3BA,UAAW,UAEf,+BAAgC,CAC5BA,UAAW,WAEf,6BAA8B,CAC1BA,UAAW,SAEf,8BAA+B,CAC3B9Q,MAAO,kBACP4N,QAAS,yBACT+uC,UAAW,SACXrvB,KAAM,GACN9P,cAAe,OACfhW,SAAU,WACVsG,MAAO,IAEX,wDAAyD,CACrDqQ,MAAO,OACPvQ,QAAS,KACT7D,QAAS,SAEb,0DAA2D,CACvDhC,WAAY,OACZG,OAAQ,OACR2sB,OAAQ,UACR9qB,QAAS,eACTkuC,MAAO,OACPn2C,OAAQ,GACRyK,QAAS,UACTlL,MAAO,IAEX,kEAAmE,CAC/D42C,MAAO,OACPn2C,OAAQ,QAEZ,oFAAqF,CACjFu6C,QAAS,QAEb,gGAAiG,CAC7FtyC,QAAS,QAEb,4kBAA6kB,CACzkB/J,MAAO,QAEX,+hDAAgiD,CAC5hDoW,KAAM,QAEV,+hDAAgiD,CAC5hDwmC,OAAQ,QAEZ,2BAA4B,CACxB,sGAAuG,CACnG58C,MAAO,QAEX,mQAAoQ,CAChQoW,KAAM,QAEV,mQAAoQ,CAChQwmC,OAAQ,SAGhB,WAAY,CACRzc,UAAW,cAEf,aAAc,CACVA,UAAW,cAEf,sBAAuB,CACnBp2B,QAAS,QAEb,gDAAiD,CAC7CqyC,WAAY,UAEhB,uBAAwB,CACpB50C,SAAU,WACV9C,UAAW,mBACXiD,gBAAiB,OACjBO,OAAQ,iBACR0nB,UAAW,mBACX5vB,MAAO,OACPuM,QAAS,WACTzH,WAAY,SACZqD,OAAQ,GAEZ,yBAA0B,CACtB0sB,OAAQ,UACR4D,eAAgB,OAChB1iB,WAAY,QAEhB,+BAAgC,CAC5BrR,UAAW,qBAEf,uBAAwB,CACpBqF,QAAS,eACTq2B,cAAe,UAEnB,6BAA8B,CAC1BjiB,MAAO,OACPvQ,QAAS,KACT7D,QAAS,SAEb,sBAAuB,CACnBqM,KAAM,OACNwmC,OAAQ,OACRC,cAAe,QACfC,eAAgB,QAChB3mC,YAAa,KAEjB,4BAA6B,CACzBC,KAAM,OACNwmC,OAAQ,OACRG,iBAAkB,GAClB5mC,YAAa,KAEjB,iDAAkD,CAC9CC,KAAM,QAEV,qBAAsB,CAClBA,KAAM,QAEV,oBAAqB,CACjB4mC,SAAU,WAEd,iDAAkD,CAC9C7mC,YAAa,KAEjB,2BAA4B,CACxB1J,QAAS,IAEb,wCAAyC,CACrC1C,QAAS,QAEb,kDAAmD,CAC/CA,QAAS,UAEb,mDAAoD,CAChDA,QAAS,QAEb,yBAA0B,CACtBiM,SAAU,OAEd,yBAA0B,CACtBA,SAAU,SAEd,yBAA0B,CACtBA,SAAU,UAEd,yBAA0B,CACtBA,SAAU,OAEd,yBAA0B,CACtBA,SAAU,UAEd,yBAA0B,CACtBA,SAAU,UAEd,wBAAyB,CACrByiB,eAAgB,aAEpB,iCAAkC,CAC9BwkB,WAAY,iBACZlmB,aAAc,EACdlvB,UAAW,EACXuI,YAAa,IAEjB,oDAAqD,CACjDzI,gBAAiB,UACjBoG,aAAc,GAElB,0BAA2B,CACvBjJ,WAAY,WACZiyB,aAAc,EACdlvB,UAAW,EACX0E,QAAS,YAEb,2BAA4B,CACxByJ,SAAU,MACVzJ,QAAS,WAEb,oCAAqC,CACjC5E,gBAAiB,UACjB3H,MAAO,UACP+E,SAAU,WAEd,0BAA2B,CACvB+9B,SAAU,QAEd,sBAAuB,CACnB9iC,MAAO,OACP+J,QAAS,eACTkuC,MAAO,OACPjiC,SAAU,GACV1I,WAAY,IACZxL,OAAQ,GACR0F,SAAU,WACV44B,cAAe,UAEnB,4BAA6B,CACzBvL,OAAQ,UACR9qB,QAAS,eACTjI,OAAQ,OACRsO,YAAa,EACbrM,aAAc,EACdyD,SAAU,WACVnG,MAAO,QAEX,oCAAqC,CACjC0I,QAAS,eACTgM,WAAY,QAEhB,8BAA+B,CAC3BpO,gBAAiB,OACjBoC,QAAS,OACTlB,SAAU,OACV0D,QAAS,UACT/E,SAAU,WACV1C,WAAY,UAEhB,8CAA+C,CAC3C+vB,OAAQ,UACR9qB,QAAS,QACTuiB,cAAe,EACfnc,WAAY,GAEhB,mDAAoD,CAChDnQ,MAAO,OACPmI,OAAQ,GAEZ,4DAA6D,CACzDiO,KAAM,QAEV,8DAA+D,CAC3DwmC,OAAQ,QAEZ,qDAAsD,CAClD7yC,QAAS,QACTlC,WAAY,EACZgG,IAAK,OACL1F,OAAQ,GAEZ,sDAAuD,CACnD9G,MAAO,IAEX,wFAAyF,CACrFkL,QAAS,WAEb,gGAAiG,CAC7FuB,MAAO,GAEX,8CAA+C,CAC3CvB,QAAS,WAEb,2CAA4C,CACxCzK,OAAQ,GACRT,MAAO,GACPkL,QAAS,WAEb,+CAAgD,CAC5CA,QAAS,UACTlL,MAAO,KAEX,4CAA6C,CACzC6G,OAAQ,wBACR+vC,MAAO,OACPn2C,OAAQ,GACRtB,OAAQ,EACR+L,QAAS,EACTlL,MAAO,IAEX,qEAAsE,CAClEmG,SAAU,WACVK,WAAY,EACZiG,MAAO,IACPD,IAAK,MACLxM,MAAO,IAEX,4gBAA6gB,CACzgBuM,QAAS,oBAEb,gCAAiC,CAC7BvM,MAAO,IAEX,gHAAiH,CAC7GuM,QAAS,YAEb,gJAAiJ,CAC7IA,QAAS,eAEb,gJAAiJ,CAC7IA,QAAS,eAEb,gJAAiJ,CAC7IA,QAAS,eAEb,gJAAiJ,CAC7IA,QAAS,eAEb,gJAAiJ,CAC7IA,QAAS,eAEb,gJAAiJ,CAC7IA,QAAS,eAEb,wEAAyE,CACrEoI,SAAU,OAEd,wEAAyE,CACrEA,SAAU,SAEd,wEAAyE,CACrEA,SAAU,UAEd,wEAAyE,CACrEA,SAAU,OAEd,wEAAyE,CACrEA,SAAU,UAEd,wEAAyE,CACrEA,SAAU,UAEd,8BAA+B,CAC3B3U,MAAO,KAEX,4GAA6G,CACzGuM,QAAS,gBAEb,gJAAiJ,CAC7IA,QAAS,WAEb,wJAAyJ,CACrJA,QAAS,eAEb,wEAAyE,CACrEpB,WAAY,mCAEhB,4EAA6E,CACzEA,WAAY,kCAEhB,8BAA+B,CAC3BnL,MAAO,IAEX,4GAA6G,CACzGuM,QAAS,YAEb,gJAAiJ,CAC7IA,QAAS,WAEb,gJAAiJ,CAC7IA,QAAS,WAEb,8IAA+I,CAC3IA,QAAS,UAEb,wEAAyE,CACrEoI,SAAU,IAEd,wEAAyE,CACrEA,SAAU,IAEd,uEAAwE,CACpEA,SAAU,IAEd,0DAA2D,CACvDrO,gBAAiB,QAErB,qDAAsD,CAClDA,gBAAiB,QAErB,sBAAuB,CACnBO,OAAQ,iBACRi4B,UAAW,aACX3zB,WAAY,qDACZD,QAAS,GAEb,kCAAmC,CAC/BrI,YAAa,IAEjB,uCAAwC,CACpCgE,OAAQ,yBAEZ,yCAA0C,CACtCA,OAAQ,wBACR0nB,UAAW,6BAEf,8DAA+D,CAC3DstB,YAAa,QAEjB,gEAAiE,CAC7DA,YAAa,QAEjB,+HAAgI,CAC5HA,YAAa,QAEjB,8CAA+C,CAC3CC,UAAW,GAEf,+BAAgC,CAC5BvvC,QAAS,eACTmI,WAAY,OACZ7R,YAAa,GAEjB,wCAAyC,CACrC6F,QAAS,OACT7B,OAAQ,iBACR8N,SAAU,GACVlU,OAAQ,GACRtB,OAAQ,EACR+L,QAAS,UACTlL,MAAO,KAEX,oCAAqC,CACjC0I,QAAS,eACT+4B,SAAU,IACVr7B,UAAW,SACX5C,aAAc,WACdu7B,cAAe,OAEnB,0CAA2C,CACvCx4B,YAAa,iBACbgG,QAAS,SACT3J,WAAY,GACZF,aAAc,GAElB,2CAA4C,CACxC6J,QAAS,WACT3J,WAAY,GAEhB,4FAA6F,CACzF8F,QAAS,QAEb,mDAAoD,CAChDA,QAAS,gBAEb,qDAAsD,CAClDnC,YAAa,EACbgG,QAAS,SACT7J,aAAc,GAElB,+CAAgD,CAC5C6J,QAAS,iBAEb,kDAAmD,CAC/CA,QAAS,oBAEb,gDAAiD,CAC7CA,QAAS,kBAEb,aAAc,CACV5N,MAAO,QAEX,wBAAyB,CACrBkI,OAAQ,mBC3xBZntB,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YCT5BN,GAAsC,WAStC,OARAA,GAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BO,GAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAWPolB,GAAYC,cDnBA,SAAU5C,GAAS,MAAQ,CACvC5T,MAAO,CACH0d,SAAU,YAEd,UAAWzsB,GAASA,GAAS,GAAIqiE,IAAsB,CAAE,sBAAuB,CACxE,eAAgB,CACZpnC,SAAU,OACVxJ,WAAY,qBACZD,QAAS,WACT5E,gBAAwC,SAAvBjK,EAAMoK,QAAQlvB,KACzB,4BACA,sBACN,kBAAmB,CACf+uB,gBAAwC,SAAvBjK,EAAMoK,QAAQlvB,KACzB,yBACA,mBACNkpB,OAAQ,GAEZ,YAAa,CACTwrB,KAAM,EACNxf,MAAO,EACPuf,OAAQ,EACRvrB,OAAQ,EACR8L,QAAS,KACTpG,SAAU,WACVpD,WAAY,0DACZuD,gBAAwC,SAAvBjK,EAAMoK,QAAQlvB,KACzB,2BACA,sBAEV,WAAY,CACR00C,KAAM,EACNxf,MAAO,EACPuf,OAAQ,EACRvrB,OAAQ,EACR8L,QAAS,KACTpG,SAAU,WACV9C,UAAW,YACXN,WAAY,iDACZuD,gBAAiBjK,EAAMoK,QAAQc,QAAQkB,MAE3C,uBAAwB,CACpBitB,aAAc,QAElB,WAAY,CACRzpB,WAAY,KAEhB,OAAQ,CACJ9M,OAAQ,kBACR8M,WAAY,KAEhB,OAAQ,CACJ9M,OAAQ,kBACR8M,WAAY,KAEhB,OAAQ,CACJ9M,OAAQ,kBACR8M,WAAY,KAEhB,MAAO,CACHtN,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,OAAQ,CACJitB,aAAc,QAElB,sCAAuC,CACnC/gB,SAAU,SACVxO,SAAU,WACVqG,IAAK,UACL3J,YAAa,UAEjB,iBAAkB,CACdQ,UAAW,cAGnB,yBAA0B,CACtBiD,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,OAE9C,yBAA0B,CACtBa,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,OAE9C,wBAAyB,CACrBtG,OAAQ,WACR0H,OAAQ,EACRqE,QAAS,EACT,oBAAqB,CACjBvM,MAAOtC,EAAMoK,QAAQW,KAAKG,SAE9B,eAAgB,CACZg0C,OAAQl/C,EAAMoK,QAAQW,KAAKG,SAE/B,aAAc,CACVwN,KAAM1Y,EAAMoK,QAAQW,KAAKG,SAE7B,8BAA+B,CAC3B5I,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,0BAA2B,CACvB9J,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,gCAAiC,CAC7B9J,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,+BAAgC,CAC5B9J,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,iCAAkC,CAC9B9J,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,2BAA4B,CACxB9J,MAAOtC,EAAMoK,QAAQc,QAAQkB,MAEjC,0BAA2B,CACvBsM,KAAM1Y,EAAMoK,QAAQc,QAAQkB,MAEhC,8BAA+B,CAC3BsM,KAAM1Y,EAAMoK,QAAQc,QAAQkB,MAEhC,4BAA6B,CACzB8yC,OAAQl/C,EAAMoK,QAAQc,QAAQkB,MAElC,gCAAiC,CAC7B8yC,OAAQl/C,EAAMoK,QAAQc,QAAQkB,MAElC,sCAAuC,CACnC8yC,OAAQl/C,EAAMoK,QAAQc,QAAQkB,MAElC,8CAA+C,CAC3CnC,gBAAiBjK,EAAMoK,QAAQC,WAAWjB,MAC1Co2C,YAAax/C,EAAMoK,QAAQC,WAAWjB,OAE1C,uDAAwD,CACpDiB,WAAY,OACZI,OAAQ,IAEZ,qBAAsB,CAClBiI,YAAa,EACbpQ,MAAOtC,EAAMoK,QAAQW,KAAKG,SAE9B,4BAA6B,CACzBV,OAAQ,UCzHO,CAAElrB,KAAM,oBACvCqgE,GAAgB,SAAUz0D,GAC1B,IAAI9O,EAAK8O,EAAMtL,QAASA,OAAiB,IAAPxD,EAAgB,GAAKA,EACvDC,EAAK6O,EAAMkb,QACXA,OAAiB,IAAP/pB,GAAuBA,EAAIyT,EAAK5E,EAAMwpB,UAAWA,OAAmB,IAAP5kB,GAAuBA,EAAqC8vD,GAAf10D,EAAMgY,QAA0BhY,EAAM00D,gBAAgBnrC,EAAavpB,EAAMupB,WAAYroB,EAAQlB,EAAMkB,MAAO+zB,EAASj1B,EAAMi1B,OAAQhkC,EAAW+O,EAAM/O,SAAU4rB,EAAU7c,EAAM6c,QAAShY,EAAK7E,EAAM4X,OAAQA,OAAgB,IAAP/S,EAAgB,QAAUA,EAAI+R,EAAO5jB,GAAOgN,EAAO,CAAC,UAAW,UAAW,YAAa,UAAW,iBAAkB,aAAc,QAAS,SAAU,WAAY,UAAW,WAC7egY,EAAUP,GAAUzX,GACpB20D,EAAgB/sC,mBAChBgtC,EAAShtC,mBACTitC,EAASjtC,mBACTrS,EAAKwkB,GAAS5nC,GAAS,CAAE8iC,OAAQA,GAAUre,IAAQnd,EAAK8b,EAAG9b,GAAIghB,EAAalF,EAAGkF,WAAYjF,EAAKD,EAAGpJ,MAAOpS,EAAQyb,EAAGzb,MAAO29B,EAAWliB,EAAGkiB,SAAUjiB,EAAKF,EAAGza,KAAMsuB,EAAU3T,EAAG2T,QAASjzB,EAAQsf,EAAGtf,MACnM2+D,EAAkBltC,iBAAO7tB,GAEzBg7D,EAAer+D,sBAAY46B,MAAS,WACpC,IAAIv3B,EAAqC,gBAA7B86D,EAAO9sC,QAAQitC,UACrB,GACAH,EAAO9sC,QAAQitC,UACjBF,EAAgB/sC,UAAYhuB,IAC5B+6D,EAAgB/sC,QAAUhuB,EAC1B29B,EAAS39B,MAEd,KAAM,CAAC29B,IAyBV,OAxBArmB,qBAAU,WAQN,OAPAsjD,EAAc5sC,QAAU,IAAIktC,KAAML,EAAO7sC,QAAS51B,GAAS,CAAE+iE,QAAS,CAAEh6C,QAASA,EAASi6C,UAAW,CAAEC,aAAa,IAAWtgD,MAAO,QAAUpgB,IAC5IggE,GACAA,EAAeC,EAAc5sC,SAEjC4sC,EAAc5sC,QAAQstC,YAAYV,EAAc5sC,QAAQotC,UAAUG,QAAQv7D,IAC1E86D,EAAO9sC,QAAU6sC,EAAO7sC,QAAQwtC,cAAc,cAC9CZ,EAAc5sC,QAAQytC,GAAG,cAAeT,GACjC,WACHJ,EAAc5sC,QAAQ0tC,IAAI,cAAeV,GACzCA,EAAa7uD,SACbyuD,EAAc5sC,QAAU,QAG7B,IACH1W,qBAAU,WACN,GAAIyjD,EAAgB/sC,UAAYhuB,EAAO,CACnC,IAAI27D,EAAYf,EAAc5sC,QAAQ4tC,eACtChB,EAAc5sC,QAAQstC,YAAYV,EAAc5sC,QAAQotC,UAAUG,QAAQv7D,IACtE27D,GAAaf,EAAc5sC,QAAQ6tC,YACnCjB,EAAc5sC,QAAQ8tC,aAAaH,MAG5C,CAAC37D,IACI6O,IAAMC,cAAc8uC,KAAa,CAAExhD,SAAUizB,IAAWjzB,GAAQqzB,UAAWA,EAAW7S,UAAW,qBAAsBiB,OAAQA,GACzH,KAAV1W,IAA0B,IAAVA,GAAoB0H,IAAMC,cAAc+uC,KAAY,CAAErZ,QAAQ,EAAMsZ,QAASp+C,EAAIkd,UAAWqB,EAAQ9W,OAChH0H,IAAMC,cAAc8uB,GAAY,CAAEz2B,MAAOA,EAAO+zB,OAAQA,EAAQhkC,SAAUA,EAAUwpB,WAAYA,KACpG7R,IAAMC,cAAc,MAAO,CAAE,cAAe,QAAS6W,IAAKk1C,EAAQj+C,UAAWkG,IAC7EjU,IAAMC,cAAco+C,KAAgB,CAAE9wD,QAASA,EAAOwgB,UAAaxgB,EAAQ,2BAA6B,IACpGyS,IAAMC,cAAc4zB,GAAiB,CAAEtmC,MAAOA,EAAOozB,WAAYA,EAAYH,QAASA,OAElGqrC,GAAcn9C,UAAY,CACtBpW,MAAOqW,KAAUC,OACjB9iB,QAAS6iB,KAAUiB,OACnByc,OAAQ1d,KAAUC,OAClBgS,UAAWjS,KAAU6F,KACrBs3C,eAAgBn9C,KAAUuJ,MAEf2zC,UClFTh9C,GAAYC,aAAW,CACzBuF,KAAM,CAAEkE,QAAS,eAAgBlC,UAAW,MAAOM,OAAQ,GAC3DyF,QAAS,CAAErB,QAAS,EAAG,eAAgB,CAAEA,QAAS,IAClDsH,IAAK,CACDxS,MAAO,UACPwH,SAAU,UACVi6B,SAAU,OACV4H,UAAW,UAkBJgU,GAdyB,SAAC,GAAgB,IAAdt8D,EAAa,EAAbA,OACjCwe,EAAUP,KAEhB,OAAKje,EAGD,cAAC4xB,GAAA,EAAD,CAAMzU,UAAWqB,EAAQiF,KAAzB,SACI,cAACyjB,GAAA,EAAD,CAAa/pB,UAAWqB,EAAQgN,QAAhC,SACI,qBAAKhP,IAAKxc,EAAO+S,MAAOwN,IAAI,GAAGpD,UAAWqB,EAAQiT,UAL1C,MCLX3I,GAAS,CAClBklC,MAAO,CAAE/uC,MAAO,OAChBA,MAAO,CAAEA,MAAO,OAChBS,OAAQ,CAAET,MAAO,OACjB24C,MAAO,CAAE34C,MAAO,OAChBs9C,eAAgB,CAAE50C,QAAS,gBAC3B60C,gBAAiB,CAAE70C,QAAS,eAAgB9F,WAAY,KAGtD5D,GAAYC,aAAW4K,IAoFd2zC,GAlFwB,SAAAj2D,GACnC,IAAMgY,EAAUP,KAChB,OACI,cAAC,GAAD,2BAAYzX,GAAZ,aACI,eAAC,GAAD,WACI,eAAC,GAAD,CAASkB,MAAM,gCAAf,UACI,cAAC,GAAD,CACIipB,WAAS,EACT8K,OAAO,QACPzL,WAAS,EACTM,SAAUza,OAEd,cAAC,GAAD,CACI4lB,OAAO,YACPzL,WAAS,EACTM,SAAUza,UAGlB,eAAC,GAAD,CAASnO,MAAM,kCAAkC8R,KAAK,UAAtD,UACI,cAAC,GAAD,CAAWiiB,OAAO,YAAYnL,SAAUza,OACxC,cAAC,GAAD,CACI4lB,OAAO,QACPnL,SAAUza,KACVsH,UAAWqB,EAAQwvC,MACnB/rB,WAAY,CACRy6B,eACI,cAACh6B,GAAA,EAAD,CAAgBtd,SAAS,QAAzB,uBAMZ,cAAC,GAAD,CACIqW,OAAO,QACPnL,SAAUza,KACVsH,UAAWqB,EAAQS,MACnBwkB,cAAejlB,EAAQ+9C,eACvBt6B,WAAY,CACRK,aACI,cAACI,GAAA,EAAD,CAAgBtd,SAAS,QAAzB,mBAMZ,cAAC,GAAD,CACIqW,OAAO,SACPnL,SAAUza,KACVsH,UAAWqB,EAAQkB,OACnB+jB,cAAejlB,EAAQg+C,gBACvBv6B,WAAY,CACRK,aACI,cAACI,GAAA,EAAD,CAAgBtd,SAAS,QAAzB,mBAMZ,cAAC,GAAD,CACIqW,OAAO,cACPwa,UAAU,aACVra,YAAU,EAHd,SAKI,cAAC,GAAD,CAAaH,OAAO,WAExB,cAAC,GAAD,CACIA,OAAO,QACPnL,SAAUza,KACVsH,UAAWqB,EAAQo5C,WAG3B,cAAC,GAAD,CACIlwD,MAAM,sCACN8R,KAAK,cAFT,SAII,cAAC,GAAD,CAAeiiB,OAAO,cAAc/zB,MAAM,cCtExDi1D,GAAsC,SAAC,GAAD,IAAG38D,EAAH,EAAGA,OAAH,OACxCA,EAAS,4CAAeA,EAAOi2C,aAAoB,MAEjDh4B,GAAYC,aAAW,2BACtBwP,IADqB,IAExBmzB,QAAS,CACLH,SAAU,OACV/9B,SAAU,SACVF,aAAc,WACdC,WAAY,UAEhB61C,IAAK,CACD7X,SAAU,OACV/4B,QAAS,YA4HXq5B,GAAmB,CAACnrC,MCrKX,IACXpP,KAAMyxD,GACN7mD,OAAQorD,GACRlrD,KD0C+B,SAAA/K,GAC/B,IAAMgY,EAAUP,KAChB,OACI,cAAC,GAAD,2BAAUzX,GAAV,IAAiBwS,MAAO,cAAC,GAAD,IAAxB,SACI,eAAC,GAAD,WACI,eAAC,GAAD,CACItR,MAAM,gCACN4xD,iBAAkB96C,EAAQ+5C,IAF9B,UAII,cAAC,GAAD,IACA,cAAC,GAAD,CACI98B,OAAO,QACPzL,WAAS,EACTM,SAAU0wB,KAEd,cAAC,GAAD,CACIvlB,OAAO,YACPzL,WAAS,EACTM,SAAU0wB,QAGlB,eAAC,GAAD,CACIt5C,MAAM,kCACN8R,KAAK,UACL8/C,iBAAkB96C,EAAQ+5C,IAH9B,UAKI,cAAC,GAAD,CAAW98B,OAAO,YAAYnL,SAAU0wB,KACxC,cAAC,GAAD,CACIvlB,OAAO,QACPte,UAAWqB,EAAQwvC,MACnB/rB,WAAY,CACRy6B,eACI,cAACh6B,GAAA,EAAD,CAAgBtd,SAAS,QAAzB,qBAKRkL,SAAU0wB,KAEd,cAAC,GAAD,CACIvlB,OAAO,QACPte,UAAWqB,EAAQS,MACnBwkB,cAAejlB,EAAQ+9C,eACvBt6B,WAAY,CACRK,aACI,cAACI,GAAA,EAAD,CAAgBtd,SAAS,QAAzB,iBAKRkL,SAAU0wB,KAEd,cAAC,GAAD,CACIvlB,OAAO,SACPte,UAAWqB,EAAQkB,OACnB+jB,cAAejlB,EAAQg+C,gBACvBv6B,WAAY,CACRK,aACI,cAACI,GAAA,EAAD,CAAgBtd,SAAS,QAAzB,iBAKRkL,SAAU0wB,KAEd,cAAC,GAAD,CACIvlB,OAAO,cACPwa,UAAU,aACV3lB,SAAU0wB,GAHd,SAKI,cAAC,GAAD,CAAavlB,OAAO,WAExB,cAAC,GAAD,CACIA,OAAO,QACPte,UAAWqB,EAAQo5C,MACnBtnC,SAAU0wB,KAEd,cAAC,GAAD,CACIvlB,OAAO,QACPte,UAAWqB,EAAQo5C,MACnBtnC,SAAU0wB,QAGlB,cAAC,GAAD,CACIt5C,MAAM,sCACN8R,KAAK,cACL8/C,iBAAkB96C,EAAQ+5C,IAH9B,SAKI,cAAC,GAAD,CACI98B,OAAO,cACP/zB,MAAM,GACN4oB,SAAU0wB,OAGlB,cAAC,GAAD,CAASt5C,MAAM,kCAAkC8R,KAAK,UAAtD,SACI,cAAC,GAAD,CACIy8B,UAAU,UACVt7C,OAAO,aACPw4C,UAAU,EACVpH,WAAY,cAAC,GAAD,IACZ/b,WAAS,EALb,SAOI,eAAC,GAAD,WACI,cAAC,GAAD,CAAWyL,OAAO,SAClB,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CACIA,OAAO,UACPsU,cAAevxB,EAAQqiC,UAE3B,cAAC,GAAD,CAAWplB,OAAO,WAClB,cAAC,GAAD,kBCxJxBze,KAAM4/C,M,gCCEJ3+C,GAAYC,aAAW,CACzBlB,KAAM,CAAE2E,aAAc,SACtB2xB,KAAM,CACF3rB,QAAS,cACTuC,WAAY,YA0BL2yC,GAtByC,SAAC,GAAgB,IAAd78D,EAAa,EAAbA,OACjD2O,EAAYmO,KACZ0B,EAAUP,KAChB,OAAOje,EACH,eAAC,KAAD,CACI8e,KAAK,QACLlB,MAAM,UACNpF,UAAWsyB,KACXjxB,GAAI,CACAzP,SAAU,YACVwH,OAAQlU,qBAAU,CACdqD,OAAQtD,KAAKC,UAAU,CAAEm6D,YAAa73D,EAAOC,QAGrDkd,UAAWqB,EAAQ80B,KAVvB,UAYI,cAAC,GAASt2B,KAAV,CAAeG,UAAWqB,EAAQxB,OACjCrO,EAAU,2CAEf,MCrBFsP,GAAYC,aAAW,CACzBuF,KAAM,CACFgC,UAAW,OAEfq3C,MAAO,CACHp9C,OAAQ,KAEZ1G,MAAO,CACHkxB,cAAe,SAEnB6yB,aAAc,CACVp1C,QAAS,OACTE,eAAgB,kBAIlBm1C,GAAmB,SAAAx2D,GACrB,IAAMgY,EAAUP,GAAUzX,GADI,EAER2uB,KAAdz4B,EAFsB,EAEtBA,KAAMiF,EAFgB,EAEhBA,IACd,OAAOA,EACH,cAACstD,GAAA,EAAD,CAAMtlC,WAAS,EAACtL,QAAS,EAAGlB,UAAWqB,EAAQiF,KAA/C,SACK9hB,EAAIzB,KAAI,SAAAD,GAAE,OACP,cAACgvD,GAAA,EAAD,CAAeC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAG8F,GAAI,EAAG+H,GAAI,EAAGt8D,MAAI,EAAvD,SACI,eAACixB,GAAA,EAAD,WACI,cAACsrC,GAAA,EAAD,CACInqD,MAAK,uCAAkCrW,EAAKuD,GAAIrF,KAA3C,WACLuiB,UAAWqB,EAAQs+C,QAEvB,cAAC51B,GAAA,EAAD,CAAa/pB,UAAWqB,EAAQxF,MAAhC,SACI,cAAC0K,GAAA,EAAD,CACIL,QAAQ,KACR7K,UAAU,KACVw1B,MAAM,SAHV,SAKK/lB,KAAWC,SAASxrB,EAAKuD,GAAIrF,UAGtC,eAACk2B,GAAA,EAAD,CACItS,QAAS,CAAEH,QAASG,EAAQu+C,cADhC,UAGI,cAAC,GAAD,CAAuB/8D,OAAQtD,EAAKuD,KACpC,cAAC,GAAD,CACIuL,SAAS,cACTxL,OAAQtD,EAAKuD,YArBlBA,QA4BnB,MAgBOk9D,GAbqB,SAAA32D,GAAK,OACrC,cAAC,GAAD,2BACQA,GADR,IAEIhD,KAAM,CAAEozB,MAAO,OAAQnzB,MAAO,OAC9BE,QAAS,GACTooC,YAAY,EACZvzB,UAAU,MACVwtB,SAAS,EANb,SAQI,cAAC,GAAD,QCzEF/nB,GAAYC,aAAW,CACzBuF,KAAM,CAAExE,MAAO,GAAIyhC,SAAU,GAAI4H,UAAW,MAUjC8U,GAPiC,SAAC,GAAgB,IAAdp9D,EAAa,EAAbA,OACzCwe,EAAUP,KAChB,OAAOje,EACH,qBAAKwc,IAAKxc,EAAOo3D,UAAWj6C,UAAWqB,EAAQiF,KAAMlD,IAAI,KACzD,MCRF88C,GAA2C,SAAC,GAAD,IAAGr9D,EAAH,EAAGA,OAAH,OAC7CA,EACI,cAAC,KAAD,CAAM6Z,GAAE,mBAAc7Z,EAAOC,IAA7B,SAAoCD,EAAOi2C,YAC3C,MAERonB,GAAgBnmD,aAAe,CAC3BukB,OAAQ,KACR/zB,MAAO,aAGI21D,UCGTC,GAA0C,SAAC,GAAgB,IAAdt9D,EAAa,EAAbA,OACzC2O,EAAYmO,KAClB,OAAO9c,EACH,iCACK2O,EAAU,4BAA6B,CAAEqZ,YAAa,IAD3D,KAEKhoB,EAAOpF,KAFZ,OAIA,MCrBO,IACX6L,KAAM02D,GACN5rD,KDsBgC,SAAA/K,GAAK,OACrC,cAAC,GAAD,yBAAMwS,MAAO,cAAC,GAAD,KAAuBxS,GAApC,aACI,eAAC,GAAD,WACI,cAAC,GAAD,CAAWi1B,OAAO,SAClB,cAAC,GAAD,CACIwa,UAAU,WACVt7C,OAAO,cACP+M,MAAM,uCACN/D,QAAS,GACTqsB,WAAS,EALb,SAOI,eAAC,GAAD,WACI,cAAC,GAAD,IACA,cAAC,GAAD,CAAiByL,OAAO,cACxB,cAAC,GAAD,CACIA,OAAO,QACPvgC,QAAS,CAAEs2B,MAAO,WAAY6lB,SAAU,SAE5C,cAAC,GAAD,CACI5b,OAAO,QACPvgC,QAAS,CAAEqiE,sBAAuB,KAEtC,cAAC,GAAD,CACI9hC,OAAO,SACPvgC,QAAS,CAAEqiE,sBAAuB,KAEtC,cAAC,GAAD,CAAa9hC,OAAO,UACpB,cAAC,GAAD,CAAaA,OAAO,UACpB,cAAC,GAAD,gBCjDhBze,KAAMwgD,M,WCIJv/C,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnC0B,KAAM,CAAEyJ,SAAUnL,EAAM+C,QAAQ,IAChCwI,cAAe,CACX,MAAO,CACHmH,YAAa1S,EAAM+C,QAAQ,GAC3B2D,WAAY,wDAGpBy7C,gBAAiB,CACb,MAAO,CACHzvC,YAAa1S,EAAM+C,QAAQ,GAC3B2D,WAAY,4DAgET07C,GAlDY,SAAC,GAQrB,IAPHC,EAOE,EAPFA,aACA92C,EAME,EANFA,cACA4hB,EAKE,EALFA,OACA7tC,EAIE,EAJFA,KACAoiB,EAGE,EAHFA,KACA9N,EAEE,EAFFA,SACAuY,EACE,EADFA,MAEM9Y,EAAYmO,KACZ0B,EAAUP,KAEV2/C,EACF,eAAC52C,GAAA,EAAD,CAAUS,MAAOA,EAAOiI,QAAM,EAACxS,QAASygD,EAAxC,UACI,cAACx2C,GAAA,EAAD,CAAchK,UAAWqB,EAAQxB,KAAjC,SACKyrB,EAAS,cAAC,KAAD,IAAiBzrB,IAE/B,cAAC0G,GAAA,EAAD,CAAYL,QAAQ,UAAUzF,MAAM,gBAApC,SACKjP,EAAU/T,QAKvB,OACI,eAAC,WAAD,WACKisB,GAAiB4hB,EACdm1B,EAEA,cAAClgD,GAAA,EAAD,CAAS1E,MAAOrK,EAAU/T,GAAOysB,UAAU,QAA3C,SACKu2C,IAGT,cAACC,GAAA,EAAD,CAAUp8C,GAAIgnB,EAAQua,QAAQ,OAAO8a,eAAa,EAAlD,SACI,cAAC,KAAD,CACIr2C,MAAOA,EACPjP,UAAU,MACVo/B,gBAAc,EACdz6B,UACI0J,EACMrI,EAAQqI,cACRrI,EAAQi/C,gBAPtB,SAUKvuD,UC6ENsR,GArIa,SAAC,GAA4C,IAA1C+D,EAAyC,EAAzCA,YAAavU,EAA4B,EAA5BA,OAA4B,IAApByX,aAAoB,WAC1C7H,mBAAS,CAC/Bm+C,aAAa,EACbC,WAAW,EACXC,eAAe,IAJiD,mBAC7DlhE,EAD6D,KACtDC,EADsD,KAM9D2R,EAAYmO,KACZgG,EAAWC,cAAc,SAACzH,GAAD,OAC3BA,EAAM0H,YAAYC,KAAK,SAErBlD,EAAOrB,aAAY,SAAC3hB,GAAD,OAAqBA,EAAMsI,MAAMwB,GAAGjB,eAC7D8Y,aAAY,SAAC3hB,GAAD,OAAqBA,EAAMue,SAEvC,IAAMqiD,EAAe,SAACviD,GAClBpe,GAAS,SAAAD,GAAK,kCAAUA,GAAV,mBAAkBqe,GAAQre,EAAMqe,SAGlD,OACI,eAACq8B,GAAA,EAAD,CAAKC,GAAI,EAAT,UACK,IACD,cAAC,GAAD,CAAmBx6B,QAASqH,EAAasC,cAAe9G,IACxD,eAAC,GAAD,CACI49C,aAAc,kBAAMA,EAAa,cACjCl1B,OAAQ1rC,EAAMihE,UACdn3C,cAAe9G,EACfnlB,KAAK,iBACLoiB,KAAM,cAAC,GAAOA,KAAR,IACNyK,MAAOA,EANX,UAQI,cAAC,GAAD,CACI5N,GAAE,YACF8M,YAAahY,EAAU,0BAA2B,CAC9CqZ,YAAa,IAEjBpB,SAAU,cAAC,GAAO5J,KAAR,IACVE,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,IAEX,cAAC,GAAD,CACI5N,GAAE,YACF8M,YAAahY,EAAU,0BAA2B,CAC9CqZ,YAAa,IAEjBpB,SAAU,cAAC6uC,GAASz4C,KAAV,IACVE,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,OAGf,eAAC,GAAD,CACIk2C,aAAc,kBAAMA,EAAa,gBACjCl1B,OAAQ1rC,EAAMghE,YACdl3C,cAAe9G,EACfnlB,KAAK,mBACLoiB,KAAM,cAAC,GAASA,KAAV,IACNyK,MAAOA,EANX,UAQI,cAAC,GAAD,CACI5N,GAAE,YACF8M,YAAahY,EAAU,0BAA2B,CAC9CqZ,YAAa,IAEjBpB,SAAU,cAAC,GAAS5J,KAAV,IACVE,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,IAEX,cAAC,GAAD,CACI5N,GAAE,cACF8M,YAAahY,EAAU,4BAA6B,CAChDqZ,YAAa,IAEjBpB,SAAU,cAACs3C,GAAWlhD,KAAZ,IACVE,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,OAGf,eAAC,GAAD,CACIk2C,aAAc,kBAAMA,EAAa,kBACjCl1B,OAAQ1rC,EAAMkhE,cACdp3C,cAAe9G,EACfnlB,KAAK,qBACLoiB,KAAM,cAAC,GAASA,KAAV,IACNyK,MAAOA,EANX,UAQI,cAAC,GAAD,CACI5N,GAAE,aACF8M,YAAahY,EAAU,2BAA4B,CAC/CqZ,YAAa,IAEjBpB,SAAU,cAAC,GAAS5J,KAAV,IACVE,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,IAEX,cAAC,GAAD,CACI5N,GAAE,YACF8M,YAAahY,EAAU,0BAA2B,CAC9CqZ,YAAa,IAEjBpB,SAAU,cAAC,KAAD,IACV1J,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,OAGf,cAAC,GAAD,CACI5N,GAAE,WACF8M,YAAahY,EAAU,yBAA0B,CAC7CqZ,YAAa,IAEjBpB,SAAU,cAAC,GAAQ5J,KAAT,IACVE,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,IAEV3E,GACG,cAAC,GAAD,CACIjJ,GAAG,iBACH8M,YAAahY,EAAU,qBACvBiY,SAAU,cAAC,KAAD,IACV1J,QAASqH,EACTsC,cAAe9G,EACf0H,MAAOA,IAGd3E,GAAY9S,MCxJZmuD,GAAY,CACrBz4C,QAAS,CACLc,QAAS,CACLkB,KAAM,WAEVpB,UAAW,CACPoB,KAAM,WAEVlxB,KAAM,QAEV60B,UAAW,CACPnI,UAAW,CACPk7C,eAAgB,CACZxgD,MAAO,YACP2H,gBAAiB,cAGzBgG,cAAe,CACX9H,KAAM,CACF,wBAAyB,CAKrB+H,QAAS,KACT7D,QAAS,QACT1I,MAAO,OACPS,OAAQ,OACR0F,SAAU,WACVqG,IAAK,EACLC,MAAO,EACPnG,gBAAiB,eACjB8E,QAAS,GACTsB,aAAc,cAK9BnlB,MAAO,CACH+kB,cAAe,CAEXK,eAAe,KAKdyyC,GAAa,CACtB34C,QAAS,CACLc,QAAS,CACLkB,KAAM,WAEVpB,UAAW,CACPoC,MAAO,UACPhB,KAAM,UACNc,KAAM,UACNC,aAAc,QAElB9C,WAAY,CACRC,QAAS,WAEbpvB,KAAM,SAEV42C,MAAO,CACHzhB,aAAc,IAElBN,UAAW,CACPizC,eAAgB,CACZ76C,KAAM,CACFo3C,WAAY,kBAEhBt0C,OAAQ,CACJs0C,WAAY,sBAGpB0D,SAAU,CACNC,WAAY,CACRhxB,UAAW,QAEf/pB,KAAM,CACFqC,OAAQ,oBACR24C,eAAgB,gBAGxB9/B,UAAW,CACP+/B,UAAW,CACPn5C,gBAAiB,OACjB3H,MAAO,UACP4vB,UAAW,SAGnBjiB,cAAe,CACX9H,KAAM,CACF,wBAAyB,CAKrB+H,QAAS,KACT7D,QAAS,QACT1I,MAAO,OACPS,OAAQ,OACR0F,SAAU,WACVqG,IAAK,EACLC,MAAO,EACPnG,gBAAiB,eACjB8E,QAAS,GACTsB,aAAc,aAI1BzI,UAAW,CACPk7C,eAAgB,CACZxgD,MAAO,UACP2H,gBAAiB,SAGzBo5C,kBAAmB,CACfC,aAAc,CACVr5C,gBAAiB,WAErBs5C,gBAAiB,CACbt5C,gBAAiB,YAGzB+F,eAAgB,CACZ7H,KAAM,CACF8B,gBAAiB,sBACjB,aAAc,CACVA,gBAAiB,0BAKjC/e,MAAO,CACH+kB,cAAe,CAEXK,eAAe,KChIrBkzC,GAAgB,SAACt4D,GAAD,OAAgB,cAAC,GAAD,2BAAaA,GAAb,IAAoBsY,KAAM,QAEjD,YAACtY,GACZ,IAAM8U,EAAQoD,aAAY,SAAC3hB,GAAD,MACN,SAAhBA,EAAMue,MAAmB6iD,GAAYE,MAEzC,OACI,cAAC,GAAD,2BACQ73D,GADR,IAEImmB,OAAQ/J,GACRuI,QAAS2zC,GACT1jD,KAAMoF,GACNlF,MAAOA,MCCb2C,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCoM,KAAM,CACFC,QAAS,OACTC,cAAe,SACf+F,UAAW,QACXzD,WAAY,SACZrC,eAAgB,aAChBlC,WAAY,mDACZoL,iBAAkB,YAClBC,eAAgB,SAEpBE,KAAM,CACFzK,SAAU,IACVhB,UAAW,OAEfhG,OAAQ,CACJrB,OAAQ,MACRuJ,QAAS,OACTE,eAAgB,UAEpB7K,KAAM,CACFuI,gBAAiBjK,EAAMoK,QAAQY,UAAUoB,MAE7Cq3C,KAAM,CACFt5C,UAAW,MACXkC,QAAS,OACTE,eAAgB,SAChBjK,MAAOtC,EAAMoK,QAAQ2oB,KAAK,MAE9B5e,KAAM,CACFtF,QAAS,iBAEbxX,MAAO,CACH8S,UAAW,OAEfugB,QAAS,CACL7b,QAAS,qBAIX60C,GAAc,SAAC,GAAD,QAChB19D,KAAQsuB,GADQ,aACW,CAAEA,SAAS,EAAOjzB,WAAO9E,GADpC,GACR+3B,QAASjzB,EADD,EACCA,MACLkzB,EAFI,mBAEhBld,OACGnM,EAHa,wCAKhB,cAACspB,GAAA,EAAD,qCACInzB,SAAUizB,IAAWjzB,GACrBozB,WAAYH,GAAWjzB,GACnBkzB,GACArpB,GAJR,IAKIwpB,WAAS,MASTG,GAAS8uC,eAAT9uC,KAEFgB,GAAQ,WAAO,IAAD,EACcvR,oBAAS,GADvB,mBACT/iB,EADS,KACAqzB,EADA,KAEVvhB,EAAYmO,KACZ0B,EAAUP,KACVjnB,EAASC,eACT8Y,EAAQkf,KACR7lB,EAAW8lB,eAsCjB,OACI,cAACiB,GAAD,CACIC,SAtCa,SAACpmB,GAClBkmB,GAAW,GACXngB,EAAM/F,EAAMZ,EAASrM,MAAQqM,EAASrM,MAAMsM,aAAe,KAAK9L,OAC5D,SAACZ,GACGuzB,GAAW,GACXl5B,EACqB,kBAAV2F,EACDA,EACiB,qBAAVA,GAA0BA,EAAM8M,QAEvC9M,EAAM8M,QADN,wBAEN,UACA,CACIhC,EACqB,kBAAV9K,EACDA,EACAA,GAASA,EAAM8M,QACf9M,EAAM8M,aACN5R,QAqBtBy4B,SAdS,SAACD,GACd,IAAME,EAAqB,GAO3B,OANKF,EAAOtb,WACRwb,EAAOxb,SAAWpG,EAAU,2BAE3B0hB,EAAOld,WACRod,EAAOpd,SAAWxE,EAAU,2BAEzB4hB,GAOHhY,OAAQ,gBAAGiY,EAAH,EAAGA,aAAH,OACJ,sBAAMJ,SAAUI,EAAcC,YAAU,EAAxC,SACI,sBAAKtT,UAAWqB,EAAQkJ,KAAxB,UACI,eAACkK,GAAA,EAAD,CAAMzU,UAAWqB,EAAQ0S,KAAzB,UACI,qBAAK/T,UAAWqB,EAAQiB,OAAxB,SACI,cAACa,GAAA,EAAD,CAAQnD,UAAWqB,EAAQxB,KAA3B,SACI,cAAC,KAAD,QAGR,qBAAKG,UAAWqB,EAAQugD,KAAxB,+BAGA,sBAAK5hD,UAAWqB,EAAQiR,KAAxB,UACI,qBAAKtS,UAAWqB,EAAQ7L,MAAxB,SACI,cAAC,KAAD,CACIge,WAAS,EACT/1B,KAAK,WAEL4d,UAAWwmD,GACXt3D,MAAOiH,EAAU,oBACjBiiB,SAAU/zB,MAGlB,qBAAKsgB,UAAWqB,EAAQ7L,MAAxB,SACI,cAAC,KAAD,CACI/X,KAAK,WAEL4d,UAAWwmD,GACXt3D,MAAOiH,EAAU,oBACjBnY,KAAK,WACLo6B,SAAU/zB,SAItB,cAACi0B,GAAA,EAAD,CAAa3T,UAAWqB,EAAQwnB,QAAhC,SACI,eAAC,KAAD,CACI3iB,QAAQ,YACR7sB,KAAK,SACLonB,MAAM,UACNgT,SAAU/zB,EACVmzB,WAAS,EALb,UAOKnzB,GACG,cAAC+hB,GAAA,EAAD,CACIE,KAAM,GACNC,UAAW,IAGlBpQ,EAAU,2BAIvB,cAAC,GAAD,aAsBTuwD,GANQ,SAAC14D,GAAD,OACnB,cAACgoB,GAAA,EAAD,CAAelT,MAAO+S,aAAegwC,IAArC,SACI,cAAC,GAAD,eAAW73D,O,0CCxMJ,OAA0B,iDCUnCyX,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmI,KAAM,CACFkC,WAC2B,SAAvBrK,EAAMoK,QAAQlvB,KACR,UADN,mHAIJonB,MAAO,OACPuM,QAAS,GACT1E,UAAWnK,EAAM+C,QAAQ,GACzBs2B,aAAc,OAElBmoB,MAAO,CACHn3C,WAAW,OAAD,OAASw5C,GAAT,uBACVt9C,WAAY,QAEhBmkB,QAAQ,gBACH1qB,EAAM0H,YAAYC,KAAK,MAAQ,CAC5BkH,QAAS,EACT0R,SAAU,OACV,MAAO,CACHpW,UAAW,MACX5D,WAAY,cACZC,YAAa,aAmDds9C,GA7CK,WAChB,IAAMzwD,EAAYmO,KACZ0B,EAAUP,KAChB,OACI,cAAC2T,GAAA,EAAD,CAAMzU,UAAWqB,EAAQiF,KAAzB,SACI,eAACg0B,GAAA,EAAD,CAAK9vB,QAAQ,OAAb,UACI,eAAC8vB,GAAA,EAAD,CAAKj1B,KAAK,IAAV,UACI,cAACkB,GAAA,EAAD,CAAYL,QAAQ,KAAK7K,UAAU,KAAK0oC,cAAY,EAApD,SACKvyC,EAAU,iCAEf,cAAC8oC,GAAA,EAAD,CAAKiJ,SAAS,OAAd,SACI,cAACh9B,GAAA,EAAD,CAAYL,QAAQ,QAAQ7K,UAAU,IAAI0oC,cAAY,EAAtD,SACKvyC,EAAU,sCAGnB,eAACmiB,GAAA,EAAD,CAAa3T,UAAWqB,EAAQwnB,QAAhC,UACI,cAAC,KAAD,CACI3iB,QAAQ,YACRsrC,KAAK,mCACLtuC,UAAW,cAAC,KAAD,IAHf,SAKK1R,EAAU,qCAEf,cAAC,KAAD,CACI0U,QAAQ,YACRsrC,KAAK,oEACLtuC,UAAW,cAAC,KAAD,IAHf,SAKK1R,EAAU,6CAKvB,cAAC8oC,GAAA,EAAD,CACI9vB,QAAS,CAAEunC,GAAI,OAAQC,GAAI,OAAQC,GAAI,SACvCjyC,UAAWqB,EAAQs+C,MACnB79C,MAAM,OACNS,OAAO,MACPiD,SAAS,iBC7DvB1E,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnC4V,KAAM,CACFvD,UAAW,GACXhG,QAAS,OACTC,cAAe,SACfpF,KAAM,IACN,MAAO,CACH6zB,eAAgB,OAChBz4B,MAAO,YAGf8J,KAAM,SAAClhB,GAAD,MAAmB,CACrBmc,SAAU,UACVwH,QAAS,GACTxE,WAAW,OAAD,OACiB,SAAvBrK,EAAMoK,QAAQlvB,KC/BX,6+CCAA,6+CF8BG,eAGVmxB,QAAS,OACTE,eAAgB,gBAChBqC,WAAY,SACZ,UAAW,CACPtM,MAA8B,SAAvBtC,EAAMoK,QAAQlvB,KAAkB,UAAY,aAG3DwiB,MAAO,OAgCIqmD,GA7BiB,SAAA74D,GAAU,IAC9BwW,EAAwCxW,EAAxCwW,KAAMhE,EAAkCxS,EAAlCwS,MAAOs+C,EAA2B9wD,EAA3B8wD,SAAUz9C,EAAiBrT,EAAjBqT,GAAI3K,EAAa1I,EAAb0I,SAC7BsP,EAAUP,GAAUzX,GAC1B,OACI,eAACorB,GAAA,EAAD,CAAMzU,UAAWqB,EAAQ0S,KAAzB,UACI,cAAC,KAAD,CAAMrX,GAAIA,EAAV,SACI,sBAAKsD,UAAWqB,EAAQkJ,KAAxB,UACI,cAAC+vB,GAAA,EAAD,CAAKx4B,MAAM,MAAM9B,UAAU,OAA3B,SACK9N,wBAAc2N,EAAM,CAAE4W,SAAU,YAErC,eAAC6jB,GAAA,EAAD,CAAK/oB,UAAU,QAAf,UACI,cAAChL,GAAA,EAAD,CACIvG,UAAWqB,EAAQxF,MACnB4E,MAAM,gBAFV,SAIK5E,IAEL,cAAC0K,GAAA,EAAD,CAAYL,QAAQ,KAAK7K,UAAU,KAAnC,SACK8+C,GAAY,mBAK5BpoD,GAAY,cAAC+9C,GAAA,EAAD,IACZ/9C,MG5CEowD,GAZmB,SAAC,GAAe,IAAb/+D,EAAY,EAAZA,MAC3BoO,EAAYmO,KAClB,OACI,cAAC,GAAD,CACIjD,GAAG,YACHmD,KAAMuiD,KACNvmD,MAAOrK,EAAU,iCACjB2oD,SAAU/2D,K,qBCKPi/D,GAZgB,SAAC,GAAe,IAAbj/D,EAAY,EAAZA,MACxBoO,EAAYmO,KAClB,OACI,cAAC,GAAD,CACIjD,GAAG,YACHmD,KAAMyiD,KACNzmD,MAAOrK,EAAU,4BACjB2oD,SAAU/2D,KCEhB0d,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmI,KAAM,CACFjB,KAAM,GAEVk9C,KAAM,CACF59C,YAAa,MACblE,MAAOtC,EAAMoK,QAAQW,KAAKG,aA2DnBm5C,GAvDkB,SAAC,GAAqC,IAAD,IAAlCxN,cAAkC,MAAzB,GAAyB,MAArByN,iBAAqB,MAAT,GAAS,EAC5DphD,EAAUP,KACVtP,EAAYmO,KAClB,OACI,eAAC8U,GAAA,EAAD,CAAMzU,UAAWqB,EAAQiF,KAAzB,UACI,cAAC0zB,GAAA,EAAD,CAAYn+B,MAAOrK,EAAU,kCAC7B,cAAC,KAAD,CAAM8Y,OAAO,EAAb,SACK0qC,EAAOjyD,KAAI,SAAAF,GAAM,OACd,eAACm4C,GAAA,EAAD,CAEIzoB,QAAM,EACNlX,UAAWsyB,KACXjxB,GAAE,oBAAe7Z,EAAOC,IAJ5B,UAMI,cAAC6vD,GAAA,EAAD,UACK8P,EAAU5/D,EAAOkyD,aACd,cAAC5xC,GAAA,EAAD,CACI9D,IAAG,UACCojD,EAAU5/D,EAAOkyD,aAAazyC,OAD/B,iBAKP,cAACa,GAAA,EAAD,MAGR,cAAC83B,GAAA,EAAD,CACI5xB,QAAS,IAAI5nB,KAAKoB,EAAOX,MAAMo0C,eAC3B,SAEJntB,UAAW3X,EAAU,4BAA6B,CAC9CqZ,YAAahoB,EAAO2rD,OAAOxzD,OAC3B0nE,SAAU7/D,EAAO2rD,OAAOxzD,OACxB2nE,cAAeF,EAAU5/D,EAAOkyD,aAAjB,UAEL0N,EAAU5/D,EAAOkyD,aACZzb,WAHA,YAKLmpB,EAAU5/D,EAAOkyD,aACZxb,WAET,OAGd,cAAC2B,GAAA,EAAD,UACI,uBAAMl7B,UAAWqB,EAAQkhD,KAAzB,UACK1/D,EAAOpD,MADZ,WAnCCoD,EAAOC,aC4C9Bge,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCmE,OAAQ,CACJkG,WAAYrK,EAAMoK,QAAQC,WAAWjB,OAEzCozB,aAAc,CACVvN,UAAW,SACX7qB,OAAQ,MACRiI,QAAS,cACTo4C,gBAAiB,EACjBC,gBAAiB,YAErB1sB,KAAM,CACF3nB,aAAc,GAElBs0C,YAAa,CACTriD,MAAOtC,EAAMoK,QAAQc,QAAQkB,UAItBw4C,GA5EmB,SAAC,GAA0C,IAAD,IAAvC7N,eAAuC,MAA7B,GAA6B,MAAzBuN,iBAAyB,MAAb,GAAa,EAATO,EAAS,EAATA,GACzD3hD,EAAUP,KACVtP,EAAYmO,KAClB,OACI,eAAC,GAAD,CACIjD,GAAG,WACHmD,KAAMojD,KACNpnD,MAAOrK,EAAU,iCACjB2oD,SAAU6I,EAJd,UAMI,cAAC,KAAD,UACK9N,EAAQnyD,KAAI,SAACF,GAAD,OACT,eAACm4C,GAAA,EAAD,CAEIzoB,QAAM,EACNlX,UAAWsyB,KACXjxB,GAAE,mBAAc7Z,EAAOC,IACvBiqB,WAAW,aALf,UAOI,cAAC4lC,GAAA,EAAD,UACK8P,EAAU5/D,EAAOkyD,aACd,cAAC5xC,GAAA,EAAD,CACI9D,IAAG,UACCojD,EAAU5/D,EAAOkyD,aAAazyC,OAD/B,eAGHtC,UAAWqB,EAAQiB,SAGvB,cAACa,GAAA,EAAD,MAIR,cAAC83B,GAAA,EAAD,CACI5xB,QAAS,cAAC,GAAD,CAAiBxmB,OAAQA,IAClCsmB,UAAWtmB,EAAO6gD,QAClB1jC,UAAWqB,EAAQs5B,aACnBtmB,MAAO,CAAE7P,aAAc,OAvBtB3hB,EAAOC,SA4BxB,cAACw3C,GAAA,EAAD,CAAK5pB,SAAS,IAAd,kBACA,cAAC,KAAD,CACI1Q,UAAWqB,EAAQ80B,KACnB96B,UAAWsyB,KACXjxB,GAAG,WACHiF,KAAK,QACLlB,MAAM,UALV,SAOI,cAAC65B,GAAA,EAAD,CAAKv+C,EAAG,EAAGikB,UAAWqB,EAAQyhD,YAA9B,SACKtxD,EAAU,qC,qBCYzBsP,GAAYC,cAAW,SAAA5C,GAAK,MAAK,CACnCg4B,KAAM,CACF3nB,aAAc,GAElBs0C,YAAa,CACTriD,MAAOtC,EAAMoK,QAAQc,QAAQkB,UAItB24C,GA9EM,WACjB,IAAM1xD,EAAYmO,KACZ0B,EAAUP,KAEVqiD,EAAYC,mBAAQ,IAAI3hE,KAAQ,IACtC0hE,EAAUE,QAAQF,EAAU/7B,UAAY,IACxC+7B,EAAUG,SAAS,GACnBH,EAAUI,WAAW,GACrBJ,EAAUK,WAAW,GACrBL,EAAUM,gBAAgB,GATH,MAWYhT,aAAkB,CACjDp3D,KAAM,UACNiB,SAAU,YACVuD,QAAS,CACL+F,OAAQ,CACJ8/D,aAAa,EACbC,eAAgBR,EAAU5nB,eAE9Bl1C,KAAM,CAAEozB,MAAO,aAAcnzB,MAAO,QACpCsoC,WAAY,CAAEroC,KAAM,EAAGC,QAAS,QAThC7G,EAXe,EAWfA,OAAcikE,EAXC,EAWPrkE,KAahB,IAAKI,EAAQ,OAAO,KAEpB,IAAMqjE,EAAKY,EAAWA,EAAS//D,QAAO,SAACm/D,GAAD,QAAkBA,IAAI,GAAK,EACjE,OACI,eAAC,GAAD,CACItmD,GAAG,aACHmD,KAAMgkD,KACNhoD,MAAOrK,EAAU,+BACjB2oD,SAAU6I,EAJd,UAMI,cAAC,KAAD,UACKY,EACKA,EAAS7gE,KAAI,SAACF,GAAD,OACT,eAACm4C,GAAA,EAAD,CACIzoB,QAAM,EACN7V,GAAE,qBAAgB7Z,EAAOC,IACzBuY,UAAWsyB,KAHf,UAMI,cAACglB,GAAA,EAAD,UACI,cAACxvC,GAAA,EAAD,CAAQ9D,IAAG,UAAKxc,EAAOyf,OAAZ,mBAEf,cAAC24B,GAAA,EAAD,CACI5xB,QAAO,UAAKxmB,EAAOy2C,WAAZ,YAA0Bz2C,EAAO02C,eANvC12C,EAAOC,OAUpB,OAEV,cAACw3C,GAAA,EAAD,CAAK5pB,SAAS,IAAd,kBACA,cAAC,KAAD,CACI1Q,UAAWqB,EAAQ80B,KACnB96B,UAAWsyB,KACXjxB,GAAG,aACHiF,KAAK,QACLlB,MAAM,UALV,SAOI,cAAC65B,GAAA,EAAD,CAAKv+C,EAAG,EAAGikB,UAAWqB,EAAQyhD,YAA9B,SACKtxD,EAAU,uC,UChEzBsyD,GAAU,IAAIriE,KACdsiE,GAAgBlnE,MAAM+R,KAAK,CAAE5T,OAAQ,KAAM,SAACsP,EAAG1O,GAAJ,OAAUwnE,mBAAQU,GAASloE,MACtEunE,GAAYC,mBAAQ,IAAI3hE,KAAQ,IAEhCuiE,GAAgB,SAAC9hE,GAAD,OAClB,IAAIT,KAAKS,GAAM00C,sBAcbqtB,GAAmB,SAACjP,GACtB,IAAMkP,EAbmB,SAAClP,GAAD,OACzBA,EACKpxD,QAAO,SAAC0C,GAAD,MAAmC,cAAjBA,EAAMkpD,UAC/B3rD,QAAO,SAAC0F,EAAK46D,GACV,IAAMlO,EAAM7vB,kBAAO+9B,EAAKjiE,KAAM,cAK9B,OAJKqH,EAAI0sD,KACL1sD,EAAI0sD,GAAO,GAEf1sD,EAAI0sD,IAAQkO,EAAK1kE,MACV8J,IACR,IAGiB66D,CAAqBpP,GAC7C,OAAO+O,GAAchhE,KAAI,SAAAb,GAAI,MAAK,CAC9BA,KAAMA,EAAKH,UACXtC,MAAOykE,EAAgB99B,kBAAOlkC,EAAM,gBAAkB,OAgF/CmiE,GA5E8B,SAAC,GAAgB,IAAdrP,EAAa,EAAbA,OACtCxjD,EAAYmO,KAClB,OAAKq1C,EAGD,eAACvgC,GAAA,EAAD,WACI,cAACulB,GAAA,EAAD,CAAYn+B,MAAOrK,EAAU,iCAC7B,cAACu4B,GAAA,EAAD,UACI,qBAAK1V,MAAO,CAAEvS,MAAO,OAAQS,OAAQ,KAArC,SACI,cAAC,KAAD,UACI,eAAC,KAAD,CAAWhjB,KAAM0kE,GAAiBjP,GAAlC,UACI,+BACI,iCACIlyD,GAAG,UACHwhE,GAAG,IACHC,GAAG,IACHC,GAAG,IACHC,GAAG,IALP,UAOI,sBACIC,OAAO,KACPC,UAAU,UACVC,YAAa,KAEjB,sBACIF,OAAO,MACPC,UAAU,UACVC,YAAa,SAIzB,cAAC,KAAD,CACIC,QAAQ,OACRpnE,KAAK,OACLpE,KAAK,SACLyrE,MAAM,OACNC,OAAQ,CACJC,mBAAQ7B,GAAW,GAAGphE,WACtB,IAAIN,MAAOM,WAEfkjE,cAAejB,KAEnB,cAAC,KAAD,CAAOa,QAAQ,QAAQpnE,KAAK,UAAUynE,KAAK,WAC3C,cAAC,KAAD,CAAeC,gBAAgB,QAC/B,cAAC,KAAD,CACI7vB,OAAQ,CAAE6vB,gBAAiB,OAC3BC,UAAW,SAAAhiE,GAAK,OACZ,IAAI0zC,KAAKC,kBAAar8C,EAAW,CAC7B25B,MAAO,WACP6lB,SAAU,QACX9T,OAAOhjC,IAEdiiE,eAAgB,SAAC96D,GAAD,OACZy5D,GAAcz5D,MAGtB,cAAC,KAAD,CACIlR,KAAK,WACLwrE,QAAQ,QACRxH,OAAO,UACPzmC,YAAa,EACbC,KAAK,8BA3Db,MCJlBlL,GAAS,CACXtG,KAAM,CAAEmF,QAAS,QACjB86C,WAAY,CAAE96C,QAAS,OAAQC,cAAe,UAC9C86C,QAAS,CAAElgD,KAAM,EAAGV,YAAa,SACjC6gD,SAAU,CAAEngD,KAAM,EAAGX,WAAY,SACjC+gD,UAAW,CAAEn9C,UAAW,MAAOkvB,aAAc,QAG3Cma,GAAS,kBAAM,sBAAMt9B,MAAO,CAAEvS,MAAO,UACrC4jD,GAAiB,kBAAM,sBAAMrxC,MAAO,CAAE9R,OAAQ,UCjDvCojD,GDmDS,WAAO,IAAD,EACEljD,mBAAgB,IADlB,mBACjB7iB,EADiB,KACVC,EADU,KAElB8vC,EAAUC,eACVzyC,EAAeC,eACfuoB,EAAWC,cAAc,SAACzH,GAAD,OAC3BA,EAAM0H,YAAYC,KAAK,SAErBiB,EAAUnB,cAAc,SAACzH,GAAD,OAC1BA,EAAM0H,YAAYC,KAAK,SAGrB8/C,EAAc7lE,sBAAW,sBAAC,sCAAAhD,EAAA,6DACtBomE,EAAYC,mBAAQ,IAAI3hE,KAAQ,IADV,SAEStE,EAAawxC,QAC9C,WACA,CACI/qC,OAAQ,CAAEiiE,SAAU1C,EAAU5nB,eAC9Bl1C,KAAM,CAAEozB,MAAO,OAAQnzB,MAAO,QAC9BsoC,WAAY,CAAEroC,KAAM,EAAGC,QAAS,MAPZ,uBAEds/D,EAFc,EAEpBvmE,KAQFwmE,EAAeD,EAChBliE,QAAO,SAAA0C,GAAK,MAAqB,cAAjBA,EAAMkpD,UACtB3rD,QACG,SAACmiE,EAAmB1/D,GAQhB,MAPqB,cAAjBA,EAAMkpD,SACNwW,EAAMC,SAAW3/D,EAAM7G,MACvBumE,EAAME,eAEW,YAAjB5/D,EAAMkpD,QACNwW,EAAMG,cAAc/6D,KAAK9E,GAEtB0/D,IAEX,CACIC,QAAS,EACTC,YAAa,EACbC,cAAe,KAG3BtmE,GAAS,SAAAD,GAAK,kCACPA,GADO,IAEVkmE,eACAG,QAASF,EAAaE,QAAQ3vB,oBAAe57C,EAAW,CACpD25B,MAAO,WACP6lB,SAAU,MACVkmB,sBAAuB,EACvBgG,sBAAuB,IAE3BF,YAAaH,EAAaG,YAC1BC,cAAeJ,EAAaI,mBAvCJ,SAyCMhpE,EAAakxC,QAC3C,YACA,CACI7pC,IAAKuhE,EAAaI,cAAcpjE,KAC5B,SAACuD,GAAD,OAAkBA,EAAMyuD,iBA7CR,gBAyCd0N,EAzCc,EAyCpBljE,KAQRM,GAAS,SAAAD,GAAK,kCACPA,GADO,IAEVymE,uBAAwB5D,EAAU5+D,QAC9B,SAACyT,EAAoBgvD,GAEjB,OADAhvD,EAAKgvD,EAASxjE,IAAMwjE,EACbhvD,IAEX,SAxDoB,4CA2D7B,CAACna,IAEEopE,EAAexmE,sBAAW,sBAAC,sCAAAhD,EAAA,sEACGI,EAAawxC,QACzC,UACA,CACI/qC,OAAQ,CAAE4rD,OAAQ,WAClBnpD,KAAM,CAAEozB,MAAO,OAAQnzB,MAAO,QAC9BsoC,WAAY,CAAEroC,KAAM,EAAGC,QAAS,OANX,uBACf0uD,EADe,EACrB31D,KAQFinE,EAAmBtR,EAAQrxD,QAAO,SAACm/D,GAAD,QAAkBA,IAAI,GACxDyD,EAAiBvR,EAAQ32D,MAAM,EAAGoJ,KAAKm7B,IAAI,GAAIoyB,EAAQl6D,SAC7D6E,GAAS,SAAAD,GAAK,kCAAUA,GAAV,IAAiB6mE,iBAAgBD,wBAXlB,SAYKrpE,EAAakxC,QAC3C,YACA,CACI7pC,IAAKiiE,EAAe1jE,KAAI,SAAA8yD,GAAM,OAAIA,EAAOd,iBAfpB,gBAYf0N,EAZe,EAYrBljE,KAMRM,GAAS,SAAAD,GAAK,kCACPA,GADO,IAEV8mE,wBAAyBjE,EAAU5+D,QAC/B,SAACyT,EAAoBgvD,GAEjB,OADAhvD,EAAKgvD,EAASxjE,IAAMwjE,EACbhvD,IAEX,SAzBqB,4CA4B9B,CAACna,IAEJud,qBAAU,WACNkrD,IACAW,MACD,CAAC52B,IAzGoB,IA4GpBu2B,EAQAtmE,EARAsmE,YACAM,EAOA5mE,EAPA4mE,iBACAL,EAMAvmE,EANAumE,cACAE,EAKAzmE,EALAymE,uBACAI,EAIA7mE,EAJA6mE,eACAC,EAGA9mE,EAHA8mE,wBACAT,EAEArmE,EAFAqmE,QACAH,EACAlmE,EADAkmE,aAEJ,OAAOngD,EACH,8BACI,sBAAK0O,MAAO1I,GAAO25C,WAAnB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,CAAgBliE,MAAO6iE,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa7iE,MAAO8iE,IACpB,cAAC,GAAD,IACA,cAAC,GAAD,CACIlR,OAAQmR,EACR1D,UAAW4D,SAIvBt/C,EACA,sBAAKsN,MAAO1I,GAAO25C,WAAnB,UACI,qBAAKjxC,MAAO1I,GAAO85C,UAAnB,SACI,cAAC,GAAD,MAEJ,sBAAKpxC,MAAO1I,GAAOtG,KAAnB,UACI,cAAC,GAAD,CAAgBjiB,MAAO6iE,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa7iE,MAAO8iE,OAExB,qBAAK7xC,MAAO1I,GAAO85C,UAAnB,SACI,cAAC,GAAD,CAAYzQ,OAAQ8Q,MAExB,qBAAKzxC,MAAO1I,GAAO85C,UAAnB,SACI,cAAC,GAAD,CACIzQ,OAAQmR,EACR1D,UAAW4D,SAKvB,qCACI,cAAC,GAAD,IACA,sBAAKhyC,MAAO1I,GAAOtG,KAAnB,UACI,sBAAKgP,MAAO1I,GAAO45C,QAAnB,UACI,sBAAKlxC,MAAO1I,GAAOtG,KAAnB,UACI,cAAC,GAAD,CAAgBjiB,MAAO6iE,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa7iE,MAAO8iE,OAExB,qBAAK7xC,MAAO1I,GAAO85C,UAAnB,SACI,cAAC,GAAD,CAAYzQ,OAAQ8Q,MAExB,qBAAKzxC,MAAO1I,GAAO85C,UAAnB,SACI,cAAC,GAAD,CACIzQ,OAAQmR,EACR1D,UAAW4D,SAIvB,qBAAKhyC,MAAO1I,GAAO65C,SAAnB,SACI,sBAAKnxC,MAAO1I,GAAOtG,KAAnB,UACI,cAAC,GAAD,CACI29C,GAAIwD,EACJtR,QAASuR,EACThE,UAAWiE,IAEf,cAAC,GAAD,IACA,cAAC,GAAD,gBEpLTC,GAtBI,WACf,IAAIpsE,EAAKiY,qBAAWrB,IAAqBG,EAAY/W,EAAG+W,UAAWC,EAAehX,EAAGgX,aACjF/W,ECTQ,WACZ,IAAI0lB,EAAWC,cAOf,MAAO,CAAEymD,aANU7mE,uBAAY,WAC3BmgB,EAAS2mD,iBACV,CAAC3mD,IAIiC4mD,YAHnB/mE,uBAAY,WAC1BmgB,EAAS6mD,iBACV,CAAC7mD,KDEK8mD,GAAoBJ,EAAepsE,EAAGosE,aAAcE,EAActsE,EAAGssE,YAC1EjtE,EAASC,eACb,OAAOiG,uBAAY,SAAUiS,GACzB,OAAO,IAAIvT,SAAQ,SAAUkT,GACzBi1D,IAGAj1D,EAAQJ,EAAaG,aAAaM,OAEjC7R,MAAK,WACN2mE,IACAx1D,EAAUU,MAET5R,OAAM,SAAUZ,GACjBsnE,IACAjtE,EAAO,6BAA8B,WACrCikB,QAAQte,MAAMA,QAEnB,CAAC+R,EAAc1X,EAAQyX,EAAWs1D,EAAcE,KExCjDhmD,GAAYC,aAAW,CACzBxW,MAAO,CAAEuX,MAAO,OAAQ0I,QAAS,gBACjC+H,OAAQ,CAAEtR,OAAQ,SAyDPgmD,GAtDO,WAClB,IAAMz1D,EAAYmO,KACZtO,EAASuV,KACTtV,EAAYq1D,KACZtlD,EAAUP,KACV3C,EAAQoD,aAAY,SAAC3hB,GAAD,OAAqBA,EAAMue,SAC/C+B,EAAWC,cACjB,OACI,eAACsU,GAAA,EAAD,WACI,cAAC,GAAD,CAAO5Y,MAAOrK,EAAU,uBACxB,eAACu4B,GAAA,EAAD,WACI,qBAAK/pB,UAAWqB,EAAQ9W,MAAxB,SACKiH,EAAU,oBAEf,cAAC,KAAD,CACI0U,QAAQ,YACRlG,UAAWqB,EAAQkR,OACnB9R,MAAiB,UAAVtC,EAAoB,UAAY,UACvC4B,QAAS,kBAAMG,EAASiW,GAAY,WAJxC,SAMK3kB,EAAU,qBAEf,cAAC,KAAD,CACI0U,QAAQ,YACRlG,UAAWqB,EAAQkR,OACnB9R,MAAiB,SAAVtC,EAAmB,UAAY,UACtC4B,QAAS,kBAAMG,EAASiW,GAAY,UAJxC,SAMK3kB,EAAU,uBAGnB,eAACu4B,GAAA,EAAD,WACI,qBAAK/pB,UAAWqB,EAAQ9W,MAAxB,SAAgCiH,EAAU,kBAC1C,cAAC,KAAD,CACI0U,QAAQ,YACRlG,UAAWqB,EAAQkR,OACnB9R,MAAkB,OAAXpP,EAAkB,UAAY,UACrC0O,QAAS,kBAAMzO,EAAU,OAJ7B,gBAQA,cAAC,KAAD,CACI4U,QAAQ,YACRlG,UAAWqB,EAAQkR,OACnB9R,MAAkB,OAAXpP,EAAkB,UAAY,UACrC0O,QAAS,kBAAMzO,EAAU,OAJ7B,uBC9CVwP,GAAYC,aAAW,CACzBlB,KAAM,CAAE2E,aAAc,SACtB2xB,KAAM,CACF3rB,QAAS,cACTuC,WAAY,YA0BLm6C,GAtByC,SAAC,GAAiB,IAAfrvB,EAAc,EAAdA,QACjDrmC,EAAYmO,KACZ0B,EAAUP,KAChB,OACI,eAAC,KAAD,CACIa,KAAK,QACLlB,MAAM,UACNpF,UAAWsyB,KACXjxB,GAAI,CACAzP,SAAU,aACVwH,OAAQlU,qBAAU,CACdqD,OAAQtD,KAAKC,UAAU,CAAEo3C,OAAQE,OAGzC73B,UAAWqB,EAAQ80B,KAVvB,UAYI,cAAC,GAASt2B,KAAV,CAAeG,UAAWqB,EAAQxB,OACjCrO,EAAU,2CCrBjBsP,GAAYC,aAAW,CACzBuF,KAAM,CACFgC,UAAW,MAoCJ6+C,GAhCM,WACjB,IAAM31D,EAAYmO,KACZ0B,EAAUP,KAChB,OACI,eAAC2T,GAAA,EAAD,CAAMzU,UAAWqB,EAAQiF,KAAzB,UACI,cAAC,GAAD,CACIzK,MAAOrK,EAAU,0BAA2B,CAAEqZ,YAAa,MAE/D,eAAC2mB,GAAA,EAAD,CAAO7vB,KAAK,QAAZ,UACI,cAAC+vB,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,UACKn/B,EAAU,oCAEf,cAACm/B,GAAA,EAAD,SAGR,cAACuB,GAAA,EAAD,UACK4F,GAAS/0C,KAAI,SAAA80C,GAAO,OACjB,eAAClG,GAAA,EAAD,WACI,cAAChB,GAAA,EAAD,UAAYn/B,EAAUqmC,EAAQp6C,QAC9B,cAACkzC,GAAA,EAAD,UACI,cAAC,GAAD,CAAwBkH,QAASA,EAAQ/0C,SAHlC+0C,EAAQ/0C,gBClChC,IACX,cAAC,KAAD,CAAOyZ,OAAK,EAACF,KAAK,iBAAiBjB,OAAQ,kBAAM,cAAC,GAAD,OACjD,cAAC,KAAD,CAAOmB,OAAK,EAACF,KAAK,YAAYjB,OAAQ,kBAAM,cAAC,GAAD,QCiNjCgsD,GArNiC,2BACzC1zD,IADyC,IAE5C2zD,IAAK,CACD5yD,OAAQ,SACR6yD,cAAe,gBACfC,SAAU,WACVppD,MAAO,CACH1gB,KAAM,QACN8tB,MAAO,QACPF,KAAM,QAEVjW,UAAW,CACPoyD,gBAAiB,kBACjBC,cAAe,yBACfC,WAAY,aACZC,gBAAiB,kBACjBC,YAAa,kBACbC,cAAe,gBACfC,cAAe,oBACfC,eAAgB,iBAChBzhE,MAAO,CACHhD,MACI,6EAER0kE,QAAS,CACLnsD,MAAO,6CACPs+C,SACI,8JACJ8N,UAAW,mBACXC,YAAa,yBAGrBjqD,KAAM,CACFq8C,MAAO,QACP6N,QAAS,UACT1F,UAAW,cAGnBt5D,UAAW,CACPs5D,UAAW,CACPhlE,KAAM,0BACNu7D,OAAQ,CACJoP,SAAU,SACVC,WAAY,aACZ1wB,OAAQ,WACR2wB,UAAW,YACXjtB,cAAe,gBACf59C,KAAM,OACN8qE,YAAa,cACbvyD,SAAU,WACV2tC,iBAAkB,mBAClBiL,UAAW,SAEfrzB,QAAS,CACLitC,aAAc,eACdC,MAAO,QACPC,UAAW,YACXC,UAAW,YACXC,WAAY,aACZC,WAAY,aACZC,QAAS,UACTpF,YAAa,cACb3nB,eAAgB,iBAChBgtB,MAAO,WAEXC,YAAa,CACTtpD,SAAU,WACV4jC,QAAS,UACT0iB,MAAO,QACP91D,QAAS,UACT8F,SAAU,WACVizD,gBAAiB,mBAErB1iE,KAAM,CACF4N,OAAQ,mBAEZif,OAAQ,CACJ81C,kBACI,+DAGZd,SAAU,CACN3qE,KAAM,oBACN0rE,OAAQ,qCACRttD,MAAO,qBACPm9C,OAAQ,CACJxK,OAAQ,CACJ4a,SAAU,WACVtwB,UAAW,YACXgY,SAAU,WACVuY,IAAK,MACLlY,SAAU,WACVC,MAAO,MACP3xD,MAAO,QACP6pE,WAAY,cAEhBhmB,QAAS,UACTyR,YAAa,WACb8Q,SAAU,eACV0D,SAAU,gBACV7G,SAAU,WACV8G,UAAW,aACXha,OAAQ,SACRia,SAAU,YAEdC,QAAS,CACLpjE,MAAO,QACPggE,SAAU,WACVqD,iBAAkB,mBAClBrmE,MAAO,QACP7D,MAAO,WAGf64D,SAAU,CACN76D,KAAM,wBACNu7D,OAAQ,CACJ92D,KAAM,eACN6yD,YAAa,WACb6U,WAAY,QACZ/D,SAAU,eACV0D,SAAU,gBACVC,UAAW,aACXlmB,QAAS,YAGjBsN,SAAU,CACNnzD,KAAM,sBACNu7D,OAAQ,CACJ0B,YAAa,WACbmP,WAAY,aACZC,WAAY,aACZvnD,OAAQ,SACR3M,MAAO,QACPi7C,MAAO,QACP/X,UAAW,YACXwhB,MAAO,QACPyP,UAAW,YACXtP,MAAO,QACPR,UAAW,YACX+P,UAAW,YACXC,UAAW,YACXnoD,MAAO,SAEXktC,KAAM,CACFp5C,MAAO,QACPa,QAAS,UACTyzD,YAAa,cACbhV,QAAS,WAEb35B,QAAS,CACLwlC,WAAY,aACZtG,MAAO,QACP0P,SAAU,eACVC,UAAW,cACXC,cAAe,gBACfC,aAAc,kBACdhQ,MAAO,QACPiQ,aAAc,eACdC,gBAAiB,UACjBC,YAAa,MACbC,WAAY,eAGpB3J,WAAY,CACRtjE,KAAM,2BACNu7D,OAAQ,CACJpI,SAAU,aAGlBsE,QAAS,CACLz3D,KAAM,sBACN0rE,OAAQ,uCACRwB,mBAAoB,mBACpBC,OAAQ,gBACR5R,OAAQ,CACJjE,YAAa,WACb6U,WAAY,QACZlZ,WAAY,UACZmV,SAAU,eACV0D,SAAU,gBACVrnE,KAAM,OACNwhD,QAAS,UACTwP,OAAQ,UAEZnuD,OAAQ,CACJ8lE,OAAQ,SACRnsE,OAAQ,UAEZzD,aAAc,CACV6vE,iBAAkB,kBAClBC,eAAgB,6BAChBC,iBAAkB,kBAClBC,eAAgB,+BAGxBnzB,SAAU,CACNr6C,KAAM,wBACNu7D,OAAQ,CACJyJ,UAAW,YACXhlE,KAAM,QAEV8B,KAAM,CACF2rE,WAAY,aACZC,UAAW,YACXC,aAAc,eACdC,QAAS,UACTC,QAAS,UACTC,SAAU,gBClNX,YAAClyE,GACZ,OAAQA,GACJ,IAAK,UACD,OAAO,qDAAoB8G,MAAK,SAAAqrE,GAAO,OAAIA,EAAQ/iD,aACvD,QACI,OAAO,+BAAiBtoB,MAAK,SAAAsrE,GAAQ,OAAIA,EAAShjD,aCL/C,YAACpvB,GACZ,OAAQA,GACJ,IAAK,UACD,OAAO,6DAAoB8G,MAAK,SAAAqrE,GAAO,OAAIA,EAAQ/iD,aACvD,QACI,OAAO,6DAAiBtoB,MAAK,SAAAqrE,GAAO,OAAIA,EAAQ/iD,eCiBtDlX,GAAeqI,IAAqB,SAAAvI,GACtC,MAAe,OAAXA,EACO,+BAAoBlR,MAAK,SAAAmZ,GAAQ,OAAIA,EAASmP,WAIlD/U,KACR,MA6DYg4D,GA3DH,WAAO,IAAD,EAC0BjpD,qBAD1B,mBACPtlB,EADO,KACOwuE,EADP,KAwBd,OArBAjxD,qBAAU,WACN,IAAIkxD,EAiBJ,OAfuB,uCAAG,4BAAA7uE,EAAA,sEACD8uE,GACjBl+C,QAFkB,cACtBi+C,EADsB,gBAIaE,GAC/Bn+C,QALkB,OAIhBo+C,EAJgB,OAOtBJ,GAEI,kBAAMI,KATY,2CAAH,oDAavBC,GAEOJ,IACR,IAEEzuE,EASD,eAAC,GAAD,CACI0e,MAAM,GACN1e,aAAcA,EACdgT,eAAgB,CAAEgO,MAAOiY,IACzBxa,aAAcA,GACdtQ,aAAcA,GACd8J,UAAWuwD,GACX5mD,UAAWiV,GACXjW,OAAQ+S,GACRvf,aAAcA,GACdoN,kBAAgB,EAVpB,UAYI,cAAC,GAAD,aAAUlhB,KAAK,aAAgBmmE,KAC/B,cAAC,GAAD,yBACInmE,KAAK,YACDu3D,IAFR,IAGIj3D,QAAS,CAAEwM,MAAO,aAEtB,cAAC,GAAD,aAAU9M,KAAK,YAAe66D,KAC9B,cAAC,GAAD,aAAU76D,KAAK,YAAemzD,KAC9B,cAAC,GAAD,aAAUnzD,KAAK,cAAiBsjE,KAChC,cAAC,GAAD,aAAUtjE,KAAK,WAAcy3D,QA5B7B,qBAAKl1C,UAAU,mBAAf,SACI,qBAAKA,UAAU,SAAf,2BCnDhBisD,IAAS7wD,OAAO,cAAC,GAAD,IAASqR,SAASC,eAAe,U,kCCPjD,2BAkBexyB,IAPE,WACb,IAAIgmB,EAAWC,cACf,OAAOpgB,uBAAY,SAAUmsE,GAEzB,YADkB,IAAdA,IAAwBA,GAAY,GACjCA,GAAahsD,EAAS5R,iBAC9B,CAAC4R,M,kCChBR,8BAsCeoB,IA9Ba,SAAUpS,QACpB,IAAVA,IAAoBA,EAAQ,KAChC,IAAIjV,EAAUC,cACVsO,EAA0B2jE,cAC9BzxD,qBAAU,WACN,IAAI0xD,EACAC,EAAyB,WACpB7jE,IAGDikB,SAASuvC,OAEToQ,EAAiB3qE,KAAKF,OAIlBE,KAAKF,MAAQ6qE,EAAiBl9D,GAC9BjV,IAEJmyE,EAAiB,QAMzB,OAHA3/C,SAAS6/C,iBAAiB,mBAAoBD,EAAwB,CAClEE,SAAS,IAEN,WACH,OAAO9/C,SAAS+/C,oBAAoB,mBAAoBH,EAAwB,CAAEE,SAAS,OAEhG,CAAC/jE,EAAyB0G,EAAOjV,M,kCCpCxC,aA8BeyyC,IAHK,SAAUpyC,EAAUkK,EAAKzG,GACzC,OAAOsB,YAAY,CAAEhG,KAAM,aAAciB,SAAUA,EAAUuD,QAAS,CAAE2G,IAAKA,IAASzG,K,kCC5B1F,aA+Be+/C,IAJC,SAAUxjD,EAAUiF,EAAMxB,GAEtC,YADa,IAATwB,IAAmBA,EAAO,IACvBF,YAAY,CAAEhG,KAAM,SAAUiB,SAAUA,EAAUuD,QAAS,CAAE0B,KAAMA,IAAUxB,K,kCC7BxF,aAgCe2jD,IAJC,SAAUpnD,EAAUwI,EAAI++C,EAAc9jD,GAElD,YADqB,IAAjB8jD,IAA2BA,EAAe,IACvCxiD,YAAY,CAAEhG,KAAM,SAAUiB,SAAUA,EAAUuD,QAAS,CAAEiF,GAAIA,EAAI++C,aAAcA,IAAkB9jD,K,kCC9BhH,8BA4CewmD,IAZC,SAAUjqD,EAAUwI,EAAI/E,GACpC,OAAO0yD,YAAkB,CAAEp3D,KAAM,SAAUiB,SAAUA,EAAUuD,QAAS,CAAEiF,GAAIA,IAAQ/E,GAAS,SAAU6B,GACrG,GAEA9E,OAAOC,KAAK6E,EAAMsI,MAAMiB,WAAWnO,OAAS,IAEvC4E,EAAMsI,MAAMiB,UAAU7O,GACvB,MAAM,IAAI0E,MAAM,8BAAiC1E,EAAW,mGAEhE,OAAOiD,IAAIqC,EAAO,CAAC,QAAS,YAAatF,EAAU,OAAQwI,S,kCCzCnE,aAgCe0hD,IAHC,SAAUlqD,EAAUwI,EAAIvD,EAAMsiD,EAAc9jD,GACxD,OAAOsB,YAAY,CAAEhG,KAAM,SAAUiB,SAAUA,EAAUuD,QAAS,CAAEiF,GAAIA,EAAIvD,KAAMA,EAAMsiD,aAAcA,IAAkB9jD,K,kCC9B5H,aA+Beu0D,IAHK,SAAUh4D,EAAUkK,EAAKjF,EAAMxB,GAC/C,OAAOsB,YAAY,CAAEhG,KAAM,aAAciB,SAAUA,EAAUuD,QAAS,CAAE2G,IAAKA,EAAKjF,KAAMA,IAAUxB,K,kCC7BtG,8CAAIvC,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YA8DjB4gE,IAVW,SAAUpiE,EAAUkD,EAAQsF,EAAI8rC,EAAYvoC,EAAMzC,EAAQ6oE,EAAqB1uE,GACrG,IAAIsK,EAAYhO,mBAAQ,WAAc,OAAOqyE,YAAcpyE,EAAUwI,EAAI2pE,EAAqBjvE,EAAQoG,KAAY,CAACA,EAAQtJ,EAAUwI,EAAI2pE,EAAqBjvE,IAC1JjD,EAAKk2D,YAAkB,CACvBp3D,KAAM,mBACNiB,SAAUA,EACVuD,QAAS,CAAEL,OAAQA,EAAQsF,GAAIA,EAAI8rC,WAAYA,EAAYvoC,KAAMA,EAAMzC,OAAQA,IAChFpI,EAASA,EAAS,GAAIuC,GAAU,CAAEsK,UAAWA,EAAWtD,OAAQ4nE,MAA4BC,EAAUvkE,GAAYwkE,EAAYxkE,IAAa7D,EAAMjK,EAAGgF,KAAME,EAAQlF,EAAGkF,MAAOD,EAAQjF,EAAGiF,MAAOE,EAAUnF,EAAGmF,QAASC,EAASpF,EAAGoF,OAEnO,MAAO,CAAEJ,KADEgiB,YAAYurD,EAAWxyE,EAAU+N,GAAY6iB,KACnC1mB,IAAKA,EAAK/E,MAAOA,EAAOD,MAAOA,EAAOE,QAASA,EAASC,OAAQA,IAGzF,IAAImtE,EAAa,SAAUh0B,EAAWzwC,GAAa,OAAO,SAAUzI,GAAS,OAAOmtE,YAAcntE,EAAOk5C,EAAWzwC,KAChHukE,EAAY,SAAUvkE,GAAa,OAAO,SAAUzI,GACpD,OAAOotE,YAAOptE,EAAOyI,KAErBwkE,EAAc,SAAUxkE,GAAa,OAAO,SAAUzI,GACtD,OAAOqtE,YAASrtE,EAAOyI,M,kCC7E3B,YACI6kE,EAAsB,WAAc,OAAOzuE,QAAQkT,WACvDu7D,EAAoBh5D,OAAS,WAAc,OAAOzV,QAAQkT,QAAQ,OAClEu7D,EAAoB/4D,OAAS,WAAc,OAAO1V,QAAQkT,QAAQ,OAClEu7D,EAAoBvgC,WAAa,WAAc,OAAOluC,QAAQkT,QAAQ,OACtEu7D,EAAoBv+B,QAAU,WAAc,OAAOlwC,QAAQkT,QAAQ,OACnEu7D,EAAoB7+B,QAAU,WAAc,OAAO5vC,QAAQkT,QAAQ,OACnEu7D,EAAoBC,iBAAmB,WAAc,OAAO1uE,QAAQkT,QAAQ,OAC5Eu7D,EAAoBE,OAAS,WAAc,OAAO3uE,QAAQkT,QAAQ,OAClEu7D,EAAoBzoB,OAAS,WAAc,OAAOhmD,QAAQkT,QAAQ,OAClEu7D,EAAoBG,WAAa,WAAc,OAAO5uE,QAAQkT,QAAQ,OACtE,IAAI27D,EAAW,CACXp5D,OAAQrT,IACRsT,OAAQnT,IACR2rC,WAAY1rC,IACZ0tC,QAASluC,IACT4tC,QAAS1tC,IACTwsE,iBAAkBvsE,IAClBwsE,OAAQ1sE,IACR+jD,OAAQ3jD,IACRusE,WAAYtsE,KA4BDmS,IAjBiB,SAAUq6D,GAetC,OAdY,IAAIjwE,MAAM4vE,EAAqB,CACvC3vE,IAAK,SAAU+M,EAAG7M,GACd,OAAO,SAAUnD,EAAU2F,GACvB,GAAInF,OAAOC,KAAKuyE,GAAUlvE,SAASX,EAAKe,YAAa,CACjD,IAAIgvE,EAAYF,EAAS7vE,EAAKe,YAC9B,OAAO+uE,EAAmBC,EAAWlzE,EAAU2F,GAEnD,OAAOstE,EAAmB9vE,EAAKe,WAAYlE,EAAU2F,KAG7D9D,MAAO,SAAUmO,EAAG0kB,EAAItxB,GACpB,OAAO6vE,EAAmBpxE,MAAMoxE,EAAoB7vE,Q,sCCZ5DP,E,+GChBOswE,G,MAAgB,oB,iBDfvBjyE,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5BY,EAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAcP8wE,EAAgB,GAEhBC,EAAsB,CAAE5oE,OAAQ0oE,GAkGhCG,EAAsB,WACtB,OAAOC,yBAAe,CAClB,SAAUjuE,EAAOtF,GACb,OAAOiD,IAAIqC,EAAO,CAAC,QAAS,YAAatF,EAAU,UAEvD,SAAUgQ,EAAG0kB,EAAIxqB,GAAO,OAAOA,KAChC,SAAUmxB,EAAcnxB,GACvB,OAAOmxB,EACDnxB,EAAIzB,KAAI,SAAUD,GAAM,OAAO6yB,EAAa7yB,MAC5C0B,EAAIzB,KAAI,SAAUD,WAM5BgrE,EAAcnzC,KAAS,WACP7/B,OAAOC,KAAK2yE,GAClB/rE,SAAQ,SAAUrH,GACxB,IAAIyzE,EAAUrxE,EAAegxE,EAAcpzE,IAMvC0zE,EAAiBD,EAChBlqE,QAAO,SAAU0F,EAAKhP,GACvB,IAAIiK,EAAMjK,EAAGiK,IACb,OAAOypE,IAAM1kE,EAAK/E,KACnB,IACEZ,QAAO,SAAUmH,GAAK,OAAY,MAALA,GAAmB,KAANA,KACjB,IAA1BijE,EAAehzE,QAenBmC,EACKkxC,QAAQ/zC,EAAU,CAAEkK,IAAKwpE,GAAkBL,GAC3CxtE,MAAK,SAAUwN,GAEhB,OAAOs+D,IAASiC,yBAAwB,WACpC,OAAOH,EAAQpsE,SAAQ,SAAUpH,GAC7B,IAAIiK,EAAMjK,EAAGiK,IAAK3E,EAAWtF,EAAGsF,SAAUpF,EAAYF,EAAGE,WACzDoF,GAAS,SAAUK,GAAa,OAAQ1E,EAASA,EAAS,GAAI0E,GAAY,CAAEV,MAAO,KAAME,SAAS,EAAOC,QAAQ,OAC7GlF,IAKAA,EAAU,CAAE8E,KAJEiF,EAAIzB,KAAI,SAAUD,GAC5B,OAAO6K,EAASpO,KAAKiuC,MAAK,SAAU2gC,GAAS,OAAOA,EAAMrrE,IAAMA,mBAQ/E1C,OAAM,SAAUZ,GACjB,OAAOysE,IAASiC,yBAAwB,WACpC,OAAOH,EAAQpsE,SAAQ,SAAUpH,GAC7B,IAAIsF,EAAWtF,EAAGsF,SAAUlF,EAAYJ,EAAGI,UAC3CkF,EAAS,CAAEL,MAAOA,EAAOE,SAAS,EAAOC,QAAQ,IACjDhF,GAAaA,EAAU6E,mBAI5BkuE,EAAcpzE,IAxCjByzE,EAAQpsE,SAAQ,SAAUpH,GACZA,EAAGiK,IAAb,IAAkB3E,EAAWtF,EAAGsF,SAAUpF,EAAYF,EAAGE,UACzDoF,EAAS,CACLN,KAAMyqC,EACNtqC,SAAS,EACTC,QAAQ,IAERlF,GACAA,EAAU,CAAE8E,KAAMyqC,aAmClCA,EAAa,GACF0b,IAhIE,SAAUprD,EAAUkK,EAAKzG,QACtB,IAAZA,IAAsBA,EAAU,IAGpC,IAAIqwE,EAAa/zE,kBAAQuzE,EAAqB,IAC1CruE,EAAOgiB,aAAY,SAAU3hB,GAC7B,OAAOwuE,EAAWxuE,EAAOtF,EAAUkK,MAEnCjK,EAAK+E,YAAgB,CACrBC,KAAMA,EACNC,MAAO,KACPE,QAAwB,IAAf8E,EAAIxJ,OACb2E,OAAuB,IAAf6E,EAAIxJ,QACS,IAAhBuE,EAAKvE,SAAiBuE,EAAKnB,cAAS1D,KACzCkF,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GA+BjC,OA9BK0I,IAAQrD,EAAML,KAAMA,IACrBM,EAASrE,EAASA,EAAS,GAAIoE,GAAQ,CAAEL,KAAMA,EAAMI,QAAQ,KAEjExC,EAAeC,cACfsd,qBAAU,WACDgzD,EAAcpzE,KACfozE,EAAcpzE,GAAY,IAgB9BozE,EAAcpzE,GAAYozE,EAAcpzE,GAAUyN,OAAO,CACrDvD,IAAKA,EACL3E,SAAUA,EACVpF,UAAWsD,GAAWA,EAAQtD,UAC9BE,UAAWoD,GAAWA,EAAQpD,YAElCmzE,MACD,CAACxtE,KAAKC,UAAU,CAAEjG,SAAUA,EAAUkK,IAAKA,EAAKzG,QAASA,IAAYZ,IACjEyC,I,iCE3HX,oEAAO,IAAIkR,EAAc,iBAId5D,EAAa,WAAc,MAAQ,CAC1C7T,KAAMyX,K,kCCLV,oCAmBe1W,IAPM,SAAUi0E,GAC3B,IAAInuD,EAAWC,cACf,OAAOpgB,uBAAY,SAAUuuE,GACzB/yD,aAAS+yD,IAAcD,EAAW,kIAClCnuD,EAAS0b,YAAmB0yC,GAAaD,EAAW,OACrD,CAACnuD,EAAUmuD,M,kCCjBlB,4CAAI7yE,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAuCjB9B,IAjBG,WACd,IAAIkmB,EAAWC,cACXjQ,EAAU8hB,cACd,OAAOjyB,uBAAY,SAAU7E,EAAYmT,EAAUvL,EAAIvD,QAClC,IAAb8O,IAAuBA,EAAW,IACjCnT,EASLgV,EAAQ9E,KAAKmD,YAAkBrT,EAAYmT,EAAUvL,EAAIvD,IARjD2Q,EAAQjE,SAASrM,OAASsQ,EAAQjE,SAASwI,OAC3CvE,EAAQlD,QAAQxR,EAASA,EAAS,GAAI0U,EAAQjE,UAAW,CAAErM,MAAO,GAAI6U,YAAQ/Z,KAG9EwlB,EAAS5R,iBAKlB,CAAC4R,EAAUhQ,M,qCCNdq+D,E,0CCxCW,GACXr6D,OAAQ,WAAc,OAAOzV,QAAQkT,QAAQ,CAAEpS,KAAM,QACrD4U,OAAQ,WAAc,OAAO1V,QAAQkT,QAAQ,CAAEpS,KAAM,QACrDotC,WAAY,WAAc,OAAOluC,QAAQkT,QAAQ,CAAEpS,KAAM,MACzDovC,QAAS,WAAc,OAAOlwC,QAAQkT,QAAQ,CAAEpS,KAAM,GAAIE,MAAO,KACjE4uC,QAAS,WAAc,OAAO5vC,QAAQkT,QAAQ,CAAEpS,KAAM,MACtD4tE,iBAAkB,WAAc,OAAO1uE,QAAQkT,QAAQ,CAAEpS,KAAM,GAAIE,MAAO,KAC1E2tE,OAAQ,WAAc,OAAO3uE,QAAQkT,QAAQ,CAAEpS,KAAM,QACrDklD,OAAQ,WAAc,OAAOhmD,QAAQkT,QAAQ,CAAEpS,KAAM,QACrD8tE,WAAY,WAAc,OAAO5uE,QAAQkT,QAAQ,CAAEpS,KAAM,O,4EDTzDsd,EAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,EAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAoGzDyjE,EAAsC,WAAc,OAAO/vE,QAAQkT,SAAQ,IAChE88D,EAzCe,WAC1B,IAAInjE,EAAe6O,cACftH,EAASuH,cACTvgB,EAASC,cACT40E,EAAuB3uE,uBAAY,SAAUP,EAAO8a,GA8BpD,OAzBKi0D,IACDA,EAAmBjjE,EACdyH,WAAWvT,GACXW,MAAK,WAAc,OAAO,KAC1BC,OAAM,SAAU9D,GAAK,OAAOugB,OAAU,OAAQ,OAAQ,GAAQ,WAC/D,IAAI3hB,EACJ,OAAO+O,EAAY7N,MAAM,SAAU7B,GAY/B,OAXAW,EAAaoB,GAAKA,EAAEpB,WACdoB,EAAEpB,WACFsE,GAASA,EAAMtE,WACXsE,EAAMtE,gBACNR,EACVmY,EAAO,GAAI3X,KACQof,GACdhe,IAAmB,IAAdA,EAAEgQ,SACP9M,IAA2B,IAAlBA,EAAM8M,UAEhBzS,EAAO,6BAA8B,WAClC,CAAC,GAAc,YAGzB80E,SAAQ,WACTJ,OAAmB7zE,MAGpB6zE,IACR,CAACjjE,EAAcuH,EAAQhZ,IAC1B,OAAOyR,EACDojE,EACAF,G,SE9GNhzE,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5B+gB,EAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,EAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OAwBzD1O,EAAkC,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAAK,IAAIK,KAAKJ,EAAOb,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,IAAMO,EAAEC,QAAQR,GAAK,IAC9EL,EAAEK,GAAKJ,EAAEI,IACb,GAAS,MAALJ,GAAqD,oBAAjCb,OAAO0B,sBACtB,KAAIZ,EAAI,EAAb,IAAgBG,EAAIjB,OAAO0B,sBAAsBb,GAAIC,EAAIG,EAAEf,OAAQY,IAC3DU,EAAEC,QAAQR,EAAEH,IAAM,GAAKd,OAAOkB,UAAUS,qBAAqBP,KAAKP,EAAGI,EAAEH,MACvEF,EAAEK,EAAEH,IAAMD,EAAEI,EAAEH,KAE1B,OAAOF,GAEPgB,EAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAkBPgyE,EAAkB,GAClBC,EAA0B,GAC1BC,EAA6B,EA0K7BC,EAAU,SAAVA,EAAoBC,GACpB,OAAO,IAAIvwE,SAAQ,SAAUkT,GACzB,OAAOq9D,IAAcr9D,UARX,IAAVzC,IAAoBA,EAAQ,KACzB,IAAIzQ,SAAQ,SAAUkT,GACzBs9D,WAAWt9D,EAASzC,OAMqB/O,MAAK,WAAc,OAAO4uE,EAAQC,MATvE,IAAU9/D,MAYlBggE,EAAU,SAAU30E,GACpB,IAAIlB,EAAOkB,EAAGlB,KAAMwE,EAAUtD,EAAGsD,QAASvD,EAAWC,EAAGD,SAAUyK,EAASxK,EAAGwK,OAAQkb,EAAO1lB,EAAG0lB,KAAMxlB,EAAYF,EAAGE,UAAWE,EAAYJ,EAAGI,UAAWwC,EAAe5C,EAAG4C,aAAc+iB,EAAW3lB,EAAG2lB,SAAUtP,EAAQrW,EAAGqW,MAAOzC,EAAW5T,EAAG4T,SAAUugE,EAAuBn0E,EAAGm0E,qBAAsB5wE,EAAevD,EAAGuD,aAC1TsL,EAAgBwH,EAAM0tC,WAAWp2C,MAAMiB,UAAU7O,GACrD,OCpQ2B,SAAUjB,EAAMwE,EAASuL,GACpD,IAAI7H,EAAM,IAAIE,KACd,OAAQpI,GACJ,IAAK,UACD,OAAQkE,IAAI6L,EAAe,CACvB,OACA,iBACA9I,KAAKC,UAAU1C,GACf,aACC0D,EACT,IAAK,SACD,OAAQ6H,GACJA,EAAchE,UACdgE,EAAchE,SAASvH,EAAQiF,IAAMvB,EAC7C,IAAK,UACD,OAAQ6H,GACJA,EAAchE,UACdvH,EAAQ2G,IAAIsxC,OAAM,SAAUhzC,GAAM,OAAOsG,EAAchE,SAAStC,GAAMvB,KAC9E,QACI,OAAO,GDiPX4tE,CAAkB91E,EAAMwE,EAASuL,GAC1BgmE,EAAgB,CACnB/1E,KAAMA,EACNwE,QAASA,EACTvD,SAAUA,EACVyK,OAAQA,EACRkb,KAAMA,EACNxlB,UAAWA,EACX2O,cAAeA,EACf8W,SAAUA,IAGX/R,EACDkhE,EAAqB,CACnBh2E,KAAMA,EACNwE,QAASA,EACTvD,SAAUA,EACVyK,OAAQA,EACRkb,KAAMA,EACNxlB,UAAWA,EACXE,UAAWA,EACXwC,aAAcA,EACd+iB,SAAUA,EACVwuD,qBAAsBA,EACtB5wE,aAAcA,IAEhBwxE,EAAa,CACXj2E,KAAMA,EACNwE,QAASA,EACTvD,SAAUA,EACVyK,OAAQA,EACRkb,KAAMA,EACNxlB,UAAWA,EACXE,UAAWA,EACXwC,aAAcA,EACd+iB,SAAUA,EACVwuD,qBAAsBA,EACtB5wE,aAAcA,KAYtBuxE,EAAuB,SAAU90E,GACjC,IAAIlB,EAAOkB,EAAGlB,KAAMwE,EAAUtD,EAAGsD,QAASvD,EAAWC,EAAGD,SAAUyK,EAASxK,EAAGwK,OAAQkb,EAAO1lB,EAAG0lB,KAAMxlB,EAAYF,EAAGE,UAAWE,EAAYJ,EAAGI,UAAWwC,EAAe5C,EAAG4C,aAAc+iB,EAAW3lB,EAAG2lB,SAAUwuD,EAAuBn0E,EAAGm0E,qBAAsB5wE,EAAevD,EAAGuD,aA+FpR,OA9FAoiB,EAASzmB,eACLiP,QACAA,OAAO4jE,iBAAiB,eAAgBiD,EAAyB,CAC7DhD,SAAS,IAGjBrsD,EAAS,CACL7mB,KAAM0L,EACNlH,QAASA,EACTsG,KAAM3I,EAAS,CAAElB,SAAUA,GAAY2lB,KAE3CC,EAAS,CACL7mB,KAAM0L,EAAS,cACflH,QAASA,EACTsG,KAAM,CACF7J,SAAUA,EACV+J,MAAOmrE,YAAan2E,GACpB+K,YAAY,KAGpB3J,GAAaA,EAAU,IACvBqxB,IAAqB2jD,KAAK,OAAO,SAAUl1E,GACvC,IAAIyxB,EAASzxB,EAAGyxB,OAEhB,GADA9L,EAASvmB,eACLqyB,EAQA,OAPA9L,EAASpT,YAAiB,6BAC1BoT,EAAS5R,oBACL5F,QACAA,OAAO8jE,oBAAoB,eAAgB+C,EAAyB,CAChEhD,SAAS,KAKrBrsD,EAAS,CACL7mB,KAAM0L,EAAS,WACflH,QAASA,EACTsG,KAAM3I,EAAS,CAAElB,SAAUA,GAAY2lB,KAE3CC,EAAS,CAAE7mB,KAAMmO,MACjB,IACIrK,EAAa9D,GACR8C,MAAMgB,EAAkC,qBAAb7C,EAC1B,CAACA,EAAUuD,GACXC,GACDqC,MAAK,SAAUwN,GAIhBuS,EAAS,CACL7mB,KAAM0L,EAAS,WACflH,QAAS8P,EACTlI,eAAgB5H,EAChBsG,KAAM3I,EAASA,EAAS,GAAIykB,GAAO,CAAE3lB,SAAUA,EAAUmK,cAAe+qE,YAAan2E,GAAOqL,YAAaC,QAE7Gub,EAAS,CAAE7mB,KAAMsL,MACb+D,QACAA,OAAO8jE,oBAAoB,eAAgB+C,EAAyB,CAChEhD,SAAS,IAGjBmD,OAECtvE,OAAM,SAAUZ,GASjB,OARIkJ,QACAA,OAAO8jE,oBAAoB,eAAgB+C,EAAyB,CAChEhD,SAAS,IAMVmC,EAAqBlvE,GAAOW,MAAK,SAAUwvE,GAC1CA,IAEJzvD,EAAS,CACL7mB,KAAM0L,EAAS,WACfvF,MAAOA,EAAM8M,QAAU9M,EAAM8M,QAAU9M,EACvC3B,QAAS2B,EAAMnE,KAAOmE,EAAMnE,KAAO,KACnCoK,eAAgB5H,EAChBsG,KAAM3I,EAASA,EAAS,GAAIykB,GAAO,CAAE3lB,SAAUA,EAAUmK,cAAe+qE,YAAan2E,GAAOqL,YAAa+C,QAE7GyY,EAAS,CAAE7mB,KAAMoO,IAAajI,MAAOA,IACrC7E,GAAaA,EAAU6E,UAInC,MAAOlD,GAIH,MAAM,IAAI0C,MAAM,qFAGjBP,QAAQkT,QAAQ,KAGvB49D,EAA0B,SAAUlvD,GAGpC,OAFAA,EAAMC,iBACND,EAAMuvD,YAAc,GACb,2EAGPF,EAAwB,WAAc,OAAO7yD,OAAU,OAAQ,OAAQ,GAAQ,WAC/E,IAAI7I,EACJ,OAAO/J,EAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EACD,OAAMskE,EAAwB7zE,OAAS,GACvCgZ,EAAQtX,EAAemyE,GAIvBA,EAAwBgB,OAAO,EAAGhB,EAAwB7zE,QACnD,CAAC,EAAayD,QAAQ8M,IAAIyI,EAAMjR,KAAI,SAAU9C,GAAU,OAAOxB,QAAQkT,QAAQu9D,EAAQhzE,KAAK,KAAM+D,UANvD,CAAC,EAAa,GAOpE,KAAK,EAID,OAHA1F,EAAGiQ,OAEHskE,GAA8B96D,EAAMhZ,OAC7B,CAAC,EAAa,GACzB,KAAK,EAMD,OALAgZ,EAAQtX,EAAekyE,GAIvBA,EAAgBiB,OAAO,EAAGjB,EAAgB5zE,QACnC,CAAC,EAAayD,QAAQ8M,IAAIyI,EAAMjR,KAAI,SAAU9C,GAAU,OAAOxB,QAAQkT,QAAQu9D,EAAQhzE,KAAK,KAAM+D,SAC7G,KAAK,EACD1F,EAAGiQ,OAEHskE,GAA8B96D,EAAMhZ,OACpCT,EAAGgQ,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,WAUxB+kE,EAAe,SAAU/0E,GACzB,IAAIlB,EAAOkB,EAAGlB,KAAMwE,EAAUtD,EAAGsD,QAASvD,EAAWC,EAAGD,SAAUyK,EAASxK,EAAGwK,OAAQkb,EAAO1lB,EAAG0lB,KAAMxlB,EAAYF,EAAGE,UAAWE,EAAYJ,EAAGI,UAAWwC,EAAe5C,EAAG4C,aAAc+iB,EAAW3lB,EAAG2lB,SAAUwuD,EAAuBn0E,EAAGm0E,qBAAsB5wE,EAAevD,EAAGuD,aACpRoiB,EAAS,CACL7mB,KAAM0L,EACNlH,QAASA,EACTsG,KAAM3I,EAAS,CAAElB,SAAUA,GAAY2lB,KAE3CC,EAAS,CACL7mB,KAAM0L,EAAS,WACflH,QAASA,EACTsG,KAAM3I,EAAS,CAAElB,SAAUA,GAAY2lB,KAE3CC,EAAS,CAAE7mB,KAAMmO,MACjB,IACI,OAAOrK,EAAa9D,GACf8C,MAAMgB,EAAkC,qBAAb7C,EAC1B,CAACA,EAAUuD,GACXC,GACDqC,MAAK,SAAUwN,GAYhB,OARAuS,EAAS,CACL7mB,KAAM0L,EAAS,WACflH,QAAS8P,EACTlI,eAAgB5H,EAChBsG,KAAM3I,EAASA,EAAS,GAAIykB,GAAO,CAAE3lB,SAAUA,EAAUmK,cAAe+qE,YAAan2E,GAAOqL,YAAaC,QAE7Gub,EAAS,CAAE7mB,KAAMsL,MACjBlK,GAAaA,EAAUkT,GAChBA,KAENvN,OAAM,SAAUZ,GAIjB,OAAOkvE,EAAqBlvE,GAAOW,MAAK,SAAUwvE,GAC9C,IAAIA,EAWJ,MATAzvD,EAAS,CACL7mB,KAAM0L,EAAS,WACfvF,MAAOA,EAAM8M,QAAU9M,EAAM8M,QAAU9M,EACvC3B,QAAS2B,EAAMnE,KAAOmE,EAAMnE,KAAO,KACnCoK,eAAgB5H,EAChBsG,KAAM3I,EAASA,EAAS,GAAIykB,GAAO,CAAE3lB,SAAUA,EAAUmK,cAAe+qE,YAAan2E,GAAOqL,YAAa+C,QAE7GyY,EAAS,CAAE7mB,KAAMoO,IAAajI,MAAOA,IACrC7E,GAAaA,EAAU6E,GACjBA,QAIlB,MAAOlD,GAIH,MAAM,IAAI0C,MAAM,mFAGpBowE,EAAkB,SAAU70E,GAC5B,IAAIlB,EAAOkB,EAAGlB,KAAMwE,EAAUtD,EAAGsD,QAASvD,EAAWC,EAAGD,SAAUyK,EAASxK,EAAGwK,OAAQkb,EAAO1lB,EAAG0lB,KAAMxlB,EAAYF,EAAGE,UAAW2O,EAAgB7O,EAAG6O,cAAe8W,EAAW3lB,EAAG2lB,SAChLA,EAAS,CACL7mB,KAAM0L,EACNlH,QAASA,EACTsG,KAAM3I,EAAS,CAAElB,SAAUA,GAAY2lB,KAE3C,IAAItS,ECjfwB,SAAUtU,EAAMwE,EAASuL,GACrD,OAAQ/P,GACJ,IAAK,UACD,IAAIy2E,EAAS1mE,EAAc7J,KACvBs7B,EAAmBv6B,KAAKC,UAAU1C,GAClCkyE,EAAgB3mE,EAAcE,KAAKrC,eAAe4zB,GACtD,MAAO,CACHt7B,KAAMwwE,EAAcvrE,IAAIzB,KAAI,SAAUD,GAAM,OAAOgtE,EAAOhtE,MAC1DrD,MAAOswE,EAActwE,OAG7B,IAAK,SACD,MAAO,CAAEF,KAAM6J,EAAc7J,KAAK1B,EAAQiF,KAC9C,IAAK,UACD,MAAO,CACHvD,KAAM1B,EAAQ2G,IAAIzB,KAAI,SAAUD,GAAM,OAAOsG,EAAc7J,KAAKuD,OAExE,QACI,MAAM,IAAI9D,MAAM,4CD+dTgxE,CAAmB32E,EAAMwE,EAASuL,GAQjD,OAPA8W,EAAS,CACL7mB,KAAM0L,EAAS,WACflH,QAAS8P,EACTlI,eAAgB5H,EAChBsG,KAAM3I,EAASA,EAAS,GAAIykB,GAAO,CAAE3lB,SAAUA,EAAUmK,cAAe+qE,YAAan2E,GAAOqL,YAAaC,IAAWY,WAAW,MAEnI9K,GAAaA,EAAUkT,GAChBlP,QAAQkT,QAAQhE,IAEZvQ,IArWO,WAClB,IAAI8iB,EAAWC,cACXhjB,EAAeqV,qBAAWe,MAAwB25D,EAClD+C,EAAe1uD,aAAY,SAAU3hB,GAAS,OAAOA,EAAMsI,MAAMwB,GAAGtF,cACpEwM,EAAQs/D,cACRxB,EAAuBD,IAiE3B,OAhEwBp0E,mBAAQ,WAC5B,OAAO,IAAIiD,MAAMH,EAAc,CAC3BI,IAAK,SAAUC,EAAQC,GACnB,GAAoB,kBAATA,EAGX,OAAO,WAEH,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAK7B,UAAUd,OAAQ2C,IACpCD,EAAKC,GAAM7B,UAAU6B,GAEzB,IAAIpD,EAAKqD,YAA6BF,GAAOpD,EAAWC,EAAGD,SAAUuD,EAAUtD,EAAGsD,QAASC,EAAevD,EAAGuD,aAAcC,EAAUxD,EAAGwD,QACpI1E,EAAOoE,EAAKe,WACZhE,EAAKuD,GAAW,GAAIkQ,EAAKzT,EAAGuK,OAAQA,OAAgB,IAAPkJ,EAAgB,eAAiBA,EAAIC,EAAK1T,EAAG2T,SAAUA,OAAkB,IAAPD,GAAwBA,EAAI0Q,EAAKpkB,EAAGC,UAAWA,OAAmB,IAAPmkB,OAAgBlkB,EAAYkkB,EAAIC,EAAKrkB,EAAGG,UAAWA,OAAmB,IAAPkkB,OAAgBnkB,EAAYmkB,EAAIoB,EAAO5jB,EAAO7B,EAAI,CAAC,SAAU,WAAY,YAAa,cACnU,GAAkC,oBAAvB2C,EAAa9D,GACpB,MAAM,IAAI2F,MAAM,kCAAoC3F,GAExD,GAAIoB,GAAkC,oBAAdA,EACpB,MAAM,IAAIuE,MAAM,2CAEpB,GAAIrE,GAAkC,oBAAdA,EACpB,MAAM,IAAIqE,MAAM,2CAEpB,GAAImP,IAAa1T,EACb,MAAM,IAAIuE,MAAM,iFAEpB,IAAIiB,EAAS,CACT8E,OAAQA,EACR5H,aAAcA,EACd+iB,SAAUA,EACVwuD,qBAAsBA,EACtB/zE,UAAWA,EACXF,UAAWA,EACXoD,QAASA,EACTvD,SAAUA,EACV2lB,KAAMA,EACNrP,MAAOA,EACPvX,KAAMA,EACNyE,aAAcA,EACdqQ,SAAUA,GAEd,OAAI8hE,GAII9hE,EACA0gE,EAAwBzjE,KAAKnL,GAG7B2uE,EAAgBxjE,KAAKnL,GAEzB6uE,IAMOC,GAAQ,WAAc,OAAsC,IAA/BD,MAEjCI,EAAQjvE,SAI5B,CAAC9C,EAAc+iB,EAAU+vD,EAAcvB,EAAsB99D,M,iCElPpE,YAUeg/B,IAHE,WACb,OAAOruB,aAAY,SAAUqZ,GAAc,OAAOA,EAAW1yB,MAAMwB,GAAGb,iB,iCCR1E,6JAAIrN,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAI5BkI,EAAe,GAuBRgpE,EAAS,SAAUptE,EAAOyI,GACjC,OAAOzI,EAAMsI,MAAMuB,WAAWnB,UAAUD,IACpCzI,EAAMsI,MAAMuB,WAAWnB,UAAUD,GAAW7D,KAEzCyoE,EAAW,SAAUrtE,EAAOyI,GACnC,OAAOzI,EAAMsI,MAAMuB,WAAWnB,UAAUD,IACpCzI,EAAMsI,MAAMuB,WAAWnB,UAAUD,GAAW5I,OAEzCstE,EAAgB,SAAUntE,EAAOk5C,EAAWzwC,GACnD,IAAI7D,EAAMwoE,EAAOptE,EAAOyI,GACxB,GAAmB,qBAAR7D,EAUX,OAPK5E,EAAMsI,MAAMiB,UAAU2vC,IAEvBh7B,QAAQte,MAAM,qBAAwBs5C,EAAxB,sEAC6DA,EAD7D,qJAGyG,CAAEt0C,IAAKA,IAE3HA,EACFzB,KAAI,SAAUD,GACf,IAAIxI,EAAWsF,EAAMsI,MAAMiB,UAAU2vC,GACrC,GAAKx+C,EAGL,OAAOA,EAASiF,KAAKuD,MAEpBc,QAAO,SAAUhH,GAAK,MAAoB,qBAANA,KACpCiH,QAAO,SAAUyT,EAAMzU,GAExB,OADAyU,EAAKzU,EAAOC,IAAMD,EACXyU,IACR,KA4BH64D,EAAuB,SAAUjsE,EAAe5J,GAAY,OAAOQ,OAAOC,KAAKmJ,GAAeN,QAAO,SAAUzF,GAAO,OAAOA,EAAIC,SAAS9D,OAC1I81E,EAA0B,SAAUC,GAAc,OAAO,SAAUnsE,EAAe/F,GAClF,IAAI5D,EACA+1E,EAAYpsE,EAAc/F,GAAKqG,IAAIZ,QAAO,SAAUd,GAAM,OAAQutE,EAAWjyE,SAAS0E,MAC1F,OAAIwtE,EAAUt1E,SAAWkJ,EAAc/F,GAAKqG,IAAIxJ,OACrCkJ,EAEJ1I,EAASA,EAAS,GAAI0I,KAAiB3J,EAAK,IAAO4D,GAAO,CAC7DqG,IAAK8rE,EACL7wE,MAAO6wE,EAAUt1E,QAClBT,MAEImyE,EAAgB,SAAU5zB,EAAWh2C,EAAIxI,EAAUkD,EAAQoG,QACnD,IAAXA,IAAqBA,EAAS,IAClC,IAAI7I,EAAOD,OAAOC,KAAK6I,GACvB,OAAK7I,EAAKC,OAGHV,EAAW,IAAMw+C,EAAY,IAAMt7C,EAAS,IAAMsF,EAAK,IAAM/H,EAC/DgI,KAAI,SAAU5E,GAAO,OAAOA,EAAM,IAAMmC,KAAKC,UAAUqD,EAAOzF,OAC9Do6B,KAAK,KAJCj+B,EAAW,IAAMw+C,EAAY,IAAMt7C,EAAS,IAAMsF,GAMlDytE,IAxGQ,SAAUrsE,EAAea,GAC5C,IAAIxK,EAEJ,QADsB,IAAlB2J,IAA4BA,EAAgBF,GAC5Ce,EAAOZ,MAAQY,EAAOZ,KAAKC,WAAY,CACvC,IAAIiE,EAAY8nE,EAAqBjsE,EAAea,EAAOZ,KAAK7J,UAChE,GAAIyK,EAAOZ,KAAKE,QAAUrD,IACtB,OAAOqH,EAAUxE,OAAOusE,EAAwB,CAACrrE,EAAOlH,QAAQiF,KAAMoB,GAE1E,GAAIa,EAAOZ,KAAKE,QAAUpD,IACtB,OAAOoH,EAAUxE,OAAOusE,EAAwBrrE,EAAOlH,QAAQ2G,KAAMN,GAG7E,OAAQa,EAAO1L,MACX,KAAKm3E,IACD,OAAOh1E,EAASA,EAAS,GAAI0I,KAAiB3J,EAAK,IAAOwK,EAAOZ,KAAKkE,WAAa,CAC/E7D,IAAKO,EAAOlH,QAAQ0B,KAAKwD,KAAI,SAAUF,GAAU,OAAOA,EAAOC,MAC/DrD,MAAOsF,EAAOlH,QAAQ4B,OACvBlF,IACP,QACI,OAAO2J,K,iCCjCnB,uEAAI1I,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAE5B+gB,EAAwC,SAAU3S,EAAS4S,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIte,WAAU,SAAUkT,EAASjT,GAC/C,SAASue,EAAU7Z,GAAS,IAAMiI,EAAK2R,EAAUrS,KAAKvH,IAAW,MAAO9G,GAAKoC,EAAOpC,IACpF,SAAS4gB,EAAS9Z,GAAS,IAAMiI,EAAK2R,EAAS,MAAU5Z,IAAW,MAAO9G,GAAKoC,EAAOpC,IACvF,SAAS+O,EAAK8R,GAJlB,IAAe/Z,EAIa+Z,EAAOjS,KAAOyG,EAAQwL,EAAO/Z,QAJ1CA,EAIyD+Z,EAAO/Z,MAJhDA,aAAiB2Z,EAAI3Z,EAAQ,IAAI2Z,GAAE,SAAUpL,GAAWA,EAAQvO,OAITjD,KAAK8c,EAAWC,GAClG7R,GAAM2R,EAAYA,EAAU7gB,MAAM+N,EAAS4S,GAAc,KAAKnS,YAGlEV,EAA4C,SAAUC,EAAS7O,GAC/D,IAAsG8O,EAAGC,EAAG1O,EAAG2O,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9O,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO+O,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAO1O,OAAUiO,EACvJ,SAASO,EAAK/O,GAAK,OAAO,SAAUkP,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM1O,EAAY,EAARsP,EAAG,GAASZ,EAAC,OAAaY,EAAG,GAAKZ,EAAC,SAAe1O,EAAI0O,EAAC,SAAe1O,EAAEQ,KAAKkO,GAAI,GAAKA,EAAEO,SAAWjP,EAAIA,EAAEQ,KAAKkO,EAAGY,EAAG,KAAKE,KAAM,OAAOxP,EAE3J,OADI0O,EAAI,EAAG1O,IAAGsP,EAAK,CAAS,EAARA,EAAG,GAAQtP,EAAE0H,QACzB4H,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtP,EAAIsP,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEnH,MAAO4H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkBzP,GAAZA,EAAI4O,EAAEG,MAAYzP,OAAS,GAAKU,EAAEA,EAAEV,OAAS,MAAkB,IAAVgQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAActP,GAAMsP,EAAG,GAAKtP,EAAE,IAAMsP,EAAG,GAAKtP,EAAE,IAAM,CAAE4O,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAIA,EAAIsP,EAAI,MAC7D,GAAItP,GAAK4O,EAAEC,MAAQ7O,EAAE,GAAI,CAAE4O,EAAEC,MAAQ7O,EAAE,GAAI4O,EAAEI,IAAIU,KAAKJ,GAAK,MACvDtP,EAAE,IAAI4O,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAK3P,EAAKa,KAAKgO,EAASI,GAC1B,MAAOhO,GAAK0O,EAAK,CAAC,EAAG1O,GAAI8N,EAAI,EAjBrB,QAiBoCD,EAAIzO,EAAI,EACtD,GAAY,EAARsP,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5H,MAAO4H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BG,CAAK,CAACxP,EAAGkP,OA+BzD0lE,EAAkB,GAqBlBC,EAAsB,SAAUnxE,GAAQ,YAAgB7E,IAAT6E,GA2JpCkxD,IA7GS,SAAU7xD,EAAOb,EAAS4yE,EAAcC,EAAeC,QAC3D,IAAZ9yE,IAAsBA,EAAU,CAAEgH,OAAQ,sBACzB,IAAjB4rE,IAA2BA,EA5DT,SAAU/xE,GAAS,OAAO,SAAUgB,GAC1D,IAAIzB,EAAMmC,KAAKC,UAAU/E,EAASA,EAAS,GAAIoD,GAAQ,CAAEvF,KAAMm2E,YAAa5wE,EAAMvF,SAClF,OAAOuG,EAAMsI,MAAMsB,cAAcrL,GAC3ByB,EAAMsI,MAAMsB,cAAcrL,GAAKoB,UAC/B7E,GAwDwCo2E,CAAoBlyE,SAC5C,IAAlBgyE,IAA4BA,EAvDT,SAAUhyE,GAAS,OAAO,SAAUgB,GAC3D,IAAIzB,EAAMmC,KAAKC,UAAU/E,EAASA,EAAS,GAAIoD,GAAQ,CAAEvF,KAAMm2E,YAAa5wE,EAAMvF,SAClF,OAAOuG,EAAMsI,MAAMsB,cAAcrL,GAC3ByB,EAAMsI,MAAMsB,cAAcrL,GAAKsB,MAC/B,MAmD0CsxE,CAAqBnyE,SAChD,IAAjBiyE,IAA2BA,EAAeH,GAC9C,IAAIr3E,EAAOuF,EAAMvF,KAAMiB,EAAWsE,EAAMtE,SAAUuD,EAAUe,EAAMf,QAC9D8xC,EAAUC,cACV/U,EAAmBv6B,KAAKC,UAAU,CAAE3B,MAAOA,EAAOb,QAASA,EAAS4xC,QAASA,IAC7EqhC,EAAsB//C,iBAAO4J,GAC7Bt7B,EAAOgiB,YAAYovD,GACnBlxE,EAAQ8hB,YAAYqvD,GACpBr2E,EAAK+E,YAAgB,CACrBC,KAAMA,EACNE,MAAOA,EACPD,MAAO,KACPE,SAAS,EACTC,OAAQkxE,EAAatxE,KACrBK,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GACjCmgB,qBAAU,WACFs2D,EAAoB5/C,UAAYyJ,GAEhCm2C,EAAoB5/C,QAAUyJ,EAC9Bh7B,EAAS,CACLN,KAAMA,EACNE,MAAOA,EACPD,MAAO,KACPE,SAAS,EACTC,OAAQkxE,EAAatxE,MAGnB0D,IAAQrD,EAAML,KAAMA,IAASK,EAAMH,QAAUA,IAE9B,qBAAVA,GAAyBg7B,MAAMh7B,GACtCqe,QAAQte,MAAM,mFAGdK,GAAS,SAAUK,GAAa,OAAQ1E,EAASA,EAAS,GAAI0E,GAAY,CAAEX,KAAMA,EAC9EE,MAAOA,EAAOE,QAAQ,EAAMD,SAAS,UAGlD,CACCH,EACAs7B,EACAh7B,EACAD,EAAML,KACNK,EAAMH,MACNA,EACAoxE,IAEJ,IAAI1zE,EAAeC,cA0DnB,OAzDAsd,qBAAU,WAOD+1D,EAAgBx0E,eAAe4+B,KAChC41C,EAAgB51C,GAAoB,IAAIp8B,SAAQ,SAAUkT,GACtDxU,EAAa9D,GAAMiB,EAAUuD,EAASE,GACjCoC,MAAK,WAOF06B,IAAqBm2C,EAAoB5/C,SACzCzf,IAEJA,EAAQ,CACJnS,MAAO,KACPE,SAAS,EACTC,QAAQ,OAGXS,OAAM,SAAUZ,GACbq7B,IAAqBm2C,EAAoB5/C,SACzCzf,IAEJA,EAAQ,CACJnS,MAAOA,EACPE,SAAS,EACTC,QAAQ,UAKpBsvE,YAAW,kBACAwB,EAAgB51C,KACxB,IAEehe,OAAU,OAAQ,OAAQ,GAAQ,WACpD,IAAIo0D,EACJ,OAAOhnE,EAAY7N,MAAM,SAAU7B,GAC/B,OAAQA,EAAGgQ,OACP,KAAK,EAAG,MAAO,CAAC,EAAakmE,EAAgB51C,IAC7C,KAAK,EAID,OAHAo2C,EAAW12E,EAAGiQ,SAEV3K,GAAS,SAAUD,GAAS,OAAQpE,EAASA,EAAS,GAAIoE,GAAQqxE,MAC/D,CAAC,YAKzB,CAACp2C,IACGj7B,I,iCCpOX,qCAGI69B,EAAa,GACbT,EAAc,GA8Ed6zC,EAAe,SAAUtxE,GAAQ,OAAoB,OAAbA,EAAKiF,KAClCg5B,IAxCE,SAAUljC,EAAUs0C,EAAYvoC,EAAMzC,EAAQ7F,GAC3D,IAAI88B,EAAmBv6B,KAAKC,UAAU,CAAEquC,WAAYA,EAAYvoC,KAAMA,EAAMzC,OAAQA,IAChFrJ,EAAKk2D,YAAkB,CAAEp3D,KAAM,UAAWiB,SAAUA,EAAUuD,QAAS,CAAE+wC,WAAYA,EAAYvoC,KAAMA,EAAMzC,OAAQA,IAAY7F,GAErI,SAAU6B,GAAS,MAAQ,CACvB4E,IAAKjH,IAAIqC,EAAMsI,MAAMiB,UAAW,CAAC7O,EAAU,OAAQ,iBAAkBugC,EAAkB,OAAQ,MAC/Fq2C,WAAY3zE,IAAIqC,EAAMsI,MAAMiB,UAAW,CAAC7O,EAAU,QAAS0iC,OAG/D,SAAUp9B,GACN,OAAOrC,IAAIqC,EAAMsI,MAAMiB,UAAW,CAC9B7O,EACA,OACA,iBACAugC,EACA,YAELg2C,GAAer2E,EAAKD,EAAGgF,KAAMiF,EAAMhK,EAAGgK,IAAK0sE,EAAa12E,EAAG02E,WAAYzxE,EAAQlF,EAAGkF,MAAOD,EAAQjF,EAAGiF,MAAOE,EAAUnF,EAAGmF,QAASC,EAASpF,EAAGoF,OAahJ,MAAO,CACHJ,KAbOlF,mBAAQ,WACf,OAAe,OAARmK,EACDw4B,EACAx4B,EACGzB,KAAI,SAAUD,GAAM,OAAOouE,EAAWpuE,MACtCe,QAAO,SAAU0F,EAAK1G,GACvB,OAAKA,GAEL0G,EAAI1G,EAAOC,IAAMD,EACV0G,GAFIA,IAGZ,MACR,CAAC/E,EAAK0sE,IAGL1sE,IAAa,OAARA,EAAei5B,EAAaj5B,EACjC/E,MAAOA,EACPD,MAAOA,EACPE,QAASA,EACTC,OAAQA,K,iCC/EhB,2BA+Be7F,IAbC,WACZ,IAAIomB,EAAWC,cACf,OAAOpgB,uBAAY,SAAUuM,EAASjT,EAAMkC,EAAa4S,EAAUsd,QAClD,IAATpyB,IAAmBA,EAAO,aACV,IAAhBkC,IAA0BA,EAAc,SAC3B,IAAb4S,IAAuBA,GAAW,GACtC+R,EAASpT,YAAiBR,EAASjT,EAAM,CACrCkC,YAAaA,EACb4S,SAAUA,EACVsd,iBAAkBA,OAEvB,CAACvL,M,iCC7BR,4CAiFe9F,IA1DC,WACZ,IAAI9O,EAAe6O,cACf+F,EAAWC,cAaXjQ,EAAU8hB,cACVnf,EAAS9S,uBAAY,SAAUE,EAAQ/E,EAAYi2E,GAInD,YAHe,IAAXlxE,IAAqBA,EAAS,SACf,IAAf/E,IAAyBA,EAAaqf,IAAkBC,eAChB,IAAxC22D,IAAkDA,GAAsC,GACrF7lE,EAAauH,OAAO5S,GAAQE,MAAK,SAAUixE,GAE9C,GADAlxD,EAAShT,gBACsB,IAA3BkkE,EAAJ,CAMA,IAAIC,GAAmBD,GAA0Bl2E,GAAYk+B,MAAM,KAC/Dk4C,EAAc,CACdrkE,SAAUokE,EAAgB,IAa9B,OAXIF,GACAjhE,EAAQjE,UACRiE,EAAQjE,SAASgB,WACjBqkE,EAAY1xE,MAAQ,CAChBsM,aAAcgE,EAAQjE,SAASgB,WAGnCokE,EAAgB,KAChBC,EAAY78D,OAAS48D,EAAgB,IAEzCnhE,EAAQ9E,KAAKkmE,GACNF,QAEZ,CAAC9lE,EAAc4E,EAASgQ,IACvBqxD,EAAwBxxE,uBAAY,SAAUuK,GAQ9C,OAPA4F,EAAQ9E,KAAK,CACT6B,SAAUsN,IAAkBC,SAC5B5a,MAAO,CACHsM,aAAcgE,EAAQjE,UAAYiE,EAAQjE,SAASgB,YAG3DiT,EAAShT,eACFzO,QAAQkT,YAChB,CAACuO,EAAUhQ,IACd,OAAO5E,EAAeuH,EAAS0+D,I,iCC/EnC,sCAAI70E,EAAkD,WAClD,IAAK,IAAIf,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GAGP40E,EAAoB,CACpB,SACA,QACA,OACA,YACA,YACA,YAWO5zE,EAA+B,SAAUF,GAChD,IAEIpD,EACAuD,EACAE,EAJA0zE,EAAU/zE,EAAKA,EAAK1C,OAAS,GAC7B8C,EAAepB,EAAegB,GAYlC,OAvBwB,SAAU0F,GAClC,GAAqB,qBAAVA,EACP,MAAO,GACX,IAAIrF,EAAUqF,EACd,OAAOtI,OAAOC,KAAKgD,GAASG,MAAK,SAAUC,GAAO,OAAOqzE,EAAkBpzE,SAASD,MAWhFuzE,CAAsBD,KACtB1zE,EAAU0zE,EACV3zE,EAAeA,EAAaS,MAAM,EAAGb,EAAK1C,OAAS,IAExB,kBAApB8C,EAAa,KACpBxD,EAAWwD,EAAa,GACxBD,EAAUC,EAAa,IAEpB,CACHxD,SAAUA,EACVuD,QAASA,EACTC,aAAcA,EACdC,QAASA,K,iCC3CjB,aACgB,aAAU7C,EAAYmT,EAAUvL,EAAIvD,GAChD,GAA0B,oBAAfrE,EACP,OAAOA,EAAWmT,EAAUvL,EAAIvD,GAEpC,OAAQrE,GACJ,IAAK,OACD,OAAOmT,EACX,IAAK,SACD,OAAOA,EAAW,UACtB,IAAK,OACD,OAAO0lC,YAAa1lC,EAAUvL,GAClC,IAAK,OACD,OAAOixC,YAAa1lC,EAAUvL,GAAM,QACxC,QACI,OAAO5H,K,iCCfH,aAAU8zE,EAAW1iE,GAC7B0iE,I,iCCDQ,aAAU3gE,EAAUvL,EAAIozC,QACnB,IAAbA,IAAuBA,EAAW,QACtC,IAAIC,EAAO9nC,EAAW,IAAMsjE,mBAAmB7uE,GAC/C,MAAiB,SAAbozC,EACOC,EAAO,QAEXA,I,iCCNX,8EAgBWw2B,EAA0B,6BAG1B6D,EAAkC,sC,iCCnB7C,YAKerE,IAJoB,WAE/B,OAD8B5qD,aAAY,SAAU3hB,GAAS,OAAOA,EAAMsI,MAAMwB,GAAGlB,6B,iCCFvF,WACI+K,EAAsBnC,wBAAc,MACxCmC,EAAoB1B,YAAc,sBACnB0B,O,iCCHf,sBACe,QAAIq+D,K,gCCDnB,4MAAO,IAAIpqE,EAAc,iBACdq/D,EAAa,WAAc,MAAQ,CAAExtE,KAAMmO,IAC3C7C,EAAY,eACZoiE,EAAW,WAAc,MAAQ,CAAE1tE,KAAMsL,IACzC8C,EAAc,iBAEdC,EAAe,mB,gCCN1B,geAOWjH,EAAW,WACXC,EAAU,UACVC,EAAW,WACXC,EAAqB,qBACrBC,EAAS,SACTC,EAAS,SACTC,EAAc,cACdC,EAAS,SACTC,EAAc,cACd4wE,EAAiC,CAAC,SAAU,SAAU,UACtDC,EAAmD,CAC1D,UACA,UACA,oBAEOC,EAtB2C,WAClD,IAAK,IAAIp2E,EAAI,EAAGC,EAAI,EAAGe,EAAKb,UAAUd,OAAQY,EAAIe,EAAIf,IAAKD,GAAKG,UAAUF,GAAGZ,OACxE,IAAI4B,EAAIC,MAAMlB,GAAImB,EAAI,EAA3B,IAA8BlB,EAAI,EAAGA,EAAIe,EAAIf,IACzC,IAAK,IAAImB,EAAIjB,UAAUF,GAAIoB,EAAI,EAAGC,EAAKF,EAAE/B,OAAQgC,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,EAiByCF,CAAeo1E,EAAkD,CACjH,aACA,eAEOE,EAAgC,CAAC,UAAW,oBAC5CnkE,EAAoB,SAAU2/D,GACrC,OAAQA,GACJ,KAAK/sE,EACD,MAAO,UACX,KAAKC,EACD,MAAO,SACX,KAAKC,EACD,MAAO,UACX,KAAKC,EACD,MAAO,mBACX,KAAKC,EACD,MAAO,SACX,KAAKC,EACD,MAAO,SACX,KAAKC,EACD,MAAO,aACX,KAAKC,EACD,MAAO,SACX,KAAKC,EACD,MAAO,aACX,QACI,OAAOusE,K,iCChDnB,WACIzrD,EAAkB,CAAEjf,GAAI,IACxBmvE,EAAkB,CAClBr/D,MAAO,WAAc,OAAOnU,QAAQkT,WACpCkB,OAAQ,WAAc,OAAOpU,QAAQkT,WACrCmB,UAAW,WAAc,OAAOrU,QAAQkT,WACxCoB,WAAY,WAAc,OAAOtU,QAAQkT,WACzCqB,eAAgB,WAAc,OAAOvU,QAAQkT,WAC7CuQ,YAAa,WAAc,OAAOzjB,QAAQkT,QAAQoQ,KAElDzO,EAAclC,wBAAc6gE,GAChC3+D,EAAYzB,YAAc,cACXyB,O,gCCZf,sDAEWiH,EAAoB,CAC3BC,SAAU,SACV4X,cAAe,KAMJjY,IADO,WAAc,OAAO3H,qBAAWc,O,gCCTtD,4IAAI9X,EAAsC,WAStC,OARAA,EAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUd,OAAQY,EAAIC,EAAGD,IAE5C,IAAK,IAAIG,KADTJ,EAAIG,UAAUF,GACOd,OAAOkB,UAAUC,eAAeC,KAAKP,EAAGI,KACzDL,EAAEK,GAAKJ,EAAEI,IAEjB,OAAOL,IAEKS,MAAMC,KAAMN,YAErBgM,EAAoB,uBAOpBgF,EAAmB,SAE9BR,EAEAjT,EAEA64E,GAEI,YADa,IAAT74E,IAAmBA,EAAO,QACtB,CACJA,KAAMyO,EACNjK,QAASrC,EAASA,EAAS,GAAI02E,GAAsB,CAAE74E,KAAMA,EACzDiT,QAASA,MAGVtE,EAAoB,uBACpBmF,EAAmB,WAAc,MAAQ,CAChD9T,KAAM2O,K,gCClCV,gRAAO,IAAIe,EAAiB,oBACjBqd,EAAgB,WAAc,MAAQ,CAC7C/sB,KAAM0P,IAECC,EAAyB,4BACzBge,EAAuB,SAAUskB,GAAU,MAAQ,CAC1DjyC,KAAM2P,EACNnL,QAASytC,IAEFhmC,EAAe,kBACfgJ,EAAc,WAAc,MAAQ,CAC3CjV,KAAMiM,IAEC2D,EAAwB,2BACxB02C,EAAsB,SAAUwyB,GAAW,MAAQ,CAC1D94E,KAAM4P,EACNpL,QAASs0E,K,gCChBb,qFAGO,SAAS7yE,EAAgB0E,GAC5B,IAAIzJ,EAAKkoB,mBAASze,GAAepE,EAAQrF,EAAG,GAAIsF,EAAWtF,EAAG,GAC1D63E,EAAanhD,kBAAO,GAUxB,OATAvW,qBAAU,WAEN,OADA03D,EAAWhhD,SAAU,EACd,WAAc,OAAQghD,EAAWhhD,SAAU,KACnD,IAMI,CAACxxB,EALWG,uBAAY,SAAUrC,GACrC,GAAI00E,EAAWhhD,QACX,OAAOvxB,EAASnC,KAErB,CAAC00E,EAAYvyE,KAoBb,SAAS0d,EAAW80D,QACZ,IAAPA,IAAiBA,EAAK,GAC1B,IAAI93E,EAAKkoB,oBAAS,GAAQvE,EAAQ3jB,EAAG,GAAI+3E,EAAW/3E,EAAG,GASvD,OARAmgB,qBAAU,WACN,IAAI63D,EAAQtD,YAAW,WACnBqD,GAAS,KACVD,GACH,OAAO,WACHG,aAAaD,MAElB,CAACF,IACGn0D,I,gCC7CX,gRAAO,IAAIxX,EAA0B,6BAC1Bo0B,EAAmB,SAAUxgC,EAAU2F,GAAU,MAAQ,CAChE5G,KAAMqN,EACN7I,QAASoC,EACTkE,KAAM,CAAE7J,SAAUA,KAEXuM,EAAwB,2BACxB+0B,EAAqB,SAAUthC,EAAUkK,GAAO,MAAQ,CAC/DnL,KAAMwN,EACNhJ,QAAS2G,EACTL,KAAM,CAAE7J,SAAUA,KAEXwM,EAAmB,sBACnBg1B,EAAiB,SAAUxhC,EAAUwI,GAAM,MAAQ,CAC1DzJ,KAAMyN,EACNjJ,QAASiF,EACTqB,KAAM,CAAE7J,SAAUA,KAEXsL,EAA0B,6BAW1B8sC,EAAuB,SAAUp4C,EAAUwI,GAAM,MAAQ,CAChEzJ,KAAMuM,EACN/H,QAASiF,EACTqB,KAAM,CAAE7J,SAAUA,O","file":"static/js/main.aeb8bee6.chunk.js","sourcesContent":["export var UNDOABLE = 'RA/UNDOABLE';\nexport var startUndoable = function (action) { return ({\n    type: UNDOABLE,\n    payload: { action: action },\n}); };\nexport var UNDO = 'RA/UNDO';\nexport var undo = function () { return ({\n    type: UNDO,\n}); };\nexport var COMPLETE = 'RA/COMPLETE';\nexport var complete = function () { return ({\n    type: COMPLETE,\n}); };\nexport var START_OPTIMISTIC_MODE = 'RA/START_OPTIMISTIC_MODE';\nexport var startOptimisticMode = function () { return ({\n    type: START_OPTIMISTIC_MODE,\n}); };\nexport var STOP_OPTIMISTIC_MODE = 'RA/STOP_OPTIMISTIC_MODE';\nexport var stopOptimisticMode = function () { return ({\n    type: STOP_OPTIMISTIC_MODE,\n}); };\n","import { useNotify, useRedirect, useRefresh, useUnselectAll, } from '../sideEffect';\nimport { useMemo } from 'react';\nvar useDeclarativeSideEffects = function () {\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var unselectAll = useUnselectAll();\n    return useMemo(function () { return function (resource, _a) {\n        var _b = _a === void 0 ? {\n            onSuccess: undefined,\n            onFailure: undefined,\n        } : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;\n        var convertToFunctionSideEffect = function (resource, sideEffects) {\n            if (!sideEffects || typeof sideEffects === 'function') {\n                return sideEffects;\n            }\n            if (Object.keys(sideEffects).length === 0) {\n                return undefined;\n            }\n            var notification = sideEffects.notification, redirectTo = sideEffects.redirectTo, needRefresh = sideEffects.refresh, needUnselectAll = sideEffects.unselectAll;\n            return function () {\n                if (notification) {\n                    notify(notification.body, notification.level, notification.messageArgs);\n                }\n                if (redirectTo) {\n                    redirect(redirectTo);\n                }\n                if (needRefresh) {\n                    refresh();\n                }\n                if (needUnselectAll) {\n                    unselectAll(resource);\n                }\n            };\n        };\n        return {\n            onSuccess: convertToFunctionSideEffect(resource, onSuccess),\n            onFailure: convertToFunctionSideEffect(resource, onFailure),\n        };\n    }; }, [notify, redirect, refresh, unselectAll]);\n};\nexport default useDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport useDataProvider from './useDataProvider';\nimport { useMemo } from 'react';\nimport useDeclarativeSideEffects from './useDeclarativeSideEffects';\nimport { getDataProviderCallArguments } from './getDataProviderCallArguments';\n/**\n * This version of the useDataProvider hook ensure Query and Mutation components are still usable\n * with side effects declared as objects.\n *\n * @deprecated This is for backward compatibility only and will be removed in next major version.\n */\nvar useDataProviderWithDeclarativeSideEffects = function () {\n    var dataProvider = useDataProvider();\n    var getSideEffects = useDeclarativeSideEffects();\n    // @ts-ignore\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol') {\n                    return;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var _a = getDataProviderCallArguments(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;\n                    var onSuccess;\n                    var onFailure;\n                    var finalOptions = options;\n                    var finalAllArguments = allArguments;\n                    if (options &&\n                        Object.keys(options).some(function (key) {\n                            return ['onSuccess', 'onFailure'].includes(key);\n                        })) {\n                        var sideEffect = getSideEffects(resource, options);\n                        var ignoreOnSuccess = options.onSuccess, // Used to extract options without onSuccess\n                        ignoreOnFailure = options.onFailure, // Used to extract options without onFailure\n                        otherOptions = __rest(options, [\"onSuccess\", \"onFailure\"]);\n                        onSuccess = sideEffect.onSuccess;\n                        onFailure = sideEffect.onFailure;\n                        finalOptions = otherOptions;\n                        finalAllArguments = __spreadArrays(args).slice(0, args.length - 1);\n                    }\n                    try {\n                        return target[name.toString()].apply(target, typeof resource === 'string'\n                            ? [\n                                resource,\n                                payload,\n                                __assign(__assign({}, finalOptions), { onSuccess: onSuccess,\n                                    onFailure: onFailure }),\n                            ]\n                            : finalAllArguments);\n                    }\n                    catch (e) {\n                        // turn synchronous exceptions (e.g. in parameter preparation)\n                        // into async ones, otherwise they'll be lost\n                        return Promise.reject(e);\n                    }\n                };\n            },\n        });\n    }, [dataProvider, getSideEffects]);\n    return dataProviderProxy;\n};\nexport default useDataProviderWithDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport merge from 'lodash/merge';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport useDataProviderWithDeclarativeSideEffects from './useDataProviderWithDeclarativeSideEffects';\n/**\n * Get a callback to fetch the data provider through Redux, usually for mutations.\n *\n * The request starts when the callback is called.\n *\n * useMutation() parameters can be passed:\n *\n * - at definition time\n *\n *       const [mutate] = useMutation(query, options); mutate();\n *\n * - at call time\n *\n *       const [mutate] = useMutation(); mutate(query, options);\n *\n * - both, in which case the definition and call time parameters are merged\n *\n *       const [mutate] = useMutation(query1, options1); mutate(query2, options2);\n *\n * @param {Object} query\n * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * @param {Function} options.onSuccess Side effect function to be executed upon success or failure, e.g. { onSuccess: response => refresh() }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }\n *\n * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].\n *\n * The return value updates according to the request state:\n *\n * - mount:         [mutate, { loading: false, loaded: false }]\n * - mutate called: [mutate, { loading: true, loaded: false }]\n * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]\n * - error:         [mutate, { error: [error from response], loading: false, loaded: true }]\n *\n * The mutate function accepts the following arguments\n * - {Object} query\n * - {string} query.type The method called on the data provider, e.g. 'update'\n * - {string} query.resource A resource name, e.g. 'posts', 'comments'\n * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }\n * - {Object} options\n * - {string} options.action Redux action type\n * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * - {Function} options.onSuccess Side effect function to be executed upon success or failure, e.g. { onSuccess: response => refresh() }\n * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }\n *\n * @example\n *\n * // pass parameters at definition time\n * // use when all parameters are determined at definition time\n * // the mutation callback can be used as an even handler\n * // because Event parameters are ignored\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [approve, { loading }] = useMutation({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: { id: record.id, data: { isApproved: true } }\n *     });\n *     return <Button label=\"Approve\" onClick={approve} disabled={loading} />;\n * };\n *\n * @example\n *\n * // pass parameters at call time\n * // use when some parameters are only known at call time\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const approve = event => mutate({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: {\n *             id: event.target.dataset.id,\n *             data: { isApproved: true, updatedAt: new Date() }\n *         },\n *     });\n *     return <Button\n *         label=\"Approve\"\n *         onClick={approve}\n *         disabled={loading}\n *     />;\n * };\n *\n * @example\n *\n * // use the second argument to pass options\n * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';\n *\n * const ResetStockButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const notify = useNotify();\n *     const handleClick = () => mutate(\n *         {\n *              type: 'update',\n *              resource: 'items',\n *              payload: { id: record.id, data: { stock: 0 } }\n *         },\n *         {\n *              undoable: true,\n *              action: CRUD_UPDATE,\n *              onSuccess: response => notify('Success !'),\n *              onFailure: error => notify('Failure !')\n *         }\n *     );\n *     return <Button label=\"Reset stock\" onClick={handleClick} disabled={loading} />;\n * };\n */\nvar useMutation = function (query, options) {\n    var _a = useSafeSetState({\n        data: null,\n        error: null,\n        total: null,\n        loading: false,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var dataProvider = useDataProvider();\n    var dataProviderWithDeclarativeSideEffects = useDataProviderWithDeclarativeSideEffects();\n    /* eslint-disable react-hooks/exhaustive-deps */\n    var mutate = useCallback(function (callTimeQuery, callTimeOptions) {\n        var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions)\n            ? dataProviderWithDeclarativeSideEffects\n            : dataProvider;\n        var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);\n        setState(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        finalDataProvider[params.type]\n            .apply(finalDataProvider, typeof params.resource !== 'undefined'\n            ? [params.resource, params.payload, params.options]\n            : [params.payload, params.options])\n            .then(function (_a) {\n            var data = _a.data, total = _a.total;\n            setState({\n                data: data,\n                error: null,\n                loaded: true,\n                loading: false,\n                total: total,\n            });\n        })\n            .catch(function (errorFromResponse) {\n            setState({\n                data: null,\n                error: errorFromResponse,\n                loaded: false,\n                loading: false,\n                total: null,\n            });\n        });\n    }, [\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n        JSON.stringify({ query: query, options: options }),\n        dataProvider,\n        dataProviderWithDeclarativeSideEffects,\n        setState,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return [mutate, state];\n};\n/**\n * Utility function for merging parameters\n *\n * useMutation() parameters can be passed:\n * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )\n * - at call time (e.g. [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))\n * - both\n *\n * This function merges the definition time and call time parameters.\n *\n * This is useful because useMutation() is used by higher-level hooks like\n * useCreate() or useUpdate(), and these hooks can be called both ways.\n * So it makes sense to make useMutation() capable of handling both call types\n * as it avoids repetition higher in the hook chain.\n *\n * Also, the call time query may be a DOM Event if the callback is used\n * as an event listener, as in:\n *\n * const UpdateButton = () => {\n *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });\n *     return <button onclick={mutate}>Click me</button>\n * };\n *\n * This usage is accepted, and therefore this function checks if the call time\n * query is an Event, and discards it in that case.\n *\n * @param query {Mutation}\n * @param callTimeQuery {Mutation}\n * @param options {Object}\n * @param callTimeOptions {Object}\n *\n * @return { type, resource, payload, options } The merged parameters\n */\nvar mergeDefinitionAndCallTimeParameters = function (query, callTimeQuery, options, callTimeOptions) {\n    if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {\n        throw new Error('Missing query either at definition or at call time');\n    }\n    if (callTimeQuery instanceof Event)\n        return {\n            type: query.type,\n            resource: query.resource,\n            payload: query.payload,\n            options: sanitizeOptions(options),\n        };\n    if (query)\n        return {\n            type: query.type || callTimeQuery.type,\n            resource: query.resource || callTimeQuery.resource,\n            payload: callTimeQuery\n                ? merge({}, query.payload, callTimeQuery.payload)\n                : query.payload,\n            options: callTimeOptions\n                ? merge({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions))\n                : sanitizeOptions(options),\n        };\n    return {\n        type: callTimeQuery.type,\n        resource: callTimeQuery.resource,\n        payload: callTimeQuery.payload,\n        options: sanitizeOptions(callTimeOptions),\n    };\n};\nvar hasDeclarativeSideEffectsSupport = function (options, callTimeOptions) {\n    if (!options && !callTimeOptions)\n        return false;\n    if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport)\n        return true;\n    if (options && options.withDeclarativeSideEffectsSupport)\n        return true;\n    return false;\n};\nvar sanitizeOptions = function (args) {\n    if (!args)\n        return { onSuccess: undefined };\n    var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport, options = __rest(args, [\"withDeclarativeSideEffectsSupport\"]);\n    return __assign({ onSuccess: undefined }, options);\n};\nexport default useMutation;\n","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY, } from '../core';\n/**\n * Get a fetch type for a data provider verb.\n *\n * The fetch type is used in reducers.\n *\n * @example getFetchType('getMany'); // 'GET_MANY'\n */\nexport default (function (actionType) {\n    switch (actionType) {\n        case 'getList':\n            return GET_LIST;\n        case 'getOne':\n            return GET_ONE;\n        case 'getMany':\n            return GET_MANY;\n        case 'getManyReference':\n            return GET_MANY_REFERENCE;\n        case 'create':\n            return CREATE;\n        case 'update':\n            return UPDATE;\n        case 'updateMany':\n            return UPDATE_MANY;\n        case 'delete':\n            return DELETE;\n        case 'deleteMany':\n            return DELETE_MANY;\n        default:\n            return actionType;\n    }\n});\n","export var REGISTER_RESOURCE = 'RA/REGISTER_RESOURCE';\nexport var registerResource = function (resource) { return ({\n    type: REGISTER_RESOURCE,\n    payload: resource,\n}); };\nexport var UNREGISTER_RESOURCE = 'RA/UNREGISTER_RESOURCE';\nexport var unregisterResource = function (resourceName) { return ({\n    type: UNREGISTER_RESOURCE,\n    payload: resourceName,\n}); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport pickBy from 'lodash/pickBy';\nvar defaultCacheDuration = 10 * 60 * 1000; // ten minutes\n/**\n * Returns a list of fetch dates by record id\n *\n * Given a list of new record ids and a previous list of fetch dates by record id,\n * add the new record ids at the current date,\n * and removes those among the old record ids that are stale.\n *\n * @param newRecordIds an array of record identifiers, e.g. [34, 56]\n * @param oldRecordFetchedAt the fetch dates of old records, e.g. { 12: new Date('12 minutes ago), 34: new Date('5 minutes ago') }\n * @param now Current time (useful for tests)\n * @param cacheDuration How long until an old record is removed from the list\n */\nvar getFetchedAt = function (newRecordIds, oldRecordFetchedAt, now, cacheDuration) {\n    if (newRecordIds === void 0) { newRecordIds = []; }\n    if (oldRecordFetchedAt === void 0) { oldRecordFetchedAt = {}; }\n    if (now === void 0) { now = new Date(); }\n    if (cacheDuration === void 0) { cacheDuration = defaultCacheDuration; }\n    // prepare new records and timestamp them\n    var newFetchedAt = {};\n    newRecordIds.forEach(function (recordId) { return (newFetchedAt[recordId] = now); });\n    // remove outdated entry\n    var latestValidDate = new Date();\n    latestValidDate.setTime(latestValidDate.getTime() - cacheDuration);\n    var stillValidFetchedAt = pickBy(oldRecordFetchedAt, function (date) { return date > latestValidDate; });\n    return __assign(__assign({}, stillValidFetchedAt), newFetchedAt);\n};\nexport default getFetchedAt;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport isEqual from 'lodash/isEqual';\nimport { FETCH_END } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nimport getFetchedAt from '../../../util/getFetchedAt';\n/**\n * Make the fetchedAt property non enumerable\n */\nexport var hideFetchedAt = function (records) {\n    Object.defineProperty(records, 'fetchedAt', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n    });\n    return records;\n};\n/**\n * Add new records to the pool, and remove outdated ones.\n *\n * This is the equivalent of a stale-while-revalidate caching strategy:\n * The cached data is displayed before fetching, and stale data is removed\n * only once fresh data is fetched.\n */\nexport var addRecordsAndRemoveOutdated = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = {};\n    newRecords.forEach(function (record) { return (newRecordsById[record.id] = record); });\n    var newFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    var records = { fetchedAt: newFetchedAt };\n    Object.keys(newFetchedAt).forEach(function (id) {\n        return (records[id] = newRecordsById[id]\n            ? isEqual(newRecordsById[id], oldRecords[id])\n                ? oldRecords[id] // do not change the record to avoid a redraw\n                : newRecordsById[id]\n            : oldRecords[id]);\n    });\n    return hideFetchedAt(records);\n};\n/**\n * Add new records to the pool, without touching the other ones.\n */\nexport var addRecords = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = __assign({}, oldRecords);\n    newRecords.forEach(function (record) {\n        newRecordsById[record.id] = isEqual(record, oldRecords[record.id])\n            ? oldRecords[record.id]\n            : record;\n    });\n    var updatedFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), updatedFetchedAt),\n        enumerable: false,\n    });\n    return newRecordsById;\n};\nexport var addOneRecord = function (newRecord, oldRecords, date) {\n    var _a, _b;\n    if (date === void 0) { date = new Date(); }\n    var newRecordsById = __assign(__assign({}, oldRecords), (_a = {}, _a[newRecord.id] = isEqual(newRecord, oldRecords[newRecord.id])\n        ? oldRecords[newRecord.id] // do not change the record to avoid a redraw\n        : newRecord, _a));\n    return Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), (_b = {}, _b[newRecord.id] = date, _b)),\n        enumerable: false,\n    });\n};\nvar includesNotStrict = function (items, element) {\n    return items.some(function (item) { return item == element; });\n}; // eslint-disable-line eqeqeq\n/**\n * Remove records from the pool\n */\nexport var removeRecords = function (removedRecordIds, oldRecords) {\n    if (removedRecordIds === void 0) { removedRecordIds = []; }\n    var records = Object.entries(oldRecords)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {\n        fetchedAt: {},\n    });\n    records.fetchedAt = Object.entries(oldRecords.fetchedAt)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {});\n    return hideFetchedAt(records);\n};\nvar initialState = hideFetchedAt({ fetchedAt: {} });\nvar dataReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (meta && meta.optimistic) {\n        if (meta.fetch === UPDATE) {\n            var updatedRecord = __assign(__assign({}, previousState[payload.id]), payload.data);\n            return addOneRecord(updatedRecord, previousState);\n        }\n        if (meta.fetch === UPDATE_MANY) {\n            var updatedRecords = payload.ids.map(function (id) { return (__assign(__assign({}, previousState[id]), payload.data)); });\n            return addRecordsAndRemoveOutdated(updatedRecords, previousState);\n        }\n        if (meta.fetch === DELETE) {\n            return removeRecords([payload.id], previousState);\n        }\n        if (meta.fetch === DELETE_MANY) {\n            return removeRecords(payload.ids, previousState);\n        }\n    }\n    if (!meta || !meta.fetchResponse || meta.fetchStatus !== FETCH_END) {\n        return previousState;\n    }\n    switch (meta.fetchResponse) {\n        case GET_LIST:\n            return addRecordsAndRemoveOutdated(payload.data, previousState);\n        case GET_MANY:\n        case GET_MANY_REFERENCE:\n            return addRecords(payload.data, previousState);\n        case UPDATE:\n        case CREATE:\n        case GET_ONE:\n            return addOneRecord(payload.data, previousState);\n        default:\n            return previousState;\n    }\n};\nexport var getRecord = function (state, id) { return state[id]; };\nexport default dataReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = [];\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.data.map(function (_a) {\n            var id = _a.id;\n            return id;\n        });\n    }\n    return previousState;\n};\nexport default idsReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.total;\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    switch (meta.fetchResponse) {\n        case GET_LIST: {\n            if (payload.validUntil) {\n                // store the validity date\n                return payload.validUntil;\n            }\n            else {\n                // remove the validity date\n                return initialState;\n            }\n        }\n        default:\n            return previousState;\n    }\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../../actions';\nimport { GET_LIST, CREATE, DELETE, DELETE_MANY, UPDATE, UPDATE_MANY, } from '../../../../core';\nimport ids from './cachedRequests/ids';\nimport total from './cachedRequests/total';\nimport validity from './cachedRequests/validity';\nvar initialState = {};\nvar initialSubstate = { ids: [], total: null, validity: null };\nvar cachedRequestsReducer = function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REFRESH_VIEW) {\n        // force refresh\n        return initialState;\n    }\n    if (!action.meta || action.meta.fetchStatus !== FETCH_END) {\n        // not a return from the dataProvider\n        return previousState;\n    }\n    if (action.meta.fetchResponse === CREATE ||\n        action.meta.fetchResponse === DELETE ||\n        action.meta.fetchResponse === DELETE_MANY ||\n        action.meta.fetchResponse === UPDATE ||\n        action.meta.fetchResponse === UPDATE_MANY) {\n        // force refresh of all lists because we don't know where the\n        // new/deleted/updated record(s) will appear in the list\n        return initialState;\n    }\n    if (action.meta.fetchResponse !== GET_LIST || action.meta.fromCache) {\n        // looks like a GET_MANY, a GET_ONE, or a cached response\n        return previousState;\n    }\n    var requestKey = JSON.stringify(action.requestPayload);\n    var previousSubState = previousState[requestKey] || initialSubstate;\n    return __assign(__assign({}, previousState), (_a = {}, _a[requestKey] = {\n        ids: ids(previousSubState.ids, action),\n        total: total(previousSubState.total, action),\n        validity: validity(previousSubState.validity, action),\n    }, _a));\n};\nexport default cachedRequestsReducer;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { TOGGLE_LIST_ITEM_EXPAND, } from '../../../../actions/listActions';\nvar initialState = [];\nvar expanded = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === TOGGLE_LIST_ITEM_EXPAND) {\n        var index = previousState\n            .map(function (el) { return el == action.payload; }) // eslint-disable-line eqeqeq\n            .indexOf(true);\n        if (index === -1) {\n            // expand\n            return __spreadArrays(previousState, [action.payload]);\n        }\n        else {\n            // close\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n    }\n    return previousState;\n};\nexport default expanded;\n","import { GET_LIST } from '../../core';\nexport var crudGetList = function (resource, pagination, sort, filter) { return ({\n    type: CRUD_GET_LIST,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: resource,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_LIST = 'RA/CRUD_GET_LIST';\nexport var CRUD_GET_LIST_LOADING = 'RA/CRUD_GET_LIST_LOADING';\nexport var CRUD_GET_LIST_FAILURE = 'RA/CRUD_GET_LIST_FAILURE';\nexport var CRUD_GET_LIST_SUCCESS = 'RA/CRUD_GET_LIST_SUCCESS';\n","import { CREATE } from '../../core';\nexport var crudCreate = function (resource, data, basePath, redirectTo) {\n    if (redirectTo === void 0) { redirectTo = 'edit'; }\n    return ({\n        type: CRUD_CREATE,\n        payload: { data: data },\n        meta: {\n            resource: resource,\n            fetch: CREATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.created',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_CREATE = 'RA/CRUD_CREATE';\nexport var CRUD_CREATE_LOADING = 'RA/CRUD_CREATE_LOADING';\nexport var CRUD_CREATE_FAILURE = 'RA/CRUD_CREATE_FAILURE';\nexport var CRUD_CREATE_SUCCESS = 'RA/CRUD_CREATE_SUCCESS';\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport uniq from 'lodash/uniq';\nimport { CRUD_GET_LIST_SUCCESS, CRUD_CREATE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\n/**\n * List of the ids of the latest loaded page, regardless of params\n *\n * When loading the list for the first time, useListController grabs the ids\n * from the cachedRequests reducer (not this ids reducer). It's only when the user\n * changes page, sort, or filter, that the useListController hook uses the ids\n * reducer, so as to show the previous list of results while loading the new\n * list (instead of displaying a blank page each time the list params change).\n *\n * @see useListController\n *\n */\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = []; }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState\n                .map(function (el) { return el === action.payload.id; }) // eslint-disable-line eqeqeq\n                .indexOf(true);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            var newState = previousState.filter(function (el) { return !action.payload.ids.includes(el); });\n            return newState;\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_LIST_SUCCESS:\n            return action.payload.data.map(function (_a) {\n                var id = _a.id;\n                return id;\n            });\n        case CRUD_CREATE_SUCCESS:\n            return uniq(__spreadArrays([action.payload.data.id], previousState));\n        default:\n            return previousState;\n    }\n};\nexport default idsReducer;\nexport var getIds = function (state) { return state; };\n","import { CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\n/**\n * This resource reducer is false until the list loads successfully\n */\nvar loadedOnce = function (previousState, _a) {\n    if (previousState === void 0) { previousState = false; }\n    var type = _a.type;\n    // early return\n    if (previousState === true) {\n        return previousState;\n    }\n    if (type === CRUD_GET_LIST_SUCCESS) {\n        return true;\n    }\n    return previousState;\n};\nexport default loadedOnce;\n","import { CRUD_CHANGE_LIST_PARAMS, } from '../../../../actions/listActions';\nvar defaultState = {\n    sort: null,\n    order: null,\n    page: 1,\n    perPage: null,\n    filter: {},\n};\nvar paramsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case CRUD_CHANGE_LIST_PARAMS:\n            return action.payload;\n        default:\n            return previousState;\n    }\n};\nexport default paramsReducer;\n","import { DELETE } from '../../core';\nexport var crudDelete = function (resource, id, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'list'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE,\n        payload: { id: id, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: DELETE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE = 'RA/CRUD_DELETE';\nexport var CRUD_DELETE_LOADING = 'RA/CRUD_DELETE_LOADING';\nexport var CRUD_DELETE_FAILURE = 'RA/CRUD_DELETE_FAILURE';\nexport var CRUD_DELETE_SUCCESS = 'RA/CRUD_DELETE_SUCCESS';\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { SET_LIST_SELECTED_IDS, TOGGLE_LIST_ITEM, CRUD_DELETE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\nvar selectedIdsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === SET_LIST_SELECTED_IDS) {\n        return action.payload;\n    }\n    if (action.type === TOGGLE_LIST_ITEM) {\n        var index = previousState.indexOf(action.payload);\n        if (index > -1) {\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        else {\n            return __spreadArrays(previousState, [action.payload]);\n        }\n    }\n    if (action.type === CRUD_DELETE_SUCCESS) {\n        var index = previousState.indexOf(action.payload.data.id);\n        if (index > -1) {\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState.indexOf(action.payload.id);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState.filter(function (id) { return !action.payload.ids.includes(id); });\n        }\n    }\n    return action.meta && action.meta.unselectAll\n        ? initialState\n        : previousState;\n};\nexport default selectedIdsReducer;\n","import { CRUD_GET_LIST_SUCCESS, } from '../../../../actions/dataActions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = null; }\n    if (action.type === CRUD_GET_LIST_SUCCESS) {\n        return action.payload.total;\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            return previousState === null ? null : previousState - 1;\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState === null\n                ? null\n                : previousState - action.payload.ids.length;\n        }\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { combineReducers } from 'redux';\nimport cachedRequests from './cachedRequests';\nimport expanded from './expanded';\nimport ids from './ids';\nimport loadedOnce from './loadedOnce';\nimport params from './params';\nimport selectedIds from './selectedIds';\nimport total from './total';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    cachedRequests: cachedRequests || defaultReducer,\n    expanded: expanded || defaultReducer,\n    ids: ids || defaultReducer,\n    loadedOnce: loadedOnce || defaultReducer,\n    params: params || defaultReducer,\n    selectedIds: selectedIds || defaultReducer,\n    total: total || defaultReducer,\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nvar initialState = {};\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (type === REFRESH_VIEW) {\n        return initialState;\n    }\n    if (!meta ||\n        !meta.fetchResponse ||\n        meta.fetchStatus !== FETCH_END ||\n        meta.fromCache === true) {\n        return previousState;\n    }\n    if (payload.validUntil) {\n        // store the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return addIds(payload.data.map(function (record) { return record.id; }), payload.validUntil, previousState);\n            case UPDATE_MANY:\n                return addIds(payload.data, payload.validUntil, previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return addIds([payload.data.id], payload.validUntil, previousState);\n            case DELETE:\n            case DELETE_MANY:\n                throw new Error('Responses to dataProvider.delete() or dataProvider.deleteMany() should not contain a validUntil param');\n            default:\n                return previousState;\n        }\n    }\n    else {\n        // remove the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return removeIds(payload.data.map(function (record) { return record.id; }), previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return removeIds([payload.data.id], previousState);\n            case UPDATE_MANY:\n                return removeIds(payload.data, previousState);\n            case DELETE:\n                return removeIds([requestPayload.id], previousState);\n            case DELETE_MANY:\n                return removeIds(requestPayload.ids, previousState);\n            default:\n                return previousState;\n        }\n    }\n};\nvar addIds = function (ids, validUntil, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        validityRegistry[id] = validUntil;\n    });\n    return validityRegistry;\n};\nvar removeIds = function (ids, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        delete validityRegistry[id];\n    });\n    return validityRegistry;\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { REGISTER_RESOURCE, UNREGISTER_RESOURCE, REFRESH_VIEW, } from '../../../actions';\nimport data from './data';\nimport list from './list';\nimport validity from './validity';\nvar initialState = {};\nexport default (function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REGISTER_RESOURCE) {\n        var resourceState = {\n            props: action.payload,\n            data: data(undefined, action),\n            list: list(undefined, action),\n            validity: validity(undefined, action),\n        };\n        return __assign(__assign({}, previousState), (_a = {}, _a[action.payload.name] = resourceState, _a));\n    }\n    if (action.type === UNREGISTER_RESOURCE) {\n        return Object.keys(previousState).reduce(function (acc, key) {\n            var _a;\n            if (key === action.payload) {\n                return acc;\n            }\n            return __assign(__assign({}, acc), (_a = {}, _a[key] = previousState[key], _a));\n        }, {});\n    }\n    if (action.type !== REFRESH_VIEW &&\n        (!action.meta || !action.meta.resource)) {\n        return previousState;\n    }\n    var resources = Object.keys(previousState);\n    var newState = resources.reduce(function (acc, resource) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[resource] = action.type === REFRESH_VIEW ||\n            action.meta.resource === resource\n            ? {\n                props: previousState[resource].props,\n                data: data(previousState[resource].data, action),\n                list: list(previousState[resource].list, action),\n                validity: validity(previousState[resource].validity, action),\n            }\n            : previousState[resource], _a)));\n    }, {});\n    return newState;\n});\nexport var getResources = function (state) {\n    return Object.keys(state).map(function (key) { return state[key].props; });\n};\nexport var getReferenceResource = function (state, props) { return state[props.reference]; };\n","import { FETCH_START, FETCH_END, FETCH_ERROR, FETCH_CANCEL, } from '../../actions/fetchActions';\nvar loadingReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = 0; }\n    var type = _a.type;\n    switch (type) {\n        case FETCH_START:\n            return previousState + 1;\n        case FETCH_END:\n        case FETCH_ERROR:\n        case FETCH_CANCEL:\n            return Math.max(previousState - 1, 0);\n        default:\n            return previousState;\n    }\n};\nexport default loadingReducer;\n","import { SHOW_NOTIFICATION, HIDE_NOTIFICATION, } from '../../actions/notificationActions';\nimport { UNDO } from '../../actions/undoActions';\nvar notificationsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = []; }\n    switch (action.type) {\n        case SHOW_NOTIFICATION:\n            return previousState.concat(action.payload);\n        case HIDE_NOTIFICATION:\n        case UNDO:\n            return previousState.slice(1);\n        default:\n            return previousState;\n    }\n};\nexport default notificationsReducer;\n/**\n * Returns the first available notification to show\n * @param {Object} state - Redux state\n */\nexport var getNotification = function (state) { return state.admin.notifications[0]; };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MATCHING_SUCCESS, CRUD_GET_MATCHING_FAILURE, } from '../../../actions/dataActions';\nvar initialState = {};\nvar possibleValuesreducer = function (previousState, action) {\n    var _a, _b;\n    if (previousState === void 0) { previousState = initialState; }\n    switch (action.type) {\n        case CRUD_GET_MATCHING_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = action.payload.data.map(function (record) { return record.id; }), _a));\n        case CRUD_GET_MATCHING_FAILURE:\n            return __assign(__assign({}, previousState), (_b = {}, _b[action.meta.relatedTo] = { error: action.error }, _b));\n        default:\n            return previousState;\n    }\n};\nexport var getPossibleReferenceValues = function (state, props) {\n    return state[props.referenceSource(props.resource, props.source)];\n};\nexport var getPossibleReferences = function (referenceState, possibleValues, selectedIds) {\n    if (selectedIds === void 0) { selectedIds = []; }\n    if (!possibleValues) {\n        return null;\n    }\n    if (possibleValues.error) {\n        return possibleValues;\n    }\n    var possibleValuesList = Array.from(possibleValues);\n    selectedIds.forEach(function (id) {\n        return possibleValuesList.some(function (value) { return value === id; }) ||\n            possibleValuesList.unshift(id);\n    });\n    return (possibleValuesList\n        // @ts-ignore\n        .map(function (id) { return referenceState.data[id]; })\n        .filter(function (r) { return typeof r !== 'undefined'; }));\n};\nexport default possibleValuesreducer;\n","import { GET_LIST } from '../../core';\nexport var crudGetMatching = function (reference, relatedTo, pagination, sort, filter) { return ({\n    type: CRUD_GET_MATCHING,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MATCHING = 'RA/CRUD_GET_MATCHING';\nexport var CRUD_GET_MATCHING_LOADING = 'RA/CRUD_GET_MATCHING_LOADING';\nexport var CRUD_GET_MATCHING_FAILURE = 'RA/CRUD_GET_MATCHING_FAILURE';\nexport var CRUD_GET_MATCHING_SUCCESS = 'RA/CRUD_GET_MATCHING_SUCCESS';\n","import { combineReducers } from 'redux';\nimport oneToMany from './oneToMany';\nimport possibleValues, { getPossibleReferences as pvGetPossibleReferences, getPossibleReferenceValues as pvGetPossibleReferenceValues, } from './possibleValues';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    oneToMany: oneToMany || defaultReducer,\n    possibleValues: possibleValues || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return pvGetPossibleReferenceValues(state.possibleValues, props);\n};\nexport var getPossibleReferences = pvGetPossibleReferences;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TOGGLE_SIDEBAR, SET_SIDEBAR_VISIBILITY, REFRESH_VIEW, START_OPTIMISTIC_MODE, STOP_OPTIMISTIC_MODE, } from '../../actions';\nimport { SET_AUTOMATIC_REFRESH, } from '../../actions/uiActions';\n// Match the medium breakpoint defined in the material-ui theme\n// See https://material-ui.com/customization/breakpoints/#breakpoints\nvar isDesktop = function () {\n    // (min-width: 960px) => theme.breakpoints.up('md')\n    return typeof window !== 'undefined' &&\n        window.matchMedia &&\n        typeof window.matchMedia === 'function'\n        ? window.matchMedia('(min-width:960px)').matches\n        : false;\n};\nvar defaultState = {\n    automaticRefreshEnabled: true,\n    sidebarOpen: isDesktop(),\n    optimistic: false,\n    viewVersion: 0,\n};\nvar uiReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case TOGGLE_SIDEBAR:\n            return __assign(__assign({}, previousState), { sidebarOpen: !previousState.sidebarOpen });\n        case SET_SIDEBAR_VISIBILITY:\n            return __assign(__assign({}, previousState), { sidebarOpen: action.payload });\n        case SET_AUTOMATIC_REFRESH:\n            return __assign(__assign({}, previousState), { automaticRefreshEnabled: action.payload });\n        case REFRESH_VIEW:\n            return __assign(__assign({}, previousState), { viewVersion: previousState.viewVersion + 1 });\n        case START_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: true });\n        case STOP_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: false });\n        default:\n            return previousState;\n    }\n};\nexport default uiReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// reducer for queries called via useQueryWithStore and without a custom action name\nvar customQueriesReducer = function (previousState, _a) {\n    var _b;\n    if (previousState === void 0) { previousState = {}; }\n    var type = _a.type, requestPayload = _a.requestPayload, payload = _a.payload, meta = _a.meta;\n    if (type !== 'CUSTOM_QUERY_SUCCESS') {\n        return previousState;\n    }\n    var key = JSON.stringify({\n        type: meta.fetchResponse,\n        resource: meta.resource,\n        payload: requestPayload,\n    });\n    return __assign(__assign({}, previousState), (_b = {}, _b[key] = payload, _b));\n};\nexport default customQueriesReducer;\n","import { combineReducers } from 'redux';\nimport resources, { getResources as resourceGetResources, getReferenceResource as resourceGetReferenceResource, } from './resource';\nimport loading from './loading';\nimport notifications from './notifications';\nimport references, { getPossibleReferenceValues as referencesGetPossibleReferenceValues, } from './references';\nimport ui from './ui';\nimport customQueries from './customQueries';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    resources: resources || defaultReducer,\n    customQueries: customQueries || defaultReducer,\n    loading: loading || defaultReducer,\n    notifications: notifications || defaultReducer,\n    references: references || defaultReducer,\n    ui: ui || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return referencesGetPossibleReferenceValues(state.references, props);\n};\nexport var getResources = function (state) { return resourceGetResources(state.resources); };\nexport var getReferenceResource = function (state, props) {\n    return resourceGetReferenceResource(state.resources, props);\n};\nexport { getPossibleReferences } from './references';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport admin, { getResources as adminGetResources, getReferenceResource as adminGetReferenceResource, getPossibleReferenceValues as adminGetPossibleReferenceValues, } from './admin';\nexport { getNotification } from './admin/notifications';\nexport default (function (customReducers, history) {\n    return combineReducers(__assign({ admin: admin, router: connectRouter(history) }, customReducers));\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return adminGetPossibleReferenceValues(state.admin, props);\n};\nexport var getResources = function (state) { return adminGetResources(state.admin); };\nexport var getReferenceResource = function (state, props) {\n    return adminGetReferenceResource(state.admin, props);\n};\nexport { getPossibleReferences } from './admin';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var USER_LOGIN = 'RA/USER_LOGIN';\nexport var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';\nexport var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';\nexport var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';\nexport var userLogin = function (payload, pathName) { return ({\n    type: USER_LOGIN,\n    payload: payload,\n    meta: { auth: true, pathName: pathName },\n}); };\nexport var USER_CHECK = 'RA/USER_CHECK';\nexport var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';\nexport var userCheck = function (payload, pathName, routeParams) {\n    if (routeParams === void 0) { routeParams = {}; }\n    return ({\n        type: USER_CHECK,\n        payload: __assign(__assign({}, payload), { routeParams: routeParams }),\n        meta: { auth: true, pathName: pathName },\n    });\n};\nexport var USER_LOGOUT = 'RA/USER_LOGOUT';\n/**\n * Action to trigger logout of the current user. The entire redux state will be cleared\n * thanks to the resettableAppReducer in Admin.\n * @see: Admin.js\n * @param redirectTo Path to direct to after logout\n * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}\n */\nexport var userLogout = function (redirectTo) { return ({\n    type: USER_LOGOUT,\n    payload: { redirectTo: redirectTo },\n    meta: { auth: true },\n}); };\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all, put, call, select, takeLatest, takeEvery, } from 'redux-saga/effects';\nimport { push, replace } from 'connected-react-router';\nimport { showNotification, hideNotification, } from '../actions/notificationActions';\nimport { USER_LOGIN, USER_LOGIN_LOADING, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_CHECK, USER_LOGOUT, } from '../actions/authActions';\nimport { FETCH_ERROR } from '../actions/fetchActions';\nimport { clearState } from '../actions/clearActions';\nexport default (function (authProvider) {\n    if (!authProvider) {\n        return function () { return null; };\n    }\n    return function watchAuthActions() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        takeEvery(USER_LOGIN, handleLogin(authProvider)),\n                        takeEvery(USER_CHECK, handleCheck(authProvider)),\n                        takeEvery(USER_LOGOUT, handleLogout(authProvider)),\n                        takeLatest(FETCH_ERROR, handleFetchError(authProvider)),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\nvar nextPathnameSelector = function (state) {\n    var locationState = state.router.location.state;\n    return locationState && locationState.nextPathname;\n};\nvar currentPathnameSelector = function (state) { return state.router.location; };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport var handleLogin = function (authProvider) {\n    return function (action) {\n        var payload, meta, authPayload, redirectTo, e_1, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 7, , 10]);\n                    return [4 /*yield*/, put({ type: USER_LOGIN_LOADING })];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'login'], payload)];\n                case 3:\n                    authPayload = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_SUCCESS,\n                            payload: authPayload,\n                        })];\n                case 4:\n                    _a.sent();\n                    return [4 /*yield*/, meta.pathName ||\n                            select(nextPathnameSelector)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push(redirectTo || '/'))];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 7:\n                    e_1 = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_FAILURE,\n                            error: e_1,\n                            meta: { auth: true },\n                        })];\n                case 8:\n                    _a.sent();\n                    errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleCheck = function (authProvider) {\n    return function (action) {\n        var payload, meta, error_1, redirectTo, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, call([authProvider, 'checkAuth'], payload)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 3:\n                    error_1 = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 4:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(replace({\n                            pathname: (error_1 && error_1.redirectTo) || redirectTo || '/login',\n                            state: { nextPathname: meta.pathName },\n                        }))];\n                case 5:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 6:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 7:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleLogout = function (authProvider) {\n    return function (action) {\n        var payload, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload;\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 1:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push((payload && payload.redirectTo) || redirectTo || '/login'))];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, put(clearState())];\n                case 3:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleFetchError = function (authProvider) {\n    return function (action) {\n        var error, e_2, nextPathname, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    error = action.error;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 10]);\n                    return [4 /*yield*/, call([authProvider, 'checkError'], error)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 3:\n                    e_2 = _a.sent();\n                    return [4 /*yield*/, select(currentPathnameSelector)];\n                case 4:\n                    nextPathname = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push({\n                            pathname: redirectTo || '/login',\n                            state: { nextPathname: nextPathname },\n                        }))];\n                case 6:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 7:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    return [4 /*yield*/, put(hideNotification())];\n                case 8:\n                    _a.sent();\n                    return [4 /*yield*/, put(showNotification('ra.notification.logged_out', 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { call, takeEvery } from 'redux-saga/effects';\n/**\n * Callback Side Effects\n */\nfunction handleCallback(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, error = _a.error, callback = _a.meta.callback;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0: return [4 /*yield*/, call(callback, { payload: payload, requestPayload: requestPayload, error: error })];\n            case 1:\n                _b.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.callback; }, handleCallback)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { all, call, cancelled, put, select, takeEvery, } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType, } from '../core';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        response.data.some(function (d) { return !d.hasOwnProperty('id'); })) {\n        logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total')) {\n        logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport function handleFetch(dataProvider, action) {\n    var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n                restType = fetchMeta;\n                successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n                failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 7, 10, 14]);\n                return [4 /*yield*/, select(function (state) { return state.admin.ui.optimistic; })];\n            case 2:\n                isOptimistic = _b.sent();\n                if (isOptimistic) {\n                    // in optimistic mode, all fetch actions are canceled,\n                    // so the admin uses the store without synchronization\n                    return [2 /*return*/];\n                }\n                return [4 /*yield*/, all([\n                        put({ type: type + \"_LOADING\", payload: payload, meta: meta }),\n                        put({ type: FETCH_START }),\n                    ])];\n            case 3:\n                _b.sent();\n                return [4 /*yield*/, call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n            case 4:\n                response = _b.sent();\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, restType);\n                }\n                return [4 /*yield*/, put({\n                        type: type + \"_SUCCESS\",\n                        payload: response,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), successSideEffects), { fetchResponse: restType, fetchStatus: FETCH_END }),\n                    })];\n            case 5:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_END })];\n            case 6:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 7:\n                error_1 = _b.sent();\n                return [4 /*yield*/, put({\n                        type: type + \"_FAILURE\",\n                        error: (error_1 && (error_1.message ? error_1.message : error_1)) || null,\n                        payload: (error_1 && error_1.body) || null,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), failureSideEffects), { fetchResponse: restType, fetchStatus: FETCH_ERROR }),\n                    })];\n            case 8:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_ERROR, error: error_1 })];\n            case 9:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 10: return [4 /*yield*/, cancelled()];\n            case 11:\n                if (!_b.sent()) return [3 /*break*/, 13];\n                return [4 /*yield*/, put({ type: FETCH_CANCEL })];\n            case 12:\n                _b.sent();\n                return [2 /*return*/];\n            case 13: return [7 /*endfinally*/];\n            case 14: return [2 /*return*/];\n        }\n    });\n}\nexport var takeFetchAction = function (action) { return action.meta && action.meta.fetch; };\nvar fetch = function (dataProvider) {\n    return function watchFetch() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, takeEvery(takeFetchAction, handleFetch, dataProvider)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default fetch;\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Notification Side Effects\n */\nfunction handleNotification(_a) {\n    var body, level, _b, messageArgs;\n    var error = _a.error, _c = _a.meta, notification = _c.notification, optimistic = _c.optimistic;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;\n                if (!error) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(showNotification(typeof error === 'string' ? error : error.message || body, level || 'warning', {\n                        messageArgs: messageArgs,\n                        undoable: false,\n                    }))];\n            case 1: return [2 /*return*/, _d.sent()];\n            case 2: return [4 /*yield*/, put(showNotification(body, level || 'info', {\n                    messageArgs: messageArgs,\n                    undoable: optimistic,\n                }))];\n            case 3:\n                _d.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && action.meta.notification; }, handleNotification)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Redirection Side Effects\n */\nexport function handleRedirection(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, _b = _a.meta, basePath = _b.basePath, redirectTo = _b.redirectTo;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                if (!!redirectTo) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _c.sent();\n                return [2 /*return*/];\n            case 2: return [4 /*yield*/, put(push(resolveRedirectTo(redirectTo, basePath, payload\n                    ? payload.id || (payload.data ? payload.data.id : null)\n                    : requestPayload\n                        ? requestPayload.id\n                        : null, payload && payload.data\n                    ? payload.data\n                    : requestPayload && requestPayload.data\n                        ? requestPayload.data\n                        : null)))];\n            case 3:\n                _c.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && typeof action.meta.redirectTo !== 'undefined'; }, handleRedirection)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { cancel, delay, fork, put, takeEvery } from 'redux-saga/effects';\n/**\n * Distinct reducer on ids\n *\n * @example\n * addIds([1, 2, 3], { payload: { ids: [3, 4] } })\n *   => [1, 2, 3, 4]\n */\nvar addIds = function (oldIds, _a) {\n    var ids = _a.payload.ids;\n    // Using a Set ensure we only keep distinct values\n    var oldIdsSet = new Set(oldIds);\n    ids.forEach(function (id) { return oldIdsSet.add(id); });\n    return Array.from(oldIdsSet);\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var finalizeFactory = function (tasks, accumulations) {\n    /**\n     * Fetch the accumulated value after a delay\n     *\n     * As this gets canceled by subsequent calls to accumulate(), only the last\n     * call to finalize() will not be canceled. The delay acts as a\n     * debounce.\n     *\n     * @see https://redux-saga.js.org/docs/recipes/#debouncing\n     */\n    return function finalize(key, actionCreator) {\n        var accumulatedValue, action;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: \n                // combined with cancel(), this debounces the calls\n                return [4 /*yield*/, delay(50)];\n                case 1:\n                    // combined with cancel(), this debounces the calls\n                    _a.sent();\n                    accumulatedValue = accumulations[key];\n                    // Remove the latest accumulated value so that they do not interfere with later calls\n                    delete accumulations[key];\n                    action = actionCreator(key, accumulatedValue);\n                    return [4 /*yield*/, put(action)];\n                case 2:\n                    _a.sent();\n                    delete tasks[key];\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var accumulateFactory = function (tasks, accumulations, finalize) {\n    /**\n     * Accumulate actions and eventually redispatch an action with the accumulated payload\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [1, 2, 3], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [4, 5], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})\n     */\n    return function accumulate(action) {\n        var key, accumulateValues, _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    key = action.meta.accumulateKey || action.payload.resource;\n                    if (!tasks[key]) return [3 /*break*/, 2];\n                    return [4 /*yield*/, cancel(tasks[key])];\n                case 1:\n                    _c.sent();\n                    _c.label = 2;\n                case 2:\n                    accumulateValues = action.meta.accumulateValues || addIds;\n                    // accumulateValues is a reducer function, it receives the previous accumulatedValues for\n                    // the provided key, and must return the updated accumulatedValues\n                    accumulations[key] = accumulateValues(accumulations[key], action);\n                    _a = tasks;\n                    _b = key;\n                    return [4 /*yield*/, fork(finalize, key, action.meta.accumulate)];\n                case 3:\n                    _a[_b] = _c.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default function () {\n    var accumulations, tasks;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                accumulations = {};\n                tasks = {};\n                return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.accumulate; }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Refresh Side Effects\n */\nfunction handleRefresh() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.refresh; }, handleRefresh)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n    var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                action = undoableAction.payload.action;\n                _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n                return [4 /*yield*/, put(startOptimisticMode())];\n            case 1:\n                _b.sent();\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                return [4 /*yield*/, put(__assign(__assign({}, action), { type: action.type + \"_OPTIMISTIC\", meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), { optimistic: true }) }))];\n            case 2:\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                _b.sent();\n                return [4 /*yield*/, race({\n                        undo: take(UNDO),\n                        complete: take(COMPLETE),\n                    })];\n            case 3:\n                complete = (_b.sent()).complete;\n                return [4 /*yield*/, put(stopOptimisticMode())];\n            case 4:\n                _b.sent();\n                if (!complete) return [3 /*break*/, 6];\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                return [4 /*yield*/, put(__assign(__assign({}, action), { meta: __assign(__assign({}, metaWithoutSideEffects), { onSuccess: { refresh: true }, onFailure: __assign(__assign({}, onFailure), { refresh: true }) }) }))];\n            case 5:\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                _b.sent();\n                return [3 /*break*/, 9];\n            case 6: return [4 /*yield*/, put(showNotification('ra.notification.canceled'))];\n            case 7:\n                _b.sent();\n                return [4 /*yield*/, put(refreshView())];\n            case 8:\n                _b.sent();\n                _b.label = 9;\n            case 9: return [2 /*return*/];\n        }\n    });\n}\nexport default function watchUndoable() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: \n            // @ts-ignore\n            return [4 /*yield*/, takeEvery(UNDOABLE, handleUndoRace)];\n            case 1:\n                // @ts-ignore\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all } from 'redux-saga/effects';\nimport auth from './auth';\nimport callback from './callback';\nimport fetch from './fetch';\nimport notification from './notification';\nimport redirection from './redirection';\nimport accumulate from './accumulate';\nimport refresh from './refresh';\nimport undo from './undo';\n/**\n * @param {Object} dataProvider A Data Provider function\n * @param {Function} authProvider An Authentication Provider object\n */\nexport default (function (dataProvider, authProvider) {\n    return function admin() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        auth(authProvider)(),\n                        undo(),\n                        fetch(dataProvider)(),\n                        accumulate(),\n                        redirection(),\n                        refresh(),\n                        notification(),\n                        callback(),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n    var dataProvider = _a.dataProvider, history = _a.history, _b = _a.customReducers, customReducers = _b === void 0 ? {} : _b, _c = _a.authProvider, authProvider = _c === void 0 ? null : _c, _d = _a.customSagas, customSagas = _d === void 0 ? [] : _d, initialState = _a.initialState;\n    var appReducer = createAppReducer(customReducers, history);\n    var resettableAppReducer = function (state, action) {\n        return appReducer(action.type !== CLEAR_STATE\n            ? state\n            : // Erase data from the store but keep location, notifications, ui prefs, etc.\n             __assign(__assign({}, state), { admin: __assign(__assign({}, state.admin), { loading: 0, resources: {}, customQueries: {}, references: { oneToMany: {}, possibleValues: {} } }) }), action);\n    };\n    var saga = function rootSaga() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all(__spreadArrays([adminSaga(dataProvider, authProvider)], customSagas).map(fork))];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n    var sagaMiddleware = createSagaMiddleware();\n    var typedWindow = typeof window !== 'undefined' && window;\n    var composeEnhancers = (process.env.NODE_ENV === 'development' &&\n        typeof typedWindow !== 'undefined' &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            trace: true,\n            traceLimit: 25,\n        })) ||\n        compose;\n    var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n    sagaMiddleware.run(saga);\n    return store;\n});\n","import { createContext } from 'react';\nvar TranslationContext = createContext({\n    locale: 'en',\n    setLocale: function () { },\n    i18nProvider: {\n        translate: function (x) { return x; },\n        changeLocale: function () { return Promise.resolve(); },\n        getLocale: function () { return 'en'; },\n    },\n});\nTranslationContext.displayName = 'TranslationContext';\nexport { TranslationContext };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useMemo, Children, } from 'react';\nimport { useSafeSetState } from '../util/hooks';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Creates a translation context, available to its children\n *\n * @example\n *     const MyApp = () => (\n *         <Provider store={store}>\n *             <TranslationProvider i18nProvider={i18nProvider}>\n *                 <!-- Child components go here -->\n *             </TranslationProvider>\n *         </Provider>\n *     );\n */\nvar TranslationProvider = function (props) {\n    var i18nProvider = props.i18nProvider, children = props.children;\n    var _a = useSafeSetState({\n        locale: i18nProvider ? i18nProvider.getLocale() : 'en',\n        i18nProvider: i18nProvider,\n    }), state = _a[0], setState = _a[1];\n    var setLocale = useCallback(function (newLocale) {\n        return setState(function (state) { return (__assign(__assign({}, state), { locale: newLocale })); });\n    }, [setState]);\n    // Allow locale modification by including setLocale in the context\n    // This can't be done in the initial state because setState doesn't exist yet\n    var value = useMemo(function () { return (__assign(__assign({}, state), { setLocale: setLocale })); }, [setLocale, state]);\n    return (React.createElement(TranslationContext.Provider, { value: value }, Children.only(children)));\n};\nexport default TranslationProvider;\n","import * as React from 'react';\nimport { useContext } from 'react';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { createHashHistory } from 'history';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider, } from '../dataProvider';\nimport createAdminStore from './createAdminStore';\nimport TranslationProvider from '../i18n/TranslationProvider';\nvar CoreAdminContext = function (_a) {\n    var authProvider = _a.authProvider, dataProvider = _a.dataProvider, i18nProvider = _a.i18nProvider, children = _a.children, history = _a.history, customReducers = _a.customReducers, customSagas = _a.customSagas, initialState = _a.initialState;\n    var reduxIsAlreadyInitialized = !!useContext(ReactReduxContext);\n    if (!dataProvider) {\n        throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n    }\n    var finalAuthProvider = authProvider instanceof Function\n        ? convertLegacyAuthProvider(authProvider)\n        : authProvider;\n    var finalDataProvider = dataProvider instanceof Function\n        ? convertLegacyDataProvider(dataProvider)\n        : dataProvider;\n    var finalHistory = history || createHashHistory();\n    var renderCore = function () {\n        return (React.createElement(AuthContext.Provider, { value: finalAuthProvider },\n            React.createElement(DataProviderContext.Provider, { value: finalDataProvider },\n                React.createElement(TranslationProvider, { i18nProvider: i18nProvider }, typeof window !== 'undefined' ? (React.createElement(ConnectedRouter, { history: finalHistory }, children)) : (children)))));\n    };\n    if (reduxIsAlreadyInitialized) {\n        if (!history) {\n            throw new Error(\"Missing history prop.\\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\\nReact-admin uses this history for its own ConnectedRouter.\");\n        }\n        return renderCore();\n    }\n    else {\n        return (React.createElement(Provider, { store: createAdminStore({\n                authProvider: finalAuthProvider,\n                customReducers: customReducers,\n                customSagas: customSagas,\n                dataProvider: finalDataProvider,\n                initialState: initialState,\n                history: finalHistory,\n            }) }, renderCore()));\n    }\n};\nexport default CoreAdminContext;\n","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS, } from './types';\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (function (legacyAuthProvider) {\n    var authProvider = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return legacyAuthProvider.apply(null, args);\n    };\n    authProvider.login = function (params) { return legacyAuthProvider(AUTH_LOGIN, params); };\n    authProvider.logout = function (params) { return legacyAuthProvider(AUTH_LOGOUT, params); };\n    authProvider.checkAuth = function (params) { return legacyAuthProvider(AUTH_CHECK, params); };\n    authProvider.checkError = function (error) { return legacyAuthProvider(AUTH_ERROR, error); };\n    authProvider.getPermissions = function (params) {\n        return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    };\n    return authProvider;\n});\n","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n","var englishMessages = {\n    ra: {\n        action: {\n            add_filter: 'Add filter',\n            add: 'Add',\n            back: 'Go Back',\n            bulk_actions: '1 item selected |||| %{smart_count} items selected',\n            cancel: 'Cancel',\n            clear_input_value: 'Clear value',\n            clone: 'Clone',\n            confirm: 'Confirm',\n            create: 'Create',\n            delete: 'Delete',\n            edit: 'Edit',\n            export: 'Export',\n            list: 'List',\n            refresh: 'Refresh',\n            remove_filter: 'Remove this filter',\n            remove: 'Remove',\n            save: 'Save',\n            search: 'Search',\n            show: 'Show',\n            sort: 'Sort',\n            undo: 'Undo',\n            unselect: 'Unselect',\n            expand: 'Expand',\n            close: 'Close',\n            open_menu: 'Open menu',\n            close_menu: 'Close menu',\n        },\n        boolean: {\n            true: 'Yes',\n            false: 'No',\n            null: '',\n        },\n        page: {\n            create: 'Create %{name}',\n            dashboard: 'Dashboard',\n            edit: '%{name} #%{id}',\n            error: 'Something went wrong',\n            list: '%{name}',\n            loading: 'Loading',\n            not_found: 'Not Found',\n            show: '%{name} #%{id}',\n            empty: 'No %{name} yet.',\n            invite: 'Do you want to add one?',\n        },\n        input: {\n            file: {\n                upload_several: 'Drop some files to upload, or click to select one.',\n                upload_single: 'Drop a file to upload, or click to select it.',\n            },\n            image: {\n                upload_several: 'Drop some pictures to upload, or click to select one.',\n                upload_single: 'Drop a picture to upload, or click to select it.',\n            },\n            references: {\n                all_missing: 'Unable to find references data.',\n                many_missing: 'At least one of the associated references no longer appears to be available.',\n                single_missing: 'Associated reference no longer appears to be available.',\n            },\n            password: {\n                toggle_visible: 'Hide password',\n                toggle_hidden: 'Show password',\n            },\n        },\n        message: {\n            about: 'About',\n            are_you_sure: 'Are you sure?',\n            bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n            bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n            delete_content: 'Are you sure you want to delete this item?',\n            delete_title: 'Delete %{name} #%{id}',\n            details: 'Details',\n            error: \"A client error occurred and your request couldn't be completed.\",\n            invalid_form: 'The form is not valid. Please check for errors',\n            loading: 'The page is loading, just a moment please',\n            no: 'No',\n            not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n            yes: 'Yes',\n            unsaved_changes: \"Some of your changes weren't saved. Are you sure you want to ignore them?\",\n        },\n        navigation: {\n            no_results: 'No results found',\n            no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n            page_out_of_boundaries: 'Page number %{page} out of boundaries',\n            page_out_from_end: 'Cannot go after last page',\n            page_out_from_begin: 'Cannot go before page 1',\n            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n            page_rows_per_page: 'Rows per page:',\n            next: 'Next',\n            prev: 'Prev',\n        },\n        sort: {\n            sort_by: 'Sort by %{field} %{order}',\n            ASC: 'ascending',\n            DESC: 'descending',\n        },\n        auth: {\n            auth_check_error: 'Please login to continue',\n            user_menu: 'Profile',\n            username: 'Username',\n            password: 'Password',\n            sign_in: 'Sign in',\n            sign_in_error: 'Authentication failed, please retry',\n            logout: 'Logout',\n        },\n        notification: {\n            updated: 'Element updated |||| %{smart_count} elements updated',\n            created: 'Element created',\n            deleted: 'Element deleted |||| %{smart_count} elements deleted',\n            bad_item: 'Incorrect element',\n            item_doesnt_exist: 'Element does not exist',\n            http_error: 'Server communication error',\n            data_provider_error: 'dataProvider error. Check the console for details.',\n            i18n_error: 'Cannot load the translations for the specified language',\n            canceled: 'Action cancelled',\n            logged_out: 'Your session has ended, please reconnect.',\n        },\n        validation: {\n            required: 'Required',\n            minLength: 'Must be %{min} characters at least',\n            maxLength: 'Must be %{max} characters or less',\n            minValue: 'Must be at least %{min}',\n            maxValue: 'Must be %{max} or less',\n            number: 'Must be a number',\n            email: 'Must be a valid email',\n            oneOf: 'Must be one of: %{options}',\n            regex: 'Must match a specific format (regexp): %{pattern}',\n        },\n    },\n};\nexport default englishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource, polyglotI18nProvider } from 'react-admin';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(locale => messages[locale])\n */\nexport default (function (getMessages, initialLocale, polyglotOptions) {\n    if (initialLocale === void 0) { initialLocale = 'en'; }\n    if (polyglotOptions === void 0) { polyglotOptions = {}; }\n    var locale = initialLocale;\n    var messages = getMessages(initialLocale);\n    if (messages instanceof Promise) {\n        throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\" + initialLocale + \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\");\n    }\n    var polyglot = new Polyglot(__assign({ locale: locale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n    var translate = polyglot.t.bind(polyglot);\n    return {\n        translate: function (key, options) {\n            if (options === void 0) { options = {}; }\n            return translate(key, options);\n        },\n        changeLocale: function (newLocale) {\n            // We systematically return a Promise for the messages because\n            // getMessages may return a Promise\n            return Promise.resolve(getMessages(newLocale)).then(function (messages) {\n                locale = newLocale;\n                var newPolyglot = new Polyglot(__assign({ locale: newLocale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n                translate = newPolyglot.t.bind(newPolyglot);\n            });\n        },\n        getLocale: function () { return locale; },\n    };\n});\n","import defaultMessages from 'ra-language-english';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nexport default polyglotI18nProvider(function () { return defaultMessages; });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CoreAdminContext } from 'ra-core';\nimport defaultI18nProvider from './defaultI18nProvider';\nvar AdminContext = function (props) { return (React.createElement(CoreAdminContext, __assign({}, props))); };\nAdminContext.defaultProps = {\n    i18nProvider: defaultI18nProvider,\n};\nAdminContext.displayName = 'AdminContext';\nexport default AdminContext;\n","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport useNotify from '../sideEffect/useNotify';\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useCheckAuth.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then(() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\nvar useCheckAuth = function () {\n    var authProvider = useAuthProvider();\n    var notify = useNotify();\n    var logout = useLogout();\n    var checkAuth = useCallback(function (params, logoutOnFailure, redirectTo, disableNotification) {\n        if (params === void 0) { params = {}; }\n        if (logoutOnFailure === void 0) { logoutOnFailure = true; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        if (disableNotification === void 0) { disableNotification = false; }\n        return authProvider.checkAuth(params).catch(function (error) {\n            if (logoutOnFailure) {\n                logout({}, error && error.redirectTo\n                    ? error.redirectTo\n                    : redirectTo);\n                var shouldSkipNotify = disableNotification ||\n                    (error && error.message === false);\n                !shouldSkipNotify &&\n                    notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');\n            }\n            throw error;\n        });\n    }, [authProvider, logout, notify]);\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\nvar checkAuthWithoutAuthProvider = function () { return Promise.resolve(); };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport default useCheckAuth;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nvar emptyParams = {};\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport default (function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params).catch(function () { });\n    }, [checkAuth, params]);\n});\n","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nvar getPermissionsWithoutProvider = function () { return Promise.resolve([]); };\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nvar useGetPermissions = function () {\n    var authProvider = useAuthProvider();\n    var getPermissions = useCallback(function (params) {\n        if (params === void 0) { params = {}; }\n        return authProvider.getPermissions(params);\n    }, [authProvider]);\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\nexport default useGetPermissions;\n","import { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n// keep a cache of already fetched permissions to initialize state for new\n// components and avoid a useless rerender if the permissions haven't changed\nvar alreadyFetchedPermissions = { '{}': [] };\n/**\n * Hook for getting user permissions without the loading state.\n *\n * When compared to usePermissions, this hook doesn't cause a re-render\n * when the permissions haven't changed since the last call.\n *\n * This hook doesn't handle the loading state.\n *\n * @see usePermissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start:   { permissions: [previously fetched permissions for these params] }\n * - success: { permissions: [permissions returned by the authProvider (usually the same as on start)] }\n * - error:   { error: [error from provider] }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error }.\n *\n * @example\n *     import { usePermissionsOptimized } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { permissions } = usePermissionsOptimized();\n *         if (permissions !== 'editor') {\n *             return <Redirect  to={`posts/${props.id}/show`} />\n *         } else {\n *             return <PostEdit {...props} />\n *         }\n *     };\n */\nvar usePermissionsOptimized = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var _a = useSafeSetState({\n        permissions: alreadyFetchedPermissions[JSON.stringify(params)],\n    }), state = _a[0], setState = _a[1];\n    var getPermissions = useGetPermissions();\n    useEffect(function () {\n        getPermissions(params)\n            .then(function (permissions) {\n            var key = JSON.stringify(params);\n            if (!isEqual(permissions, alreadyFetchedPermissions[key])) {\n                alreadyFetchedPermissions[key] = permissions;\n                setState({ permissions: permissions });\n            }\n        })\n            .catch(function (error) {\n            setState({\n                error: error,\n            });\n        });\n    }, [getPermissions, params, setState]);\n    return state;\n};\nexport default usePermissionsOptimized;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Children, createElement, } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissionsOptimized from './usePermissionsOptimized';\nvar isEmptyChildren = function (children) { return Children.count(children) === 0; };\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nvar WithPermissions = function (_a) {\n    var authParams = _a.authParams, children = _a.children, render = _a.render, component = _a.component, staticContext = _a.staticContext, props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n    warning((render && children && !isEmptyChildren(children)) ||\n        (render && component) ||\n        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n    useAuthenticated(authParams);\n    var permissions = usePermissionsOptimized(authParams).permissions;\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\n    if (component) {\n        return createElement(component, __assign({ permissions: permissions }, props));\n    }\n    // @deprecated\n    if (render) {\n        return render(__assign({ permissions: permissions }, props));\n    }\n    // @deprecated\n    if (children) {\n        return children(__assign({ permissions: permissions }, props));\n    }\n};\nexport default WithPermissions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Children, cloneElement, createElement, } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nvar defaultAuthParams = { route: 'dashboard' };\nvar RoutesWithLayout = function (_a) {\n    var catchAll = _a.catchAll, children = _a.children, customRoutes = _a.customRoutes, dashboard = _a.dashboard, title = _a.title;\n    var childrenAsArray = React.Children.toArray(children);\n    var firstChild = childrenAsArray.length > 0\n        ? childrenAsArray[0]\n        : null;\n    return (React.createElement(Switch, null,\n        customRoutes &&\n            customRoutes.map(function (route, key) { return cloneElement(route, { key: key }); }),\n        Children.map(children, function (child) { return (React.createElement(Route, { key: child.props.name, path: \"/\" + child.props.name, render: function (props) {\n                return cloneElement(child, __assign({ \n                    // The context prop instruct the Resource component to\n                    // render itself as a standard component\n                    intent: 'route' }, props));\n            } })); }),\n        dashboard ? (React.createElement(Route, { exact: true, path: \"/\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ authParams: defaultAuthParams, component: dashboard }, routeProps))); } })) : firstChild ? (React.createElement(Route, { exact: true, path: \"/\", render: function () { return React.createElement(Redirect, { to: \"/\" + firstChild.props.name }); } })) : null,\n        React.createElement(Route, { render: function (routeProps) {\n                return createElement(catchAll, __assign(__assign({}, routeProps), { title: title }));\n            } })));\n};\nexport default RoutesWithLayout;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n *\n * The return value updates according to the authProvider request state:\n *\n * - loading: true just after mount, while the authProvider is being called. false once the authProvider has answered.\n * - loaded: the opposite of loading.\n * - authenticated: true while loading. then true or false depending on the authProvider response.\n *\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\n * instead of the useAuthenticated() hook.\n *\n * You can render different content depending on the authenticated status.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.\n *\n * @example\n * import { useAuthState, Loading } from 'react-admin';\n *\n * const MyPage = () => {\n *     const { loading, authenticated } = useAuthState();\n *     if (loading) {\n *         return <Loading />;\n *     }\n *     if (authenticated) {\n *        return <AuthenticatedContent />;\n *     }\n *     return <AnonymousContent />;\n * };\n */\nvar useAuthState = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n        authenticated: true,\n    }), state = _a[0], setState = _a[1];\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params, false)\n            .then(function () {\n            return setState({ loading: false, loaded: true, authenticated: true });\n        })\n            .catch(function () {\n            return setState({ loading: false, loaded: true, authenticated: false });\n        });\n    }, [checkAuth, params, setState]);\n    return state;\n};\nexport default useAuthState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { Children, useEffect, cloneElement, createElement, } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport RoutesWithLayout from './RoutesWithLayout';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { useTimeout, useSafeSetState } from '../util';\nvar CoreAdminRouter = function (props) {\n    var getPermissions = useGetPermissions();\n    var doLogout = useLogout();\n    var authenticated = useAuthState().authenticated;\n    var oneSecondHasPassed = useTimeout(1000);\n    var _a = useSafeSetState([]), computedChildren = _a[0], setComputedChildren = _a[1];\n    useEffect(function () {\n        if (typeof props.children === 'function') {\n            initializeResources();\n        }\n    }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n    var initializeResources = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var permissions, resolveChildren, childrenFuncResult, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, getPermissions()];\n                case 1:\n                    permissions = _a.sent();\n                    resolveChildren = props.children;\n                    childrenFuncResult = resolveChildren(permissions);\n                    if (childrenFuncResult.then) {\n                        childrenFuncResult.then(function (resolvedChildren) {\n                            return setComputedChildren(resolvedChildren\n                                .filter(function (child) { return child; })\n                                .map(function (child) { return (__assign(__assign({}, child), { props: __assign(__assign({}, child.props), { key: child.props.name }) })); }));\n                        });\n                    }\n                    else {\n                        setComputedChildren(childrenFuncResult.filter(function (child) { return child; }));\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    console.error(error_1);\n                    doLogout();\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var renderCustomRoutesWithoutLayout = function (route, routeProps) {\n        if (route.props.render) {\n            return route.props.render(__assign(__assign({}, routeProps), { title: props.title }));\n        }\n        if (route.props.component) {\n            return createElement(route.props.component, __assign(__assign({}, routeProps), { title: props.title }));\n        }\n    };\n    var layout = props.layout, catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, LoadingPage = props.loading, logout = props.logout, menu = props.menu, ready = props.ready, theme = props.theme, title = props.title;\n    if ((typeof children !== 'function' && !children) ||\n        (Array.isArray(children) && children.length === 0)) {\n        return createElement(ready);\n    }\n    if (typeof children === 'function' &&\n        (!computedChildren || computedChildren.length === 0)) {\n        if (oneSecondHasPassed) {\n            return (React.createElement(Route, { path: \"/\", key: \"loading\", render: function () { return React.createElement(LoadingPage, { theme: theme }); } }));\n        }\n        else {\n            return null;\n        }\n    }\n    var childrenToRender = (typeof children === 'function'\n        ? computedChildren\n        : children);\n    return (React.createElement(\"div\", null,\n        // Render every resource children outside the React Router Switch\n        // as we need all of them and not just the one rendered\n        Children.map(childrenToRender, function (child) {\n            return cloneElement(child, {\n                key: child.props.name,\n                // The context prop instructs the Resource component to not render anything\n                // but simply to register itself as a known resource\n                intent: 'registration',\n            });\n        }),\n        React.createElement(Switch, null,\n            customRoutes\n                .filter(function (route) { return route.props.noLayout; })\n                .map(function (route, key) {\n                return cloneElement(route, {\n                    key: key,\n                    render: function (routeProps) {\n                        return renderCustomRoutesWithoutLayout(route, routeProps);\n                    },\n                });\n            }),\n            React.createElement(Route, { path: \"/\", render: function () {\n                    return createElement(layout, {\n                        dashboard: dashboard,\n                        logout: logout,\n                        menu: menu,\n                        theme: theme,\n                        title: title,\n                    }, React.createElement(RoutesWithLayout, { catchAll: catchAll, customRoutes: customRoutes.filter(function (route) { return !route.props.noLayout; }), dashboard: dashboard, title: title }, Children.map(childrenToRender, function (child) {\n                        return cloneElement(child, {\n                            key: child.props.name,\n                            intent: 'route',\n                        });\n                    })));\n                } }))));\n};\nCoreAdminRouter.defaultProps = {\n    customRoutes: [],\n};\nexport default CoreAdminRouter;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nvar styles = {\n    root: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        fontFamily: '\"Roboto\", sans-serif',\n    },\n    main: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        textAlign: 'center',\n        flexDirection: 'column',\n        background: 'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\n        color: 'white',\n        fontSize: '1.5em',\n        fontWeight: 'bold',\n    },\n    secondary: {\n        height: '20vh',\n        background: '#e8e8e8',\n        color: 'black',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n    },\n    link: {\n        textAlign: 'center',\n        width: 150,\n        display: 'block',\n        textDecoration: 'none',\n        color: 'black',\n        opacity: 0.7,\n    },\n    linkHovered: {\n        opacity: 1,\n    },\n    image: {\n        width: 50,\n    },\n    logo: {\n        height: 100,\n    },\n};\nvar Button = function (_a) {\n    var img = _a.img, label = _a.label, href = _a.href;\n    var _b = useState(false), hovered = _b[0], setHovered = _b[1];\n    return (React.createElement(\"div\", null,\n        React.createElement(\"a\", { href: href, style: hovered\n                ? __assign(__assign({}, styles.link), styles.linkHovered) : styles.link, onMouseEnter: function () { return setHovered(true); }, onMouseLeave: function () { return setHovered(false); } },\n            React.createElement(\"img\", { src: img, alt: label, style: styles.image }),\n            React.createElement(\"br\", null),\n            label)));\n};\nexport default (function () {\n    return process.env.NODE_ENV === 'production' ? (React.createElement(\"span\", null)) : (React.createElement(\"div\", { style: styles.root },\n        React.createElement(\"div\", { style: styles.main },\n            React.createElement(\"img\", { style: styles.logo, src: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", alt: \"react-admin logo\" }),\n            React.createElement(\"h1\", null, \"Welcome to React-admin\"),\n            React.createElement(\"div\", null,\n                \"Your application is properly configured.\",\n                React.createElement(\"br\", null),\n                \"Now you can add a <Resource> as child of <Admin>.\")),\n        React.createElement(\"div\", { style: styles.secondary },\n            React.createElement(Button, { href: \"https://marmelab.com/react-admin/Readme.html\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Documentation\" }),\n            React.createElement(Button, { href: \"https://github.com/marmelab/react-admin/tree/master/examples\", img: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\", label: \"Examples\" }),\n            React.createElement(Button, { href: \"https://stackoverflow.com/questions/tagged/react-admin\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Community\" }))));\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createElement, useMemo, useEffect, } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CoreAdminRouter from './CoreAdminRouter';\nimport { Ready } from '../util';\nvar DefaultLayout = function (_a) {\n    var children = _a.children;\n    return (React.createElement(React.Fragment, null, children));\n};\nvar CoreAdminUI = function (_a) {\n    var _b = _a.catchAll, catchAll = _b === void 0 ? Noop : _b, children = _a.children, _c = _a.customRoutes, customRoutes = _c === void 0 ? [] : _c, dashboard = _a.dashboard, _d = _a.disableTelemetry, disableTelemetry = _d === void 0 ? false : _d, _e = _a.layout, layout = _e === void 0 ? DefaultLayout : _e, _f = _a.loading, loading = _f === void 0 ? Noop : _f, _g = _a.loginPage, loginPage = _g === void 0 ? false : _g, logout = _a.logout, menu = _a.menu, // deprecated, use a custom layout instead\n    _h = _a.ready, // deprecated, use a custom layout instead\n    ready = _h === void 0 ? Ready : _h, theme = _a.theme, _j = _a.title, title = _j === void 0 ? 'React Admin' : _j;\n    var logoutElement = useMemo(function () { return logout && createElement(logout); }, [\n        logout,\n    ]);\n    useEffect(function () {\n        if (disableTelemetry ||\n            process.env.NODE_ENV !== 'production' ||\n            typeof window === 'undefined' ||\n            typeof window.location === 'undefined' ||\n            typeof Image === 'undefined') {\n            return;\n        }\n        var img = new Image();\n        img.src = \"https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=\" + window.location.hostname;\n    }, [disableTelemetry]);\n    return (React.createElement(Switch, null,\n        loginPage !== false && loginPage !== true ? (React.createElement(Route, { exact: true, path: \"/login\", render: function (props) {\n                return createElement(loginPage, __assign(__assign({}, props), { title: title,\n                    theme: theme }));\n            } })) : null,\n        React.createElement(Route, { path: \"/\", render: function (props) { return (React.createElement(CoreAdminRouter, __assign({ catchAll: catchAll, customRoutes: customRoutes, dashboard: dashboard, layout: layout, loading: loading, logout: logoutElement, menu: menu, ready: ready, theme: theme, title: title }, props), children)); } })));\n};\nvar Noop = function () { return null; };\nexport default CoreAdminUI;\n","import { isValidElementType } from 'react-is';\nexport default (function (props, propName, componentName) {\n    if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\"Invalid prop '\" + propName + \"' supplied to '\" + componentName + \"': the prop is not a valid React component\");\n    }\n});\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nvar useTranslate = function () {\n    var _a = useContext(TranslationContext), i18nProvider = _a.i18nProvider, locale = _a.locale;\n    var translate = useCallback(function (key, options) {\n        return i18nProvider.translate(key, options);\n    }, \n    // update the hook each time the locale changes\n    [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return i18nProvider ? translate : identity;\n};\nvar identity = function (key) { return key; };\nexport default useTranslate;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport NavigationRefresh from '@material-ui/icons/Refresh';\nimport { refreshView, useTranslate } from 'ra-core';\nvar RefreshIconButton = function (_a) {\n    var _b = _a.label, label = _b === void 0 ? 'ra.action.refresh' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = _a.onClick, className = _a.className, rest = __rest(_a, [\"label\", \"icon\", \"onClick\", \"className\"]);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var handleClick = useCallback(function (event) {\n        event.preventDefault();\n        dispatch(refreshView());\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [dispatch, onClick]);\n    return (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": label && translate(label, { _: label }), className: className, color: \"inherit\", onClick: handleClick }, rest), icon)));\n};\nvar defaultIcon = React.createElement(NavigationRefresh, null);\nRefreshIconButton.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default RefreshIconButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useRefreshWhenVisible } from 'ra-core';\nimport RefreshIconButton from '../button/RefreshIconButton';\nvar useStyles = makeStyles(function (theme) { return ({\n    loader: {\n        margin: theme.spacing(2),\n    },\n    loadedIcon: {},\n}); }, { name: 'RaLoadingIndicator' });\nvar LoadingIndicator = function (props) {\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    useRefreshWhenVisible();\n    var loading = useSelector(function (state) { return state.admin.loading > 0; });\n    var classes = useStyles(props);\n    var theme = useTheme();\n    return loading ? (React.createElement(CircularProgress, __assign({ className: classNames('app-loader', classes.loader, className), color: \"inherit\", size: theme.spacing(2), thickness: 6 }, rest))) : (React.createElement(RefreshIconButton, { className: classes.loadedIcon }));\n};\nLoadingIndicator.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    width: PropTypes.string,\n};\nexport default LoadingIndicator;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useEffect } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport { useSafeSetState } from '../util/hooks';\nvar defaultIdentity = {\n    id: '',\n    fullName: null,\n};\n/**\n * Return the current user identity by calling authProvider.getIdentity() on mount\n *\n * The return value updates according to the call state:\n *\n * - mount: { loading: true, loaded: false }\n * - success: { identity: Identity, loading: false, loaded: true }\n * - error: { error: Error, loading: false, loaded: true }\n *\n * The implementation is left to the authProvider.\n *\n * @returns The current user identity. Destructure as { identity, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetIdentity, useGetOne } from 'react-admin';\n *\n * const PostDetail = ({ id }) => {\n *     const { data: post, loading: postLoading } = useGetOne('posts', id);\n *     const { identity, loading: identityLoading } = useGetIdentity();\n *     if (postLoading || identityLoading) return <>Loading...</>;\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\n *         // post isn't locked, or is locked by me\n *         return <PostEdit post={post} />\n *     } else {\n *         // post is locked by someone else and cannot be edited\n *         return <PostShow post={post} />\n *     }\n * }\n */\nvar useGetIdentity = function () {\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var authProvider = useAuthProvider();\n    useEffect(function () {\n        if (authProvider && typeof authProvider.getIdentity === 'function') {\n            var callAuthProvider = function () { return __awaiter(void 0, void 0, void 0, function () {\n                var identity, error_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, authProvider.getIdentity()];\n                        case 1:\n                            identity = _a.sent();\n                            setState({\n                                loading: false,\n                                loaded: true,\n                                identity: identity || defaultIdentity,\n                            });\n                            return [3 /*break*/, 3];\n                        case 2:\n                            error_1 = _a.sent();\n                            setState({\n                                loading: false,\n                                loaded: true,\n                                error: error_1,\n                            });\n                            return [3 /*break*/, 3];\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            }); };\n            callAuthProvider();\n        }\n        else {\n            // fallback for pre-3.9 authProviders, which had no getIdentity method\n            // FIXME to be removed for the next major\n            setState({\n                loading: false,\n                loaded: true,\n                identity: defaultIdentity,\n            });\n        }\n    }, [authProvider, setState]);\n    return state;\n};\nexport default useGetIdentity;\n","import * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate, useGetIdentity } from 'ra-core';\nimport { Tooltip, IconButton, Menu, Button, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nvar useStyles = makeStyles(function (theme) { return ({\n    user: {},\n    userButton: {\n        textTransform: 'none',\n    },\n    avatar: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n    },\n}); });\nvar UserMenu = function (props) {\n    var _a = useState(null), anchorEl = _a[0], setAnchorEl = _a[1];\n    var translate = useTranslate();\n    var _b = useGetIdentity(), loaded = _b.loaded, identity = _b.identity;\n    var classes = useStyles(props);\n    var children = props.children, label = props.label, icon = props.icon, logout = props.logout;\n    if (!logout && !children)\n        return null;\n    var open = Boolean(anchorEl);\n    var handleMenu = function (event) { return setAnchorEl(event.currentTarget); };\n    var handleClose = function () { return setAnchorEl(null); };\n    return (React.createElement(\"div\", { className: classes.user },\n        loaded && (identity === null || identity === void 0 ? void 0 : identity.fullName) ? (React.createElement(Button, { \"aria-label\": label && translate(label, { _: label }), className: classes.userButton, color: \"inherit\", startIcon: identity.avatar ? (React.createElement(Avatar, { className: classes.avatar, src: identity.avatar, alt: identity.fullName })) : (icon), onClick: handleMenu }, identity.fullName)) : (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n            React.createElement(IconButton, { \"aria-label\": label && translate(label, { _: label }), \"aria-owns\": open ? 'menu-appbar' : null, \"aria-haspopup\": true, color: \"inherit\", onClick: handleMenu }, icon))),\n        React.createElement(Menu, { id: \"menu-appbar\", anchorEl: anchorEl, anchorOrigin: {\n                vertical: 'top',\n                horizontal: 'right',\n            }, transformOrigin: {\n                vertical: 'top',\n                horizontal: 'right',\n            }, open: open, onClose: handleClose },\n            Children.map(children, function (menuItem) {\n                return isValidElement(menuItem)\n                    ? cloneElement(menuItem, {\n                        onClick: handleClose,\n                    })\n                    : null;\n            }),\n            logout)));\n};\nUserMenu.propTypes = {\n    children: PropTypes.node,\n    label: PropTypes.string.isRequired,\n    logout: PropTypes.element,\n    icon: PropTypes.node,\n};\nUserMenu.defaultProps = {\n    label: 'ra.auth.user_menu',\n    icon: React.createElement(AccountCircle, null),\n};\nexport default UserMenu;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\nfunction HideOnScroll(props) {\n    var children = props.children;\n    var trigger = useScrollTrigger();\n    return (React.createElement(Slide, { appear: false, direction: \"down\", in: !trigger }, children));\n}\nHideOnScroll.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nexport default HideOnScroll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport classNames from 'classnames';\nimport { AppBar as MuiAppBar, IconButton, Toolbar, Tooltip, Typography, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { toggleSidebar, useTranslate } from 'ra-core';\nimport LoadingIndicator from './LoadingIndicator';\nimport DefaultUserMenu from './UserMenu';\nimport HideOnScroll from './HideOnScroll';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        paddingRight: 24,\n    },\n    menuButton: {\n        marginLeft: '0.5em',\n        marginRight: '0.5em',\n    },\n    menuButtonIconClosed: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(0deg)',\n    },\n    menuButtonIconOpen: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(180deg)',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n}); }, { name: 'RaAppBar' });\n/**\n * The AppBar component renders a custom MuiAppBar.\n *\n * @param {Object} props\n * @param {ReactNode} props.children React node/s to be render as children of the AppBar\n * @param {Object} props.classes CSS class names\n * @param {string} props.className CSS class applied to the MuiAppBar component\n * @param {string} props.color The color of the AppBar\n * @param {Component} props.logout The logout button component that will be pass to the UserMenu component\n * @param {boolean} props.open State of the <Admin/> Sidebar\n * @param {Element | boolean} props.userMenu A custom user menu component for the AppBar. <UserMenu/> component by default. Pass false to disable.\n *\n * @example\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props}>\n *           <Typography\n *               variant=\"h6\"\n *               color=\"inherit\"\n *               className={classes.title}\n *               id=\"react-admin-title\"\n *           />\n *       </AppBar>\n *   );\n *};\n *\n * @example Without a user menu\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props} userMenu={false} />\n *   );\n *};\n */\nvar AppBar = function (props) {\n    var children = props.children, classesOverride = props.classes, className = props.className, _a = props.color, color = _a === void 0 ? 'secondary' : _a, logout = props.logout, open = props.open, title = props.title, userMenu = props.userMenu, rest = __rest(props, [\"children\", \"classes\", \"className\", \"color\", \"logout\", \"open\", \"title\", \"userMenu\"]);\n    var classes = useStyles(props);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var translate = useTranslate();\n    return (React.createElement(HideOnScroll, null,\n        React.createElement(MuiAppBar, __assign({ className: className, color: color }, rest),\n            React.createElement(Toolbar, { disableGutters: true, variant: isXSmall ? 'regular' : 'dense', className: classes.toolbar },\n                React.createElement(Tooltip, { title: translate(open\n                        ? 'ra.action.close_menu'\n                        : 'ra.action.open_menu', {\n                        _: 'Open/Close menu',\n                    }), enterDelay: 500 },\n                    React.createElement(IconButton, { color: \"inherit\", onClick: function () { return dispatch(toggleSidebar()); }, className: classNames(classes.menuButton) },\n                        React.createElement(MenuIcon, { classes: {\n                                root: open\n                                    ? classes.menuButtonIconOpen\n                                    : classes.menuButtonIconClosed,\n                            } }))),\n                Children.count(children) === 0 ? (React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" })) : (children),\n                React.createElement(LoadingIndicator, null),\n                typeof userMenu === 'boolean'\n                    ? userMenu === true\n                        ? cloneElement(React.createElement(DefaultUserMenu, null), { logout: logout })\n                        : null\n                    : cloneElement(userMenu, { logout: logout })))));\n};\nAppBar.propTypes = {\n    children: PropTypes.node,\n    // @ts-ignore\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf([\n        'default',\n        'inherit',\n        'primary',\n        'secondary',\n        'transparent',\n    ]),\n    logout: PropTypes.element,\n    open: PropTypes.bool,\n    userMenu: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n};\nAppBar.defaultProps = {\n    userMenu: React.createElement(DefaultUserMenu, null),\n};\nexport default memo(AppBar);\n","import { useContext } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Get the current locale from the TranslationContext\n *\n * This hook re-renders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n */\nvar useLocale = function () {\n    var locale = useContext(TranslationContext).locale;\n    return locale;\n};\nexport default useLocale;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Drawer, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashGet from 'lodash/get';\nimport { setSidebarVisibility, useLocale } from 'ra-core';\nexport var DRAWER_WIDTH = 240;\nexport var CLOSED_DRAWER_WIDTH = 55;\nvar Sidebar = function (props) {\n    var children = props.children, closedSize = props.closedSize, size = props.size, classesOverride = props.classes, rest = __rest(props, [\"children\", \"closedSize\", \"size\", \"classes\"]);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    useLocale(); // force redraw on locale change\n    var handleClose = function () { return dispatch(setSidebarVisibility(false)); };\n    var toggleSidebar = function () { return dispatch(setSidebarVisibility(!open)); };\n    var _a = useStyles(__assign(__assign({}, props), { open: open })), drawerPaper = _a.drawerPaper, classes = __rest(_a, [\"drawerPaper\"]);\n    return isXSmall ? (React.createElement(Drawer, __assign({ variant: \"temporary\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), cloneElement(Children.only(children), {\n        onMenuClick: handleClose,\n    }))) : isSmall ? (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), cloneElement(Children.only(children), {\n        onMenuClick: handleClose,\n    }))) : (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), cloneElement(Children.only(children), {\n        onMenuClick: defaultOnMenuClick,\n    })));\n};\nSidebar.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nvar defaultOnMenuClick = function () { return null; };\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        docked: {},\n        paper: {},\n        paperAnchorLeft: {},\n        paperAnchorRight: {},\n        paperAnchorTop: {},\n        paperAnchorBottom: {},\n        paperAnchorDockedLeft: {},\n        paperAnchorDockedTop: {},\n        paperAnchorDockedRight: {},\n        paperAnchorDockedBottom: {},\n        modal: {},\n        drawerPaper: (_a = {\n                position: 'relative',\n                height: '100%',\n                overflowX: 'hidden',\n                width: function (props) {\n                    return props.open\n                        ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH)\n                        : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH);\n                },\n                transition: theme.transitions.create('width', {\n                    easing: theme.transitions.easing.sharp,\n                    duration: theme.transitions.duration.leavingScreen,\n                }),\n                backgroundColor: 'transparent',\n                borderRight: 'none'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n                height: '100vh',\n                position: 'inherit',\n                backgroundColor: theme.palette.background.default,\n            },\n            _a[theme.breakpoints.up('md')] = {\n                border: 'none',\n            },\n            _a.zIndex = 'inherit',\n            _a),\n    });\n}, { name: 'RaSidebar' });\nexport default Sidebar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\nvar MenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"onClick\", \"sidebarIsOpen\"]);\n    var classes = useStyles(props);\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref }, rest, { onClick: handleMenuTap }),\n            leftIcon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                titleAccess: primaryText,\n            }))),\n            primaryText));\n    };\n    if (sidebarIsOpen) {\n        return renderMenuItem();\n    }\n    return (React.createElement(Tooltip, { title: primaryText, placement: \"right\" }, renderMenuItem()));\n});\nMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default MenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { useTranslate } from 'ra-core';\nimport MenuItemLink from './MenuItemLink';\nvar DashboardMenuItem = function (_a) {\n    var locale = _a.locale, onClick = _a.onClick, props = __rest(_a, [\"locale\", \"onClick\"]);\n    var translate = useTranslate();\n    return (React.createElement(MenuItemLink, __assign({ onClick: onClick, to: \"/\", primaryText: translate('ra.page.dashboard'), leftIcon: React.createElement(DashboardIcon, null), exact: true }, props)));\n};\nDashboardMenuItem.propTypes = {\n    classes: PropTypes.object,\n    locale: PropTypes.string,\n    onClick: PropTypes.func,\n    dense: PropTypes.bool,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default DashboardMenuItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport lodashGet from 'lodash/get';\n// @ts-ignore\nimport inflection from 'inflection';\nimport { useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate } from 'ra-core';\nimport DashboardMenuItem from './DashboardMenuItem';\nimport MenuItemLink from './MenuItemLink';\nexport var MENU_WIDTH = 240;\nexport var CLOSED_MENU_WIDTH = 55;\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        main: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'flex-start',\n                marginTop: '0.5em'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n            },\n            _a[theme.breakpoints.up('md')] = {\n                marginTop: '1.5em',\n            },\n            _a),\n        open: {\n            width: lodashGet(theme, 'menu.width', MENU_WIDTH),\n        },\n        closed: {\n            width: lodashGet(theme, 'menu.closedWidth', CLOSED_MENU_WIDTH),\n        },\n    });\n}, { name: 'RaMenu' });\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\nvar Menu = function (props) {\n    var _a;\n    var classesOverride = props.classes, className = props.className, dense = props.dense, hasDashboard = props.hasDashboard, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var resources = useSelector(getResources, shallowEqual);\n    // Used to force redraw on navigation\n    useSelector(function (state) { return state.router.location.pathname; });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, (_a = {},\n            _a[classes.open] = open,\n            _a[classes.closed] = !open,\n            _a), className) }, rest),\n        hasDashboard && (React.createElement(DashboardMenuItem, { onClick: onMenuClick, dense: dense, sidebarIsOpen: open })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemLink, { key: resource.name, to: \"/\" + resource.name, primaryText: translatedResourceName(resource, translate), leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null), onClick: onMenuClick, dense: dense, sidebarIsOpen: open })); }),\n        isXSmall && logout));\n};\nMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default Menu;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { hideNotification, getNotification, undo, complete, undoableEventEmitter, useTranslate, } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    error: {\n        backgroundColor: theme.palette.error.dark,\n        color: theme.palette.error.contrastText,\n    },\n    warning: {\n        backgroundColor: theme.palette.error.light,\n        color: theme.palette.error.contrastText,\n    },\n    undo: {\n        color: theme.palette.primary.light,\n    },\n}); }, { name: 'RaNotification' });\nvar Notification = function (props) {\n    var classesOverride = props.classes, type = props.type, className = props.className, autoHideDuration = props.autoHideDuration, rest = __rest(props, [\"classes\", \"type\", \"className\", \"autoHideDuration\"]);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notification = useSelector(getNotification);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var styles = useStyles(props);\n    useEffect(function () {\n        setOpen(!!notification);\n    }, [notification]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleExited = useCallback(function () {\n        if (notification && notification.undoable) {\n            dispatch(complete());\n            undoableEventEmitter.emit('end', { isUndo: false });\n        }\n        dispatch(hideNotification());\n    }, [dispatch, notification]);\n    var handleUndo = useCallback(function () {\n        dispatch(undo());\n        undoableEventEmitter.emit('end', { isUndo: true });\n    }, [dispatch]);\n    return (React.createElement(Snackbar, __assign({ open: open, message: notification &&\n            notification.message &&\n            translate(notification.message, notification.messageArgs), autoHideDuration: (notification && notification.autoHideDuration) ||\n            autoHideDuration, disableWindowBlurListener: notification && notification.undoable, onExited: handleExited, onClose: handleRequestClose, ContentProps: {\n            className: classnames(styles[(notification && notification.type) || type], className),\n        }, action: notification && notification.undoable ? (React.createElement(Button, { color: \"primary\", className: styles.undo, size: \"small\", onClick: handleUndo }, translate('ra.action.undo'))) : null }, rest)));\n};\nNotification.propTypes = {\n    type: PropTypes.string,\n};\nNotification.defaultProps = {\n    type: 'info',\n    autoHideDuration: 4000,\n};\nexport default Notification;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTranslate, warning } from 'ra-core';\nvar Title = function (_a) {\n    var className = _a.className, defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title, rest = __rest(_a, [\"className\", \"defaultTitle\", \"record\", \"title\"]);\n    var translate = useTranslate();\n    var container = typeof document !== 'undefined'\n        ? document.getElementById('react-admin-title')\n        : null;\n    if (!container)\n        return null;\n    warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\n    var titleElement = !title ? (React.createElement(\"span\", __assign({ className: className }, rest), defaultTitle)) : typeof title === 'string' ? (React.createElement(\"span\", __assign({ className: className }, rest), translate(title, { _: title }))) : (cloneElement(title, __assign({ className: className, record: record }, rest)));\n    return createPortal(titleElement, container);\n};\nexport var TitlePropType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n]);\nTitle.propTypes = {\n    defaultTitle: PropTypes.string,\n    className: PropTypes.string,\n    record: PropTypes.any,\n    title: TitlePropType,\n};\nexport default Title;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Report';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport History from '@material-ui/icons/History';\nimport { useTranslate } from 'ra-core';\nimport Title, { TitlePropType } from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                padding: '1em',\n            },\n            _a.fontFamily = 'Roboto, sans-serif',\n            _a.opacity = 0.5,\n            _a),\n        title: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        icon: {\n            width: '2em',\n            height: '2em',\n            marginRight: '0.5em',\n        },\n        panel: {\n            marginTop: '1em',\n        },\n        panelDetails: {\n            whiteSpace: 'pre-wrap',\n        },\n        toolbar: {\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaError' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar Error = function (props) {\n    var error = props.error, errorInfo = props.errorInfo, classesOverride = props.classes, className = props.className, title = props.title, rest = __rest(props, [\"error\", \"errorInfo\", \"classes\", \"className\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Fragment, null,\n        title && React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, rest),\n            React.createElement(\"h1\", { className: classes.title, role: \"alert\" },\n                React.createElement(ErrorIcon, { className: classes.icon }),\n                translate('ra.page.error')),\n            React.createElement(\"div\", null, translate('ra.message.error')),\n            process.env.NODE_ENV !== 'production' && (React.createElement(ExpansionPanel, { className: classes.panel },\n                React.createElement(ExpansionPanelSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) }, translate('ra.message.details')),\n                React.createElement(ExpansionPanelDetails, { className: classes.panelDetails },\n                    React.createElement(\"div\", null,\n                        React.createElement(\"h2\", null, translate(error.toString())),\n                        errorInfo && errorInfo.componentStack)))),\n            React.createElement(\"div\", { className: classes.toolbar },\n                React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back'))))));\n};\nError.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    error: PropTypes.oneOfType([PropTypes.object, PropTypes.string]).isRequired,\n    errorInfo: PropTypes.object,\n    title: TitlePropType,\n};\nexport default Error;\n","export default {\n    palette: {\n        secondary: {\n            light: '#6ec6ff',\n            main: '#2196f3',\n            dark: '#0069c0',\n            contrastText: '#fff',\n        },\n    },\n    typography: {\n        h6: {\n            fontWeight: 400,\n        },\n    },\n    sidebar: {\n        width: 240,\n        closedWidth: 55,\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Component, createElement, useEffect, useRef, useState, } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { withRouter } from 'react-router-dom';\nimport { createMuiTheme, withStyles, createStyles, } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { ComponentPropType } from 'ra-core';\nimport compose from 'lodash/flowRight';\nimport DefaultAppBar from './AppBar';\nimport DefaultSidebar from './Sidebar';\nimport DefaultMenu from './Menu';\nimport DefaultNotification from './Notification';\nimport DefaultError from './Error';\nimport defaultTheme from '../defaultTheme';\nvar styles = function (theme) {\n    var _a, _b;\n    return createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'column',\n            zIndex: 1,\n            minHeight: '100vh',\n            backgroundColor: theme.palette.background.default,\n            position: 'relative',\n            minWidth: 'fit-content',\n            width: '100%',\n            color: theme.palette.getContrastText(theme.palette.background.default),\n        },\n        appFrame: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                marginTop: theme.spacing(6),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                marginTop: theme.spacing(7),\n            },\n            _a),\n        contentWithSidebar: {\n            display: 'flex',\n            flexGrow: 1,\n        },\n        content: (_b = {\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1,\n                flexBasis: 0,\n                padding: theme.spacing(3),\n                paddingTop: theme.spacing(1),\n                paddingLeft: 0\n            },\n            _b[theme.breakpoints.up('xs')] = {\n                paddingLeft: 5,\n            },\n            _b[theme.breakpoints.down('sm')] = {\n                padding: 0,\n            },\n            _b),\n    });\n};\nvar LayoutWithoutTheme = /** @class */ (function (_super) {\n    __extends(LayoutWithoutTheme, _super);\n    function LayoutWithoutTheme(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false, errorMessage: null, errorInfo: null };\n        /**\n         * Reset the error state upon navigation\n         *\n         * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n         */\n        props.history.listen(function () {\n            if (_this.state.hasError) {\n                _this.setState({ hasError: false });\n            }\n        });\n        return _this;\n    }\n    LayoutWithoutTheme.prototype.componentDidCatch = function (errorMessage, errorInfo) {\n        this.setState({ hasError: true, errorMessage: errorMessage, errorInfo: errorInfo });\n    };\n    LayoutWithoutTheme.prototype.render = function () {\n        var _a = this.props, appBar = _a.appBar, children = _a.children, classes = _a.classes, className = _a.className, error = _a.error, dashboard = _a.dashboard, logout = _a.logout, menu = _a.menu, notification = _a.notification, open = _a.open, sidebar = _a.sidebar, title = _a.title, \n        // sanitize react-router props\n        match = _a.match, location = _a.location, history = _a.history, staticContext = _a.staticContext, props = __rest(_a, [\"appBar\", \"children\", \"classes\", \"className\", \"error\", \"dashboard\", \"logout\", \"menu\", \"notification\", \"open\", \"sidebar\", \"title\", \"match\", \"location\", \"history\", \"staticContext\"]);\n        var _b = this.state, hasError = _b.hasError, errorMessage = _b.errorMessage, errorInfo = _b.errorInfo;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", __assign({ className: classnames('layout', classes.root, className) }, props),\n                React.createElement(\"div\", { className: classes.appFrame },\n                    createElement(appBar, { title: title, open: open, logout: logout }),\n                    React.createElement(\"main\", { className: classes.contentWithSidebar },\n                        createElement(sidebar, {\n                            children: createElement(menu, {\n                                logout: logout,\n                                hasDashboard: !!dashboard,\n                            }),\n                        }),\n                        React.createElement(\"div\", { className: classes.content }, hasError\n                            ? createElement(error, {\n                                error: errorMessage,\n                                errorInfo: errorInfo,\n                                title: title,\n                            })\n                            : children)))),\n            createElement(notification)));\n    };\n    LayoutWithoutTheme.propTypes = {\n        appBar: ComponentPropType,\n        children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n        classes: PropTypes.object,\n        className: PropTypes.string,\n        dashboard: ComponentPropType,\n        error: ComponentPropType,\n        history: PropTypes.object.isRequired,\n        logout: PropTypes.element,\n        menu: ComponentPropType,\n        notification: ComponentPropType,\n        open: PropTypes.bool,\n        sidebar: ComponentPropType,\n        title: PropTypes.node.isRequired,\n    };\n    LayoutWithoutTheme.defaultProps = {\n        appBar: DefaultAppBar,\n        error: DefaultError,\n        menu: DefaultMenu,\n        notification: DefaultNotification,\n        sidebar: DefaultSidebar,\n    };\n    return LayoutWithoutTheme;\n}(Component));\nvar mapStateToProps = function (state) { return ({\n    open: state.admin.ui.sidebarOpen,\n}); };\nvar EnhancedLayout = compose(connect(mapStateToProps, {} // Avoid connect passing dispatch in props\n), withRouter, withStyles(styles, { name: 'RaLayout' }))(LayoutWithoutTheme);\nvar Layout = function (_a) {\n    var themeOverride = _a.theme, props = __rest(_a, [\"theme\"]);\n    var themeProp = useRef(themeOverride);\n    var _b = useState(createMuiTheme(themeOverride)), theme = _b[0], setTheme = _b[1];\n    useEffect(function () {\n        if (themeProp.current !== themeOverride) {\n            themeProp.current = themeOverride;\n            setTheme(createMuiTheme(themeOverride));\n        }\n    }, [themeOverride, themeProp, theme, setTheme]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(EnhancedLayout, __assign({}, props))));\n};\nLayout.propTypes = {\n    theme: PropTypes.object,\n};\nLayout.defaultProps = {\n    theme: defaultTheme,\n};\nexport default Layout;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HotTub from '@material-ui/icons/HotTub';\nimport History from '@material-ui/icons/History';\nimport classnames from 'classnames';\nimport { useAuthenticated, useTranslate } from 'ra-core';\nimport Title from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n        toolbar: {\n            textAlign: 'center',\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaNotFound' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar NotFound = function (props) {\n    var className = props.className, classesOverride = props.classes, title = props.title, rest = __rest(props, [\"className\", \"classes\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    useAuthenticated();\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(HotTub, { className: classes.icon }),\n            React.createElement(\"h1\", null, translate('ra.page.not_found')),\n            React.createElement(\"div\", null,\n                translate('ra.message.not_found'),\n                \".\")),\n        React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back')))));\n};\nvar sanitizeRestProps = function (_a) {\n    var staticContext = _a.staticContext, history = _a.history, location = _a.location, match = _a.match, rest = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n    return rest;\n};\nNotFound.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    title: PropTypes.string,\n    location: PropTypes.object,\n};\nexport default NotFound;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('lg')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n    });\n}, { name: 'RaLoading' });\nvar Loading = function (props) {\n    var className = props.className, _a = props.loadingPrimary, loadingPrimary = _a === void 0 ? 'ra.page.loading' : _a, _b = props.loadingSecondary, loadingSecondary = _b === void 0 ? 'ra.message.loading' : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classnames(classes.container, className) },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(CircularProgress, { className: classes.icon, color: \"primary\" }),\n            React.createElement(\"h1\", null, translate(loadingPrimary)),\n            React.createElement(\"div\", null,\n                translate(loadingSecondary),\n                \".\"))));\n};\nLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoading.defaultProps = {\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default Loading;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport Loading from './Loading';\nvar LoadingPage = function (_a) {\n    var theme = _a.theme, props = __rest(_a, [\"theme\"]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(Loading, __assign({}, props))));\n};\nLoadingPage.propTypes = {\n    theme: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoadingPage.defaultProps = {\n    theme: createMuiTheme({}),\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default LoadingPage;\n","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { useLocation, useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nvar useLogin = function () {\n    var authProvider = useAuthProvider();\n    var location = useLocation();\n    var locationState = location.state;\n    var history = useHistory();\n    var nextPathName = locationState && locationState.nextPathname;\n    var login = useCallback(function (params, pathName) {\n        if (params === void 0) { params = {}; }\n        return authProvider.login(params).then(function (ret) {\n            var redirectUrl = pathName\n                ? pathName\n                : nextPathName || defaultAuthParams.afterLoginUrl;\n            history.push(redirectUrl);\n            return ret;\n        });\n    }, [authProvider, history, nextPathName]);\n    var loginWithoutProvider = useCallback(function (_, __) {\n        history.push(defaultAuthParams.afterLoginUrl);\n        return Promise.resolve();\n    }, [history]);\n    return authProvider ? login : loginWithoutProvider;\n};\nexport default useLogin;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    button: {\n        width: '100%',\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n    },\n}); }, { name: 'RaLoginForm' });\nvar Input = function (_a) {\n    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types\n    inputProps = _a.input, // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n    return (React.createElement(TextField, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));\n};\nvar LoginForm = function (props) {\n    var redirectTo = props.redirectTo;\n    var _a = useSafeSetState(false), loading = _a[0], setLoading = _a[1];\n    var login = useLogin();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var classes = useStyles(props);\n    var validate = function (values) {\n        var errors = { username: undefined, password: undefined };\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n    var submit = function (values) {\n        setLoading(true);\n        login(values, redirectTo)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function (error) {\n            setLoading(false);\n            notify(typeof error === 'string'\n                ? error\n                : typeof error === 'undefined' || !error.message\n                    ? 'ra.auth.sign_in_error'\n                    : error.message, 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        });\n    };\n    return (React.createElement(Form, { onSubmit: submit, validate: validate, render: function (_a) {\n            var handleSubmit = _a.handleSubmit;\n            return (React.createElement(\"form\", { onSubmit: handleSubmit, noValidate: true },\n                React.createElement(\"div\", { className: classes.form },\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { autoFocus: true, id: \"username\", name: \"username\", component: Input, label: translate('ra.auth.username'), disabled: loading })),\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { id: \"password\", name: \"password\", component: Input, label: translate('ra.auth.password'), type: \"password\", disabled: loading, autoComplete: \"current-password\" }))),\n                React.createElement(CardActions, null,\n                    React.createElement(Button, { variant: \"contained\", type: \"submit\", color: \"primary\", disabled: loading, className: classes.button },\n                        loading && (React.createElement(CircularProgress, { className: classes.icon, size: 18, thickness: 2 })),\n                        translate('ra.auth.sign_in')))));\n        } }));\n};\nLoginForm.propTypes = {\n    redirectTo: PropTypes.string,\n};\nexport default LoginForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createElement, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, title = props.title, classesOverride = props.classes, className = props.className, children = props.children, notification = props.notification, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"theme\", \"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    var backgroundImageLoaded = false;\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(\"div\", { className: classes.avatar },\n                    React.createElement(Avatar, { className: classes.icon },\n                        React.createElement(LockIcon, null))),\n                children),\n            notification ? createElement(notification) : null)));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n    notification: DefaultNotification,\n};\nexport default Login;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItemIcon, MenuItem, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\nimport classnames from 'classnames';\nimport { useTranslate, useLogout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    menuItem: {\n        color: theme.palette.text.secondary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaLogout' });\n/**\n * Logout button component, to be passed to the Admin component\n *\n * Used for the Logout Menu item in the sidebar\n */\nvar LogoutWithRef = React.forwardRef(function Logout(props, ref) {\n    var className = props.className, classesOverride = props.classes, redirectTo = props.redirectTo, icon = props.icon, rest = __rest(props, [\"className\", \"classes\", \"redirectTo\", \"icon\"]);\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var translate = useTranslate();\n    var logout = useLogout();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var handleClick = useCallback(function () { return logout(null, redirectTo, false); }, [\n        redirectTo,\n        logout,\n    ]);\n    return (React.createElement(MenuItem, __assign({ className: classnames('logout', classes.menuItem, className), onClick: handleClick, ref: ref, component: isXSmall ? 'span' : 'li' }, rest),\n        React.createElement(ListItemIcon, { className: classes.icon }, icon ? icon : React.createElement(ExitIcon, null)),\n        translate('ra.auth.logout')));\n});\nLogoutWithRef.propTypes = {\n    className: PropTypes.string,\n    redirectTo: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default LogoutWithRef;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CoreAdminUI } from 'ra-core';\nimport { Layout as DefaultLayout, LoadingPage, Login, Logout, NotFound, } from 'ra-ui-materialui';\nvar AdminUI = function (props) { return React.createElement(CoreAdminUI, __assign({}, props)); };\nAdminUI.defaultProps = {\n    layout: DefaultLayout,\n    catchAll: NotFound,\n    loading: LoadingPage,\n    loginPage: Login,\n    logout: Logout,\n};\nexport default AdminUI;\n","import * as React from 'react';\nimport AdminContext from './AdminContext';\nimport AdminUI from './AdminUI';\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, redux, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </Admin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <Admin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import * as React from 'react';\nimport { useEffect, useState } from 'react';\n * import {\n *     AdminContext,\n *     AdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <AdminContext dataProvider={myDataProvider}>\n *         <Resources />\n *     </AdminContext>\n * );\n *\n * const Resources = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <AdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </AdminUI>\n *     );\n * };\n */\nvar Admin = function (_a) {\n    var appLayout = _a.appLayout, authProvider = _a.authProvider, catchAll = _a.catchAll, children = _a.children, customReducers = _a.customReducers, _b = _a.customRoutes, customRoutes = _b === void 0 ? [] : _b, customSagas = _a.customSagas, dashboard = _a.dashboard, dataProvider = _a.dataProvider, disableTelemetry = _a.disableTelemetry, history = _a.history, i18nProvider = _a.i18nProvider, initialState = _a.initialState, layout = _a.layout, loading = _a.loading, locale = _a.locale, loginPage = _a.loginPage, logoutButton = _a.logoutButton, menu = _a.menu, // deprecated, use a custom layout instead\n    ready = _a.ready, theme = _a.theme, _c = _a.title, title = _c === void 0 ? 'React Admin' : _c;\n    if (appLayout && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"appLayout\", it was replaced by \"layout\", see https://github.com/marmelab/react-admin/issues/2918');\n    }\n    if (loginPage === true && process.env.NODE_ENV !== 'production') {\n        console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');\n    }\n    if (locale && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"locale\". You must now pass the initial locale to your i18nProvider');\n    }\n    return (React.createElement(AdminContext, { authProvider: authProvider, dataProvider: dataProvider, i18nProvider: i18nProvider, history: history, customReducers: customReducers, customSagas: customSagas, initialState: initialState },\n        React.createElement(AdminUI, { layout: appLayout || layout, customRoutes: customRoutes, dashboard: dashboard, disableTelemetry: disableTelemetry, menu: menu, catchAll: catchAll, theme: theme, title: title, loading: loading, loginPage: loginPage, logout: authProvider ? logoutButton : undefined, ready: ready }, children)));\n};\nexport default Admin;\n","import { createContext } from 'react';\n/**\n * Context to store the current resource information.\n *\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\n *\n * @example\n *\n * import { useResource, useTranslate } from 'ra-core';\n *\n * const MyCustomEditTitle = props => {\n *     const name = useResource(props);\n *\n *     return (\n *         <h1>{translate(`${name}.name`)}</h1>\n *     );\n * };\n */\nexport var ResourceContext = createContext(undefined);\n","import * as React from 'react';\nimport { ResourceContext } from './ResourceContext';\nexport var ResourceContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(ResourceContext.Provider, { value: value }, children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nimport { registerResource, unregisterResource } from '../actions';\nimport { ResourceContextProvider } from './ResourceContextProvider';\nvar defaultOptions = {};\nvar ResourceRegister = function (_a) {\n    var name = _a.name, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, icon = _a.icon, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(registerResource({\n            name: name,\n            options: options,\n            hasList: !!list,\n            hasEdit: !!edit,\n            hasShow: !!show,\n            hasCreate: !!create,\n            icon: icon,\n        }));\n        return function () { return dispatch(unregisterResource(name)); };\n    }, [dispatch, name, create, edit, icon, list, show, options]);\n    return null;\n};\nvar ResourceRoutes = function (_a) {\n    var name = _a.name, match = _a.match, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;\n    var isRegistered = useSelector(function (state) { return !!state.admin.resources[name]; });\n    var basePath = match ? match.path : '';\n    var resourceData = useMemo(function () { return ({\n        resource: name,\n        options: options,\n        hasList: !!list,\n        hasEdit: !!edit,\n        hasShow: !!show,\n        hasCreate: !!create,\n    }); }, [name, options, create, edit, list, show]);\n    // match tends to change even on the same route ; using memo to avoid an extra render\n    return useMemo(function () {\n        // if the registration hasn't finished, no need to render\n        if (!isRegistered) {\n            return null;\n        }\n        return (React.createElement(ResourceContextProvider, { value: name },\n            React.createElement(Switch, null,\n                create && (React.createElement(Route, { path: basePath + \"/create\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: create, basePath: basePath }, routeProps, resourceData))); } })),\n                show && (React.createElement(Route, { path: basePath + \"/:id/show\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: show, basePath: basePath, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, resourceData))); } })),\n                edit && (React.createElement(Route, { path: basePath + \"/:id\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: edit, basePath: basePath, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, resourceData))); } })),\n                list && (React.createElement(Route, { path: \"\" + basePath, render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: list, basePath: basePath }, routeProps, resourceData))); } })))));\n    }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nvar Resource = function (_a) {\n    var _b = _a.intent, intent = _b === void 0 ? 'route' : _b, props = __rest(_a, [\"intent\"]);\n    return intent === 'registration' ? (React.createElement(ResourceRegister, __assign({}, props))) : (React.createElement(ResourceRoutes, __assign({}, props)));\n};\nexport default Resource;\n","import { AuthProvider } from 'react-admin';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n    getIdentity: () =>\n        Promise.resolve({\n            id: 'user',\n            fullName: 'Jane Doe',\n            avatar:\n                'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAH3wAIABMAEgAWADFhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMACAYGBwYFCAcHBwkJCAoMFA0MCwsMGRITDxQdGh8eHRocHCAkLicgIiwjHBwoNyksMDE0NDQfJzk9ODI8LjM0Mv/bAEMBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/AABEIAIAAgAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAABAAUGBwIDBAj/xAA2EAABAwMBBgMHAwQDAQAAAAABAAIDBAUREgYTITFBUSJxgRQyYZGxwdEHQqEkUmLhFRYjkv/EABoBAAIDAQEAAAAAAAAAAAAAAAIDAAEEBQb/xAAkEQACAgIDAAEEAwAAAAAAAAAAAQIRAyEEEjETBSJRcTJBYf/aAAwDAQACEQMRAD8AuIIoIogAooIqygorB72xsc97g1rRkk9FFrlfnVD3Rwu0Qj5uQyko+hRi5eEjlr6aEkOlBI6N4rSbpCG6j4R0zzPoFEIpZpn+Ahv+TuJ9E9Qtipodc0haD15ud5BI+Vsb8aXoq/a6GgJ1UsrgBknTj6rgp/1JtEkgjnbNTk9Xxkt/+m5Cbrvbam9sc2XeU9G0jTFry6Q9M/hddk/T6kpId7UwNmqJCOBOGxjoD3KLvIroiX0VxprhCJaeVr2njlpyutR+k2dlttQZ4KwMZpwIGjwD5lbI785leaSppZWHmJG+JpHfKYppgOLQ9pIAhwBHIpIwBJFJBQhgiEAiFRYQkgmzaCuNDaZHsOJHeBvmVG6VkSt0Me0l93spoqY5Y0+N3Qn8JgjdrcA3xOPU9f8AS485Jy4c8ucep/CzirNBIh4D9zz1WGU7dmyMElRIIXspeBw+fGeJ4N8/wtsEstTUtHFzz1Pb7BNVHvJQA0EAnOo83fH/AGpBR7qniw14yfekz9+qFMNxHiljYwjhqc3kTxPxwnaIZA+6ZoJWDGhjnZ68gnaEvewftHw4BOixTVGc2GsOdI4c3KFXmSuq75Rw0kQ3EWZKieQaQG8g0D4n7KauaGgiNu8eeJJPBN89JLUN8btWg5HDAL++OwUZSMbTWxV9vZNFqxyIcMEELuTdTBtNUbiP3A0D5BOC0QdozzVMWUksoIwTBFBIKEMlFdtJSIKaMHHEuKlKg+3Ly6rgizhugl3wHVLyv7WMxK5Ih8k2+IAJEecNGeLvj5LvoossDsZHl9E2x6ZZNTvDGPp2WFde45P6WlqI4tPAZIGT6rAb0vwSiOox4RgA+84nn6ruiuAhLdA1n+5x5Kt6SsrYagtqqkyuJ8Jxj+FLpIql9qM0b9GW8Ceioaoa2TigrXStDsMb8SOKeYtUgGpxLe5+wVQ2eouftIabs52T7ugHPqrOtNNX7gb+r3zSPE1zNJPljknQaehGSFDo6piax5Em7iZ78h+gXJV1OId7lzIgzIYOePyue4QvxGGs8OsAN6D/ACPfH1QinirgZmODoi4Mb5BFYlqjfSsc58kjxgkN4dua61wWWqFbb2VGCDM4uAPMN6LsJ4p+LwRlM8pZWGUU0UBFYhFUWFV/t0S67xR8muhGT8MqwFDNvKJz4IqxgyWjQ49uyXl3EbidSKxrp31VWaKnJaxoySO6aX7INZG9swlcHuD3OyMkjlxKdLWA2uqJH/3NH8KRVNWz2XJ7LCm1tHSUIyWyL0NvdC6CnBeQHjRqOSB2VwVdnd/1YwRt/wDQx8Pkq4sX9XdoXubpZrGCeo7q7i3eW0OjbqLW8B3RRjdkm+tJHn6usdbV1JY6rnpmBww5jT4QPLn6q09jLdcKBsRgv0lZSFgaaaoYXBuBza4kuB7g5HwCa6y50tRWvi3ZjeHYc1wwQVMdm42NaC3lhXBu6JkikuzHS4QuNuqCPf3biPPCqj9OdonubHa6txLyXkPJ65JH1x6K27tKYrXVPAyRE/A7nBVE7OUEtJtDSs0k6JwHO8zghMemZ6bjZcdqjZT0jo2DAY4tC68rVBHuosY4klx81sWnGqiYcjuRkllAIhGCBFBFUWFc9dSR11FLTyDLXtI8l0BJUXZRt4tNRZ7hPFI3Trw5p6HHBcEk0jgwO93l6q3tsrJ/y1oL4WZqYTqZ8R1H0VRVEDKqikgkaQRkdiCsOWHWR0+Pk7RFRzVNHXQmNwc1pHAHBVq2m+19QIzTgMhaMFsjclx+ap2wW6gn3dNXvqIpA7G+DstcB9CrVtVqsVDa4Zpa2eUmPIDS4knIzgD4FUou9Dvtqpe/oZ9qrfUR1Elw3ZDy7UeGAVKtibgKi3skzwPDj0KiV7ornc6xk8EtdTW+QhraSZ+S49SW8cAeamWzlsFupBG39ztXkotSKl/CmO21N3pbLs7U3GtL/Z4tOsMGScuAwB6qK7JUrbs1t6ex+5kOuESBoceJ4uDeGfJP+1NpO0NLSWyRgNE6cS1Rzza3iGjzOPknKCnipadkEEbY4o2hrWtGAAFojj7O2YJ5eq6oyKCywlhaTIBEJJKEMQigEVRYUViioQJAIIPVVrtzYW0FY2507cQVLtMoH7X9/X6hWVlcl0pKWvtlRTVuPZ3sOs5xpxx1A9COaDJDtGhuKbhKyjW2uT2newSuZq544g+in2ytGYpGzTPMj28WgNAwofRV0cFU6F7w5oOGudw1DoVPbRdKCBrdU0eojg1pyT6BYbr+zsd5dKRIvZN6/ey4yPhyXRTx+PDeXfssaZz6wBzssj6N6nzTiyJrAABgI1vaMrdaZp06SQTniktkvv5WtbIO4o5+RVJgwkikjAAkigVCGsJZWuSaOGMySvaxg5uccAJiqtqqeNxbSxOmP9x8I/KCU4x9DjCUvESIJuvG0Fp2fp2zXWvhpWPzo3h4uxzwBxKi1XtTcJGnS5sDe7Bx+ZVD7WX+p2gvs1TNM+VkZ3cOp2fCD9+amOayPReTG4LZaF2/XVjKmRlotTZIG5DZal5Bce+kch5lcLNqL5erSJrhXPd7SNRiYA2No6AAKocHGOqs21NJs1K3HERgfwg5T6xSQzixTk2zAtEziCn6wwbmoa4DHHoE1tgO9BA9FJLfTua0ODeK5sjpw0WFaagua0Ek+akAcC3KiNnbI0AkKTsfiLJTsb0IyrZue3U3yULuW39stV+fbKlkmmMAPmZ4sPPTCeNoL9HZbPUVbiCWN8I7novPE9TLVVktTM4ukkLnuJ6kldPg4fkk2/DncyfSKr09C2zaizXZzI6SvidM/lE7wv8AkU7rznsdUvG1Nvbk5FWz6r0O2XuPkj5EYYpJJ+isPfIm6NqCQcDySSk0/A2mvStrpepLtWu0kimYcRt+5+K1sZlqa6LmMp13ga1cuUnJ2zrQioqkM21VULfs7VzA4foLWeZ4fdUnjAHmrI/Uiv8A6OmpQffeXkfAD8lVyBlkY75K6XDhWO/yc7ly++vwGMZljGM5I+qvWlpab2eMNiDQGjgAqNb4J2EftwR6cV6Et0Daihp5WjwyRtcPUIebGkhnCabZjTWykmOHsHDkU7U9BHF7ucLXFTljuSc4W8srnUb26OmmeI2Dgt7qzIw44C1BgwmLaq7w2a0S1Dj4sYYM8S7oEyKb0hcmvWRD9S9pI6qaCz0rsiM7ydw79B6c/kq/Mni7cM/RYmd9XUyVEpJe4l7s9StD3nWT105+y9NxsXw4lE8/nyfLkch32Lk07X21zjw3+r5L0HHUa25yvPWxzc7YW9nYk/wVdrKgsAHRcn6lKpx/R0+BG4N/6P8AFL4hxTg2IvZkc1HqSoy8EqUUUgfGFjxt3o0ZUq2f/9k=',\n        }),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { Reducer } from 'redux';\nimport { CHANGE_THEME, changeTheme } from './configuration/actions';\nimport { ThemeName } from './types';\n\ntype State = ThemeName;\ntype Action =\n    | ReturnType<typeof changeTheme>\n    | { type: 'OTHER_ACTION'; payload?: any };\n\nconst themeReducer: Reducer<State, Action> = (\n    previousState = 'light',\n    action\n) => {\n    if (action.type === CHANGE_THEME) {\n        return action.payload;\n    }\n    return previousState;\n};\n\nexport default themeReducer;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => {\n    const theme = useTheme();\n    return (\n        <svg\n            width={234.532}\n            height={20.475}\n            viewBox=\"0 0 62.053 5.417\"\n            {...props}\n        >\n            <g\n                aria-label=\"~Posters Galore~\"\n                style={{\n                    lineHeight: 1.25,\n                }}\n                fontWeight={400}\n                fontSize={7.056}\n                fontFamily=\"Permanent Marker\"\n                letterSpacing={0}\n                wordSpacing={0}\n                strokeWidth={0.265}\n                fill={theme.palette.secondary.light}\n            >\n                <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n                <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n                <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n                <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n            </g>\n        </svg>\n    );\n};\n\nexport default Logo;\n","import * as React from 'react';\nimport { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n            sidebarIsOpen\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useListController() hook.\n *\n * Use the useListContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Datagrid>, <Filter>, <Pagination>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListControllerProps} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContext.Provider value={controllerProps}>\n *             ...\n *         </ListContext.Provider>\n *     );\n * };\n */\nvar ListContext = createContext({\n    basePath: null,\n    currentSort: null,\n    data: null,\n    defaultTitle: null,\n    displayedFilters: null,\n    filterValues: null,\n    hasCreate: null,\n    hideFilter: null,\n    ids: null,\n    loaded: null,\n    loading: null,\n    onSelect: null,\n    onToggleItem: null,\n    onUnselectItems: null,\n    page: null,\n    perPage: null,\n    resource: null,\n    selectedIds: null,\n    setFilters: null,\n    setPage: null,\n    setPerPage: null,\n    setSort: null,\n    showFilter: null,\n    total: null,\n});\nListContext.displayName = 'ListContext';\nexport default ListContext;\n","import { useContext } from 'react';\nimport ListContext from './ListContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerProps} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, ids, loaded } = useListContext();\n *     if (!loaded) {\n *         return <>Loading...</>;\n *     }\n *     const records = ids.map(id => data[id]);\n *     return (\n *         <ul>\n *             {records.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@material-ui/core';\n * import ChevronLeft from '@material-ui/icons/ChevronLeft';\n * import ChevronRight from '@material-ui/icons/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nvar useListContext = function (props) {\n    var context = useContext(ListContext);\n    if (!context.resource) {\n        /**\n         * The element isn't inside a <ListContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContext.Provider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    // @ts-ignore\n    return context;\n};\nexport default useListContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar checkMinimumRequiredProps = function (displayName, requiredProps) { return function (WrappedComponent) { return function (props) {\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\n    return React.createElement(WrappedComponent, __assign({}, props));\n}; }; };\nexport default checkMinimumRequiredProps;\n// Not a hook but named that way to avoid conflicts with the old one\nexport var useCheckMinimumRequiredProps = function (displayName, requiredProps, props) {\n    var propNames = Object.keys(props);\n    var missingProps = requiredProps.filter(function (prop) { return !propNames.includes(prop); });\n    if (missingProps.length > 0) {\n        throw new Error(\"<\" + displayName + \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\" + displayName + \" = props => (\\n    <\" + displayName + \" {...props}></\" + displayName + \">\\n);\\n\\nThe missing props are: \" + missingProps.join(', '));\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\nvar queryReducer = function (previousState, _a) {\n    var type = _a.type, payload = _a.payload;\n    switch (type) {\n        case SET_SORT:\n            if (payload.sort === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: payload.sort, order: payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: payload.filter, displayedFilters: payload.displayedFilters\n                    ? payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { shallowEqual } from 'react-redux';\nvar isObject = function (obj) {\n    return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\nvar isEmpty = function (obj) {\n    return obj instanceof Date\n        ? false\n        : obj === '' ||\n            obj === null ||\n            obj === undefined ||\n            shallowEqual(obj, {});\n};\nvar removeEmpty = function (object) {\n    return Object.keys(object).reduce(function (acc, key) {\n        var _a;\n        var child = object[key];\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n        return isEmpty(child) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = child, _a));\n    }, {});\n};\nexport default removeEmpty;\n","var removeKey = function (target, path) {\n    return Object.keys(target).reduce(function (acc, key) {\n        var _a;\n        if (key !== path) {\n            return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n        }\n        return acc;\n    }, {});\n};\nvar deepRemoveKey = function (target, path) {\n    var _a;\n    var paths = path.split('.');\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n    var deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n    return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\nexport default deepRemoveKey;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport set from 'lodash/set';\nimport pickBy from 'lodash/pickBy';\nimport { useHistory } from 'react-router-dom';\nimport queryReducer, { SET_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nimport removeKey from '../util/removeKey';\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nvar useListParams = function (_a) {\n    var resource = _a.resource, location = _a.location, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d;\n    var dispatch = useDispatch();\n    var history = useHistory();\n    var params = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.params\n            : defaultParams;\n    }, shallowEqual);\n    var requestSignature = [\n        location.search,\n        resource,\n        params,\n        filterDefaultValues,\n        JSON.stringify(sort),\n        perPage,\n    ];\n    var queryFromLocation = parseQueryFromLocation(location);\n    var query = useMemo(function () {\n        return getQuery({\n            queryFromLocation: queryFromLocation,\n            params: params,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // On mount, if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // redux state as well so that we don't loose them after a redirection back\n    // to the list\n    useEffect(function () {\n        if (Object.keys(queryFromLocation).length > 0) {\n            dispatch(changeListParams(resource, query));\n        }\n    }, []); // eslint-disable-line\n    var changeParams = useCallback(function (action) {\n        var newParams = queryReducer(query, action);\n        history.push({\n            search: \"?\" + stringify(__assign(__assign({}, newParams), { filter: JSON.stringify(newParams.filter), displayedFilters: JSON.stringify(newParams.displayedFilters) })),\n        });\n        dispatch(changeListParams(resource, newParams));\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var setSort = useCallback(function (sort, order) {\n        return changeParams({\n            type: SET_SORT,\n            payload: { sort: sort, order: order },\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (debounce === void 0) { debounce = true; }\n        return debounce\n            ? debouncedSetFilters(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        // we don't use lodash.set() for displayed filters\n        // to avoid problems with compound filter names (e.g. 'author.name')\n        var displayedFilters = Object.keys(displayedFilterValues).reduce(function (filters, filter) {\n            var _a;\n            return filter !== filterName\n                ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n        }, {});\n        var filter = removeEmpty(removeKey(filterValues, filterName));\n        changeParams({\n            type: SET_FILTER,\n            payload: { filter: filter, displayedFilters: displayedFilters },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        var _a;\n        // we don't use lodash.set() for displayed filters\n        // to avoid problems with compound filter names (e.g. 'author.name')\n        var displayedFilters = __assign(__assign({}, displayedFilterValues), (_a = {}, _a[filterName] = true, _a));\n        var filter = defaultValue\n            ? set(filterValues, filterName, defaultValue)\n            : filterValues;\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: filter,\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues,\n            requestSignature: requestSignature }, query),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = pickBy(parse(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nexport default useListParams;\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { setListSelectedIds, toggleListItem } from '../actions/listActions';\nvar defaultRecords = [];\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nvar useSelectItems = function (resource) {\n    var dispatch = useDispatch();\n    var selectedIds = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.selectedIds\n            : defaultRecords;\n    }, shallowEqual);\n    var selectionModifiers = {\n        select: useCallback(function (newIds) {\n            dispatch(setListSelectedIds(resource, newIds));\n        }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n        ),\n        toggle: useCallback(function (id) {\n            dispatch(toggleListItem(resource, id));\n        }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n        ),\n        clearSelection: useCallback(function () {\n            dispatch(setListSelectedIds(resource, []));\n        }, [resource]),\n    };\n    return [selectedIds, selectionModifiers];\n};\nexport default useSelectItems;\n","import jsonExport from 'jsonexport/dist';\nimport downloadCSV from './downloadCSV';\nvar defaultExporter = function (data, _, __, resource) {\n    return jsonExport(data, function (err, csv) { return downloadCSV(csv, resource); });\n};\nexport default defaultExporter;\n","export default (function (csv, filename) {\n    var fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        window.navigator.msSaveOrOpenBlob(blob, filename + \".csv\");\n    }\n    else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', filename + \".csv\");\n        fakeLink.click();\n    }\n});\n","import { useContext } from 'react';\nimport { ResourceContext } from './ResourceContext';\n/**\n * Hook to read the resource from the ResourceContext.\n *\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\n * or any reference related components), or called with a resource prop.\n *\n * @example\n *\n * const ResourceName = (props) => {\n *   const { resource } = useResourceContext(props);\n *   const resourceName = translate(`resources.${resource}.name`, {\n *      smart_count: 1,\n *      _: inflection.humanize(inflection.singularize(resource)),\n *   });\n *   return <>{resourceName}</>;\n * }\n *\n * // use it in a resource context\n * const MyComponent = () => (\n *   <ResourceContextProvider value=\"posts\">\n *     <ResourceName />\n *     ...\n *   </ResourceContextProvider>\n * );\n *\n * // override resource via props\n * const MyComponent = () => (\n *   <>\n *     <ResourceName resource=\"posts\"/>\n *     ...\n *   </>\n * );\n *\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\n */\nexport var useResourceContext = function (props) {\n    var context = useContext(ResourceContext);\n    return (props && props.resource) || context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isValidElement, useEffect, useMemo } from 'react';\nimport inflection from 'inflection';\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport get from 'lodash/get';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport useListParams from './useListParams';\nimport useRecordSelection from './useRecordSelection';\nimport useTranslate from '../i18n/useTranslate';\nimport useNotify from '../sideEffect/useNotify';\nimport useGetList from '../dataProvider/useGetList';\nimport { SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { CRUD_GET_LIST } from '../actions';\nimport defaultExporter from '../export/defaultExporter';\nimport { useResourceContext } from '../core';\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultData = {};\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nvar useListController = function (props) {\n    useCheckMinimumRequiredProps('List', ['basePath', 'resource'], props);\n    var basePath = props.basePath, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, filterDefaultValues = props.filterDefaultValues, hasCreate = props.hasCreate, _b = props.sort, sort = _b === void 0 ? defaultSort : _b, _c = props.perPage, perPage = _c === void 0 ? 10 : _c, filter = props.filter, _d = props.debounce, debounce = _d === void 0 ? 500 : _d;\n    var resource = useResourceContext(props);\n    if (filter && isValidElement(filter)) {\n        throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n    }\n    var location = useLocation();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var _e = useListParams({\n        resource: resource,\n        location: location,\n        filterDefaultValues: filterDefaultValues,\n        sort: sort,\n        perPage: perPage,\n        debounce: debounce,\n    }), query = _e[0], queryModifiers = _e[1];\n    var _f = useRecordSelection(resource), selectedIds = _f[0], selectionModifiers = _f[1];\n    /**\n     * We want the list of ids to be always available for optimistic rendering,\n     * and therefore we need a custom action (CRUD_GET_LIST) that will be used.\n     */\n    var _g = useGetList(resource, {\n        page: query.page,\n        perPage: query.perPage,\n    }, { field: query.sort, order: query.order }, __assign(__assign({}, query.filter), filter), {\n        action: CRUD_GET_LIST,\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), ids = _g.ids, total = _g.total, error = _g.error, loading = _g.loading, loaded = _g.loaded;\n    var data = useSelector(function (state) {\n        return get(state.admin.resources, [resource, 'data'], defaultData);\n    });\n    // When the user changes the page/sort/filter, this controller runs the\n    // useGetList hook again. While the result of this new call is loading,\n    // the ids and total are empty. To avoid rendering an empty list at that\n    // moment, we override the ids and total with the latest loaded ones.\n    var defaultIds = useSelector(function (state) {\n        return get(state.admin.resources, [resource, 'list', 'ids'], []);\n    });\n    var defaultTotal = useSelector(function (state) {\n        return get(state.admin.resources, [resource, 'list', 'total']);\n    });\n    // Since the total can be empty during the loading phase\n    // We need to override that total with the latest loaded one\n    // This way, the useEffect bellow won't reset the page to 1\n    var finalTotal = typeof total === 'undefined' ? defaultTotal : total;\n    var finalIds = typeof total === 'undefined' ? defaultIds : ids;\n    var totalPages = useMemo(function () {\n        return Math.ceil(finalTotal / query.perPage) || 1;\n    }, [query.perPage, finalTotal]);\n    useEffect(function () {\n        if (query.page <= 0 ||\n            (!loading && query.page > 1 && (finalIds || []).length === 0)) {\n            // Query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n        }\n        else if (!loading && query.page > totalPages) {\n            // Query for a page out of bounds, set page to the last existing page\n            // It occurs when deleting the last element of the last page\n            queryModifiers.setPage(totalPages);\n        }\n    }, [\n        loading,\n        query.page,\n        finalIds,\n        queryModifiers,\n        total,\n        totalPages,\n        defaultIds,\n    ]);\n    var currentSort = useMemo(function () { return ({\n        field: query.sort,\n        order: query.order,\n    }); }, [query.sort, query.order]);\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 2,\n        _: inflection.humanize(inflection.pluralize(resource)),\n    });\n    var defaultTitle = translate('ra.page.list', {\n        name: resourceName,\n    });\n    return {\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: query.displayedFilters,\n        error: error,\n        exporter: exporter,\n        filter: filter,\n        filterValues: query.filterValues,\n        hasCreate: hasCreate,\n        hideFilter: queryModifiers.hideFilter,\n        ids: finalIds,\n        loaded: loaded || defaultIds.length > 0,\n        loading: loading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page: query.page,\n        perPage: query.perPage,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: finalTotal,\n    };\n};\nexport var injectedProps = [\n    'basePath',\n    'currentSort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'error',\n    'exporter',\n    'filterValues',\n    'hasCreate',\n    'hideFilter',\n    'ids',\n    'loading',\n    'loaded',\n    'onSelect',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'totalPages',\n    'version',\n];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport var getListControllerProps = function (props) {\n    return injectedProps.reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport var sanitizeListRestProps = function (props) {\n    return Object.keys(props)\n        .filter(function (propName) { return !injectedProps.includes(propName); })\n        .reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\nexport default useListController;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ActionHide from '@material-ui/icons/HighlightOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useResourceContext, useTranslate } from 'ra-core';\nvar emptyRecord = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    body: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        pointerEvents: 'auto',\n    },\n    spacer: { width: theme.spacing(2) },\n    hideButton: {},\n}); }, { name: 'RaFilterFormInput' });\nvar FilterFormInput = function (props) {\n    var filterElement = props.filterElement, handleHide = props.handleHide, variant = props.variant, margin = props.margin;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", { \"data-source\": filterElement.props.source, className: classnames('filter-field', classes.body) },\n        !filterElement.props.alwaysOn && (React.createElement(IconButton, { className: classnames('hide-filter', classes.hideButton), onClick: handleHide, \"data-key\": filterElement.props.source, title: translate('ra.action.remove_filter') },\n            React.createElement(ActionHide, null))),\n        React.cloneElement(filterElement, {\n            allowEmpty: filterElement.props.allowEmpty === undefined\n                ? true\n                : filterElement.props.allowEmpty,\n            resource: resource,\n            record: emptyRecord,\n            variant: variant,\n            margin: margin,\n            helperText: false,\n            // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\n            defaultValue: undefined,\n        }),\n        React.createElement(\"div\", { className: classes.spacer }, \"\\u00A0\")));\n};\nFilterFormInput.propTypes = {\n    filterElement: PropTypes.node,\n    handleHide: PropTypes.func,\n    classes: PropTypes.object,\n    resource: PropTypes.string,\n    margin: PropTypes.string,\n    variant: PropTypes.string,\n};\nexport default FilterFormInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, FormSpy } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport FilterFormInput from './FilterFormInput';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        marginTop: -theme.spacing(2),\n        paddingTop: 0,\n        display: 'flex',\n        alignItems: 'flex-end',\n        flexWrap: 'wrap',\n        minHeight: theme.spacing(10),\n        pointerEvents: 'none',\n    },\n    clearFix: { clear: 'right' },\n}); }, { name: 'RaFilterForm' });\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, error = _a.error, errors = _a.errors, filterValues = _a.filterValues, form = _a.form, handleSubmit = _a.handleSubmit, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, invalid = _a.invalid, modified = _a.modified, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, pristine = _a.pristine, setFilters = _a.setFilters, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, touched = _a.touched, valid = _a.valid, validating = _a.validating, values = _a.values, visited = _a.visited, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"filterValues\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"setFilters\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"]);\n    return props;\n};\nexport var FilterForm = function (_a) {\n    var _b = _a.classes, classes = _b === void 0 ? {} : _b, className = _a.className, resource = _a.resource, margin = _a.margin, variant = _a.variant, filters = _a.filters, _c = _a.displayedFilters, displayedFilters = _c === void 0 ? {} : _c, hideFilter = _a.hideFilter, initialValues = _a.initialValues, rest = __rest(_a, [\"classes\", \"className\", \"resource\", \"margin\", \"variant\", \"filters\", \"displayedFilters\", \"hideFilter\", \"initialValues\"]);\n    useEffect(function () {\n        filters.forEach(function (filter) {\n            if (filter.props.alwaysOn && filter.props.defaultValue) {\n                throw new Error('Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.');\n            }\n        });\n    }, [filters]);\n    var getShownFilters = function () {\n        return filters.filter(function (filterElement) {\n            return filterElement.props.alwaysOn ||\n                displayedFilters[filterElement.props.source] ||\n                typeof lodashGet(initialValues, filterElement.props.source) !==\n                    'undefined';\n        });\n    };\n    var handleHide = useCallback(function (event) { return hideFilter(event.currentTarget.dataset.key); }, [hideFilter]);\n    return (React.createElement(\"form\", __assign({ className: classnames(className, classes.form) }, sanitizeRestProps(rest), { onSubmit: handleSubmit }),\n        getShownFilters().map(function (filterElement) { return (React.createElement(FilterFormInput, { key: filterElement.props.source, filterElement: filterElement, handleHide: handleHide, resource: resource, variant: filterElement.props.variant || variant, margin: filterElement.props.margin || margin })); }),\n        React.createElement(\"div\", { className: classes.clearFix })));\n};\nvar handleSubmit = function (event) {\n    event.preventDefault();\n    return false;\n};\nFilterForm.propTypes = {\n    resource: PropTypes.string.isRequired,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object,\n    hideFilter: PropTypes.func.isRequired,\n    initialValues: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport var mergeInitialValuesWithDefaultValues = function (_a) {\n    var initialValues = _a.initialValues, filters = _a.filters;\n    return (__assign(__assign({}, filters\n        .filter(function (filterElement) {\n        return filterElement.props.alwaysOn && filterElement.props.defaultValue;\n    })\n        .reduce(function (acc, filterElement) {\n        return lodashSet(__assign({}, acc), filterElement.props.source, filterElement.props.defaultValue);\n    }, {})), initialValues));\n};\nvar EnhancedFilterForm = function (props) {\n    var classesOverride = props.classes, rest = __rest(props, [\"classes\"]);\n    var classes = useStyles(props);\n    var mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(props);\n    var initialValues = rest.initialValues, rest2 = __rest(rest, [\"initialValues\"]);\n    return (React.createElement(Form, { onSubmit: handleFinalFormSubmit, initialValues: mergedInitialValuesWithDefaultValues, mutators: __assign({}, arrayMutators), render: function (formProps) { return (React.createElement(React.Fragment, null,\n            React.createElement(FormSpy, { subscription: FormSpySubscription, onChange: function (_a) {\n                    var pristine = _a.pristine, values = _a.values;\n                    if (pristine) {\n                        return;\n                    }\n                    rest && rest.setFilters(values);\n                } }),\n            React.createElement(FilterForm, __assign({ classes: classes }, formProps, rest2)))); } }));\n};\nvar handleFinalFormSubmit = function () { };\n// Options to instruct the FormSpy that it should only listen to the values and pristine changes\nvar FormSpySubscription = { values: true, pristine: true };\nexport default EnhancedFilterForm;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport useTranslate from '../i18n/useTranslate';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nexport var FieldTitle = function (_a) {\n    var resource = _a.resource, source = _a.source, label = _a.label, isRequired = _a.isRequired;\n    var translate = useTranslate();\n    if (label && typeof label !== 'string') {\n        return label;\n    }\n    return (React.createElement(\"span\", null,\n        translate.apply(void 0, getFieldLabelTranslationArgs({\n            label: label,\n            resource: resource,\n            source: source,\n        })),\n        isRequired && ' *'));\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\nexport default memo(FieldTitle);\n","import inflection from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\nexport default (function (options) {\n    if (!options) {\n        return [''];\n    }\n    var label = options.label, resource = options.resource, source = options.source;\n    return typeof label !== 'undefined'\n        ? [label, { _: label }]\n        : typeof source !== 'undefined'\n            ? [\n                \"resources.\" + resource + \".fields.\" + source,\n                {\n                    _: inflection.transform(source, ['underscore', 'humanize']),\n                },\n            ]\n            : [''];\n});\n","import * as React from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { FieldTitle, useResourceContext } from 'ra-core';\nexport var FilterButtonMenuItem = forwardRef(function (props, ref) {\n    var filter = props.filter, onShow = props.onShow;\n    var resource = useResourceContext(props);\n    var handleShow = useCallback(function () {\n        onShow({\n            source: filter.props.source,\n            defaultValue: filter.props.defaultValue,\n        });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.props.source, \"data-default-value\": filter.props.defaultValue, key: filter.props.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.props.label, source: filter.props.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.element.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string.isRequired,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button as MuiButton, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\nvar Button = function (props) {\n    var _a;\n    var _b = props.alignIcon, alignIcon = _b === void 0 ? 'left' : _b, children = props.children, classesOverride = props.classes, className = props.className, color = props.color, disabled = props.disabled, label = props.label, size = props.size, rest = __rest(props, [\"alignIcon\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"label\", \"size\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var restProps = sanitizeButtonRestProps(rest);\n    return isXSmall ? (label && !disabled ? (React.createElement(Tooltip, { title: translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": translate(label, { _: label }), className: className, color: color }, restProps), children))) : (React.createElement(IconButton, __assign({ className: className, color: color, disabled: disabled }, restProps), children))) : (React.createElement(MuiButton, __assign({ className: classnames(classes.button, className), color: color, size: size, \"aria-label\": label ? translate(label, { _: label }) : undefined, disabled: disabled }, restProps),\n        alignIcon === 'left' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            }),\n        label && (React.createElement(\"span\", { className: classnames((_a = {},\n                _a[classes.label] = alignIcon === 'left',\n                _a[classes.labelRightIcon] = alignIcon !== 'left',\n                _a)) }, translate(label, { _: label }))),\n        alignIcon === 'right' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            })));\n};\nvar useStyles = makeStyles({\n    button: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n    label: {\n        paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n        paddingRight: '0.5em',\n    },\n    smallIcon: {\n        fontSize: 20,\n    },\n    mediumIcon: {\n        fontSize: 22,\n    },\n    largeIcon: {\n        fontSize: 24,\n    },\n}, { name: 'RaButton' });\nexport var sanitizeButtonRestProps = function (_a) {\n    var \n    // The next props are injected by Toolbar\n    basePath = _a.basePath, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, onSave = _a.onSave, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, undoable = _a.undoable, rest = __rest(_a, [\"basePath\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"onSave\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\"]);\n    return rest;\n};\nButton.propTypes = {\n    alignIcon: PropTypes.oneOf(['left', 'right']),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n    disabled: PropTypes.bool,\n    label: PropTypes.string,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n};\nButton.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default Button;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useCallback, useRef, } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport { FilterButtonMenuItem } from './FilterButtonMenuItem';\nimport Button from '../../button/Button';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nvar FilterButton = function (props) {\n    var filters = props.filters, _a = props.displayedFilters, displayedFilters = _a === void 0 ? {} : _a, filterValues = props.filterValues, showFilter = props.showFilter, classesOverride = props.classes, className = props.className, resource = props.resource, rest = __rest(props, [\"filters\", \"displayedFilters\", \"filterValues\", \"showFilter\", \"classes\", \"className\", \"resource\"]);\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    if (hiddenFilters.length === 0)\n        return null;\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, rest),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose }, hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement, resource: resource, onShow: handleShow })); }))));\n};\nFilterButton.propTypes = {\n    resource: PropTypes.string.isRequired,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object,\n    filterValues: PropTypes.object.isRequired,\n    showFilter: PropTypes.func.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport default FilterButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext } from 'ra-core';\nimport FilterForm from './FilterForm';\nimport FilterButton from './FilterButton';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\nvar Filter = function (props) {\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, showFilter = _a.showFilter, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButton, __assign({ className: classes.button, resource: resource, filters: React.Children.toArray(children), showFilter: showFilter, displayedFilters: displayedFilters, filterValues: filterValues }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilter.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\nexport default Filter;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport lodashMemoize from 'lodash/memoize';\n/* eslint-disable no-underscore-dangle */\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\nvar isEmpty = function (value) {\n    return typeof value === 'undefined' ||\n        value === null ||\n        value === '' ||\n        (Array.isArray(value) && value.length === 0);\n};\nvar getMessage = function (message, messageArgs, value, values) {\n    return typeof message === 'function'\n        ? message({\n            args: messageArgs,\n            value: value,\n            values: values,\n        })\n        : messageArgs\n            ? {\n                message: message,\n                args: messageArgs,\n            }\n            : message;\n};\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nvar memoize = function (fn) {\n    return lodashMemoize(fn, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return JSON.stringify(args);\n    });\n};\nvar isFunction = function (value) { return typeof value === 'function'; };\n// Compose multiple validators into a single one for use with final-form\nexport var composeValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    return function (value, values, meta) { return __awaiter(void 0, void 0, void 0, function () {\n        var allValidators, _i, allValidators_1, validator, error;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    allValidators = (Array.isArray(validators[0])\n                        ? validators[0]\n                        : validators).filter(isFunction);\n                    _i = 0, allValidators_1 = allValidators;\n                    _a.label = 1;\n                case 1:\n                    if (!(_i < allValidators_1.length)) return [3 /*break*/, 4];\n                    validator = allValidators_1[_i];\n                    return [4 /*yield*/, validator(value, values, meta)];\n                case 2:\n                    error = _a.sent();\n                    if (error) {\n                        return [2 /*return*/, error];\n                    }\n                    _a.label = 3;\n                case 3:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n};\n// Compose multiple validators into a single one for use with final-form\nexport var composeSyncValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    return function (value, values, meta) {\n        var allValidators = (Array.isArray(validators[0])\n            ? validators[0]\n            : validators).filter(isFunction);\n        for (var _i = 0, allValidators_2 = allValidators; _i < allValidators_2.length; _i++) {\n            var validator = allValidators_2[_i];\n            var error = validator(value, values, meta);\n            if (error) {\n                return error;\n            }\n        }\n    };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport var required = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.required'; }\n    return Object.assign(function (value, values) {\n        return isEmpty(value)\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    }, { isRequired: true });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport var minLength = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport var maxLength = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var minValue = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var maxValue = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport var number = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.number'; }\n    return function (value, values) {\n        return !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|Function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport var regex = lodashMemoize(function (pattern, message) {\n    if (message === void 0) { message = 'ra.validation.regex'; }\n    return function (value, values) {\n        return !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern: pattern }, value, values)\n            : undefined;\n    };\n}, function (pattern, message) {\n    return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport var email = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.email'; }\n    return regex(EMAIL_REGEX, message);\n});\nvar oneOfTypeMessage = function (_a) {\n    var args = _a.args;\n    return ({\n        message: 'ra.validation.oneOf',\n        args: args,\n    });\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|Function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport var choices = memoize(function (list, message) {\n    if (message === void 0) { message = oneOfTypeMessage; }\n    return function (value, values) {\n        return !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list: list }, value, values)\n            : undefined;\n    };\n});\n","var isRequired = function (validate) {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return validate.some(function (it) { return it.isRequired; });\n    }\n    return false;\n};\nexport default isRequired;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useField as useFinalFormField, } from 'react-final-form';\nimport { composeValidators } from './validate';\nimport isRequired from './isRequired';\nimport { useCallback } from 'react';\nvar useInput = function (_a) {\n    var defaultValue = _a.defaultValue, id = _a.id, name = _a.name, source = _a.source, validate = _a.validate, customOnBlur = _a.onBlur, customOnChange = _a.onChange, customOnFocus = _a.onFocus, options = __rest(_a, [\"defaultValue\", \"id\", \"name\", \"source\", \"validate\", \"onBlur\", \"onChange\", \"onFocus\"]);\n    var finalName = name || source;\n    var sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n    var _b = useFinalFormField(finalName, __assign({ initialValue: defaultValue, validate: sanitizedValidate }, options)), input = _b.input, meta = _b.meta;\n    // Extract the event handlers so that we can provide ours\n    // allowing users to provide theirs without breaking the form\n    var onBlur = input.onBlur, onChange = input.onChange, onFocus = input.onFocus, inputProps = __rest(input, [\"onBlur\", \"onChange\", \"onFocus\"]);\n    var handleBlur = useCallback(function (event) {\n        onBlur(event);\n        if (typeof customOnBlur === 'function') {\n            customOnBlur(event);\n        }\n    }, [onBlur, customOnBlur]);\n    var handleChange = useCallback(function (event) {\n        onChange(event);\n        if (typeof customOnChange === 'function') {\n            customOnChange(event);\n        }\n    }, [onChange, customOnChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus(event);\n        if (typeof customOnFocus === 'function') {\n            customOnFocus(event);\n        }\n    }, [onFocus, customOnFocus]);\n    // If there is an input prop, this input has already been enhanced by final-form\n    // This is required in for inputs used inside other inputs (such as the SelectInput inside a ReferenceInput)\n    if (options.input) {\n        return {\n            id: id || source,\n            input: options.input,\n            meta: options.meta,\n            isRequired: isRequired(validate),\n        };\n    }\n    return {\n        id: id || source,\n        input: __assign(__assign({}, inputProps), { onBlur: handleBlur, onChange: handleChange, onFocus: handleFocus }),\n        meta: meta,\n        isRequired: isRequired(validate),\n    };\n};\nexport default useInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport MuiTextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles({\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n}, { name: 'RaResettableTextField' });\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\n/**\n * An override of the default Material-UI TextField which is resettable\n */\nfunction ResettableTextField(props) {\n    var classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, InputProps = props.InputProps, value = props.value, resettable = props.resettable, disabled = props.disabled, _a = props.variant, variant = _a === void 0 ? 'filled' : _a, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, rest = __rest(props, [\"classes\", \"clearAlwaysVisible\", \"InputProps\", \"value\", \"resettable\", \"disabled\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornedEnd = classes.inputAdornedEnd, selectAdornment = classes.selectAdornment, visibleClearButton = classes.visibleClearButton, visibleClearIcon = classes.visibleClearIcon, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornedEnd\", \"selectAdornment\", \"visibleClearButton\", \"visibleClearIcon\"]);\n    var _c = InputProps || {}, endAdornment = _c.endAdornment, InputPropsWithoutEndAdornment = __rest(_c, [\"endAdornment\"]);\n    if (clearAlwaysVisible && endAdornment) {\n        throw new Error('ResettableTextField cannot display both an endAdornment and a clear button always visible');\n    }\n    var getEndAdornment = function () {\n        var _a;\n        if (!resettable) {\n            return endAdornment;\n        }\n        else if (!value) {\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                        root: props.select ? selectAdornment : null,\n                    } },\n                    React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) }))));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                            root: props.select ? selectAdornment : null,\n                        } },\n                        React.createElement(\"span\", { className: clearButton }, \"\\u00A0\")));\n                }\n            }\n        }\n        else {\n            // show clear\n            return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                    root: props.select ? selectAdornment : null,\n                } },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, (_a = {},\n                            _a[visibleClearIcon] = clearAlwaysVisible || value,\n                            _a)) }))));\n        }\n    };\n    return (React.createElement(MuiTextField, __assign({ classes: restClasses, value: value, InputProps: __assign({ classes: props.select && variant === 'filled'\n                ? { adornedEnd: inputAdornedEnd }\n                : {}, endAdornment: getEndAdornment() }, InputPropsWithoutEndAdornment), disabled: disabled, variant: variant, margin: margin }, rest, { onFocus: handleFocus, onBlur: handleBlur })));\n}\nResettableTextField.propTypes = {\n    classes: PropTypes.object,\n    clearAlwaysVisible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    resettable: PropTypes.bool,\n    value: PropTypes.any.isRequired,\n};\nexport default ResettableTextField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useTranslate } from '../i18n';\nvar ValidationError = function (_a) {\n    var error = _a.error;\n    var translate = useTranslate();\n    if (error.message) {\n        var _b = error, message = _b.message, args = _b.args;\n        return React.createElement(React.Fragment, null, translate(message, __assign({ _: message }, args)));\n    }\n    return React.createElement(React.Fragment, null, translate(error, { _: error }));\n};\nexport default ValidationError;\n","import * as React from 'react';\nimport { useTranslate, ValidationError } from 'ra-core';\nvar InputHelperText = function (_a) {\n    var helperText = _a.helperText, touched = _a.touched, error = _a.error;\n    var translate = useTranslate();\n    return touched && error ? (React.createElement(ValidationError, { error: error })) : typeof helperText === 'string' ? (React.createElement(React.Fragment, null, translate(helperText, { _: helperText }))) : helperText !== false ? (\n    // material-ui's HelperText cannot reserve space unless we pass a single\n    // space as child, which isn't possible when the child is a component.\n    // Therefore, we must reserve the space ourselves by passing the same\n    // markup as material-ui.\n    // @see https://github.com/mui-org/material-ui/blob/62e439b7022d519ab638d65201e204b59b77f8da/packages/material-ui/src/FormHelperText/FormHelperText.js#L85-L90\n    // eslint-disable-next-line react/no-danger\n    React.createElement(\"span\", { dangerouslySetInnerHTML: defaultInnerHTML })) : null;\n};\nvar defaultInnerHTML = { __html: '&#8203;' };\nexport default InputHelperText;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar sanitizeInputRestProps = function (_a) {\n    var afterSubmit = _a.afterSubmit, allowEmpty = _a.allowEmpty, allowNull = _a.allowNull, alwaysOn = _a.alwaysOn, basePath = _a.basePath, beforeSubmit = _a.beforeSubmit, component = _a.component, data = _a.data, defaultValue = _a.defaultValue, format = _a.format, formatOnBlur = _a.formatOnBlur, formClassName = _a.formClassName, initialValue = _a.initialValue, initializeForm = _a.initializeForm, input = _a.input, isEqual = _a.isEqual, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, locale = _a.locale, meta = _a.meta, multiple = _a.multiple, name = _a.name, options = _a.options, optionText = _a.optionText, optionValue = _a.optionValue, parse = _a.parse, record = _a.record, ref = _a.ref, render = _a.render, resource = _a.resource, source = _a.source, subscription = _a.subscription, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, type = _a.type, validate = _a.validate, validateFields = _a.validateFields, value = _a.value, rest = __rest(_a, [\"afterSubmit\", \"allowEmpty\", \"allowNull\", \"alwaysOn\", \"basePath\", \"beforeSubmit\", \"component\", \"data\", \"defaultValue\", \"format\", \"formatOnBlur\", \"formClassName\", \"initialValue\", \"initializeForm\", \"input\", \"isEqual\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"multiple\", \"name\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"record\", \"ref\", \"render\", \"resource\", \"source\", \"subscription\", \"textAlign\", \"translate\", \"translateChoice\", \"type\", \"validate\", \"validateFields\", \"value\"]);\n    return rest;\n};\nexport default sanitizeInputRestProps;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\n/**\n * An Input component for a string\n *\n * @example\n * <TextInput source=\"first_name\" />\n *\n * You can customize the `type` props (which defaults to \"text\").\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\n * @example\n * <TextInput source=\"email\" type=\"email\" />\n * <NumberInput source=\"nb_views\" />\n *\n * The object passed as `options` props is passed to the <ResettableTextField> component\n */\nvar TextInput = function (_a) {\n    var label = _a.label, format = _a.format, helperText = _a.helperText, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, parse = _a.parse, resource = _a.resource, source = _a.source, validate = _a.validate, rest = __rest(_a, [\"label\", \"format\", \"helperText\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _b = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'text', validate: validate }, rest)), id = _b.id, input = _b.input, isRequired = _b.isRequired, _c = _b.meta, error = _c.error, touched = _c.touched;\n    return (React.createElement(ResettableTextField, __assign({ id: id }, input, { label: label !== '' &&\n            label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }) }, options, sanitizeInputRestProps(rest))));\n};\nTextInput.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nTextInput.defaultProps = {\n    options: {},\n};\nexport default TextInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport TextInput from './TextInput';\nvar useStyles = makeStyles({\n    input: {\n        marginTop: 32,\n    },\n}, { name: 'RaSearchInput' });\nvar SearchInput = function (props) {\n    var classesOverride = props.classes, rest = __rest(props, [\"classes\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    if (props.label) {\n        throw new Error(\"<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.\");\n    }\n    return (React.createElement(TextInput, __assign({ hiddenLabel: true, label: \"\", resettable: true, placeholder: translate('ra.action.search'), InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(SearchIcon, { color: \"disabled\" }))),\n        }, className: classes.input }, rest)));\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n};\nexport default SearchInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\n/**\n * Convert Date object to String\n *\n * @param {Date} value value to convert\n * @returns {String} A standardized date (yyyy-MM-dd), to be passed to an <input type=\"date\" />\n */\nvar convertDateToString = function (value) {\n    if (!(value instanceof Date) || isNaN(value.getDate()))\n        return;\n    var pad = '00';\n    var yyyy = value.getFullYear().toString();\n    var MM = (value.getMonth() + 1).toString();\n    var dd = value.getDate().toString();\n    return yyyy + \"-\" + (pad + MM).slice(-2) + \"-\" + (pad + dd).slice(-2);\n};\nvar dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\nvar defaultInputLabelProps = { shrink: true };\nvar getStringFromDate = function (value) {\n    // null, undefined and empty string values should not go through dateFormatter\n    // otherwise, it returns undefined and will make the input an uncontrolled one.\n    if (value == null || value === '') {\n        return '';\n    }\n    if (value instanceof Date) {\n        return convertDateToString(value);\n    }\n    // valid dates should not be converted\n    if (dateRegex.test(value)) {\n        return value;\n    }\n    return convertDateToString(new Date(value));\n};\nvar DateInput = function (_a) {\n    var _b = _a.format, format = _b === void 0 ? getStringFromDate : _b, label = _a.label, options = _a.options, source = _a.source, resource = _a.resource, helperText = _a.helperText, _c = _a.margin, margin = _c === void 0 ? 'dense' : _c, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, rest = __rest(_a, [\"format\", \"label\", \"options\", \"source\", \"resource\", \"helperText\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\", \"variant\"]);\n    var _e = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, touched = _f.touched;\n    return (React.createElement(TextField, __assign({ id: id }, input, { variant: variant, margin: margin, type: \"date\", error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), InputLabelProps: defaultInputLabelProps }, options, sanitizeInputRestProps(rest))));\n};\nDateInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nDateInput.defaultProps = {\n    options: {},\n};\nexport default DateInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useInput, useTranslate, FieldTitle } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(16) },\n}); }, { name: 'RaNullableBooleanInput' });\nvar getBooleanFromString = function (value) {\n    if (value === 'true')\n        return true;\n    if (value === 'false')\n        return false;\n    return null;\n};\nvar getStringFromBoolean = function (value) {\n    if (value === true)\n        return 'true';\n    if (value === false)\n        return 'false';\n    return '';\n};\nvar NullableBooleanInput = function (props) {\n    var className = props.className, classesOverride = props.classes, _a = props.format, format = _a === void 0 ? getStringFromBoolean : _a, helperText = props.helperText, label = props.label, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, _c = props.parse, parse = _c === void 0 ? getBooleanFromString : _c, resource = props.resource, source = props.source, validate = props.validate, _d = props.variant, variant = _d === void 0 ? 'filled' : _d, _e = props.nullLabel, nullLabel = _e === void 0 ? 'ra.boolean.null' : _e, _f = props.falseLabel, falseLabel = _f === void 0 ? 'ra.boolean.false' : _f, _g = props.trueLabel, trueLabel = _g === void 0 ? 'ra.boolean.true' : _g, rest = __rest(props, [\"className\", \"classes\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"parse\", \"resource\", \"source\", \"validate\", \"variant\", \"nullLabel\", \"falseLabel\", \"trueLabel\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _h = useInput({\n        format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate,\n    }), id = _h.id, input = _h.input, isRequired = _h.isRequired, _j = _h.meta, error = _j.error, touched = _j.touched;\n    return (React.createElement(TextField, __assign({ id: id }, input, { select: true, margin: margin, label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), className: classnames(classes.input, className), variant: variant }, options, sanitizeInputRestProps(rest)),\n        React.createElement(MenuItem, { value: \"\" }, translate(nullLabel)),\n        React.createElement(MenuItem, { value: \"false\" }, translate(falseLabel)),\n        React.createElement(MenuItem, { value: \"true\" }, translate(trueLabel))));\n};\nNullableBooleanInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    nullLabel: PropTypes.string,\n    falseLabel: PropTypes.string,\n    trueLabel: PropTypes.string,\n};\nexport default NullableBooleanInput;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the filter part of the useListController() result.\n *\n * Use the useListFilterContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Filter>, <FilterListItem>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListFilterContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListFilterContext\n *\n * @example\n *\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\n *             ...\n *         </ListFilterContext.Provider>\n *     );\n * };\n */\nvar ListFilterContext = createContext({\n    displayedFilters: null,\n    filterValues: null,\n    hideFilter: null,\n    setFilters: null,\n    showFilter: null,\n    resource: null,\n});\nexport var usePickFilterContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'displayedFilters',\n            'filterValues',\n            'hideFilter',\n            'setFilters',\n            'showFilter',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.displayedFilters,\n        context.filterValues,\n        context.hideFilter,\n        context.setFilters,\n        context.showFilter,\n    ]);\n};\nListFilterContext.displayName = 'ListFilterContext';\nexport default ListFilterContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the sort part of the useListController() result.\n *\n * Use the useListSortContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <SortButton>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListSortContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListSortContext\n *\n * @example\n *\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\n *             ...\n *         </ListSortContext.Provider>\n *     );\n * };\n */\nvar ListSortContext = createContext({\n    currentSort: null,\n    setSort: null,\n    resource: null,\n});\nexport var usePickSortContext = function (context) {\n    return useMemo(function () { return pick(context, ['currentSort', 'setSort', 'resource']); }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.currentSort, context.setSort]);\n};\nListSortContext.displayName = 'ListSortContext';\nexport default ListSortContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the pagination part of the useListController() result.\n *\n * Use the useListPaginationContext() hook to read the pagination information.\n * That's what List components do in react-admin (e.g. <Pagination>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListPaginationContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListPaginationContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListPaginationContext.Provider value={controllerProps}>\n *             ...\n *         </ListPaginationContext.Provider>\n *     );\n * };\n */\nvar ListPaginationContext = createContext({\n    loading: null,\n    page: null,\n    perPage: null,\n    setPage: null,\n    setPerPage: null,\n    total: null,\n    resource: null,\n});\nListPaginationContext.displayName = 'ListPaginationContext';\nexport var usePickPaginationContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'loading',\n            'page',\n            'perPage',\n            'setPage',\n            'setPerPage',\n            'total',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.loading,\n        context.page,\n        context.perPage,\n        context.setPage,\n        context.setPerPage,\n        context.total,\n    ]);\n};\nexport default ListPaginationContext;\n","import * as React from 'react';\nimport ListContext from './ListContext';\nimport ListFilterContext, { usePickFilterContext } from './ListFilterContext';\nimport ListSortContext, { usePickSortContext } from './ListSortContext';\nimport ListPaginationContext, { usePickPaginationContext, } from './ListPaginationContext';\n/**\n * Create a List Context and several thematic List subcontext.\n *\n * Allows children to subscribe to part of the ListContext, and bail out of\n * rendering when some parts of the context that they don't depend on change\n * (because unfortunately React doesn't allow to use context selectors yet).\n *\n * @example\n *\n * const MyList = (props) => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContextProvider value={controllerProps}>\n *             <MyListView>\n *         </ListContextProvider>\n *     );\n * };\n *\n * const MyListView = () => {\n *     const { data, ids, filterValues, setFilters } = useListContext();\n *     // or, to rerender only when filters change but not data\n *     const { filterValues, setFilters } = useListFilterContext();\n * }\n *\n * @see ListContext\n * @see ListFilterContext\n */\nvar ListContextProvider = function (_a) {\n    var value = _a.value, children = _a.children;\n    return (React.createElement(ListContext.Provider, { value: value },\n        React.createElement(ListFilterContext.Provider, { value: usePickFilterContext(value) },\n            React.createElement(ListSortContext.Provider, { value: usePickSortContext(value) },\n                React.createElement(ListPaginationContext.Provider, { value: usePickPaginationContext(value) }, children)))));\n};\nexport default ListContextProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n        actions: (_b = {\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, [\"classes\", \"filters\", \"actions\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Toolbar, { className: classes.toolbar },\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' })),\n        React.createElement(\"span\", null),\n        actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))));\n};\nListToolbar.propTypes = {\n    classes: PropTypes.object,\n    filters: PropTypes.element,\n    // @ts-ignore\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    // @ts-ignore\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nexport default React.memo(ListToolbar);\n","import { useContext } from 'react';\nimport ListPaginationContext from './ListPaginationContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListPaginationContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListPaginationContext = function (props) {\n    var context = useContext(ListPaginationContext);\n    if (!context.setPage) {\n        /**\n         * The element isn't inside a <ListPaginationContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListPaginationContext;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    actions: {\n        flexShrink: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: 20,\n    },\n    button: {},\n    currentPageButton: {},\n    hellip: { padding: '1.2em' },\n}); }, { name: 'RaPaginationActions' });\nfunction PaginationActions(props) {\n    var page = props.page, rowsPerPage = props.rowsPerPage, count = props.count, onChangePage = props.onChangePage, color = props.color, size = props.size;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var theme = useTheme();\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var range = function () {\n        var nbPages = Math.ceil(count / rowsPerPage) || 1;\n        if (isNaN(page) || nbPages === 1) {\n            return [];\n        }\n        var input = [];\n        // display page links around the current page\n        if (page > 1) {\n            input.push(1);\n        }\n        if (page === 3) {\n            input.push(2);\n        }\n        if (page > 3) {\n            input.push('.');\n        }\n        if (page > 0) {\n            input.push(page);\n        }\n        input.push(page + 1);\n        if (page < nbPages - 1) {\n            input.push(page + 2);\n        }\n        if (page === nbPages - 4) {\n            input.push(nbPages - 1);\n        }\n        if (page < nbPages - 4) {\n            input.push('.');\n        }\n        if (page < nbPages - 2) {\n            input.push(nbPages);\n        }\n        return input;\n    };\n    var getNbPages = function () { return Math.ceil(count / rowsPerPage) || 1; };\n    var prevPage = function (event) {\n        if (page === 0) {\n            throw new Error(translate('ra.navigation.page_out_from_begin'));\n        }\n        onChangePage(event, page - 1);\n    };\n    var nextPage = function (event) {\n        if (page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_from_end'));\n        }\n        onChangePage(event, page + 1);\n    };\n    var gotoPage = function (event) {\n        var page = parseInt(event.currentTarget.dataset.page, 10);\n        if (page < 0 || page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        onChangePage(event, page);\n    };\n    var renderPageNums = function () {\n        return range().map(function (pageNum, index) {\n            var _a;\n            return pageNum === '.' ? (React.createElement(\"span\", { key: \"hyphen_\" + index, className: classes.hellip }, \"\\u2026\")) : (React.createElement(Button, { size: size, className: classnames('page-number', classes.button, (_a = {},\n                    _a[classes.currentPageButton] = pageNum === page + 1,\n                    _a)), color: pageNum === page + 1 ? 'default' : color, key: pageNum, \"data-page\": pageNum - 1, onClick: gotoPage }, pageNum));\n        });\n    };\n    var nbPages = getNbPages();\n    if (nbPages === 1) {\n        return React.createElement(\"div\", { className: classes.actions });\n    }\n    return (React.createElement(\"div\", { className: classes.actions },\n        page > 0 && (React.createElement(Button, { color: color, size: size, key: \"prev\", onClick: prevPage, className: \"previous-page\" },\n            theme.direction === 'rtl' ? (React.createElement(ChevronRight, null)) : (React.createElement(ChevronLeft, null)),\n            translate('ra.navigation.prev'))),\n        renderPageNums(),\n        page !== nbPages - 1 && (React.createElement(Button, { color: color, size: size, key: \"next\", onClick: nextPage, className: \"next-page\" },\n            translate('ra.navigation.next'),\n            theme.direction === 'rtl' ? (React.createElement(ChevronLeft, null)) : (React.createElement(ChevronRight, null))))));\n}\n/**\n * PaginationActions propTypes are copied over from material-uis\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\nPaginationActions.propTypes = {\n    backIconButtonProps: PropTypes.object,\n    count: PropTypes.number.isRequired,\n    classes: PropTypes.object,\n    nextIconButtonProps: PropTypes.object,\n    onChangePage: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n    color: PropTypes.oneOf(['primary', 'secondary']),\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    theme: PropTypes.object,\n};\nPaginationActions.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default React.memo(PaginationActions);\n","import * as React from 'react';\nimport { memo } from 'react';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'ra-core';\nvar PaginationLimit = function () {\n    var translate = useTranslate();\n    return (React.createElement(CardContent, null,\n        React.createElement(Typography, { variant: \"body2\" }, translate('ra.navigation.no_results'))));\n};\nexport default memo(PaginationLimit);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery, } from '@material-ui/core';\nimport { useTranslate, useListPaginationContext, sanitizeListRestProps, ComponentPropType, } from 'ra-core';\nimport DefaultPaginationActions from './PaginationActions';\nimport DefaultPaginationLimit from './PaginationLimit';\nvar emptyArray = [];\nvar Pagination = function (props) {\n    var rowsPerPageOptions = props.rowsPerPageOptions, actions = props.actions, limit = props.limit, rest = __rest(props, [\"rowsPerPageOptions\", \"actions\", \"limit\"]);\n    var _a = useListPaginationContext(props), loading = _a.loading, page = _a.page, perPage = _a.perPage, total = _a.total, setPage = _a.setPage, setPerPage = _a.setPerPage;\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    var totalPages = useMemo(function () {\n        return Math.ceil(total / perPage) || 1;\n    }, [perPage, total]);\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var handlePageChange = useCallback(function (event, page) {\n        event && event.stopPropagation();\n        if (page < 0 || page > totalPages - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        setPage(page + 1);\n    }, [totalPages, setPage, translate]);\n    var handlePerPageChange = useCallback(function (event) {\n        setPerPage(event.target.value);\n    }, [setPerPage]);\n    var labelDisplayedRows = useCallback(function (_a) {\n        var from = _a.from, to = _a.to, count = _a.count;\n        return translate('ra.navigation.page_range_info', {\n            offsetBegin: from,\n            offsetEnd: to,\n            total: count,\n        });\n    }, [translate]);\n    // Avoid rendering TablePagination if \"page\" value is invalid\n    if (total === null || total === 0 || page < 1 || page > totalPages) {\n        return loading ? React.createElement(Toolbar, { variant: \"dense\" }) : limit;\n    }\n    if (isSmall) {\n        return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, rowsPerPageOptions: emptyArray, component: \"span\", labelDisplayedRows: labelDisplayedRows }, sanitizeListRestProps(rest))));\n    }\n    return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, onChangeRowsPerPage: handlePerPageChange, ActionsComponent: actions, component: \"span\", labelRowsPerPage: translate('ra.navigation.page_rows_per_page'), labelDisplayedRows: labelDisplayedRows, rowsPerPageOptions: rowsPerPageOptions }, sanitizeListRestProps(rest))));\n};\nPagination.propTypes = {\n    actions: ComponentPropType,\n    limit: PropTypes.element,\n    rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n};\nPagination.defaultProps = {\n    actions: DefaultPaginationActions,\n    limit: React.createElement(DefaultPaginationLimit, null),\n    rowsPerPageOptions: [5, 10, 25],\n};\nexport default React.memo(Pagination);\n","import { DELETE_MANY } from '../../core';\nexport var crudDeleteMany = function (resource, ids, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE_MANY,\n        payload: { ids: ids },\n        meta: {\n            resource: resource,\n            fetch: DELETE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';\nexport var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';\nexport var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';\nexport var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    confirmPrimary: {\n        color: theme.palette.primary.main,\n    },\n    confirmWarning: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n    iconPaddingStyle: {\n        paddingRight: '0.5em',\n    },\n}); }, { name: 'RaConfirm' });\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     ConfirmIcon=ActionCheck\n *     CancelIcon=AlertError\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\nvar Confirm = function (props) {\n    var _a;\n    var isOpen = props.isOpen, loading = props.loading, title = props.title, content = props.content, confirm = props.confirm, cancel = props.cancel, confirmColor = props.confirmColor, ConfirmIcon = props.ConfirmIcon, CancelIcon = props.CancelIcon, onClose = props.onClose, onConfirm = props.onConfirm, _b = props.translateOptions, translateOptions = _b === void 0 ? {} : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var handleConfirm = useCallback(function (e) {\n        e.stopPropagation();\n        onConfirm(e);\n    }, [onConfirm]);\n    var handleClick = useCallback(function (e) {\n        e.stopPropagation();\n    }, []);\n    return (React.createElement(Dialog, { open: isOpen, onClose: onClose, onClick: handleClick, \"aria-labelledby\": \"alert-dialog-title\" },\n        React.createElement(DialogTitle, { id: \"alert-dialog-title\" }, translate(title, __assign({ _: title }, translateOptions))),\n        React.createElement(DialogContent, null,\n            React.createElement(DialogContentText, null, translate(content, __assign({ _: content }, translateOptions)))),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { disabled: loading, onClick: onClose },\n                React.createElement(CancelIcon, { className: classes.iconPaddingStyle }),\n                translate(cancel, { _: cancel })),\n            React.createElement(Button, { disabled: loading, onClick: handleConfirm, className: classnames('ra-confirm', (_a = {},\n                    _a[classes.confirmWarning] = confirmColor === 'warning',\n                    _a[classes.confirmPrimary] = confirmColor === 'primary',\n                    _a)), autoFocus: true },\n                React.createElement(ConfirmIcon, { className: classes.iconPaddingStyle }),\n                translate(confirm, { _: confirm })))));\n};\nConfirm.propTypes = {\n    cancel: PropTypes.string,\n    classes: PropTypes.object,\n    confirm: PropTypes.string,\n    confirmColor: PropTypes.string,\n    ConfirmIcon: PropTypes.elementType,\n    CancelIcon: PropTypes.elementType,\n    content: PropTypes.string.isRequired,\n    isOpen: PropTypes.bool,\n    loading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    title: PropTypes.string.isRequired,\n};\nConfirm.defaultProps = {\n    cancel: 'ra.action.cancel',\n    classes: {},\n    confirm: 'ra.action.confirm',\n    confirmColor: 'primary',\n    ConfirmIcon: ActionCheck,\n    CancelIcon: AlertError,\n    isOpen: false,\n};\nexport default Confirm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport inflection from 'inflection';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, useResourceContext, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithConfirmButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar BulkDeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.bulk_delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.bulk_delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, label = props.label, onClick = props.onClick, selectedIds = props.selectedIds, rest = __rest(props, [\"basePath\", \"classes\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"selectedIds\"]);\n    var _d = useState(false), isOpen = _d[0], setOpen = _d[1];\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var translate = useTranslate();\n    var resource = useResourceContext(props);\n    var _e = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            refresh();\n            notify('ra.notification.deleted', 'info', {\n                smart_count: selectedIds.length,\n            });\n            unselectAll(resource);\n        },\n        onFailure: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n            setOpen(false);\n        },\n    }), deleteMany = _e[0], loading = _e[1].loading;\n    var handleClick = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleDelete = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton }, sanitizeRestProps(rest)), icon),\n        React.createElement(Confirm, { isOpen: isOpen, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                smart_count: selectedIds.length,\n                name: translate(\"resources.\" + resource + \".forcedCaseName\", {\n                    smart_count: selectedIds.length,\n                    _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                        smart_count: selectedIds.length,\n                        _: inflection.inflect(resource, selectedIds.length),\n                    }), true),\n                }),\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\"]);\n    return rest;\n};\nBulkDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    icon: PropTypes.element,\n};\nBulkDeleteWithConfirmButton.defaultProps = {\n    label: 'ra.action.delete',\n};\nexport default BulkDeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithUndoButton' });\nvar BulkDeleteWithUndoButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, icon = props.icon, label = props.label, onClick = props.onClick, selectedIds = props.selectedIds, rest = __rest(props, [\"basePath\", \"classes\", \"icon\", \"label\", \"onClick\", \"selectedIds\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var resource = useResourceContext(props);\n    var _a = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: selectedIds.length }, true);\n            unselectAll(resource);\n            refresh();\n        },\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n        undoable: true,\n    }), deleteMany = _a[0], loading = _a[1].loading;\n    var handleClick = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton, disabled: loading }, sanitizeRestProps(rest)), icon));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\"]);\n    return rest;\n};\nBulkDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    icon: PropTypes.element,\n};\nBulkDeleteWithUndoButton.defaultProps = {\n    label: 'ra.action.delete',\n    icon: React.createElement(ActionDelete, null),\n};\nexport default BulkDeleteWithUndoButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BulkDeleteWithConfirmButton from './BulkDeleteWithConfirmButton';\nimport BulkDeleteWithUndoButton from './BulkDeleteWithUndoButton';\nvar BulkDeleteButton = function (_a) {\n    var undoable = _a.undoable, props = __rest(_a, [\"undoable\"]);\n    return undoable ? (React.createElement(BulkDeleteWithUndoButton, __assign({}, props))) : (React.createElement(BulkDeleteWithConfirmButton, __assign({}, props)));\n};\nBulkDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nBulkDeleteButton.defaultProps = {\n    undoable: true,\n};\nexport default BulkDeleteButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                alignItems: 'flex-start',\n                paddingTop: theme.spacing(3),\n                paddingBottom: theme.spacing(1),\n                minHeight: theme.spacing(5)\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n                paddingRight: 0,\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                paddingRight: theme.spacing(2),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n    });\n}, { name: 'RaTopToolbar' });\nvar TopToolbar = function (props) {\n    var className = props.className, children = props.children, rest = __rest(props, [\"className\", \"children\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Toolbar, __assign({ className: classnames(classes.root, className) }, rest), children));\n};\nTopToolbar.propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n};\nexport default TopToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate, sanitizeListRestProps, useListContext } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        zIndex: 3,\n        color: theme.palette.type === 'light'\n            ? theme.palette.primary.main\n            : theme.palette.text.primary,\n        justifyContent: 'space-between',\n        backgroundColor: theme.palette.type === 'light'\n            ? lighten(theme.palette.primary.light, 0.85)\n            : theme.palette.primary.dark,\n        minHeight: theme.spacing(8),\n        height: theme.spacing(8),\n        transition: theme.transitions.create('height') + \", \" + theme.transitions.create('min-height'),\n    },\n    buttons: {},\n    collapsed: {\n        minHeight: 0,\n        height: 0,\n        overflowY: 'hidden',\n    },\n    title: {\n        display: 'flex',\n        flex: '0 0 auto',\n    },\n    icon: {\n        marginLeft: '-0.5em',\n        marginRight: '0.5em',\n    },\n}); }, { name: 'RaBulkActionsToolbar' });\nvar BulkActionsToolbar = function (props) {\n    var _a;\n    var classesOverride = props.classes, _b = props.label, label = _b === void 0 ? 'ra.action.bulk_actions' : _b, children = props.children, rest = __rest(props, [\"classes\", \"label\", \"children\"]);\n    var _c = useListContext(props), basePath = _c.basePath, filterValues = _c.filterValues, resource = _c.resource, selectedIds = _c.selectedIds, onUnselectItems = _c.onUnselectItems;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Toolbar, __assign({ \"data-test\": \"bulk-actions-toolbar\", className: classnames(classes.toolbar, (_a = {},\n            _a[classes.collapsed] = selectedIds.length === 0,\n            _a)) }, sanitizeListRestProps(rest)),\n        React.createElement(\"div\", { className: classes.title },\n            React.createElement(IconButton, { className: classes.icon, \"aria-label\": translate('ra.action.unselect'), title: translate('ra.action.unselect'), onClick: onUnselectItems, size: \"small\" },\n                React.createElement(CloseIcon, { fontSize: \"small\" })),\n            React.createElement(Typography, { color: \"inherit\", variant: \"subtitle1\" }, translate(label, {\n                _: label,\n                smart_count: selectedIds.length,\n            }))),\n        React.createElement(TopToolbar, null, Children.map(children, function (child) {\n            return isValidElement(child)\n                ? cloneElement(child, {\n                    basePath: basePath,\n                    filterValues: filterValues,\n                    resource: resource,\n                    selectedIds: selectedIds,\n                })\n                : null;\n        }))));\n};\nBulkActionsToolbar.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n};\nexport default BulkActionsToolbar;\n","import { useSelector } from 'react-redux';\nimport { getResources } from '../reducer';\nimport { useResourceContext } from './useResourceContext';\n/**\n * Hook which returns the definition of the requested resource\n */\nexport var useResourceDefinition = function (props) {\n    var resource = useResourceContext(props);\n    var resources = useSelector(getResources);\n    return resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; }) || props;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Fab, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentAdd from '@material-ui/icons/Add';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'ra-core';\nimport Button, { sanitizeButtonRestProps } from './Button';\nvar CreateButton = function (props) {\n    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, className = props.className, classesOverride = props.classes, _b = props.label, label = _b === void 0 ? 'ra.action.create' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, variant = props.variant, rest = __rest(props, [\"basePath\", \"className\", \"classes\", \"label\", \"icon\", \"variant\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    return isSmall ? (React.createElement(Fab, __assign({ component: Link, color: \"primary\", className: classnames(classes.floating, className), to: basePath + \"/create\", \"aria-label\": label && translate(label) }, sanitizeButtonRestProps(rest)), icon)) : (React.createElement(Button, __assign({ component: Link, to: basePath + \"/create\", className: className, label: label, variant: variant }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentAdd, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    floating: {\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        margin: 0,\n        top: 'auto',\n        right: 20,\n        bottom: 60,\n        left: 'auto',\n        position: 'fixed',\n        zIndex: 1000,\n    },\n    floatingLink: {\n        color: 'inherit',\n    },\n}); }, { name: 'RaCreateButton' });\nCreateButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n};\nexport default memo(CreateButton, function (prevProps, nextProps) {\n    return (prevProps.basePath === nextProps.basePath &&\n        prevProps.label === nextProps.label &&\n        prevProps.translate === nextProps.translate &&\n        prevProps.to === nextProps.to);\n});\n","/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nvar fetchRelatedRecords = function (dataProvider) { return function (data, field, resource) {\n    return dataProvider\n        .getMany(resource, { ids: getRelatedIds(data, field) })\n        .then(function (_a) {\n        var data = _a.data;\n        return data.reduce(function (acc, post) {\n            acc[post.id] = post;\n            return acc;\n        }, {});\n    });\n}; };\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport var getRelatedIds = function (records, field) {\n    return Array.from(new Set(records\n        .filter(function (record) { return record[field] != null; })\n        .map(function (record) { return record[field]; })\n        .reduce(function (ids, value) { return ids.concat(value); }, [])));\n};\nexport default fetchRelatedRecords;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, useListContext, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar ExportButton = function (props) {\n    var _a = props.maxResults, maxResults = _a === void 0 ? 1000 : _a, onClick = props.onClick, _b = props.label, label = _b === void 0 ? 'ra.action.export' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, customExporter = props.exporter, sort = props.sort, // deprecated, to be removed in v4\n    rest = __rest(props, [\"maxResults\", \"onClick\", \"label\", \"icon\", \"exporter\", \"sort\"]);\n    var _d = useListContext(props), filter = _d.filter, filterValues = _d.filterValues, currentSort = _d.currentSort, exporterFromContext = _d.exporter, total = _d.total;\n    var resource = useResourceContext(props);\n    var exporter = customExporter || exporterFromContext;\n    var dataProvider = useDataProvider();\n    var notify = useNotify();\n    var handleClick = useCallback(function (event) {\n        dataProvider\n            .getList(resource, {\n            sort: currentSort || sort,\n            filter: filter\n                ? __assign(__assign({}, filterValues), filter) : filterValues,\n            pagination: { page: 1, perPage: maxResults },\n        })\n            .then(function (_a) {\n            var data = _a.data;\n            return exporter &&\n                exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n        })\n            .catch(function (error) {\n            console.error(error);\n            notify('ra.notification.http_error', 'warning');\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [\n        currentSort,\n        dataProvider,\n        exporter,\n        filter,\n        filterValues,\n        maxResults,\n        notify,\n        onClick,\n        resource,\n        sort,\n    ]);\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, disabled: total === 0 }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, filterValues = _a.filterValues, resource = _a.resource, rest = __rest(_a, [\"basePath\", \"filterValues\", \"resource\"]);\n    return rest;\n};\nExportButton.propTypes = {\n    basePath: PropTypes.string,\n    exporter: PropTypes.func,\n    filterValues: PropTypes.object,\n    label: PropTypes.string,\n    maxResults: PropTypes.number,\n    resource: PropTypes.string,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    icon: PropTypes.element,\n};\nexport default ExportButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, useResourceDefinition, } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nimport { CreateButton, ExportButton } from '../button';\nvar ListActions = function (props) {\n    var className = props.className, exporter = props.exporter, filters = props.filters, rest = __rest(props, [\"className\", \"exporter\", \"filters\"]);\n    var _a = useListContext(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;\n    var resource = useResourceContext(rest);\n    var hasCreate = useResourceDefinition(rest).hasCreate;\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        filters &&\n            cloneElement(filters, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            }),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    currentSort: PropTypes.any,\n    displayedFilters: PropTypes.object,\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filters: PropTypes.element,\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    resource: PropTypes.string,\n    onUnselectItems: PropTypes.func.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    showFilter: PropTypes.func,\n    total: PropTypes.number,\n};\nListActions.defaultProps = {\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\nexport default ListActions;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Inbox from '@material-ui/icons/Inbox';\nimport { useTranslate, useListContext, useResourceContext } from 'ra-core';\nimport inflection from 'inflection';\nimport { CreateButton } from '../button';\nvar useStyles = makeStyles(function (theme) { return ({\n    message: {\n        textAlign: 'center',\n        opacity: theme.palette.type === 'light' ? 0.5 : 0.8,\n        margin: '0 1em',\n        color: theme.palette.type === 'light'\n            ? 'inherit'\n            : theme.palette.text.primary,\n    },\n    icon: {\n        width: '9em',\n        height: '9em',\n    },\n    toolbar: {\n        textAlign: 'center',\n        marginTop: '2em',\n    },\n}); }, { name: 'RaEmpty' });\nvar Empty = function (props) {\n    var _a = useListContext(props), basePath = _a.basePath, hasCreate = _a.hasCreate;\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var resourceName = translate(\"resources.\" + resource + \".forcedCaseName\", {\n        smart_count: 0,\n        _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n            smart_count: 0,\n            _: inflection.pluralize(resource),\n        }), true),\n    });\n    var emptyMessage = translate('ra.page.empty', { name: resourceName });\n    var inviteMessage = translate('ra.page.invite');\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Inbox, { className: classes.icon }),\n            React.createElement(Typography, { variant: \"h4\", paragraph: true }, translate(\"resources.\" + resource + \".empty\", {\n                _: emptyMessage,\n            })),\n            hasCreate && (React.createElement(Typography, { variant: \"body1\" }, translate(\"resources.\" + resource + \".invite\", {\n                _: inviteMessage,\n            })))),\n        hasCreate && (React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(CreateButton, { variant: \"contained\", basePath: basePath })))));\n};\nexport default Empty;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ComponentPropType, defaultExporter, useListContext, getListControllerProps, useVersion, } from 'ra-core';\nimport Title, { TitlePropType } from '../layout/Title';\nimport ListToolbar from './ListToolbar';\nimport DefaultPagination from './pagination/Pagination';\nimport BulkDeleteButton from '../button/BulkDeleteButton';\nimport BulkActionsToolbar from './BulkActionsToolbar';\nimport DefaultActions from './ListActions';\nimport Empty from './Empty';\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, filters = props.filters, bulkActionButtons = props.bulkActionButtons, pagination = props.pagination, children = props.children, className = props.className, classesOverride = props.classes, Content = props.component, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, title = props.title, empty = props.empty, rest = __rest(props, [\"actions\", \"aside\", \"filters\", \"bulkActionButtons\", \"pagination\", \"children\", \"className\", \"classes\", \"component\", \"exporter\", \"title\", \"empty\"]);\n    var controllerProps = getListControllerProps(props); // deprecated, to be removed in v4\n    var listContext = useListContext(props);\n    var classes = useStyles(props);\n    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;\n    var version = useVersion();\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        // @ts-ignore-line\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, listContext)),\n                aside && cloneElement(aside, listContext))));\n    };\n    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;\n    return (React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n        shouldRenderEmptyPage && empty !== false\n            ? cloneElement(empty, listContext)\n            : renderList()));\n};\nListView.propTypes = {\n    // @ts-ignore-line\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    // @ts-ignore-line\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    component: ComponentPropType,\n    // @ts-ignore-line\n    currentSort: PropTypes.shape({\n        field: PropTypes.string.isRequired,\n        order: PropTypes.string.isRequired,\n    }),\n    data: PropTypes.any,\n    defaultTitle: PropTypes.string,\n    displayedFilters: PropTypes.object,\n    // @ts-ignore-line\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.element,\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    hideFilter: PropTypes.func,\n    ids: PropTypes.array,\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    onUnselectItems: PropTypes.func,\n    page: PropTypes.number,\n    // @ts-ignore-line\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    perPage: PropTypes.number,\n    refresh: PropTypes.func,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.array,\n    setFilters: PropTypes.func,\n    setPage: PropTypes.func,\n    setPerPage: PropTypes.func,\n    setSort: PropTypes.func,\n    showFilter: PropTypes.func,\n    title: TitlePropType,\n    total: PropTypes.number,\n    version: PropTypes.number,\n};\nvar DefaultBulkActionButtons = function (props) { return React.createElement(BulkDeleteButton, __assign({}, props)); };\nListView.defaultProps = {\n    actions: React.createElement(DefaultActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.currentSort, currentSort = _c === void 0 ? null : _c, _d = _a.data, data = _d === void 0 ? null : _d, _e = _a.defaultTitle, defaultTitle = _e === void 0 ? null : _e, _f = _a.displayedFilters, displayedFilters = _f === void 0 ? null : _f, _g = _a.filterDefaultValues, filterDefaultValues = _g === void 0 ? null : _g, _h = _a.filterValues, filterValues = _h === void 0 ? null : _h, _j = _a.hasCreate, hasCreate = _j === void 0 ? null : _j, _k = _a.hasEdit, hasEdit = _k === void 0 ? null : _k, _l = _a.hasList, hasList = _l === void 0 ? null : _l, _m = _a.hasShow, hasShow = _m === void 0 ? null : _m, _o = _a.hideFilter, hideFilter = _o === void 0 ? null : _o, _p = _a.history, history = _p === void 0 ? null : _p, _q = _a.ids, ids = _q === void 0 ? null : _q, _r = _a.loading, loading = _r === void 0 ? null : _r, _s = _a.loaded, loaded = _s === void 0 ? null : _s, _t = _a.location, location = _t === void 0 ? null : _t, _u = _a.match, match = _u === void 0 ? null : _u, _v = _a.onSelect, onSelect = _v === void 0 ? null : _v, _w = _a.onToggleItem, onToggleItem = _w === void 0 ? null : _w, _x = _a.onUnselectItems, onUnselectItems = _x === void 0 ? null : _x, _y = _a.options, options = _y === void 0 ? null : _y, _z = _a.page, page = _z === void 0 ? null : _z, _0 = _a.permissions, permissions = _0 === void 0 ? null : _0, _1 = _a.perPage, perPage = _1 === void 0 ? null : _1, _2 = _a.resource, resource = _2 === void 0 ? null : _2, _3 = _a.selectedIds, selectedIds = _3 === void 0 ? null : _3, _4 = _a.setFilters, setFilters = _4 === void 0 ? null : _4, _5 = _a.setPage, setPage = _5 === void 0 ? null : _5, _6 = _a.setPerPage, setPerPage = _6 === void 0 ? null : _6, _7 = _a.setSort, setSort = _7 === void 0 ? null : _7, _8 = _a.showFilter, showFilter = _8 === void 0 ? null : _8, _9 = _a.sort, sort = _9 === void 0 ? null : _9, _10 = _a.total, total = _10 === void 0 ? null : _10, rest = __rest(_a, [\"basePath\", \"currentSort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"filterDefaultValues\", \"filterValues\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"hideFilter\", \"history\", \"ids\", \"loading\", \"loaded\", \"location\", \"match\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"options\", \"page\", \"permissions\", \"perPage\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSort\", \"showFilter\", \"sort\", \"total\"]);\n    return rest;\n};\nexport default ListView;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useCheckMinimumRequiredProps, useListController, ListContextProvider, } from 'ra-core';\nimport { TitlePropType } from '../layout/Title';\nimport ListView from './ListView';\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * The <List> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - filter (the permanent filter to apply to the query)\n * - filters (a React component used to display the filter form)\n * - pagination\n * - perPage\n * - sort\n * - title\n *\n * @example\n *\n * const PostFilter = (props) => (\n *     <Filter {...props}>\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *         <TextInput label=\"Title\" source=\"title\" />\n *     </Filter>\n * );\n * export const PostList = (props) => (\n *     <List {...props}\n *         title=\"List of posts\"\n *         sort={{ field: 'published_at' }}\n *         filter={{ is_published: true }}\n *         filters={PostFilter}\n *     >\n *         <Datagrid>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n */\nvar List = function (props) {\n    useCheckMinimumRequiredProps('List', ['children'], props);\n    var controllerProps = useListController(props);\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListView, __assign({}, props, controllerProps))));\n};\nList.propTypes = {\n    // the props you can change\n    // @ts-ignore-line\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    aside: PropTypes.element,\n    // @ts-ignore-line\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.element,\n    // @ts-ignore-line\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    perPage: PropTypes.number.isRequired,\n    //@ts-ignore-line\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    title: TitlePropType,\n    // the props managed by react-admin\n    authProvider: PropTypes.func,\n    hasCreate: PropTypes.bool.isRequired,\n    hasEdit: PropTypes.bool.isRequired,\n    hasList: PropTypes.bool.isRequired,\n    hasShow: PropTypes.bool.isRequired,\n    location: PropTypes.any,\n    match: PropTypes.any,\n    path: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n};\nList.defaultProps = {\n    filter: {},\n    perPage: 10,\n};\nexport default List;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableSortLabel, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate, useResourceContext, } from 'ra-core';\n// remove the sort icons when not active\nvar useStyles = makeStyles({\n    icon: {\n        display: 'none',\n    },\n    active: {\n        '& $icon': {\n            display: 'inline',\n        },\n    },\n}, { name: 'RaDatagridHeaderCell' });\nexport var DatagridHeaderCell = function (props) {\n    var className = props.className, classesOverride = props.classes, field = props.field, currentSort = props.currentSort, updateSort = props.updateSort, isSorting = props.isSorting, rest = __rest(props, [\"className\", \"classes\", \"field\", \"currentSort\", \"updateSort\", \"isSorting\"]);\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.headerClassName), align: field.props.textAlign, variant: \"head\" }, rest), field.props.sortable !== false &&\n        (field.props.sortBy || field.props.source) ? (React.createElement(Tooltip, { title: translate('ra.action.sort'), placement: field.props.textAlign === 'right'\n            ? 'bottom-end'\n            : 'bottom-start', enterDelay: 300 },\n        React.createElement(TableSortLabel, { active: currentSort.field ===\n                (field.props.sortBy || field.props.source), direction: currentSort.order === 'ASC' ? 'asc' : 'desc', \"data-sort\": field.props.sortBy || field.props.source, \"data-field\": field.props.sortBy || field.props.source, \"data-order\": field.props.sortByOrder || 'ASC', onClick: updateSort, classes: classes },\n            React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource })))) : (React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource }))));\n};\nDatagridHeaderCell.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    field: PropTypes.element,\n    currentSort: PropTypes.shape({\n        sort: PropTypes.string,\n        order: PropTypes.string,\n    }).isRequired,\n    isSorting: PropTypes.bool,\n    resource: PropTypes.string,\n    updateSort: PropTypes.func.isRequired,\n};\nexport default memo(DatagridHeaderCell, function (props, nextProps) {\n    return props.updateSort === nextProps.updateSort &&\n        props.currentSort.field === nextProps.currentSort.field &&\n        props.currentSort.order === nextProps.currentSort.order &&\n        props.isSorting === nextProps.isSorting &&\n        props.resource === nextProps.resource;\n});\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[300],\n        display: 'flex',\n    },\n}); }, { name: 'RaPlaceholder' });\nvar Placeholder = function (props) {\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", { className: classnames(classes.root, props.className) }, \"\\u00A0\"));\n};\nexport default Placeholder;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table, TableCell, TableHead, TableRow, TableBody, IconButton, Checkbox, } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classnames from 'classnames';\nimport { useTimeout } from 'ra-core';\nimport Placeholder from '../Placeholder';\nvar times = function (nbChildren, fn) {\n    return Array.from({ length: nbChildren }, function (_, key) { return fn(key); });\n};\nvar DatagridLoading = function (_a) {\n    var classes = _a.classes, className = _a.className, expand = _a.expand, hasBulkActions = _a.hasBulkActions, nbChildren = _a.nbChildren, _b = _a.nbFakeLines, nbFakeLines = _b === void 0 ? 5 : _b, size = _a.size;\n    var oneSecondHasPassed = useTimeout(1000);\n    return oneSecondHasPassed ? (React.createElement(Table, { className: classnames(classes.table, className), size: size },\n        React.createElement(TableHead, null,\n            React.createElement(TableRow, { className: classes.row },\n                expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandHeader })),\n                hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                    React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n                times(nbChildren, function (key) { return (React.createElement(TableCell, { variant: \"head\", className: classes.headerCell, key: key },\n                    React.createElement(Placeholder, null))); }))),\n        React.createElement(TableBody, null, times(nbFakeLines, function (key1) { return (React.createElement(TableRow, { key: key1, style: { opacity: 1 / (key1 + 1) } },\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell },\n                React.createElement(IconButton, { className: classes.expandIcon, component: \"div\", \"aria-hidden\": \"true\" },\n                    React.createElement(ExpandMoreIcon, null)))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n            times(nbChildren, function (key2) { return (React.createElement(TableCell, { className: classes.rowCell, key: key2 },\n                React.createElement(Placeholder, null))); }))); })))) : null;\n};\nDatagridLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    nbChildren: PropTypes.number,\n    nbFakeLines: PropTypes.number,\n    size: PropTypes.oneOf(['small', 'medium']),\n};\nexport default memo(DatagridLoading);\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleListItemExpand } from '../actions/listActions';\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nvar useExpanded = function (resource, id) {\n    var dispatch = useDispatch();\n    var expandedList = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.expanded\n            : undefined;\n    });\n    var expanded = expandedList === undefined\n        ? false\n        : expandedList.map(function (el) { return el == id; }).indexOf(true) !== -1; // eslint-disable-line eqeqeq\n    var toggleExpanded = useCallback(function () {\n        dispatch(toggleListItemExpand(resource, id));\n    }, [dispatch, resource, id]);\n    return [expanded, toggleExpanded];\n};\nexport default useExpanded;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport classnames from 'classnames';\nvar DatagridCell = React.forwardRef(function (_a, ref) {\n    var className = _a.className, field = _a.field, record = _a.record, basePath = _a.basePath, resource = _a.resource, rest = __rest(_a, [\"className\", \"field\", \"record\", \"basePath\", \"resource\"]);\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.cellClassName), align: field.props.textAlign, ref: ref }, rest), React.cloneElement(field, {\n        record: record,\n        basePath: field.props.basePath || basePath,\n        resource: resource,\n    })));\n});\nDatagridCell.propTypes = {\n    className: PropTypes.string,\n    field: PropTypes.element,\n    // @ts-ignore\n    record: PropTypes.object,\n    basePath: PropTypes.string,\n    resource: PropTypes.string,\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nDatagridCell.displayName = 'DatagridCell';\nexport default DatagridCell;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classNames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar ExpandRowButton = function (_a) {\n    var _b;\n    var classes = _a.classes, expanded = _a.expanded, expandContentId = _a.expandContentId, props = __rest(_a, [\"classes\", \"expanded\", \"expandContentId\"]);\n    var translate = useTranslate();\n    return (React.createElement(IconButton, __assign({ \"aria-label\": translate(expanded ? 'ra.action.close' : 'ra.action.expand'), \"aria-expanded\": expanded, \"aria-controls\": expandContentId, className: classNames(classes.expandIcon, (_b = {},\n            _b[classes.expanded] = expanded,\n            _b)), tabIndex: -1, \"aria-hidden\": \"true\", component: \"div\" }, props),\n        React.createElement(ExpandMoreIcon, null)));\n};\nexport default memo(ExpandRowButton);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, isValidElement, cloneElement, createElement, useState, useEffect, useCallback, memo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableRow, Checkbox, } from '@material-ui/core';\nimport { linkToRecord, useExpanded, useResourceContext, } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport DatagridCell from './DatagridCell';\nimport ExpandRowButton from './ExpandRowButton';\nvar computeNbColumns = function (expand, children, hasBulkActions) {\n    return expand\n        ? 1 + // show expand button\n            (hasBulkActions ? 1 : 0) + // checkbox column\n            React.Children.toArray(children).filter(function (child) { return !!child; }).length // non-null children\n        : 0;\n}; // we don't need to compute columns if there is no expand panel;\nvar defaultClasses = { expandIconCell: '', checkbox: '', rowCell: '' };\nvar DatagridRow = React.forwardRef(function (props, ref) {\n    var basePath = props.basePath, children = props.children, _a = props.classes, classes = _a === void 0 ? defaultClasses : _a, className = props.className, expand = props.expand, hasBulkActions = props.hasBulkActions, hover = props.hover, id = props.id, onToggleItem = props.onToggleItem, record = props.record, rowClick = props.rowClick, selected = props.selected, style = props.style, selectable = props.selectable, rest = __rest(props, [\"basePath\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"id\", \"onToggleItem\", \"record\", \"rowClick\", \"selected\", \"style\", \"selectable\"]);\n    var resource = useResourceContext(props);\n    var _b = useExpanded(resource, id), expanded = _b[0], toggleExpanded = _b[1];\n    var _c = useState(computeNbColumns(expand, children, hasBulkActions)), nbColumns = _c[0], setNbColumns = _c[1];\n    useEffect(function () {\n        // Fields can be hidden dynamically based on permissions;\n        // The expand panel must span over the remaining columns\n        // So we must recompute the number of columns to span on\n        var newNbColumns = computeNbColumns(expand, children, hasBulkActions);\n        if (newNbColumns !== nbColumns) {\n            setNbColumns(newNbColumns);\n        }\n    }, [expand, nbColumns, children, hasBulkActions]);\n    var history = useHistory();\n    var handleToggleExpand = useCallback(function (event) {\n        toggleExpanded();\n        event.stopPropagation();\n    }, [toggleExpanded]);\n    var handleToggleSelection = useCallback(function (event) {\n        if (!selectable)\n            return;\n        onToggleItem(id);\n        event.stopPropagation();\n    }, [id, onToggleItem, selectable]);\n    var handleClick = useCallback(function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var effect, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!rowClick)\n                        return [2 /*return*/];\n                    event.persist();\n                    if (!(typeof rowClick === 'function')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, rowClick(id, basePath, record)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = rowClick;\n                    _b.label = 3;\n                case 3:\n                    effect = _a;\n                    switch (effect) {\n                        case 'edit':\n                            history.push(linkToRecord(basePath, id));\n                            return [2 /*return*/];\n                        case 'show':\n                            history.push(linkToRecord(basePath, id, 'show'));\n                            return [2 /*return*/];\n                        case 'expand':\n                            handleToggleExpand(event);\n                            return [2 /*return*/];\n                        case 'toggleSelection':\n                            handleToggleSelection(event);\n                            return [2 /*return*/];\n                        default:\n                            if (effect)\n                                history.push(effect);\n                            return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [\n        basePath,\n        history,\n        handleToggleExpand,\n        handleToggleSelection,\n        id,\n        record,\n        rowClick,\n    ]);\n    return (React.createElement(Fragment, null,\n        React.createElement(TableRow, __assign({ ref: ref, className: className, key: id, style: style, hover: hover, onClick: handleClick }, rest),\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell },\n                React.createElement(ExpandRowButton, { classes: classes, expanded: expanded, onClick: handleToggleExpand, expandContentId: id + \"-expand\" }))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { color: \"primary\", className: \"select-item \" + classes.checkbox, checked: selected, onClick: handleToggleSelection })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(DatagridCell, __assign({ key: id + \"-\" + (field.props.source || index), className: classnames(\"column-\" + field.props.source, classes.rowCell), record: record }, { field: field, basePath: basePath, resource: resource }))) : null;\n            })),\n        expand && expanded && (React.createElement(TableRow, { key: id + \"-expand\", id: id + \"-expand\" },\n            React.createElement(TableCell, { colSpan: nbColumns }, isValidElement(expand)\n                ? cloneElement(expand, {\n                    // @ts-ignore\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                })\n                : createElement(expand, {\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                }))))));\n});\nDatagridRow.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    id: PropTypes.any,\n    onToggleItem: PropTypes.func,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    // @ts-ignore\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    selected: PropTypes.bool,\n    style: PropTypes.object,\n    selectable: PropTypes.bool,\n};\nDatagridRow.defaultProps = {\n    hasBulkActions: false,\n    hover: true,\n    selected: false,\n    selectable: true,\n};\nvar areEqual = function (prevProps, nextProps) {\n    var _1 = prevProps.children, _2 = prevProps.expand, prevPropsWithoutChildren = __rest(prevProps, [\"children\", \"expand\"]);\n    var _3 = nextProps.children, _4 = nextProps.expand, nextPropsWithoutChildren = __rest(nextProps, [\"children\", \"expand\"]);\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridRow = memo(DatagridRow, areEqual);\nPureDatagridRow.displayName = 'PureDatagridRow';\nexport default DatagridRow;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableBody } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { shallowEqual } from 'react-redux';\nimport DatagridRow, { PureDatagridRow } from './DatagridRow';\nvar DatagridBody = React.forwardRef(function (_a, ref) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, row = _a.row, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, isRowSelectable = _a.isRowSelectable, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"row\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"isRowSelectable\"]);\n    return (React.createElement(TableBody, __assign({ ref: ref, className: classnames('datagrid-body', className) }, rest), ids.map(function (id, rowIndex) {\n        var _a;\n        return cloneElement(row, {\n            basePath: basePath,\n            classes: classes,\n            className: classnames(classes.row, (_a = {},\n                _a[classes.rowEven] = rowIndex % 2 === 0,\n                _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                _a[classes.clickableRow] = rowClick,\n                _a)),\n            expand: expand,\n            hasBulkActions: hasBulkActions,\n            hover: hover,\n            id: id,\n            key: id,\n            onToggleItem: onToggleItem,\n            record: data[id],\n            resource: resource,\n            rowClick: rowClick,\n            selectable: !isRowSelectable || isRowSelectable(data[id]),\n            selected: selectedIds.includes(id),\n            style: rowStyle ? rowStyle(data[id], rowIndex) : null,\n        }, children);\n    })));\n});\nDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    // @ts-ignore\n    data: PropTypes.object.isRequired,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    row: PropTypes.element,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    styles: PropTypes.object,\n    isRowSelectable: PropTypes.func,\n};\nDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n    row: React.createElement(DatagridRow, null),\n};\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nDatagridBody.muiName = 'TableBody';\nvar areEqual = function (prevProps, nextProps) {\n    var _1 = prevProps.children, _2 = prevProps.expand, _3 = prevProps.row, prevPropsWithoutChildren = __rest(prevProps, [\"children\", \"expand\", \"row\"]);\n    var _4 = nextProps.children, _5 = nextProps.expand, _6 = nextProps.row, nextPropsWithoutChildren = __rest(nextProps, [\"children\", \"expand\", \"row\"]);\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridBody = memo(DatagridBody, areEqual);\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nPureDatagridBody.muiName = 'TableBody';\n// @ts-ignore\nPureDatagridBody.defaultProps = {\n    row: React.createElement(PureDatagridRow, null),\n};\nexport default DatagridBody;\n","import { makeStyles } from '@material-ui/core/styles';\nvar useDatagridStyles = makeStyles(function (theme) { return ({\n    table: {\n        tableLayout: 'auto',\n    },\n    thead: {},\n    tbody: {},\n    headerRow: {},\n    headerCell: {\n        position: 'sticky',\n        top: 0,\n        zIndex: 2,\n        backgroundColor: theme.palette.background.paper,\n        '&:first-child': {\n            borderTopLeftRadius: theme.shape.borderRadius,\n        },\n        '&:last-child': {\n            borderTopRightRadius: theme.shape.borderRadius,\n        },\n    },\n    checkbox: {},\n    row: {},\n    clickableRow: {\n        cursor: 'pointer',\n    },\n    rowEven: {},\n    rowOdd: {},\n    rowCell: {},\n    expandHeader: {\n        padding: 0,\n        width: theme.spacing(6),\n    },\n    expandIconCell: {\n        width: theme.spacing(6),\n    },\n    expandIcon: {\n        padding: theme.spacing(1),\n        transform: 'rotate(-90deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expanded: {\n        transform: 'rotate(0deg)',\n    },\n}); }, { name: 'RaDatagrid' });\nexport default useDatagridStyles;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { isValidElement, Children, cloneElement, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useVersion, } from 'ra-core';\nimport { Checkbox, Table, TableCell, TableHead, TableRow, } from '@material-ui/core';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\nimport DatagridLoading from './DatagridLoading';\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\nimport useDatagridStyles from './useDatagridStyles';\n/**\n * The Datagrid component renders a list of records as a table.\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\n *\n * Props:\n *  - rowStyle\n *\n * @example Display all posts as a datagrid\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <Datagrid rowStyle={postRowStyle}>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <TextField source=\"body\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n */\nvar Datagrid = React.forwardRef(function (props, ref) {\n    var classes = useDatagridStyles(props);\n    var _a = props.optimized, optimized = _a === void 0 ? false : _a, _b = props.body, body = _b === void 0 ? optimized ? React.createElement(PureDatagridBody, null) : React.createElement(DatagridBody, null) : _b, children = props.children, classesOverride = props.classes, className = props.className, expand = props.expand, _c = props.hasBulkActions, hasBulkActions = _c === void 0 ? false : _c, hover = props.hover, isRowSelectable = props.isRowSelectable, resource = props.resource, rowClick = props.rowClick, rowStyle = props.rowStyle, _d = props.size, size = _d === void 0 ? 'small' : _d, rest = __rest(props, [\"optimized\", \"body\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"isRowSelectable\", \"resource\", \"rowClick\", \"rowStyle\", \"size\"]);\n    var _e = useListContext(props), basePath = _e.basePath, currentSort = _e.currentSort, data = _e.data, ids = _e.ids, loaded = _e.loaded, onSelect = _e.onSelect, onToggleItem = _e.onToggleItem, selectedIds = _e.selectedIds, setSort = _e.setSort, total = _e.total;\n    var version = useVersion();\n    var updateSort = useCallback(function (event) {\n        event.stopPropagation();\n        var newField = event.currentTarget.dataset.field;\n        var newOrder = currentSort.field === newField\n            ? currentSort.order === 'ASC'\n                ? 'DESC'\n                : 'ASC'\n            : event.currentTarget.dataset.order;\n        setSort(newField, newOrder);\n    }, [currentSort.field, currentSort.order, setSort]);\n    var handleSelectAll = useCallback(function (event) {\n        if (event.target.checked) {\n            var all_1 = ids.concat(selectedIds.filter(function (id) { return !ids.includes(id); }));\n            onSelect(isRowSelectable\n                ? all_1.filter(function (id) { return isRowSelectable(data[id]); })\n                : all_1);\n        }\n        else {\n            onSelect([]);\n        }\n    }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n    /**\n     * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet\n     * if loaded is true, the data for the list has at least been returned once by the dataProvider\n     * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)\n     */\n    if (loaded === false) {\n        return (React.createElement(DatagridLoading, { classes: classes, className: className, expand: expand, hasBulkActions: hasBulkActions, nbChildren: React.Children.count(children), size: size }));\n    }\n    /**\n     * Once loaded, the data for the list may be empty. Instead of\n     * displaying the table header with zero data rows,\n     * the datagrid displays nothing in this case.\n     */\n    if (loaded && (ids.length === 0 || total === 0)) {\n        return null;\n    }\n    var all = isRowSelectable\n        ? ids.filter(function (id) { return isRowSelectable(data[id]); })\n        : ids;\n    /**\n     * After the initial load, if the data for the list isn't empty,\n     * and even if the data is refreshing (e.g. after a filter change),\n     * the datagrid displays the current data.\n     */\n    return (React.createElement(Table, __assign({ ref: ref, className: classnames(classes.table, className), size: size }, sanitizeListRestProps(rest)),\n        React.createElement(TableHead, { className: classes.thead },\n            React.createElement(TableRow, { className: classnames(classes.row, classes.headerRow) },\n                expand && (React.createElement(TableCell, { padding: \"none\", className: classnames(classes.headerCell, classes.expandHeader) })),\n                hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.headerCell },\n                    React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: selectedIds.length > 0 &&\n                            all.length > 0 &&\n                            all.every(function (id) { return selectedIds.includes(id); }), onChange: handleSelectAll }))),\n                Children.map(children, function (field, index) {\n                    return isValidElement(field) ? (React.createElement(DatagridHeaderCell, { className: classes.headerCell, currentSort: currentSort, field: field, isSorting: currentSort.field ===\n                            (field.props.sortBy ||\n                                field.props.source), key: field.props.source || index, resource: resource, updateSort: updateSort })) : null;\n                }))),\n        cloneElement(body, {\n            basePath: basePath,\n            className: classes.tbody,\n            classes: classes,\n            expand: expand,\n            rowClick: rowClick,\n            data: data,\n            hasBulkActions: hasBulkActions,\n            hover: hover,\n            ids: ids,\n            onToggleItem: onToggleItem,\n            resource: resource,\n            rowStyle: rowStyle,\n            selectedIds: selectedIds,\n            isRowSelectable: isRowSelectable,\n            version: version,\n        }, children)));\n});\nDatagrid.propTypes = {\n    basePath: PropTypes.string,\n    body: PropTypes.element,\n    children: PropTypes.node.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    currentSort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.object,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any),\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    setSort: PropTypes.func,\n    total: PropTypes.number,\n    version: PropTypes.number,\n    isRowSelectable: PropTypes.func,\n};\nexport default Datagrid;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar sanitizeFieldRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, basePath = _a.basePath, cellClassName = _a.cellClassName, className = _a.className, emptyText = _a.emptyText, formClassName = _a.formClassName, fullWidth = _a.fullWidth, headerClassName = _a.headerClassName, label = _a.label, linkType = _a.linkType, link = _a.link, locale = _a.locale, record = _a.record, resource = _a.resource, sortable = _a.sortable, sortBy = _a.sortBy, sortByOrder = _a.sortByOrder, source = _a.source, textAlign = _a.textAlign, translateChoice = _a.translateChoice, props = __rest(_a, [\"addLabel\", \"allowEmpty\", \"basePath\", \"cellClassName\", \"className\", \"emptyText\", \"formClassName\", \"fullWidth\", \"headerClassName\", \"label\", \"linkType\", \"link\", \"locale\", \"record\", \"resource\", \"sortable\", \"sortBy\", \"sortByOrder\", \"source\", \"textAlign\", \"translateChoice\"]);\n    return props;\n};\nexport default sanitizeFieldRestProps;\n","import PropTypes from 'prop-types';\nexport var fieldPropTypes = {\n    addLabel: PropTypes.bool,\n    sortBy: PropTypes.string,\n    sortByOrder: PropTypes.oneOf(['ASC', 'DESC']),\n    source: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    sortable: PropTypes.bool,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    textAlign: PropTypes.oneOf(['right', 'left']),\n    emptyText: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar toLocaleStringSupportsLocales = (function () {\n    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n    try {\n        new Date().toLocaleString('i');\n    }\n    catch (error) {\n        return error instanceof RangeError;\n    }\n    return false;\n})();\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\nexport var DateField = memo(function (_a) {\n    var className = _a.className, emptyText = _a.emptyText, locales = _a.locales, options = _a.options, record = _a.record, _b = _a.showTime, showTime = _b === void 0 ? false : _b, source = _a.source, rest = __rest(_a, [\"className\", \"emptyText\", \"locales\", \"options\", \"record\", \"showTime\", \"source\"]);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    var date = value instanceof Date ? value : new Date(value);\n    var dateString = showTime\n        ? toLocaleStringSupportsLocales\n            ? date.toLocaleString(locales, options)\n            : date.toLocaleString()\n        : toLocaleStringSupportsLocales\n            ? date.toLocaleDateString(locales, options)\n            : date.toLocaleDateString();\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), dateString));\n});\nDateField.defaultProps = {\n    addLabel: true,\n};\nDateField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object, showTime: PropTypes.bool });\nexport default DateField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar hasNumberFormat = !!(typeof Intl === 'object' &&\n    Intl &&\n    typeof Intl.NumberFormat === 'function');\n/**\n * Display a numeric value as a locale string.\n *\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n * @example\n * <NumberField source=\"score\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span>567</span>\n *\n * <NumberField source=\"score\" className=\"red\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span class=\"red\">567</span>\n *\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\n * // renders the record { id: 1234, share: 0.2545 } as\n * <span>25%</span>\n *\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>$25.99</span>\n *\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>25,99 $US</span>\n */\nexport var NumberField = memo(function (_a) {\n    var className = _a.className, emptyText = _a.emptyText, record = _a.record, source = _a.source, locales = _a.locales, options = _a.options, textAlign = _a.textAlign, rest = __rest(_a, [\"className\", \"emptyText\", \"record\", \"source\", \"locales\", \"options\", \"textAlign\"]);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    return (React.createElement(Typography, __assign({ variant: \"body2\", component: \"span\", className: className }, sanitizeFieldRestProps(rest)), hasNumberFormat\n        ? value.toLocaleString(locales, options)\n        : value));\n});\n// what? TypeScript looses the displayName if we don't set it explicitly\nNumberField.displayName = 'NumberField';\nNumberField.defaultProps = {\n    addLabel: true,\n    textAlign: 'right',\n};\nNumberField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object });\nexport default NumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport classnames from 'classnames';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { Tooltip, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nvar useStyles = makeStyles({\n    root: {\n        display: 'flex',\n    },\n}, {\n    name: 'RaBooleanField',\n});\nexport var BooleanField = memo(function (props) {\n    var className = props.className, classesOverride = props.classes, emptyText = props.emptyText, source = props.source, _a = props.record, record = _a === void 0 ? {} : _a, valueLabelTrue = props.valueLabelTrue, valueLabelFalse = props.valueLabelFalse, TrueIcon = props.TrueIcon, FalseIcon = props.FalseIcon, rest = __rest(props, [\"className\", \"classes\", \"emptyText\", \"source\", \"record\", \"valueLabelTrue\", \"valueLabelFalse\", \"TrueIcon\", \"FalseIcon\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var value = get(record, source);\n    var ariaLabel = value ? valueLabelTrue : valueLabelFalse;\n    if (!ariaLabel) {\n        ariaLabel =\n            value === false ? 'ra.boolean.false' : 'ra.boolean.true';\n    }\n    if (value === false || value === true) {\n        return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: classnames(classes.root, className) }, sanitizeFieldRestProps(rest)),\n            React.createElement(Tooltip, { title: translate(ariaLabel, { _: ariaLabel }) }, value === true ? (React.createElement(\"span\", null,\n                React.createElement(TrueIcon, { \"data-testid\": \"true\", fontSize: \"small\" }))) : (React.createElement(\"span\", null,\n                React.createElement(FalseIcon, { \"data-testid\": \"false\", fontSize: \"small\" }))))));\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText));\n});\nBooleanField.defaultProps = {\n    addLabel: true,\n    TrueIcon: DoneIcon,\n    FalseIcon: ClearIcon,\n};\nBooleanField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { valueLabelFalse: PropTypes.string, valueLabelTrue: PropTypes.string, TrueIcon: PropTypes.elementType, FalseIcon: PropTypes.elementType });\nexport default BooleanField;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport segments from '../segments/data';\nimport { Customer } from '../types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            size=\"small\"\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import { isValidElement, cloneElement, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nvar useChoices = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.translateChoice, translateChoice = _d === void 0 ? true : _d;\n    var translate = useTranslate();\n    var getChoiceText = useCallback(function (choice) {\n        if (isValidElement(optionText)) {\n            return cloneElement(optionText, {\n                record: choice,\n            });\n        }\n        var choiceName = typeof optionText === 'function'\n            ? optionText(choice)\n            : get(choice, optionText);\n        return translateChoice\n            ? translate(choiceName, { _: choiceName })\n            : choiceName;\n    }, [optionText, translate, translateChoice]);\n    var getChoiceValue = useCallback(function (choice) { return get(choice, optionValue); }, [\n        optionValue,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n    };\n};\nexport default useChoices;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useInput, FieldTitle, useTranslate, useChoices, warning, } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, afterSubmit = _a.afterSubmit, allowNull = _a.allowNull, beforeSubmit = _a.beforeSubmit, choices = _a.choices, className = _a.className, crudGetMatching = _a.crudGetMatching, crudGetOne = _a.crudGetOne, data = _a.data, filter = _a.filter, filterToQuery = _a.filterToQuery, formatOnBlur = _a.formatOnBlur, isEqual = _a.isEqual, limitChoicesToValue = _a.limitChoicesToValue, multiple = _a.multiple, name = _a.name, pagination = _a.pagination, perPage = _a.perPage, ref = _a.ref, reference = _a.reference, render = _a.render, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, subscription = _a.subscription, type = _a.type, validateFields = _a.validateFields, validation = _a.validation, value = _a.value, rest = __rest(_a, [\"addLabel\", \"afterSubmit\", \"allowNull\", \"beforeSubmit\", \"choices\", \"className\", \"crudGetMatching\", \"crudGetOne\", \"data\", \"filter\", \"filterToQuery\", \"formatOnBlur\", \"isEqual\", \"limitChoicesToValue\", \"multiple\", \"name\", \"pagination\", \"perPage\", \"ref\", \"reference\", \"render\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"subscription\", \"type\", \"validateFields\", \"validation\", \"value\"]);\n    return sanitizeInputRestProps(rest);\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: {\n        minWidth: theme.spacing(20),\n    },\n}); }, { name: 'RaSelectInput' });\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <Select> component\n *\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\n * ];\n *\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\n * ];\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\n *\n */\nvar SelectInput = function (props) {\n    var allowEmpty = props.allowEmpty, _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, disableValue = props.disableValue, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, helperText = props.helperText, label = props.label, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, rest = __rest(props, [\"allowEmpty\", \"choices\", \"classes\", \"className\", \"disableValue\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    warning(source === undefined, \"If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop\");\n    warning(choices === undefined, \"If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop\");\n    var _b = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _b.getChoiceText, getChoiceValue = _b.getChoiceValue;\n    var _c = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _c.id, input = _c.input, isRequired = _c.isRequired, _d = _c.meta, error = _d.error, touched = _d.touched;\n    var renderEmptyItemOption = useCallback(function () {\n        return React.isValidElement(emptyText)\n            ? React.cloneElement(emptyText)\n            : emptyText === ''\n                ? '' // em space, forces the display of an empty line of normal height\n                : translate(emptyText, { _: emptyText });\n    }, [emptyText, translate]);\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    return (React.createElement(ResettableTextField, __assign({ id: id }, input, { select: true, label: label !== '' &&\n            label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), className: classes.input + \" \" + className, clearAlwaysVisible: true, error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }) }, options, sanitizeRestProps(rest)),\n        allowEmpty ? (React.createElement(MenuItem, { value: emptyValue, key: \"null\", \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value') }, renderEmptyItemOption())) : null,\n        choices.map(function (choice) { return (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice), disabled: get(choice, disableValue) }, renderMenuItemOption(choice))); })));\n};\nSelectInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    emptyValue: PropTypes.any,\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    disableValue: PropTypes.string,\n    resettable: PropTypes.bool,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectInput.defaultProps = {\n    emptyText: '',\n    emptyValue: '',\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n    disableValue: 'disabled',\n};\nexport default SelectInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectInput, InputProps } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link as RRLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        textDecoration: 'none',\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaLink' });\nvar Link = function (props) {\n    var to = props.to, children = props.children, classesOverride = props.classes, className = props.className, rest = __rest(props, [\"to\", \"children\", \"classes\", \"className\"]);\n    var classes = useStyles(props);\n    return (React.createElement(RRLink, __assign({ to: to, className: classNames(classes.link, className) }, rest), children));\n};\nLink.propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nexport default Link;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import * as React from 'react';\nimport { FC, memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\nimport AvatarField from './AvatarField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n        marginTop: -theme.spacing(0.5),\n        marginBottom: -theme.spacing(0.5),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default memo<Props>(FullNameField);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Link, FieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import * as React from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps) =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button';\nvar EditButton = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? '' : _b, _c = _a.label, label = _c === void 0 ? 'ra.action.edit' : _c, record = _a.record, _d = _a.icon, icon = _d === void 0 ? defaultIcon : _d, rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n    return (React.createElement(Button, __assign({ component: Link, to: linkToRecord(basePath, record && record.id), label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentCreate, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nEditButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n};\nexport default EditButton;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    useTranslate,\n    NumberField,\n    Identifier,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import { useContext } from 'react';\nimport ListFilterContext from './ListFilterContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListFilterContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListFilterContext = function (props) {\n    var context = useContext(ListFilterContext);\n    if (!context.hideFilter) {\n        /**\n         * The element isn't inside a <ListFilterContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListFilterContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { InputAdornment } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Form } from 'react-final-form';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport TextInput from '../../input/TextInput';\n/**\n * Form and search input for doing a full-text search filter.\n *\n * Triggers a search on change (with debounce).\n *\n * @example\n *\n * const FilterPanel = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterLiveSearch source=\"title\" />\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterLiveSearch = function (props) {\n    var _a = props.source, source = _a === void 0 ? 'q' : _a, rest = __rest(props, [\"source\"]);\n    var _b = useListFilterContext(), filterValues = _b.filterValues, setFilters = _b.setFilters;\n    var translate = useTranslate();\n    var onSearchChange = function (event) {\n        var _a;\n        if (event.target) {\n            setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[source] = event.target.value, _a)), null);\n        }\n        else {\n            var _b = filterValues, _c = source, _ = _b[_c], filters = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n            setFilters(filters, null);\n        }\n    };\n    var onSubmit = function () { return undefined; };\n    return (React.createElement(Form, { onSubmit: onSubmit }, function (_a) {\n        var handleSubmit = _a.handleSubmit;\n        return (React.createElement(TextInput, __assign({ resettable: true, helperText: false, source: source, label: translate('ra.action.search'), InputProps: {\n                endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                    React.createElement(SearchIcon, { color: \"disabled\" }))),\n            }, onChange: onSearchChange }, rest)));\n    }));\n};\nexport default memo(FilterLiveSearch);\n","import * as React from 'react';\nimport { Box, Typography, List } from '@material-ui/core';\nimport { useTranslate } from 'ra-core';\n/**\n * Header and container for a list of filter list items\n *\n * Expects 2 props, and a list of <FilterListItem> as children:\n *\n * - label: The label for this filter section. Will be translated.\n * - icon: An icon react element\n *\n * @see FilterListItem\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterList = function (_a) {\n    var label = _a.label, icon = _a.icon, children = _a.children;\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Box, { mt: 2, display: \"flex\", alignItems: \"center\" },\n            React.createElement(Box, { mr: 1 }, icon),\n            React.createElement(Typography, { variant: \"overline\" }, translate(label))),\n        React.createElement(List, { dense: true, disablePadding: true }, children)));\n};\nexport default FilterList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar useStyles = makeStyles(function (theme) { return ({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n}); });\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text to be displayed for this item. Will be translated.\n * - value: An object to be merged into the filter value when enabling the filter\n * (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@material-ui/core';\n * import AccessTimeIcon from '@material-ui/icons/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isSelected = matches(pickBy(value, function (val) { return typeof val !== 'undefined'; }))(filterValues);\n    var addFilter = function () {\n        setFilters(__assign(__assign({}, filterValues), value), null, false);\n    };\n    var removeFilter = function () {\n        var keysToRemove = Object.keys(value);\n        var filters = Object.keys(filterValues).reduce(function (acc, key) {\n            var _a;\n            return keysToRemove.includes(key)\n                ? acc\n                : __assign(__assign({}, acc), (_a = {}, _a[key] = filterValues[key], _a));\n        }, {});\n        setFilters(filters, null, false);\n    };\n    var toggleFilter = function () { return (isSelected ? removeFilter() : addFilter()); };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: translate(label, { _: label }), className: classes.listItemText, \"data-selected\": isSelected ? 'true' : 'false' }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        shallowEqual(prevProps.value, nextProps.value);\n};\nexport default memo(FilterListItem, arePropsEqual);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import * as React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    List,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\nimport { ReactElement } from 'react';\n\nconst VisitorFilter = (props: Omit<FilterProps, 'children'>) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles(theme => ({\n    nb_commands: { color: 'purple' },\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst VisitorList = (props: ListProps): ReactElement => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <List\n            {...props}\n            filters={isSmall ? <VisitorFilter /> : undefined}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField\n                        cellClassName={classes.hiddenOnSmallScreens}\n                        headerClassName={classes.hiddenOnSmallScreens}\n                    />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import * as React from 'react';\nimport { createContext, useRef } from 'react';\nexport var SideEffectContext = createContext({});\nexport var SideEffectContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SideEffectContext.Provider, { value: value }, children));\n};\n/**\n * Get modifiers for a save() function, and the way to update them.\n *\n * Used in useCreateController and useEditController.\n *\n * @example\n *\n * const {\n *     onSuccessRef,\n *     setOnSuccess,\n *     onFailureRef,\n *     setOnFailure,\n *     transformRef,\n *     setTransform,\n * } = useSaveModifiers({ onSuccess, onFailure, transform });\n */\nexport var useSaveModifiers = function (_a) {\n    var onSuccess = _a.onSuccess, onFailure = _a.onFailure, transform = _a.transform;\n    var onSuccessRef = useRef(onSuccess);\n    var setOnSuccess = function (onSuccess) {\n        onSuccessRef.current = function (response) {\n            // reset onSuccess for next submission\n            onSuccessRef.current = undefined;\n            return onSuccess(response);\n        };\n    };\n    var onFailureRef = useRef(onFailure);\n    var setOnFailure = function (onFailure) {\n        onFailureRef.current = function (error) {\n            // reset onFailure for next submission\n            onFailureRef.current = undefined;\n            return onFailure(error);\n        };\n    };\n    var transformRef = useRef(transform);\n    var setTransform = function (transform) {\n        transformRef.current = function (data) {\n            // reset transform for next submission\n            transformRef.current = undefined;\n            return transform(data);\n        };\n    };\n    return {\n        onSuccessRef: onSuccessRef,\n        setOnSuccess: setOnSuccess,\n        onFailureRef: onFailureRef,\n        setOnFailure: setOnFailure,\n        transformRef: transformRef,\n        setTransform: setTransform,\n    };\n};\n","import { useCallback } from 'react';\n// @ts-ignore\nimport inflection from 'inflection';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useCreate } from '../../dataProvider';\nimport { useNotify, useRedirect, } from '../../sideEffect';\nimport { useSaveModifiers, } from '../saveModifiers';\nimport { useTranslate } from '../../i18n';\nimport useVersion from '../useVersion';\nimport { CRUD_CREATE } from '../../actions';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nexport var useCreateController = function (props) {\n    useCheckMinimumRequiredProps('Create', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasEdit = props.hasEdit, hasShow = props.hasShow, _a = props.record, record = _a === void 0 ? {} : _a, successMessage = props.successMessage, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform;\n    var resource = useResourceContext(props);\n    var location = useLocation();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var recordToUse = getRecord(location, record);\n    var version = useVersion();\n    if (process.env.NODE_ENV !== 'production' && successMessage) {\n        console.log('<Create successMessage> prop is deprecated, use the onSuccess prop instead.');\n    }\n    var _b = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var _c = useCreate(resource), create = _c[0], saving = _c[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = 'list'; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return create({ payload: { data: data } }, {\n                action: CRUD_CREATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function (_a) {\n                            var newRecord = _a.data;\n                            notify(successMessage ||\n                                'ra.notification.created', 'info', {\n                                smart_count: 1,\n                            });\n                            redirect(redirectTo, basePath, newRecord.id, newRecord);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning', {\n                                _: typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                        ? error.message\n                                        : undefined,\n                            });\n                        },\n            });\n        });\n    }, [\n        transformRef,\n        create,\n        onSuccessRef,\n        onFailureRef,\n        notify,\n        successMessage,\n        redirect,\n        basePath,\n    ]);\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.create', {\n        name: \"\" + resourceName,\n    });\n    return {\n        loading: false,\n        loaded: true,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        resource: resource,\n        basePath: basePath,\n        record: recordToUse,\n        redirect: getDefaultRedirectRoute(hasShow, hasEdit),\n        version: version,\n    };\n};\nexport var getRecord = function (_a, record) {\n    var state = _a.state, search = _a.search;\n    if (record === void 0) { record = {}; }\n    if (state && state.record) {\n        return state.record;\n    }\n    if (search) {\n        try {\n            var searchParams = parse(search);\n            if (searchParams.source) {\n                if (Array.isArray(searchParams.source)) {\n                    console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n                    return;\n                }\n                return JSON.parse(searchParams.source);\n            }\n        }\n        catch (e) {\n            console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n        }\n    }\n    return record;\n};\nvar getDefaultRedirectRoute = function (hasShow, hasEdit) {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n","import * as React from 'react';\nimport { createContext, useContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the current record.\n *\n * Use the useRecordContext() hook to read the context. That's what the Edit and Show components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContext } from 'ra-core';\n *\n * const Edit = props => {\n *     const { record }= useEditController(props);\n *     return (\n *         <RecordContextProvider value={record}>\n *             ...\n *         </RecordContextProvider>\n *     );\n * };\n */\nexport var RecordContext = createContext(undefined);\nexport var RecordContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(RecordContext.Provider, { value: value }, children));\n};\nRecordContext.displayName = 'RecordContext';\nexport var usePickRecordContext = function (context) {\n    var value = useMemo(function () { return pick(context, ['record']); }, [context.record]); // eslint-disable-line\n    return value;\n};\n/**\n * Hook to read the record from a RecordContext.\n *\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\n * (e.g. as a descendent of <Show> or <ShowBase>)\n *\n * @returns {Record} The record context\n */\nexport var useRecordContext = function (props) {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    var context = useContext(RecordContext);\n    if (!context) {\n        // As the record could very well be undefined because not yet loaded\n        // We don't display a deprecation warning yet\n        // @deprecated - to be removed in 4.0\n        return props;\n    }\n    return context;\n};\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useCreateController() hook.\n *\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\n *\n * @example\n *\n * import { useCreateController, CreateContextProvider } from 'ra-core';\n *\n * const Create = props => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             ...\n *         </CreateContextProvider>\n *     );\n * };\n */\nexport var CreateContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    onFailureRef: null,\n    onSuccessRef: null,\n    transformRef: null,\n    loaded: null,\n    loading: null,\n    redirect: null,\n    setOnFailure: null,\n    setOnSuccess: null,\n    setTransform: null,\n    resource: null,\n    save: null,\n    saving: null,\n    successMessage: null,\n    version: null,\n});\nCreateContext.displayName = 'CreateContext';\n","import * as React from 'react';\nimport { createContext, useContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nexport var SaveContext = createContext(undefined);\nexport var SaveContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SaveContext.Provider, { value: value }, children));\n};\n/**\n * Get the save() function and its status\n *\n * Used in forms.\n *\n * @example\n *\n * const {\n *     save,\n *     saving\n * } = useSaveContext();\n */\nexport var useSaveContext = function (props) {\n    var context = useContext(SaveContext);\n    if (!context || !context.save || !context.setOnFailure) {\n        /**\n         * The element isn't inside a <SaveContextProvider>\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"Edit or Create child components must be used inside a <SaveContextProvider>. Relying on props rather than context to get persistence related data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport var usePickSaveContext = function (context) {\n    var value = useMemo(function () {\n        return pick(context, [\n            'save',\n            'saving',\n            'setOnFailure',\n            'setOnSuccess',\n            'setTransform',\n            'onSuccessRef',\n            'onFailureRef',\n            'transformRef',\n        ]);\n    }, \n    /* eslint-disable react-hooks/exhaustive-deps */\n    [\n        context.save,\n        context.saving,\n        context.setOnFailure,\n        context.setOnSuccess,\n        context.setTransform,\n        context.setTransform,\n        context.onFailureRef,\n        context.onSuccessRef,\n        context.transformRef,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return value;\n};\n","import * as React from 'react';\nimport { RecordContextProvider, usePickRecordContext } from '../RecordContext';\nimport { CreateContext } from './CreateContext';\nimport { SaveContextProvider, usePickSaveContext } from './SaveContext';\n/**\n * Create a Create Context.\n *\n * @example\n *\n * const MyCreate = (props) => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             <MyCreateView>\n *         </CreateContextProvider>\n *     );\n * };\n *\n * const MyCreateView = () => {\n *     const { record } = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useCreateContext();\n * }\n *\n * @see CreateContext\n * @see RecordContext\n */\nexport var CreateContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(CreateContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: usePickRecordContext(value) }, children))));\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Title, { TitlePropType } from './Title';\nvar TitleForRecord = function (_a) {\n    var defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title;\n    return record ? (React.createElement(Title, { title: title, record: record, defaultTitle: defaultTitle })) : null;\n};\nTitleForRecord.propTypes = {\n    defaultTitle: PropTypes.any,\n    record: PropTypes.object,\n    title: TitlePropType,\n};\nexport default TitleForRecord;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useCreateContext } from 'ra-core';\nimport { Card } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { TitleForRecord } from '../layout';\nexport var CreateView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, title = props.title, rest = __rest(props, [\"actions\", \"aside\", \"children\", \"classes\", \"className\", \"component\", \"title\"]);\n    var classes = useStyles(props);\n    var _b = useCreateContext(props), basePath = _b.basePath, defaultTitle = _b.defaultTitle, hasList = _b.hasList, record = _b.record, redirect = _b.redirect, resource = _b.resource, save = _b.save, saving = _b.saving, version = _b.version;\n    return (React.createElement(\"div\", __assign({ className: classnames('create-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        actions &&\n            cloneElement(actions, __assign({ basePath: basePath,\n                resource: resource,\n                hasList: hasList }, actions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !actions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: save,\n                saving: saving,\n                version: version,\n            })),\n            aside &&\n                cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    save: save,\n                    saving: saving,\n                    version: version,\n                }))));\n};\nCreateView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    setOnSuccess: PropTypes.func,\n    setOnFailure: PropTypes.func,\n    setTransform: PropTypes.func,\n};\nCreateView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        noActions: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                marginTop: '1em',\n            },\n            _a),\n        card: {\n            flex: '1 1 auto',\n        },\n    });\n}, { name: 'RaCreate' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.defaultTitle, defaultTitle = _c === void 0 ? null : _c, _d = _a.hasCreate, hasCreate = _d === void 0 ? null : _d, _e = _a.hasEdit, hasEdit = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, _g = _a.hasShow, hasShow = _g === void 0 ? null : _g, _h = _a.history, history = _h === void 0 ? null : _h, _j = _a.loaded, loaded = _j === void 0 ? null : _j, _k = _a.loading, loading = _k === void 0 ? null : _k, _l = _a.location, location = _l === void 0 ? null : _l, _m = _a.match, match = _m === void 0 ? null : _m, _o = _a.onFailure, onFailure = _o === void 0 ? null : _o, _p = _a.onFailureRef, onFailureRef = _p === void 0 ? null : _p, _q = _a.onSuccess, onSuccess = _q === void 0 ? null : _q, _r = _a.onSuccessRef, onSuccessRef = _r === void 0 ? null : _r, _s = _a.options, options = _s === void 0 ? null : _s, _t = _a.permissions, permissions = _t === void 0 ? null : _t, _u = _a.save, save = _u === void 0 ? null : _u, _v = _a.saving, saving = _v === void 0 ? null : _v, _w = _a.setOnFailure, setOnFailure = _w === void 0 ? null : _w, _x = _a.setOnSuccess, setOnSuccess = _x === void 0 ? null : _x, _y = _a.setTransform, setTransform = _y === void 0 ? null : _y, _z = _a.transform, transform = _z === void 0 ? null : _z, _0 = _a.transformRef, transformRef = _0 === void 0 ? null : _0, rest = __rest(_a, [\"basePath\", \"defaultTitle\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"history\", \"loaded\", \"loading\", \"location\", \"match\", \"onFailure\", \"onFailureRef\", \"onSuccess\", \"onSuccessRef\", \"options\", \"permissions\", \"save\", \"saving\", \"setOnFailure\", \"setOnSuccess\", \"setTransform\", \"transform\", \"transformRef\"]);\n    return rest;\n};\n","import { useContext } from 'react';\nimport { CreateContext } from './CreateContext';\nexport var useCreateContext = function (props) {\n    var context = useContext(\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    CreateContext);\n    if (!context.resource) {\n        /**\n         * The element isn't inside a <CreateContext.Provider>\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"Create components must be used inside a <CreateContext.Provider>. Relying on props rather than context to get Create data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { CreateContextProvider, ResourceContextProvider, useCheckMinimumRequiredProps, useCreateController, } from 'ra-core';\nimport { CreateView } from './CreateView';\n/**\n * Page component for the Create view\n *\n * The `<Create>` component renders the page title and actions.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The <Create> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n *\n * @example\n *\n * // in src/posts.js\n * import * as React from \"react\";\n * import { Create, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * // in src/App.js\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostCreate } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" create={PostCreate} />\n *     </Admin>\n * );\n * export default App;\n */\nexport var Create = function (props) {\n    useCheckMinimumRequiredProps('Create', ['children'], props);\n    var controllerProps = useCreateController(props);\n    var body = (React.createElement(CreateContextProvider, { value: controllerProps },\n        React.createElement(CreateView, __assign({}, props, controllerProps))));\n    return props.resource ? (\n    // support resource override via props\n    React.createElement(ResourceContextProvider, { value: props.resource }, body)) : (body);\n};\nCreate.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    resource: PropTypes.string,\n    title: PropTypes.node,\n    record: PropTypes.object,\n    hasList: PropTypes.bool,\n    successMessage: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    transform: PropTypes.func,\n};\nexport default Create;\n","import { useEffect } from 'react';\nimport { useForm } from 'react-final-form';\nimport merge from 'lodash/merge';\n/**\n * Restore the record values which should override any default values specified on the form.\n */\nvar useInitializeFormWithRecord = function (record) {\n    var form = useForm();\n    useEffect(function () {\n        if (!record) {\n            return;\n        }\n        var initialValues = form.getState().initialValues;\n        var initialValuesMergedWithRecord = merge({}, initialValues, record);\n        // Disable this option when re-initializing the form because in this case, it should reset the dirty state of all fields\n        // We do need to keep this option for dynamically added inputs though which is why it is kept at the form level\n        form.setConfig('keepDirtyOnReinitialize', false);\n        // Ignored until next version of final-form is released. See https://github.com/final-form/final-form/pull/376\n        // @ts-ignore\n        form.restart(initialValuesMergedWithRecord);\n        form.setConfig('keepDirtyOnReinitialize', true);\n    }, [form, JSON.stringify(record)]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nexport default useInitializeFormWithRecord;\n","import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslate } from '../i18n';\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is reverted and the changes are kept.\n *\n * We can't use history.block() here because forms have routes, too (for\n * instance TabbedForm), and the confirm dialog would show up when navigating\n * inside the form. So instead of relying on route change detection, we rely\n * on unmount detection. The resulting UI isn't perfect, because when they\n * click the cancel button, users briefly see the page they asked before\n * seeing the form page again. But that's the best we can do.\n *\n * @see history.block()\n */\nvar useWarnWhenUnsavedChanges = function (enable) {\n    var form = useForm();\n    var history = useHistory();\n    var translate = useTranslate();\n    // Keep track of the current location inside the form (e.g. active tab)\n    var formLocation = useRef(history.location);\n    useEffect(function () {\n        formLocation.current = history.location;\n    }, [history.location]);\n    useEffect(function () {\n        if (!enable) {\n            window.sessionStorage.removeItem('unsavedChanges');\n            return;\n        }\n        // on mount: apply unsaved changes\n        var unsavedChanges = JSON.parse(window.sessionStorage.getItem('unsavedChanges'));\n        if (unsavedChanges) {\n            Object.keys(unsavedChanges).forEach(function (key) {\n                return form.change(key, unsavedChanges[key]);\n            });\n            window.sessionStorage.removeItem('unsavedChanges');\n        }\n        // on unmount : check and save unsaved changes, then cancel navigation\n        return function () {\n            var formState = form.getState();\n            if (formState.dirty &&\n                (!formState.submitSucceeded ||\n                    (formState.submitSucceeded &&\n                        formState.dirtySinceLastSubmit))) {\n                if (!window.confirm(translate('ra.message.unsaved_changes'))) {\n                    var dirtyFields = formState.submitSucceeded\n                        ? formState.dirtySinceLastSubmit\n                        : formState.dirtyFields;\n                    var dirtyFieldValues = Object.keys(dirtyFields).reduce(function (acc, key) {\n                        acc[key] = formState.values[key];\n                        return acc;\n                    }, {});\n                    window.sessionStorage.setItem('unsavedChanges', JSON.stringify(dirtyFieldValues));\n                    history.push(formLocation.current);\n                }\n            }\n            else {\n                window.sessionStorage.removeItem('unsavedChanges');\n            }\n        };\n    }, [translate]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nexport default useWarnWhenUnsavedChanges;\n","import merge from 'lodash/merge';\n/**\n * Because final-form removes undefined and empty string values completely\n * (the key for the empty field is removed from the values), we have to check\n * whether this value was initially provided so that it is correctly sent to\n * the backend.\n * @see https://github.com/final-form/react-final-form/issues/130#issuecomment-493447888\n *\n * @param initialValues The initial values provided to the form\n * @param values The current form values\n */\nvar sanitizeEmptyValues = function (initialValues, values) {\n    // For every field initially provided, we check whether it value has been removed\n    // and set it explicitly to an empty string\n    if (!initialValues)\n        return values;\n    var initialValuesWithEmptyFields = Object.keys(initialValues).reduce(function (acc, key) {\n        if (values[key] instanceof Date) {\n            acc[key] = values[key];\n        }\n        else if (Array.isArray(values[key])) {\n            if (Array.isArray(initialValues[key])) {\n                acc[key] = values[key].map(function (value, index) {\n                    return sanitizeEmptyValues(initialValues[key][index], value);\n                });\n            }\n            else {\n                acc[key] = values[key];\n            }\n        }\n        else if (typeof values[key] === 'object' &&\n            typeof initialValues[key] === 'object' &&\n            values[key] !== null) {\n            acc[key] = sanitizeEmptyValues(initialValues[key], values[key]);\n        }\n        else {\n            acc[key] =\n                typeof values[key] === 'undefined' ? null : values[key];\n        }\n        return acc;\n    }, {});\n    // Finally, we merge back the values to not miss any which wasn't initially provided\n    return merge(initialValuesWithEmptyFields, values);\n};\nexport default sanitizeEmptyValues;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport default function getFormInitialValues(initialValues, defaultValue, record) {\n    if (typeof defaultValue !== 'undefined') {\n        console.warn('\"defaultValue\" is deprecated, please use \"initialValues\" instead');\n    }\n    return __assign(__assign(__assign({}, getValues(defaultValue, record)), getValues(initialValues, record)), record);\n}\nfunction getValues(values, record) {\n    if (typeof values === 'object') {\n        return values;\n    }\n    if (typeof values === 'function') {\n        return values(record);\n    }\n    return {};\n}\n","import { createContext } from 'react';\nvar defaultFormFunctions = { setOnSave: function () { } };\nvar FormContext = createContext(defaultFormFunctions);\nFormContext.displayName = 'FormContext';\nexport default FormContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRef, useCallback, useEffect, useMemo } from 'react';\nimport { Form, } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport useInitializeFormWithRecord from './useInitializeFormWithRecord';\nimport useWarnWhenUnsavedChanges from './useWarnWhenUnsavedChanges';\nimport sanitizeEmptyValues from './sanitizeEmptyValues';\nimport getFormInitialValues from './getFormInitialValues';\nimport FormContext from './FormContext';\nimport { useDispatch } from 'react-redux';\nimport { setAutomaticRefresh } from '../actions/uiActions';\n/**\n * Wrapper around react-final-form's Form to handle redirection on submit,\n * legacy defaultValue prop, and array inputs.\n *\n * Requires a render function, just like react-final-form\n *\n * @example\n *\n * const SimpleForm = props => (\n *    <FormWithRedirect\n *        {...props}\n *        render={formProps => <SimpleFormView {...formProps} />}\n *    />\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {Function} save\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {boolean} sanitizeEmptyValues\n *\n * @param {Props} props\n */\nvar FormWithRedirect = function (_a) {\n    var debug = _a.debug, decorators = _a.decorators, defaultValue = _a.defaultValue, destroyOnUnregister = _a.destroyOnUnregister, form = _a.form, initialValues = _a.initialValues, initialValuesEqual = _a.initialValuesEqual, _b = _a.keepDirtyOnReinitialize, keepDirtyOnReinitialize = _b === void 0 ? true : _b, _c = _a.mutators, mutators = _c === void 0 ? arrayMutators : _c, // FIXME see https://github.com/final-form/react-final-form/issues/704 and https://github.com/microsoft/TypeScript/issues/35771\n    record = _a.record, render = _a.render, save = _a.save, saving = _a.saving, _d = _a.subscription, subscription = _d === void 0 ? defaultSubscription : _d, validate = _a.validate, validateOnBlur = _a.validateOnBlur, version = _a.version, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, _e = _a.sanitizeEmptyValues, shouldSanitizeEmptyValues = _e === void 0 ? true : _e, props = __rest(_a, [\"debug\", \"decorators\", \"defaultValue\", \"destroyOnUnregister\", \"form\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"record\", \"render\", \"save\", \"saving\", \"subscription\", \"validate\", \"validateOnBlur\", \"version\", \"warnWhenUnsavedChanges\", \"sanitizeEmptyValues\"]);\n    var redirect = useRef(props.redirect);\n    var onSave = useRef(save);\n    // We don't use state here for two reasons:\n    // 1. There no way to execute code only after the state has been updated\n    // 2. We don't want the form to rerender when redirect is changed\n    var setRedirect = function (newRedirect) {\n        redirect.current = newRedirect;\n    };\n    /**\n     * A form can have several Save buttons. In case the user clicks on\n     * a Save button with a custom onSave handler, then on a second Save button\n     * without custom onSave handler, the user expects the default save\n     * handler (the one of the Form) to be called.\n     * That's why the SaveButton onClick calls setOnSave() with no parameters\n     * if it has no custom onSave, and why this function forces a default to\n     * save.\n     */\n    var setOnSave = useCallback(function (newOnSave) {\n        typeof newOnSave === 'function'\n            ? (onSave.current = newOnSave)\n            : (onSave.current = save);\n    }, [save]);\n    var formContextValue = useMemo(function () { return ({ setOnSave: setOnSave }); }, [setOnSave]);\n    var finalInitialValues = getFormInitialValues(initialValues, defaultValue, record);\n    var submit = function (values) {\n        var finalRedirect = typeof redirect.current === undefined\n            ? props.redirect\n            : redirect.current;\n        if (shouldSanitizeEmptyValues) {\n            var sanitizedValues = sanitizeEmptyValues(finalInitialValues, values);\n            onSave.current(sanitizedValues, finalRedirect);\n        }\n        else {\n            onSave.current(values, finalRedirect);\n        }\n    };\n    return (React.createElement(FormContext.Provider, { value: formContextValue },\n        React.createElement(Form, { key: version, debug: debug, decorators: decorators, destroyOnUnregister: destroyOnUnregister, form: form, initialValues: finalInitialValues, initialValuesEqual: initialValuesEqual, keepDirtyOnReinitialize: keepDirtyOnReinitialize, mutators: mutators, onSubmit: submit, subscription: subscription, validate: validate, validateOnBlur: validateOnBlur, render: function (formProps) { return (React.createElement(FormView, __assign({}, props, formProps, { record: record, setRedirect: setRedirect, saving: formProps.submitting || saving, render: render, save: save, warnWhenUnsavedChanges: warnWhenUnsavedChanges }))); } })));\n};\nvar defaultSubscription = {\n    submitting: true,\n    pristine: true,\n    valid: true,\n    invalid: true,\n};\nvar FormView = function (_a) {\n    var render = _a.render, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, setRedirect = _a.setRedirect, props = __rest(_a, [\"render\", \"warnWhenUnsavedChanges\", \"setRedirect\"]);\n    // if record changes (after a getOne success or a refresh), the form must be updated\n    useInitializeFormWithRecord(props.record);\n    useWarnWhenUnsavedChanges(warnWhenUnsavedChanges);\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(setAutomaticRefresh(props.pristine));\n    }, [dispatch, props.pristine]);\n    var redirect = props.redirect, handleSubmit = props.handleSubmit;\n    /**\n     * We want to let developers define the redirection target from inside the form,\n     * e.g. in a <SaveButton redirect=\"list\" />.\n     * This callback does two things: handle submit, and change the redirection target.\n     * The actual redirection is done in save(), passed by the main controller.\n     *\n     * If the redirection target doesn't depend on the button clicked, it's a\n     * better option to define it directly on the Form component. In that case,\n     * using handleSubmit() instead of handleSubmitWithRedirect is fine.\n     *\n     * @example\n     *\n     * <Button onClick={() => handleSubmitWithRedirect('edit')}>\n     *     Save and edit\n     * </Button>\n     */\n    var handleSubmitWithRedirect = useCallback(function (redirectTo) {\n        if (redirectTo === void 0) { redirectTo = redirect; }\n        setRedirect(redirectTo);\n        handleSubmit();\n    }, [setRedirect, redirect, handleSubmit]);\n    return render(__assign(__assign({}, props), { handleSubmitWithRedirect: handleSubmitWithRedirect }));\n};\nexport default FormWithRedirect;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    value: {\n        fontFamily: theme.typography.fontFamily,\n        color: 'currentColor',\n        padding: theme.spacing(1) + \"px 0 \" + theme.spacing(1) / 2 + \"px\",\n        border: 0,\n        boxSizing: 'content-box',\n        verticalAlign: 'middle',\n        background: 'none',\n        margin: 0,\n        display: 'block',\n        width: '100%',\n    },\n}); }, { name: 'RaLabeled' });\n/**\n * Use any component as read-only Input, labeled just like other Inputs.\n *\n * Useful to use a Field in the Edit or Create components.\n * The child component will receive the current record.\n *\n * This component name doesn't have a typo. We had to choose between\n * the American English \"Labeled\", and the British English \"Labelled\".\n * We flipped a coin.\n *\n * @example\n * <Labeled label=\"Comments\">\n *     <FooComponent source=\"title\" />\n * </Labeled>\n */\nvar Labeled = function (props) {\n    var children = props.children, className = props.className, classesOverride = props.classes, fullWidth = props.fullWidth, id = props.id, input = props.input, isRequired = props.isRequired, label = props.label, _a = props.margin, margin = _a === void 0 ? 'dense' : _a, meta = props.meta, resource = props.resource, source = props.source, rest = __rest(props, [\"children\", \"className\", \"classes\", \"fullWidth\", \"id\", \"input\", \"isRequired\", \"label\", \"margin\", \"meta\", \"resource\", \"source\"]);\n    var classes = useStyles(props);\n    if (!label && !source) {\n        // @ts-ignore\n        var name_1 = children && children.type && children.type.name;\n        throw new Error(\"Cannot create label for component <\" + name_1 + \">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props\");\n    }\n    var restProps = fullWidth ? __assign(__assign({}, rest), { fullWidth: fullWidth }) : rest;\n    return (React.createElement(FormControl, { className: className, fullWidth: fullWidth, error: meta && meta.touched && !!meta.error, margin: margin },\n        React.createElement(InputLabel, { htmlFor: id, shrink: true, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(\"div\", { className: classes.value }, children && typeof children.type !== 'string'\n            ? React.cloneElement(children, __assign({ input: input,\n                resource: resource }, restProps))\n            : children)));\n};\nLabeled.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    input: PropTypes.object,\n    isRequired: PropTypes.bool,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    meta: PropTypes.object,\n    onChange: PropTypes.func,\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    labelStyle: PropTypes.object,\n};\nexport default Labeled;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Labeled from '../input/Labeled';\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, rest = __rest(_a, [\"basePath\", \"record\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(32) },\n}); }, { name: 'RaFormInput' });\nvar FormInput = function (props) {\n    var _a, _b;\n    var input = props.input, classesOverride = props.classes, rest = __rest(props, [\"input\", \"classes\"]);\n    var classes = useStyles(props);\n    return input ? (React.createElement(\"div\", { className: classnames('ra-input', \"ra-input-\" + input.props.source, input.props.formClassName) }, input.props.addLabel ? (React.createElement(Labeled, __assign({ id: input.props.id || input.props.source }, input.props, sanitizeRestProps(rest)), React.cloneElement(input, __assign({ className: classnames((_a = {},\n            _a[classes.input] = !input.props.fullWidth,\n            _a), input.props.className), id: input.props.id || input.props.source }, rest)))) : (React.cloneElement(input, __assign({ className: classnames((_b = {},\n            _b[classes.input] = !input.props.fullWidth,\n            _b), input.props.className), id: input.props.id || input.props.source }, rest))))) : null;\n};\nFormInput.propTypes = {\n    classes: PropTypes.object,\n    // @ts-ignore\n    input: PropTypes.node,\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nFormInput.displayName = 'FormInput';\nexport default FormInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useContext, cloneElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentSave from '@material-ui/icons/Save';\nimport classnames from 'classnames';\nimport { useTranslate, useNotify, FormContext, useSaveContext, } from 'ra-core';\nimport { sanitizeButtonRestProps } from './Button';\n/**\n * Submit button for resource forms (Edit and Create).\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <Toolbar>)\n * @prop {string} className\n * @prop {string} label Button label. Defaults to 'ra.action.save', translated.\n * @prop {boolean} disabled Disable the button.\n * @prop {string} variant Material-ui variant for the button. Defaults to 'contained'.\n * @prop {ReactElement} icon\n * @prop {string|boolean} redirect Override of the default redirect in case of success. Can be 'list', 'show', 'edit' (for create views), or false (to stay on the creation form).\n * @prop {function} onSave (deprecated)\n * @prop {function} onSuccess Callback to execute instead of the default success side effects. Receives the dataProvider response as argument.\n * @prop {function} onFailure Callback to execute instead of the default error side effects. Receives the dataProvider error response as argument.\n * @prop {function} transform Callback to execute before calling the dataProvider. Receives the data from the form, must return that transformed data. Can be asynchronous (and return a Promise)\n *\n * @param {Props} props\n *\n * @example // with custom redirection\n *\n * <SaveButton label=\"post.action.save_and_edit\" redirect=\"edit\" />\n *\n * @example // with no redirection\n *\n * <SaveButton label=\"post.action.save_and_add\" redirect={false} />\n *\n * @example // with custom success side effect\n *\n * const MySaveButton = props => {\n *     const notify = useNotify();\n *     const redirect = useRedirect();\n *     const onSuccess = (response) => {\n *         notify(`Post \"${response.data.title}\" saved!`);\n *         redirect('/posts');\n *     };\n *     return <SaveButton {...props} onSuccess={onSuccess} />;\n * }\n */\nvar SaveButton = function (props) {\n    var className = props.className, classesOverride = props.classes, invalid = props.invalid, _a = props.label, label = _a === void 0 ? 'ra.action.save' : _a, disabled = props.disabled, redirect = props.redirect, saving = props.saving, submitOnEnter = props.submitOnEnter, _b = props.variant, variant = _b === void 0 ? 'contained' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = props.onClick, handleSubmitWithRedirect = props.handleSubmitWithRedirect, onSave = props.onSave, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform, rest = __rest(props, [\"className\", \"classes\", \"invalid\", \"label\", \"disabled\", \"redirect\", \"saving\", \"submitOnEnter\", \"variant\", \"icon\", \"onClick\", \"handleSubmitWithRedirect\", \"onSave\", \"onSuccess\", \"onFailure\", \"transform\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var translate = useTranslate();\n    var setOnSave = useContext(FormContext).setOnSave;\n    var _d = useSaveContext(props), setOnSuccess = _d.setOnSuccess, setOnFailure = _d.setOnFailure, setTransform = _d.setTransform;\n    var handleClick = function (event) {\n        // deprecated: use onSuccess and transform instead of onSave\n        if (typeof onSave === 'function') {\n            if (process.env.NODE_ENV !== 'production') {\n                console.log('<SaveButton onSave> prop is deprecated, use the onSuccess prop instead.');\n            }\n            setOnSave(onSave);\n        }\n        else {\n            // we reset to the Form default save function\n            setOnSave();\n        }\n        if (onSuccess) {\n            setOnSuccess(onSuccess);\n        }\n        if (onFailure) {\n            setOnFailure(onFailure);\n        }\n        if (transform) {\n            setTransform(transform);\n        }\n        if (saving) {\n            // prevent double submission\n            event.preventDefault();\n        }\n        else {\n            if (invalid) {\n                notify('ra.message.invalid_form', 'warning');\n            }\n            // always submit form explicitly regardless of button type\n            if (event) {\n                event.preventDefault();\n            }\n            handleSubmitWithRedirect(redirect);\n        }\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    };\n    var type = submitOnEnter ? 'submit' : 'button';\n    var displayedLabel = label && translate(label, { _: label });\n    return (React.createElement(Button, __assign({ className: classnames(classes.button, className), variant: variant, type: type, onClick: handleClick, color: saving ? 'default' : 'primary', \"aria-label\": displayedLabel, disabled: disabled }, sanitizeButtonRestProps(rest)),\n        saving ? (React.createElement(CircularProgress, { size: 18, thickness: 2, className: classes.leftIcon })) : (cloneElement(icon, {\n            className: classnames(classes.leftIcon, classes.icon),\n        })),\n        displayedLabel));\n};\nvar defaultIcon = React.createElement(ContentSave, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    button: {\n        position: 'relative',\n    },\n    leftIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        fontSize: 18,\n    },\n}); }, { name: 'RaSaveButton' });\nSaveButton.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    handleSubmitWithRedirect: PropTypes.func,\n    // @deprecated\n    onSave: PropTypes.func,\n    invalid: PropTypes.bool,\n    label: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\n    icon: PropTypes.element,\n};\nexport default SaveButton;\n","import { useCallback } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { CRUD_DELETE } from '../../actions';\nimport { useRefresh, useNotify, useRedirect, } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare callback for a Delete button with undo support\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@material-ui/icons/Delete';\n * import { Button, useDeleteWithUndoController } from 'react-admin';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { loading, handleDelete } = useDeleteWithUndoController({\n *         resource,\n *         record,\n *         basePath,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={loading}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nvar useDeleteWithUndoController = function (props) {\n    var record = props.record, basePath = props.basePath, _a = props.redirect, redirectTo = _a === void 0 ? 'list' : _a, onClick = props.onClick, onSuccess = props.onSuccess, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _b = useDelete(resource, null, null, {\n        action: CRUD_DELETE,\n        onSuccess: onSuccess !== undefined\n            ? onSuccess\n            : function () {\n                notify('ra.notification.deleted', 'info', { smart_count: 1 }, true);\n                redirect(redirectTo, basePath);\n                refresh();\n            },\n        onFailure: onFailure !== undefined\n            ? onFailure\n            : function (error) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', 'warning', {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                });\n                refresh();\n            },\n        undoable: true,\n    }), deleteOne = _b[0], loading = _b[1].loading;\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne({\n            payload: { id: record.id, previousData: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick, record]);\n    return { loading: loading, handleDelete: handleDelete };\n};\nexport default useDeleteWithUndoController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useDeleteWithUndoController, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar DeleteWithUndoButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, classesOverride = props.classes, className = props.className, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, onClick = props.onClick, record = props.record, basePath = props.basePath, _c = props.redirect, redirect = _c === void 0 ? 'list' : _c, onSuccess = props.onSuccess, onFailure = props.onFailure, rest = __rest(props, [\"label\", \"classes\", \"className\", \"icon\", \"onClick\", \"record\", \"basePath\", \"redirect\", \"onSuccess\", \"onFailure\"]);\n    var classes = useStyles(props);\n    var resource = useResourceContext(props);\n    var _d = useDeleteWithUndoController({\n        record: record,\n        resource: resource,\n        basePath: basePath,\n        redirect: redirect,\n        onClick: onClick,\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n    }), loading = _d.loading, handleDelete = _d.handleDelete;\n    return (React.createElement(Button, __assign({ onClick: handleDelete, disabled: loading, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithUndoButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default DeleteWithUndoButton;\n","import { useState, useCallback, } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { CRUD_DELETE } from '../../actions';\nimport { useRefresh, useNotify, useRedirect, } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         loading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         basePath,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={loading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nvar useDeleteWithConfirmController = function (props) {\n    var record = props.record, redirectTo = props.redirect, basePath = props.basePath, onClick = props.onClick, onSuccess = props.onSuccess, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _b = useDelete(resource, null, null, {\n        action: CRUD_DELETE,\n        onSuccess: function (response) {\n            setOpen(false);\n            if (onSuccess === undefined) {\n                notify('ra.notification.deleted', 'info', { smart_count: 1 });\n                redirect(redirectTo, basePath);\n                refresh();\n            }\n            else {\n                onSuccess(response);\n            }\n        },\n        onFailure: function (error) {\n            setOpen(false);\n            if (onFailure === undefined) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', 'warning', {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                });\n                refresh();\n            }\n            else {\n                onFailure(error);\n            }\n        },\n        undoable: false,\n    }), deleteOne = _b[0], loading = _b[1].loading;\n    var handleDialogOpen = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function (e) {\n        setOpen(false);\n        e.stopPropagation();\n    };\n    var handleDelete = useCallback(function (event) {\n        deleteOne({\n            payload: { id: record.id, previousData: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick, record]);\n    return { open: open, loading: loading, handleDialogOpen: handleDialogOpen, handleDialogClose: handleDialogClose, handleDelete: handleDelete };\n};\nexport default useDeleteWithConfirmController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { useTranslate, useDeleteWithConfirmController, useResourceContext, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar DeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, _d = props.label, label = _d === void 0 ? 'ra.action.delete' : _d, onClick = props.onClick, record = props.record, _e = props.redirect, redirect = _e === void 0 ? 'list' : _e, onSuccess = props.onSuccess, onFailure = props.onFailure, rest = __rest(props, [\"basePath\", \"classes\", \"className\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"record\", \"redirect\", \"onSuccess\", \"onFailure\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var _f = useDeleteWithConfirmController({\n        record: record,\n        redirect: redirect,\n        basePath: basePath,\n        onClick: onClick,\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n    }), open = _f.open, loading = _f.loading, handleDialogOpen = _f.handleDialogOpen, handleDialogClose = _f.handleDialogClose, handleDelete = _f.handleDelete;\n    var resource = useResourceContext(props);\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleDialogOpen, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: translate(\"resources.\" + resource + \".forcedCaseName\", {\n                    smart_count: 1,\n                    _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                        smart_count: 1,\n                        _: inflection.singularize(resource),\n                    }), true),\n                }),\n                id: record.id,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithConfirmButton' });\nDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default DeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport DeleteWithUndoButton from './DeleteWithUndoButton';\nimport DeleteWithConfirmButton from './DeleteWithConfirmButton';\n/**\n * Button used to delete a single record. Added by default by the <Toolbar> of edit and show views.\n *\n * @typedef {Object} Props The props you can use (other props are injected if you used it in the <Toolbar>)\n * @prop {boolean} undoable Confirm the deletion using an undo button in a notification or a confirmation dialog. Defaults to 'false'.\n * @prop {Object} record The current resource record\n * @prop {string} className\n * @prop {string} label Button label. Defaults to 'ra.action.delete, translated.\n * @prop {boolean} disabled Disable the button.\n * @prop {string} variant Material-ui variant for the button. Defaults to 'contained'.\n * @prop {ReactElement} icon Override the icon. Defaults to the Delete icon from material-ui.\n *\n * @param {Props} props\n *\n * @example Usage in the <TopToolbar> of an <Edit> form\n *\n * import * as React from 'react';\n * import { Edit, DeleteButton, TopToolbar } from 'react-admin';\n *\n * const EditActions = props => {\n *     const { basePath, data, resource } = props;\n *     return (\n *         <TopToolbar>\n *             <DeleteButton\n *                 basePath={basePath}\n *                 record={data}\n *                 resource={resource}\n *                 undoable={false} // Renders the <DeleteWithConfirmButton>\n *             />\n *         </TopToolbar>\n *     );\n * };\n *\n * const Edit = props => {\n *     return <Edit actions={<EditActions />} {...props} />;\n * };\n */\nvar DeleteButton = function (_a) {\n    var undoable = _a.undoable, record = _a.record, props = __rest(_a, [\"undoable\", \"record\"]);\n    if (!record || record.id == null) {\n        return null;\n    }\n    return undoable ? (React.createElement(DeleteWithUndoButton, __assign({ record: record }, props))) : (React.createElement(DeleteWithConfirmButton, __assign({ record: record }, props)));\n};\nDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    // @ts-ignore\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nDeleteButton.defaultProps = {\n    undoable: true,\n};\nexport default DeleteButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, Fragment, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from '../button';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {\n            backgroundColor: theme.palette.type === 'light'\n                ? theme.palette.grey[100]\n                : theme.palette.grey[900],\n        },\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\n/**\n * The Toolbar displayed at the bottom of forms.\n *\n * @example Always enable the <SaveButton />\n *\n * import * as React from 'react';\n * import {\n *     Create,\n *     DateInput,\n *     TextInput,\n *     SimpleForm,\n *     Toolbar,\n *     required,\n * } from 'react-admin';\n *\n * const now = new Date();\n * const defaultSort = { field: 'title', order: 'ASC' };\n *\n * const CommentCreate = props => (\n *     <Create {...props}>\n *         <SimpleForm redirect={false} toolbar={<Toolbar alwaysEnableSaveButton={true} />}>\n *             <TextInput\n *                 source=\"author.name\"\n *                 fullWidth\n *             />\n *             <DateInput source=\"created_at\" defaultValue={now} />\n *             <TextInput source=\"body\" fullWidth={true} multiline={true} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\n * @prop {boolean} alwaysEnableSaveButton Force enabling the <SaveButton>. If it's not defined, the <SaveButton> will be enabled using the `pristine` prop (disabled if pristine, enabled otherwise).\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\n * @prop {string} width Apply the mobile or the desktop classes depending on the width. Pass \"xs\" to display the mobile version.\n *\n */\nvar Toolbar = function (props) {\n    var _a;\n    var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n    var classes = useStyles(props);\n    // Use form pristine to enable or disable the save button\n    // if alwaysEnableSaveButton is undefined\n    var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine);\n    return (React.createElement(Fragment, null,\n        React.createElement(MuiToolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: basePath,\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: record,\n                    resource: resource,\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    width: PropTypes.string,\n};\nToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nexport default withWidth({ initialWidth: 'xs' })(Toolbar);\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {\n            paddingTop: 0,\n            paddingBottom: 0,\n            '&:first-child': {\n                paddingTop: 16,\n            },\n            '&:last-child': (_a = {\n                    paddingBottom: 16\n                },\n                _a[theme.breakpoints.only('xs')] = {\n                    paddingBottom: 70,\n                },\n                _a),\n        },\n    });\n}, { name: 'RaCardContentInner' });\n/**\n * Overrides material-ui CardContent to allow inner content\n *\n * When using several CardContent inside the same Card, the top and bottom\n * padding double the spacing between each CardContent, leading to too much\n * wasted space. Use this component as a CardContent alternative.\n */\nvar CardContentInner = function (props) {\n    var className = props.className, children = props.children;\n    var classes = useStyles(props);\n    return (React.createElement(CardContent, { className: classnames(classes.root, className) }, children));\n};\nCardContentInner.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    children: PropTypes.node,\n};\nexport default CardContentInner;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { FormWithRedirect, } from 'ra-core';\nimport FormInput from './FormInput';\nimport Toolbar from './Toolbar';\nimport CardContentInner from '../layout/CardContentInner';\n/**\n * Form with a one column layout, one input per line.\n *\n * Pass input components as children.\n *\n * @example\n *\n * import * as React from \"react\";\n * import { Create, Edit, SimpleForm, TextInput, DateInput, ReferenceManyField, Datagrid, TextField, DateField, EditButton } from 'react-admin';\n * import RichTextInput from 'ra-input-rich-text';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <TextInput source=\"teaser\" options={{ multiLine: true }} />\n *             <RichTextInput source=\"body\" />\n *             <DateInput label=\"Publication date\" source=\"published_at\" defaultValue={new Date()} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} children Input elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n * @prop {boolean} sanitizeEmptyValues Whether or not deleted record attributes should be recreated with a `null` value (default: true)\n *\n * @param {Props} props\n */\nvar SimpleForm = function (props) { return (React.createElement(FormWithRedirect, __assign({}, props, { render: function (formProps) { return React.createElement(SimpleFormView, __assign({}, formProps)); } }))); };\nSimpleForm.propTypes = {\n    children: PropTypes.node,\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    version: PropTypes.number,\n    sanitizeEmptyValues: PropTypes.bool,\n};\nvar SimpleFormView = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, margin = _a.margin, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, toolbar = _a.toolbar, undoable = _a.undoable, variant = _a.variant, rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"margin\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"toolbar\", \"undoable\", \"variant\"]);\n    return (React.createElement(\"form\", __assign({ className: classnames('simple-form', className) }, sanitizeRestProps(rest)),\n        React.createElement(CardContentInner, null, Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                pristine: pristine,\n                record: record,\n                redirect: redirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                undoable: undoable,\n            })));\n};\nSimpleFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n};\nSimpleFormView.defaultProps = {\n    submitOnEnter: true,\n    toolbar: React.createElement(Toolbar, null),\n};\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, error = _a.error, errors = _a.errors, form = _a.form, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialValues = _a.initialValues, _b = _a.modified, modified = _b === void 0 ? null : _b, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, _c = _a.save, save = _c === void 0 ? null : _c, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, _d = _a.touched, touched = _d === void 0 ? null : _d, valid = _a.valid, validating = _a.validating, values = _a.values, _e = _a.visited, visited = _e === void 0 ? null : _e, _f = _a.__versions, __versions = _f === void 0 ? null : _f, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"form\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"modified\", \"modifiedSinceLastSubmit\", \"save\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\", \"__versions\"]);\n    return props;\n};\nexport default SimpleForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { useTranslate } from 'ra-core';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport TextInput from './TextInput';\nvar PasswordInput = function (_a) {\n    var _b = _a.initiallyVisible, initiallyVisible = _b === void 0 ? false : _b, props = __rest(_a, [\"initiallyVisible\"]);\n    var _c = useState(initiallyVisible), visible = _c[0], setVisible = _c[1];\n    var translate = useTranslate();\n    var handleClick = function () {\n        setVisible(!visible);\n    };\n    return (React.createElement(TextInput, __assign({}, props, { type: visible ? 'text' : 'password', InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(IconButton, { \"aria-label\": translate(visible\n                        ? 'ra.input.password.toggle_visible'\n                        : 'ra.input.password.toggle_hidden'), onClick: handleClick }, visible ? React.createElement(Visibility, null) : React.createElement(VisibilityOff, null)))),\n        } })));\n};\nexport default PasswordInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    CreateProps,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    email,\n} from 'react-admin';\nimport { AnyObject } from 'react-final-form';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: AnyObject) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate: FC<CreateProps> = props => {\n    const classes = useStyles(props);\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth\n                    formClassName={classes.email}\n                    validate={[required(), email()]}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline\n                    fullWidth\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"zipcode\"\n                    formClassName={classes.zipcode}\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"city\"\n                    formClassName={classes.city}\n                    helperText={false}\n                />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import { GET_ONE } from '../../core';\nexport var crudGetOne = function (resource, id, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_GET_ONE,\n        payload: { id: id },\n        meta: {\n            resource: resource,\n            fetch: GET_ONE,\n            basePath: basePath,\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.item_doesnt_exist',\n                    level: 'warning',\n                },\n                redirectTo: 'list',\n                refresh: refresh,\n            },\n        },\n    });\n};\nexport var CRUD_GET_ONE = 'RA/CRUD_GET_ONE';\nexport var CRUD_GET_ONE_LOADING = 'RA/CRUD_GET_ONE_LOADING';\nexport var CRUD_GET_ONE_FAILURE = 'RA/CRUD_GET_ONE_FAILURE';\nexport var CRUD_GET_ONE_SUCCESS = 'RA/CRUD_GET_ONE_SUCCESS';\n","import { UPDATE } from '../../core';\nexport var crudUpdate = function (resource, id, data, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'show'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE,\n        payload: { id: id, data: data, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: UPDATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE = 'RA/CRUD_UPDATE';\nexport var CRUD_UPDATE_LOADING = 'RA/CRUD_UPDATE_LOADING';\nexport var CRUD_UPDATE_FAILURE = 'RA/CRUD_UPDATE_FAILURE';\nexport var CRUD_UPDATE_SUCCESS = 'RA/CRUD_UPDATE_SUCCESS';\n","import { useCallback } from 'react';\nimport inflection from 'inflection';\nimport useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useNotify, useRedirect, useRefresh, } from '../../sideEffect';\nimport { useGetOne, useUpdate } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { CRUD_GET_ONE, CRUD_UPDATE } from '../../actions';\nimport { useSaveModifiers, } from '../saveModifiers';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare data for the Edit view\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = props => {\n *     const controllerProps = useEditController(props);\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nexport var useEditController = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id, successMessage = props.successMessage, _a = props.undoable, undoable = _a === void 0 ? true : _a, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    if (process.env.NODE_ENV !== 'production' && successMessage) {\n        console.log('<Edit successMessage> prop is deprecated, use the onSuccess prop instead.');\n    }\n    var _b = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var _c = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _c.data, loading = _c.loading, loaded = _c.loaded;\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.edit', {\n        name: \"\" + resourceName,\n        id: id,\n        record: record,\n    });\n    var _d = useUpdate(resource, id, {}, // set by the caller\n    record), update = _d[0], saving = _d[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = DefaultRedirect; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return update({ payload: { data: data } }, {\n                action: CRUD_UPDATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function () {\n                            notify(successMessage ||\n                                'ra.notification.updated', 'info', {\n                                smart_count: 1,\n                            }, undoable);\n                            redirect(redirectTo, basePath, data.id, data);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning', {\n                                _: typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                        ? error.message\n                                        : undefined,\n                            });\n                            if (undoable) {\n                                refresh();\n                            }\n                        },\n                undoable: undoable,\n            });\n        });\n    }, [\n        transformRef,\n        update,\n        onSuccessRef,\n        onFailureRef,\n        undoable,\n        notify,\n        successMessage,\n        redirect,\n        basePath,\n        refresh,\n    ]);\n    return {\n        loading: loading,\n        loaded: loaded,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        redirect: DefaultRedirect,\n        version: version,\n    };\n};\nvar DefaultRedirect = 'list';\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useEditController() hook.\n *\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContextProvider } from 'ra-core';\n *\n * const Edit = props => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             ...\n *         </EditContextProvider>\n *     );\n * };\n */\nexport var EditContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    loaded: null,\n    loading: null,\n    onFailureRef: null,\n    onSuccessRef: null,\n    transformRef: null,\n    redirect: null,\n    setOnFailure: null,\n    setOnSuccess: null,\n    setTransform: null,\n    resource: null,\n    save: null,\n    saving: null,\n    successMessage: null,\n    version: null,\n});\nEditContext.displayName = 'EditContext';\n","import * as React from 'react';\nimport { RecordContextProvider, usePickRecordContext } from '../RecordContext';\nimport { EditContext } from './EditContext';\nimport { SaveContextProvider, usePickSaveContext } from './SaveContext';\n/**\n * Create an Edit Context.\n *\n * @example\n *\n * const MyEdit = (props) => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             <MyEditView>\n *         </EditContextProvider>\n *     );\n * };\n *\n * const MyEditView = () => {\n *     const { record } = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useEditContext();\n * }\n *\n * @see EditContext\n * @see RecordContext\n */\nexport var EditContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(EditContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: usePickRecordContext(value) }, children))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useContext } from 'react';\nimport { EditContext } from './EditContext';\nexport var useEditContext = function (props) {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    var context = useContext(EditContext);\n    if (!context.resource) {\n        /**\n         * The element isn't inside a <EditContext.Provider>\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"Edit components must be used inside a <EditContext.Provider>. Relying on props rather than context to get Edit data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        // Necessary for actions (EditActions) which expect a data prop containing the record\n        // @deprecated - to be removed in 4.0d\n        return __assign(__assign({}, props), { record: props.record || props.data, data: props.record || props.data });\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button';\nvar ShowButton = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? '' : _b, _c = _a.label, label = _c === void 0 ? 'ra.action.show' : _c, record = _a.record, _d = _a.icon, icon = _d === void 0 ? defaultIcon : _d, rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n    return (React.createElement(Button, __assign({ component: Link, to: linkToRecord(basePath, record && record.id) + \"/show\", label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ImageEye, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nShowButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n};\nvar PureShowButton = memo(ShowButton, function (props, nextProps) {\n    return (props.record && nextProps.record\n        ? props.record.id === nextProps.record.id\n        : props.record == nextProps.record) && // eslint-disable-line eqeqeq\n        props.basePath === nextProps.basePath &&\n        props.to === nextProps.to;\n});\nexport default PureShowButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useEditContext, useResourceDefinition } from 'ra-core';\nimport { ShowButton } from '../button';\nimport TopToolbar from '../layout/TopToolbar';\n/**\n * Action Toolbar for the Edit view\n *\n * Internal component. If you want to add or remove actions for an Edit view,\n * write your own EditActions Component. Then, in the <Edit> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, ShowButton, Edit } from 'react-admin';\n *\n *     const PostEditActions = ({ basePath, record, resource }) => (\n *         <TopToolbar>\n *             <ShowButton basePath={basePath} record={record} />\n *             // Add your custom actions here\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostEdit = (props) => (\n *         <Edit actions={<PostEditActions />} {...props}>\n *             ...\n *         </Edit>\n *     );\n */\nvar EditActions = function (_a) {\n    var className = _a.className, rest = __rest(_a, [\"className\"]);\n    var _b = useEditContext(rest), basePath = _b.basePath, record = _b.record;\n    var hasShow = useResourceDefinition(rest).hasShow;\n    return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeRestProps(rest)), hasShow && React.createElement(ShowButton, { basePath: basePath, record: record })));\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.hasCreate, hasCreate = _c === void 0 ? null : _c, _d = _a.hasEdit, hasEdit = _d === void 0 ? null : _d, _e = _a.hasShow, hasShow = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, rest = __rest(_a, [\"basePath\", \"hasCreate\", \"hasEdit\", \"hasShow\", \"hasList\"]);\n    return rest;\n};\nEditActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    data: PropTypes.object,\n    hasShow: PropTypes.bool,\n    resource: PropTypes.string,\n};\nexport default EditActions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { ComponentPropType, useEditContext, } from 'ra-core';\nimport DefaultActions from './EditActions';\nimport TitleForRecord from '../layout/TitleForRecord';\nexport var EditView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, title = props.title, undoable = props.undoable, rest = __rest(props, [\"actions\", \"aside\", \"children\", \"classes\", \"className\", \"component\", \"title\", \"undoable\"]);\n    var classes = useStyles(props);\n    var _b = useEditContext(props), basePath = _b.basePath, defaultTitle = _b.defaultTitle, hasList = _b.hasList, hasShow = _b.hasShow, record = _b.record, redirect = _b.redirect, resource = _b.resource, save = _b.save, saving = _b.saving, version = _b.version;\n    var finalActions = typeof actions === 'undefined' && hasShow ? (React.createElement(DefaultActions, null)) : (actions);\n    if (!children) {\n        return null;\n    }\n    return (React.createElement(\"div\", __assign({ className: classnames('edit-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        finalActions &&\n            cloneElement(finalActions, __assign({ basePath: basePath, data: record, hasShow: hasShow,\n                hasList: hasList,\n                resource: resource }, finalActions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !finalActions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, record ? (cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: save,\n                saving: saving,\n                undoable: undoable,\n                version: version,\n            })) : (React.createElement(CardContent, null, \"\\u00A0\"))),\n            aside &&\n                React.cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    version: version,\n                    save: save,\n                    saving: saving,\n                }))));\n};\nEditView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    component: ComponentPropType,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    version: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    setOnSuccess: PropTypes.func,\n    setOnFailure: PropTypes.func,\n    setTransform: PropTypes.func,\n};\nEditView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles({\n    root: {},\n    main: {\n        display: 'flex',\n    },\n    noActions: {\n        marginTop: '1em',\n    },\n    card: {\n        flex: '1 1 auto',\n    },\n}, { name: 'RaEdit' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.defaultTitle, defaultTitle = _c === void 0 ? null : _c, _d = _a.hasCreate, hasCreate = _d === void 0 ? null : _d, _e = _a.hasEdit, hasEdit = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, _g = _a.hasShow, hasShow = _g === void 0 ? null : _g, _h = _a.history, history = _h === void 0 ? null : _h, _j = _a.id, id = _j === void 0 ? null : _j, _k = _a.loaded, loaded = _k === void 0 ? null : _k, _l = _a.loading, loading = _l === void 0 ? null : _l, _m = _a.location, location = _m === void 0 ? null : _m, _o = _a.match, match = _o === void 0 ? null : _o, _p = _a.onFailure, onFailure = _p === void 0 ? null : _p, _q = _a.onFailureRef, onFailureRef = _q === void 0 ? null : _q, _r = _a.onSuccess, onSuccess = _r === void 0 ? null : _r, _s = _a.onSuccessRef, onSuccessRef = _s === void 0 ? null : _s, _t = _a.options, options = _t === void 0 ? null : _t, _u = _a.permissions, permissions = _u === void 0 ? null : _u, _v = _a.save, save = _v === void 0 ? null : _v, _w = _a.saving, saving = _w === void 0 ? null : _w, _x = _a.setOnFailure, setOnFailure = _x === void 0 ? null : _x, _y = _a.setOnSuccess, setOnSuccess = _y === void 0 ? null : _y, _z = _a.setTransform, setTransform = _z === void 0 ? null : _z, _0 = _a.successMessage, successMessage = _0 === void 0 ? null : _0, _1 = _a.transform, transform = _1 === void 0 ? null : _1, _2 = _a.transformRef, transformRef = _2 === void 0 ? null : _2, rest = __rest(_a, [\"basePath\", \"defaultTitle\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"history\", \"id\", \"loaded\", \"loading\", \"location\", \"match\", \"onFailure\", \"onFailureRef\", \"onSuccess\", \"onSuccessRef\", \"options\", \"permissions\", \"save\", \"saving\", \"setOnFailure\", \"setOnSuccess\", \"setTransform\", \"successMessage\", \"transform\", \"transformRef\"]);\n    return rest;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { EditContextProvider, ResourceContextProvider, useCheckMinimumRequiredProps, useEditController, } from 'ra-core';\nimport { EditView } from './EditView';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The <Edit> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n * - undoable\n *\n * @example\n *\n * // in src/posts.js\n * import * as React from \"react\";\n * import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * // in src/App.js\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostEdit } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" edit={PostEdit} />\n *     </Admin>\n * );\n * export default App;\n */\nexport var Edit = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['children'], props);\n    var controllerProps = useEditController(props);\n    var body = (React.createElement(EditContextProvider, { value: controllerProps },\n        React.createElement(EditView, __assign({}, props, controllerProps))));\n    return props.resource ? (\n    // support resource override via props\n    React.createElement(ResourceContextProvider, { value: props.resource }, body)) : (body);\n};\nEdit.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    hasList: PropTypes.bool,\n    id: PropTypes.any.isRequired,\n    resource: PropTypes.string.isRequired,\n    title: PropTypes.node,\n    successMessage: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    transform: PropTypes.func,\n    undoable: PropTypes.bool,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar TextField = memo(function (_a) {\n    var className = _a.className, source = _a.source, _b = _a.record, record = _b === void 0 ? {} : _b, emptyText = _a.emptyText, rest = __rest(_a, [\"className\", \"source\", \"record\", \"emptyText\"]);\n    var value = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), value != null && typeof value !== 'string'\n        ? JSON.stringify(value)\n        : value || emptyText));\n});\n// what? TypeScript looses the displayName if we don't set it explicitly\nTextField.displayName = 'TextField';\nTextField.defaultProps = {\n    addLabel: true,\n};\nTextField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nexport default TextField;\n","import get from 'lodash/get';\nimport { linkToRecord } from '../../util';\n/**\n * Get the link toward the referenced resource\n *\n * @example\n *\n * const linkPath = getResourceLinkPath({\n *      basePath: '/comments',\n *      link: 'edit',\n *      reference: 'users',\n *      record: {\n *          userId: 7\n *      },\n *      resource: 'comments',\n *      source: 'userId',\n * });\n *\n * @param {Object} option\n * @param {string} option.basePath basepath to current resource\n * @param {string | false | LinkToFunctionType} option.link=\"edit\" The link toward the referenced record. 'edit', 'show' or false for no link (default to edit). Alternatively a function that returns a string\n * @param {string | false | LinkToFunctionType} [option.linkType] DEPRECATED : old name for link\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The current resource record\n * @param {string} option.resource The current resource name\n * @param {string} option.source The key of the linked resource identifier\n *\n * @returns {string | false} The reference props\n */\nvar getResourceLinkPath = function (_a) {\n    var basePath = _a.basePath, _b = _a.link, link = _b === void 0 ? 'edit' : _b, linkType = _a.linkType, reference = _a.reference, _c = _a.record, record = _c === void 0 ? { id: '' } : _c, resource = _a.resource, source = _a.source;\n    var sourceId = get(record, source);\n    var rootPath = basePath.replace(resource, reference);\n    // Backward compatibility: keep linkType but with warning\n    var getResourceLinkPath = function (linkTo) {\n        return !linkTo\n            ? false\n            : typeof linkTo === 'function'\n                ? linkTo(record, reference)\n                : linkToRecord(rootPath, sourceId, linkTo);\n    };\n    if (linkType !== undefined) {\n        console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />\");\n    }\n    var resourceLinkPath = getResourceLinkPath(linkType !== undefined ? linkType : link);\n    return resourceLinkPath;\n};\nexport default getResourceLinkPath;\n","import { useGetMany } from '../dataProvider';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n */\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loading, loaded, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {ReferenceProps} The reference record\n */\nexport var useReference = function (_a) {\n    var reference = _a.reference, id = _a.id;\n    var _b = useGetMany(reference, [id]), data = _b.data, error = _b.error, loading = _b.loading, loaded = _b.loaded;\n    return {\n        referenceRecord: error ? undefined : data[0],\n        error: error,\n        loading: loading,\n        loaded: loaded,\n    };\n};\nexport default useReference;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport Progress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTimeout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        margin: theme.spacing(1) + \"px 0\",\n        width: theme.spacing(20) + \"px\",\n    },\n}); }, { name: 'RaLinearProgress' });\n/**\n * Progress bar formatted to replace an input or a field in a form layout\n *\n * Avoids visual jumps when replaced by value or form input\n *\n * @see ReferenceField\n * @see ReferenceInput\n *\n * @typedef {Object} Props the props you can use\n * @prop {Object} classes CSS class names\n * @prop {string} className CSS class applied to the LinearProgress component\n *\n * @param {Props} props\n */\nvar LinearProgress = function (_a) {\n    var _b = _a.timeout, timeout = _b === void 0 ? 1000 : _b, props = __rest(_a, [\"timeout\"]);\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    var classes = useStyles(props);\n    var oneSecondHasPassed = useTimeout(timeout);\n    return oneSecondHasPassed ? (React.createElement(Progress, __assign({ className: classnames(classes.root, className) }, rest))) : null;\n};\nLinearProgress.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    timeout: PropTypes.number,\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nLinearProgress.displayName = 'LinearProgress';\nexport default LinearProgress;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { useReference, getResourceLinkPath, ResourceContextProvider, } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Link from '../Link';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Fetch reference record, and delegate rendering to child component.\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * By default, includes a link to the <Edit> page of the related record\n * (`/users/:userId` in the previous example).\n *\n * Set the `link` prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * You can also prevent `<ReferenceField>` from adding link to children by setting\n * `link` to false.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * Alternatively, you can also pass a custom function to `link`. It must take reference and record\n * as arguments and return a string\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(record, reference) => \"/path/to/${reference}/${record}\"}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\nvar ReferenceField = function (_a) {\n    var record = _a.record, source = _a.source, emptyText = _a.emptyText, props = __rest(_a, [\"record\", \"source\", \"emptyText\"]);\n    return get(record, source) == null ? (emptyText ? (React.createElement(Typography, { component: \"span\", variant: \"body2\" }, emptyText)) : null) : (React.createElement(NonEmptyReferenceField, __assign({}, props, { record: record, source: source })));\n};\nReferenceField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    sortByOrder: fieldPropTypes.sortByOrder,\n    source: PropTypes.string.isRequired,\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    linkType: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    link: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]).isRequired,\n};\nReferenceField.defaultProps = {\n    addLabel: true,\n    classes: {},\n    link: 'edit',\n};\n/**\n * This intermediate component is made necessary by the useReference hook,\n * which cannot be called conditionally when get(record, source) is empty.\n */\nexport var NonEmptyReferenceField = function (_a) {\n    var children = _a.children, record = _a.record, source = _a.source, props = __rest(_a, [\"children\", \"record\", \"source\"]);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceField> only accepts a single child');\n    }\n    var basePath = props.basePath, resource = props.resource, reference = props.reference;\n    var resourceLinkPath = getResourceLinkPath(__assign(__assign({}, props), { resource: resource,\n        record: record,\n        source: source,\n        basePath: basePath }));\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(PureReferenceFieldView, __assign({}, props, useReference({\n            reference: reference,\n            id: get(record, source),\n        }), { resourceLinkPath: resourceLinkPath }), children)));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaReferenceField' });\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nexport var ReferenceFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, error = props.error, loaded = props.loaded, loading = props.loading, record = props.record, reference = props.reference, referenceRecord = props.referenceRecord, resource = props.resource, resourceLinkPath = props.resourceLinkPath, source = props.source, _a = props.translateChoice, translateChoice = _a === void 0 ? false : _a, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"error\", \"loaded\", \"loading\", \"record\", \"reference\", \"referenceRecord\", \"resource\", \"resourceLinkPath\", \"source\", \"translateChoice\"]);\n    var classes = useStyles(props);\n    if (!loaded) {\n        return React.createElement(LinearProgress, null);\n    }\n    if (error) {\n        return (\n        /* eslint-disable jsx-a11y/role-supports-aria-props */\n        React.createElement(ErrorIcon, { \"aria-errormessage\": error.message ? error.message : error, role: \"presentation\", color: \"error\", fontSize: \"small\" })\n        /* eslint-enable */\n        );\n    }\n    if (!referenceRecord) {\n        return null;\n    }\n    if (resourceLinkPath) {\n        return (React.createElement(Link, { to: resourceLinkPath, className: className, onClick: stopPropagation }, cloneElement(Children.only(children), __assign({ className: classnames(children.props.className, classes.link // force color override for Typography components\n            ), record: referenceRecord, resource: reference, basePath: basePath,\n            translateChoice: translateChoice }, sanitizeFieldRestProps(rest)))));\n    }\n    return cloneElement(Children.only(children), __assign({ record: referenceRecord, resource: reference, basePath: basePath,\n        translateChoice: translateChoice }, sanitizeFieldRestProps(rest)));\n};\nReferenceFieldView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.any,\n    loading: PropTypes.bool,\n    record: PropTypes.any,\n    reference: PropTypes.string,\n    referenceRecord: PropTypes.any,\n    resource: PropTypes.string,\n    resourceLinkPath: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.oneOf([false]),\n    ]),\n    source: PropTypes.string,\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nvar PureReferenceFieldView = memo(ReferenceFieldView);\nexport default ReferenceField;\n","var isMatchingReferencesError = function (matchingReferences) {\n    return matchingReferences && matchingReferences.error !== undefined;\n};\nexport var getStatusForInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecord = _a.referenceRecord, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    var selectedReferenceError = input.value && !referenceRecord\n        ? translate('ra.input.references.single_missing', {\n            _: 'ra.input.references.single_missing',\n        })\n        : null;\n    return {\n        waiting: (input.value && selectedReferenceError && !matchingReferences) ||\n            (!input.value && !matchingReferences),\n        error: (input.value &&\n            selectedReferenceError &&\n            matchingReferencesError) ||\n            (!input.value && matchingReferencesError)\n            ? input.value\n                ? selectedReferenceError\n                : matchingReferencesError\n            : null,\n        warning: selectedReferenceError || matchingReferencesError,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : [referenceRecord].filter(function (choice) { return choice; }),\n    };\n};\nexport var REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport var REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport var REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\nexport var getSelectedReferencesStatus = function (input, referenceRecords) {\n    return !input.value || input.value.length === referenceRecords.length\n        ? REFERENCES_STATUS_READY\n        : referenceRecords.length > 0\n            ? REFERENCES_STATUS_INCOMPLETE\n            : REFERENCES_STATUS_EMPTY;\n};\nexport var getStatusForArrayInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecords = _a.referenceRecords, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n    // or \"incomplete\" (Not all of the reference data was found)\n    // or \"ready\" (all references data was found or there is no references from input.value)\n    var selectedReferencesDataStatus = getSelectedReferencesStatus(input, referenceRecords);\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    return {\n        waiting: (!matchingReferences &&\n            input.value &&\n            selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\n            (!matchingReferences && !input.value),\n        error: matchingReferencesError &&\n            (!input.value ||\n                (input.value &&\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\n            ? translate('ra.input.references.all_missing', {\n                _: 'ra.input.references.all_missing',\n            })\n            : null,\n        warning: matchingReferencesError ||\n            (input.value &&\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\n            ? matchingReferencesError ||\n                translate('ra.input.references.many_missing', {\n                    _: 'ra.input.references.many_missing',\n                })\n            : null,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : referenceRecords,\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\nvar paginationReducer = function (prevState, nextState) {\n    return __assign(__assign({}, prevState), nextState);\n};\nvar defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n/**\n * Hooks to provide pagination state (page and perPage)\n *\n * @example\n *\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationHookResult} The pagination props\n */\nexport default (function (initialPagination) {\n    if (initialPagination === void 0) { initialPagination = {}; }\n    var _a = useReducer(paginationReducer, __assign(__assign({}, defaultPagination), initialPagination)), pagination = _a[0], setPagination = _a[1];\n    var isFirstRender = useRef(true);\n    var setPerPage = useCallback(function (perPage) { return setPagination({ perPage: perPage }); }, []);\n    var setPage = useCallback(function (page) { return setPagination({ page: page }); }, []);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination: pagination,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setPagination: setPagination,\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC, } from '../reducer/admin/resource/list/queryReducer';\nvar sortReducer = function (state, action) {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload.sort;\n        case 'SET_SORT_FIELD': {\n            var field = action.payload.field;\n            var order = state.field === field\n                ? state.order === SORT_ASC\n                    ? SORT_DESC\n                    : SORT_ASC\n                : SORT_ASC;\n            return { field: field, order: order };\n        }\n        case 'SET_SORT_ORDER': {\n            var order = action.payload.order;\n            return __assign(__assign({}, state), { order: order });\n        }\n        default:\n            return state;\n    }\n};\nexport var defaultSort = { field: 'id', order: 'DESC' };\n/**\n * Set the sort { field, order }\n * @name setSort\n * @function\n * @param {SortPayload} sort the sort object\n */\n/**\n * Set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n/**\n * Set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order The sort order, either ASC or DESC\n */\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nvar useSortState = function (initialSort) {\n    if (initialSort === void 0) { initialSort = defaultSort; }\n    var _a = useReducer(sortReducer, initialSort), sort = _a[0], dispatch = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: { sort: initialSort } });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        setSort: useCallback(function (sort) {\n            return dispatch({ type: 'SET_SORT', payload: { sort: sort } });\n        }, [dispatch]),\n        setSortField: useCallback(function (field) {\n            return dispatch({ type: 'SET_SORT_FIELD', payload: { field: field } });\n        }, [dispatch]),\n        setSortOrder: useCallback(function (order) {\n            return dispatch({ type: 'SET_SORT_ORDER', payload: { order: order } });\n        }, [dispatch]),\n        sort: sort,\n    };\n};\nexport default useSortState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useRef, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { useSafeSetState } from '../util';\nvar defaultFilterToQuery = function (v) { return ({ q: v }); };\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter initial value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {UseFilterStateOptions} The filter props\n */\nexport default (function (_a) {\n    var _b = _a.filterToQuery, filterToQuery = _b === void 0 ? defaultFilterToQuery : _b, _c = _a.permanentFilter, permanentFilter = _c === void 0 ? {} : _c, _d = _a.debounceTime, debounceTime = _d === void 0 ? 500 : _d;\n    var permanentFilterProp = useRef(permanentFilter);\n    var latestValue = useRef();\n    var _e = useSafeSetState(__assign(__assign({}, permanentFilter), filterToQuery(''))), filter = _e[0], setFilterValue = _e[1];\n    // Developers often pass an object literal as permanent filter\n    // e.g. <ReferenceInput source=\"book_id\" reference=\"books\" filter={{ is_published: true }}>\n    // The effect should execute again when the parent component updates the filter value,\n    // but not when the object literal describes the same values. Therefore,\n    // we use JSON.stringify(permanentFilter) in the `useEffect` and `useCallback`\n    // dependencies instead of permanentFilter.\n    var permanentFilterSignature = JSON.stringify(permanentFilter);\n    useEffect(function () {\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\n            permanentFilterProp.current = permanentFilter;\n            setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(latestValue.current)));\n        }\n    }, [permanentFilterSignature, permanentFilterProp, filterToQuery]); // eslint-disable-line react-hooks/exhaustive-deps\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var setFilter = useCallback(debounce(function (value) {\n        setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(value)));\n        latestValue.current = value;\n    }, debounceTime), [permanentFilterSignature] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return {\n        filter: filter,\n        setFilter: setFilter,\n    };\n});\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useSafeSetState } from '../util';\nvar defaultSelection = [];\n/**\n * Hooks to provide selection state.\n *\n * The names of the return values match the ListContext interface\n *\n * @example\n *\n * const { selectedIds, onSelect, onToggleItem, onUnselectItems } = useSelectionState();\n *\n */\nvar useSelectionState = function (initialSelection) {\n    if (initialSelection === void 0) { initialSelection = defaultSelection; }\n    var _a = useSafeSetState(initialSelection), selectedIds = _a[0], setSelectedIds = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setSelectedIds(initialSelection);\n    }, [initialSelection, setSelectedIds]);\n    var onSelect = useCallback(function (newIds) {\n        setSelectedIds(newIds);\n    }, [setSelectedIds]);\n    var onToggleItem = useCallback(function (id) {\n        setSelectedIds(function (previousState) {\n            var index = previousState.indexOf(id);\n            if (index > -1) {\n                return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n            }\n            else {\n                return __spreadArrays(previousState, [id]);\n            }\n        });\n    }, [setSelectedIds]);\n    var onUnselectItems = useCallback(function () {\n        setSelectedIds([]);\n    }, [setSelectedIds]);\n    return {\n        selectedIds: selectedIds,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n    };\n};\nexport default useSelectionState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useCallback } from 'react';\nimport useGetList from '../../dataProvider/useGetList';\nimport { getStatusForInput as getDataStatus } from './referenceDataStatus';\nimport useTranslate from '../../i18n/useTranslate';\nimport useReference from '../useReference';\nimport usePaginationState from '../usePaginationState';\nimport { useSortState } from '..';\nimport useFilterState from '../useFilterState';\nimport useSelectionState from '../useSelectionState';\nimport { useResourceContext } from '../../core';\nvar defaultReferenceSource = function (resource, source) {\n    return resource + \"@\" + source;\n};\nvar defaultFilter = {};\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilter`\n * function. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function option\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n *      filterToQuery: searchText => ({ title: searchText })\n * });\n */\nexport var useReferenceInputController = function (props) {\n    var _a;\n    var basePath = props.basePath, input = props.input, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 25 : _c, _d = props.filter, filter = _d === void 0 ? defaultFilter : _d, reference = props.reference, filterToQuery = props.filterToQuery, sortOverride = props.sort;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    // pagination logic\n    var _e = usePaginationState({ page: initialPage, perPage: initialPerPage }), pagination = _e.pagination, setPagination = _e.setPagination, page = _e.page, setPage = _e.setPage, perPage = _e.perPage, setPerPage = _e.setPerPage;\n    // sort logic\n    var _f = useSortState(sortOverride), sort = _f.sort, setSortObject = _f.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // filter logic\n    var _g = useFilterState({\n        permanentFilter: filter,\n        filterToQuery: filterToQuery,\n    }), filterValues = _g.filter, setFilter = _g.setFilter;\n    var displayedFilters = [];\n    // plus showFilter and hideFilter defined outside of the hook because\n    // they never change\n    // selection logic\n    var _h = useSelectionState(), selectedIds = _h.selectedIds, onSelect = _h.onSelect, onToggleItem = _h.onToggleItem, onUnselectItems = _h.onUnselectItems;\n    // fetch possible values\n    var _j = useGetList(reference, pagination, sort, filterValues), possibleValuesIds = _j.ids, possibleValuesData = _j.data, possibleValuesTotal = _j.total, possibleValuesLoaded = _j.loaded, possibleValuesLoading = _j.loading, possibleValuesError = _j.error;\n    // fetch current value\n    var _k = useReference({\n        id: input.value,\n        reference: reference,\n    }), referenceRecord = _k.referenceRecord, referenceError = _k.error, referenceLoading = _k.loading, referenceLoaded = _k.loaded;\n    // add current value to possible sources\n    var finalIds, finalData, finalTotal;\n    if (!referenceRecord || possibleValuesIds.includes(input.value)) {\n        finalIds = possibleValuesIds;\n        finalData = possibleValuesData;\n        finalTotal = possibleValuesTotal;\n    }\n    else {\n        finalIds = __spreadArrays([input.value], possibleValuesIds);\n        finalData = __assign((_a = {}, _a[input.value] = referenceRecord, _a), possibleValuesData);\n        finalTotal += 1;\n    }\n    // overall status\n    var dataStatus = getDataStatus({\n        input: input,\n        matchingReferences: Object.keys(finalData).map(function (id) { return finalData[id]; }),\n        referenceRecord: referenceRecord,\n        translate: translate,\n    });\n    return {\n        // should match the ListContext shape\n        possibleValues: {\n            basePath: basePath,\n            data: finalData,\n            ids: finalIds,\n            total: finalTotal,\n            error: possibleValuesError,\n            loaded: possibleValuesLoaded,\n            loading: possibleValuesLoading,\n            hasCreate: false,\n            page: page,\n            setPage: setPage,\n            perPage: perPage,\n            setPerPage: setPerPage,\n            currentSort: sort,\n            setSort: setSort,\n            filterValues: filterValues,\n            displayedFilters: displayedFilters,\n            setFilters: setFilter,\n            showFilter: showFilter,\n            hideFilter: hideFilter,\n            selectedIds: selectedIds,\n            onSelect: onSelect,\n            onToggleItem: onToggleItem,\n            onUnselectItems: onUnselectItems,\n            resource: resource,\n        },\n        referenceRecord: {\n            data: referenceRecord,\n            loaded: referenceLoaded,\n            loading: referenceLoading,\n            error: referenceError,\n        },\n        dataStatus: {\n            error: dataStatus.error,\n            loading: dataStatus.waiting,\n            warning: dataStatus.warning,\n        },\n        choices: finalIds.map(function (id) { return finalData[id]; }),\n        // kept for backwards compatibility\n        // @deprecated to be removed in 4.0\n        error: dataStatus.error,\n        loading: dataStatus.waiting,\n        filter: filterValues,\n        setFilter: setFilter,\n        pagination: pagination,\n        setPagination: setPagination,\n        sort: sort,\n        setSort: setSortObject,\n        warning: dataStatus.warning,\n    };\n};\nvar hideFilter = function () { };\nvar showFilter = function () { };\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nvar ReferenceError = function (_a) {\n    var label = _a.label, error = _a.error;\n    return (React.createElement(TextField, { error: true, disabled: true, label: label, value: error, margin: \"normal\" }));\n};\nReferenceError.propTypes = {\n    error: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n};\nexport default ReferenceError;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, useReferenceInputController, warning as warningLog, ListContextProvider, ResourceContextProvider, } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport LinearProgress from '../layout/LinearProgress';\nimport Labeled from './Labeled';\nimport ReferenceError from './ReferenceError';\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), then delegates rendering\n * to a subcomponent, to which it passes the possible choices\n * as the `choices` attribute.\n *\n * Use it with a selector component as child, like `<AutocompleteInput>`,\n * `<SelectInput>`, or `<RadioButtonGroupInput>`.\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <AutocompleteInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      perPage={100}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * The enclosed component may filter results. ReferenceInput passes a `setFilter`\n * function as prop to its child component. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function prop:\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filterToQuery={searchText => ({ title: searchText })}>\n *     <AutocompleteInput optionText=\"title\" />\n * </ReferenceInput>\n */\nvar ReferenceInput = function (_a) {\n    var format = _a.format, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, validate = _a.validate, props = __rest(_a, [\"format\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\"]);\n    var inputProps = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        validate: validate }, props));\n    return (React.createElement(ReferenceInputView, __assign({}, inputProps, props, useReferenceInputController(__assign(__assign({}, props), inputProps)))));\n};\nReferenceInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    filter: PropTypes.object,\n    filterToQuery: PropTypes.func.isRequired,\n    label: PropTypes.string,\n    onChange: PropTypes.func,\n    perPage: PropTypes.number,\n    record: PropTypes.object,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.oneOf(['ASC', 'DESC']),\n    }),\n    source: PropTypes.string,\n};\nReferenceInput.defaultProps = {\n    filter: {},\n    filterToQuery: function (searchText) { return (searchText ? { q: searchText } : {}); },\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.dataStatus, dataStatus = _b === void 0 ? null : _b, _c = _a.filter, filter = _c === void 0 ? null : _c, _d = _a.filterToQuery, filterToQuery = _d === void 0 ? null : _d, _e = _a.onChange, onChange = _e === void 0 ? null : _e, _f = _a.perPage, perPage = _f === void 0 ? null : _f, _g = _a.reference, reference = _g === void 0 ? null : _g, _h = _a.referenceRecord, referenceRecord = _h === void 0 ? null : _h, _j = _a.referenceSource, referenceSource = _j === void 0 ? null : _j, _k = _a.sort, sort = _k === void 0 ? null : _k, _l = _a.validation, validation = _l === void 0 ? null : _l, rest = __rest(_a, [\"dataStatus\", \"filter\", \"filterToQuery\", \"onChange\", \"perPage\", \"reference\", \"referenceRecord\", \"referenceSource\", \"sort\", \"validation\"]);\n    return sanitizeInputRestProps(rest);\n};\nexport var ReferenceInputView = function (_a) {\n    var allowEmpty = _a.allowEmpty, basePath = _a.basePath, children = _a.children, choices = _a.choices, classes = _a.classes, className = _a.className, error = _a.error, helperText = _a.helperText, id = _a.id, input = _a.input, isRequired = _a.isRequired, loading = _a.loading, label = _a.label, meta = _a.meta, possibleValues = _a.possibleValues, resource = _a.resource, reference = _a.reference, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, source = _a.source, warning = _a.warning, rest = __rest(_a, [\"allowEmpty\", \"basePath\", \"children\", \"choices\", \"classes\", \"className\", \"error\", \"helperText\", \"id\", \"input\", \"isRequired\", \"loading\", \"label\", \"meta\", \"possibleValues\", \"resource\", \"reference\", \"setFilter\", \"setPagination\", \"setSort\", \"source\", \"warning\"]);\n    if (Children.count(children) !== 1) {\n        throw new Error('<ReferenceInput> only accepts a single child');\n    }\n    if (loading) {\n        return (React.createElement(Labeled, { id: id, label: label, source: source, resource: resource, className: className, isRequired: isRequired, meta: meta, input: input },\n            React.createElement(LinearProgress, null)));\n    }\n    // This is not a final-form error but an unrecoverable error from the\n    // useReferenceInputController hook\n    if (error) {\n        return React.createElement(ReferenceError, { label: label, error: error });\n    }\n    // When the useReferenceInputController returns a warning, it means there it\n    // had an issue trying to load the referenced record\n    // We display it by overriding the final-form meta\n    var finalMeta = warning\n        ? __assign(__assign({}, meta), { error: warning }) : meta;\n    // helperText should never be set on ReferenceInput, only in child component\n    // But in a Filter component, the child helperText have to be forced to false\n    warningLog(helperText !== undefined && helperText !== false, \"<ReferenceInput> doesn't accept a helperText prop. Set the helperText prop on the child component instead\");\n    var disabledHelperText = helperText === false ? { helperText: helperText } : {};\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: possibleValues }, cloneElement(children, __assign(__assign({ allowEmpty: allowEmpty,\n            classes: classes,\n            className: className,\n            input: input,\n            isRequired: isRequired,\n            label: label,\n            resource: resource, meta: finalMeta, source: source,\n            choices: choices,\n            basePath: basePath,\n            setFilter: setFilter,\n            setPagination: setPagination,\n            setSort: setSort, translateChoice: false }, disabledHelperText), sanitizeRestProps(rest))))));\n};\nexport default ReferenceInput;\n","import { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set';\nimport useChoices from './useChoices';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param allowEmpty A boolean indicating whether an empty suggestion should be added\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned, excluding the empty one if `allowEmpty` is `true`\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nvar useSuggestions = function (_a) {\n    var allowDuplicates = _a.allowDuplicates, allowEmpty = _a.allowEmpty, choices = _a.choices, _b = _a.emptyText, emptyText = _b === void 0 ? '' : _b, _c = _a.emptyValue, emptyValue = _c === void 0 ? null : _c, limitChoicesToValue = _a.limitChoicesToValue, matchSuggestion = _a.matchSuggestion, optionText = _a.optionText, optionValue = _a.optionValue, selectedItem = _a.selectedItem, _d = _a.suggestionLimit, suggestionLimit = _d === void 0 ? 0 : _d, translateChoice = _a.translateChoice;\n    var translate = useTranslate();\n    var _e = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _e.getChoiceText, getChoiceValue = _e.getChoiceValue;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var getSuggestions = useCallback(getSuggestionsFactory({\n        allowDuplicates: allowDuplicates,\n        allowEmpty: allowEmpty,\n        choices: choices,\n        emptyText: translate(emptyText, { _: emptyText }),\n        emptyValue: emptyValue,\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n    }), [\n        allowDuplicates,\n        allowEmpty,\n        choices,\n        emptyText,\n        emptyValue,\n        getChoiceText,\n        getChoiceValue,\n        limitChoicesToValue,\n        matchSuggestion,\n        optionText,\n        optionValue,\n        selectedItem,\n        suggestionLimit,\n        translate,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getSuggestions: getSuggestions,\n    };\n};\nexport default useSuggestions;\nvar escapeRegExp = function (value) {\n    return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nvar defaultMatchSuggestion = function (getChoiceText) { return function (filter, suggestion) {\n    var suggestionText = getChoiceText(suggestion);\n    var isReactElement = isValidElement(suggestionText);\n    return isReactElement\n        ? false\n        : suggestionText &&\n            suggestionText.match(\n            // We must escape any RegExp reserved characters to avoid errors\n            // For example, the filter might contains * which must be escaped as \\*\n            new RegExp(escapeRegExp(filter), 'i'));\n}; };\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport var getSuggestionsFactory = function (_a) {\n    var _b = _a.choices, choices = _b === void 0 ? [] : _b, allowDuplicates = _a.allowDuplicates, allowEmpty = _a.allowEmpty, emptyText = _a.emptyText, emptyValue = _a.emptyValue, optionText = _a.optionText, optionValue = _a.optionValue, getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue, _c = _a.limitChoicesToValue, limitChoicesToValue = _c === void 0 ? false : _c, _d = _a.matchSuggestion, matchSuggestion = _d === void 0 ? defaultMatchSuggestion(getChoiceText) : _d, selectedItem = _a.selectedItem, _e = _a.suggestionLimit, suggestionLimit = _e === void 0 ? 0 : _e;\n    return function (filter) {\n        var suggestions = [];\n        // if an item is selected and matches the filter\n        if (selectedItem &&\n            !Array.isArray(selectedItem) &&\n            matchSuggestion(filter, selectedItem)) {\n            if (limitChoicesToValue) {\n                // display only the selected item\n                suggestions = choices.filter(function (choice) {\n                    return getChoiceValue(choice) === getChoiceValue(selectedItem);\n                });\n            }\n            else if (!allowDuplicates) {\n                // ignore the filter to show more choices\n                suggestions = removeAlreadySelectedSuggestions(choices, selectedItem, getChoiceValue);\n            }\n            else {\n                suggestions = choices;\n            }\n        }\n        else {\n            suggestions = choices.filter(function (choice) { return matchSuggestion(filter, choice); });\n            if (!allowDuplicates) {\n                suggestions = removeAlreadySelectedSuggestions(suggestions, selectedItem, getChoiceValue);\n            }\n        }\n        suggestions = limitSuggestions(suggestions, suggestionLimit);\n        if (allowEmpty) {\n            suggestions = addEmptySuggestion(suggestions, {\n                optionText: optionText,\n                optionValue: optionValue,\n                emptyText: emptyText,\n                emptyValue: emptyValue,\n            });\n        }\n        return suggestions;\n    };\n};\n/**\n * @example\n *\n * removeAlreadySelectedSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  [{ id: 1, name: 'foo'}]\n * );\n *\n * // Will return [{ id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param selectedItems List of selection\n * @param getChoiceValue Converter function from suggestion to value\n */\nvar removeAlreadySelectedSuggestions = function (suggestions, selectedItems, getChoiceValue) {\n    if (!selectedItems) {\n        return suggestions;\n    }\n    var selectedValues = Array.isArray(selectedItems)\n        ? selectedItems.map(getChoiceValue)\n        : [getChoiceValue(selectedItems)];\n    return suggestions.filter(function (suggestion) { return !selectedValues.includes(getChoiceValue(suggestion)); });\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nvar limitSuggestions = function (suggestions, limit) {\n    if (limit === void 0) { limit = 0; }\n    return Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n};\n/**\n * addEmptySuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n */\nvar addEmptySuggestion = function (suggestions, _a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.emptyText, emptyText = _d === void 0 ? '' : _d, _e = _a.emptyValue, emptyValue = _e === void 0 ? null : _e;\n    var newSuggestions = suggestions;\n    var emptySuggestion = {};\n    set(emptySuggestion, optionValue, emptyValue);\n    if (typeof optionText === 'string') {\n        set(emptySuggestion, optionText, emptyText);\n    }\n    return [].concat(emptySuggestion, newSuggestions);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport { Paper, Popper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles({\n    suggestionsContainer: {\n        zIndex: 2,\n    },\n    suggestionsPaper: {\n        maxHeight: '50vh',\n        overflowY: 'auto',\n    },\n}, { name: 'RaAutocompleteSuggestionList' });\nvar AutocompleteSuggestionList = function (props) {\n    var children = props.children, className = props.className, isOpen = props.isOpen, menuProps = props.menuProps, inputEl = props.inputEl, suggestionsContainerProps = props.suggestionsContainerProps;\n    var classes = useStyles(props);\n    return (React.createElement(Popper, __assign({ open: isOpen, anchorEl: inputEl, className: classnames(classes.suggestionsContainer, className), modifiers: {} }, suggestionsContainerProps),\n        React.createElement(\"div\", __assign({}, (isOpen ? menuProps : {})),\n            React.createElement(Paper, { square: true, style: {\n                    marginTop: 8,\n                    minWidth: inputEl ? inputEl.clientWidth : null,\n                }, className: classes.suggestionsPaper }, children))));\n};\nexport default AutocompleteSuggestionList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { isValidElement, cloneElement } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        fontWeight: 400,\n    },\n    selected: {\n        fontWeight: 500,\n    },\n    suggestion: {\n        display: 'block',\n        fontFamily: theme.typography.fontFamily,\n        minHeight: 24,\n    },\n    suggestionText: { fontWeight: 300 },\n    highlightedSuggestionText: { fontWeight: 500 },\n}); }, { name: 'RaAutocompleteSuggestionItem' });\nvar AutocompleteSuggestionItem = function (props) {\n    var _a;\n    var suggestion = props.suggestion, index = props.index, highlightedIndex = props.highlightedIndex, isSelected = props.isSelected, filterValue = props.filterValue, classesOverride = props.classes, getSuggestionText = props.getSuggestionText, rest = __rest(props, [\"suggestion\", \"index\", \"highlightedIndex\", \"isSelected\", \"filterValue\", \"classes\", \"getSuggestionText\"]);\n    var classes = useStyles(props);\n    var isHighlighted = highlightedIndex === index;\n    var suggestionText = getSuggestionText(suggestion);\n    var matches;\n    var parts;\n    if (!isValidElement(suggestionText)) {\n        matches = match(suggestionText, filterValue);\n        parts = parse(suggestionText, matches);\n    }\n    return (React.createElement(MenuItem, __assign({ key: suggestionText, selected: isHighlighted, className: classnames(classes.root, (_a = {},\n            _a[classes.selected] = isSelected,\n            _a)) }, rest), isValidElement(suggestionText) ? (cloneElement(suggestionText, { filterValue: filterValue })) : (React.createElement(\"div\", { className: classes.suggestion }, parts.map(function (part, index) {\n        return part.highlight ? (React.createElement(\"span\", { key: index, className: classes.highlightedSuggestionText }, part.text)) : (React.createElement(\"strong\", { key: index, className: classes.suggestionText }, part.text));\n    })))));\n};\nexport default AutocompleteSuggestionItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback, useEffect, useRef, useState, useMemo, isValidElement, } from 'react';\nimport Downshift from 'downshift';\nimport get from 'lodash/get';\nimport classNames from 'classnames';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useInput, FieldTitle, useSuggestions, useTranslate, warning, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport AutocompleteSuggestionList from './AutocompleteSuggestionList';\nimport AutocompleteSuggestionItem from './AutocompleteSuggestionItem';\n/**\n * An Input component for an autocomplete field, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <AutocompleteInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * Note that you must also specify the `matchSuggestion` prop\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue);\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n *\n * @example\n * <AutocompleteInput source=\"author_id\" options={{ color: 'secondary', InputLabelProps: { shrink: true } }} />\n */\nvar AutocompleteInput = function (props) {\n    var allowEmpty = props.allowEmpty, className = props.className, classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, _a = props.choices, choices = _a === void 0 ? [] : _a, disabled = props.disabled, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, fullWidth = props.fullWidth, helperText = props.helperText, idOverride = props.id, inputOverride = props.input, isRequiredOverride = props.isRequired, label = props.label, limitChoicesToValue = props.limitChoicesToValue, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, matchSuggestion = props.matchSuggestion, metaOverride = props.meta, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, _c = props.options, _d = _c === void 0 ? {\n        suggestionsContainerProps: undefined,\n        labelProps: undefined,\n        InputProps: undefined,\n    } : _c, suggestionsContainerProps = _d.suggestionsContainerProps, labelProps = _d.labelProps, InputProps = _d.InputProps, options = __rest(_d, [\"suggestionsContainerProps\", \"labelProps\", \"InputProps\"]), _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, inputText = props.inputText, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, parse = props.parse, resettable = props.resettable, resource = props.resource, setFilter = props.setFilter, shouldRenderSuggestionsOverride = props.shouldRenderSuggestions, source = props.source, suggestionLimit = props.suggestionLimit, _g = props.translateChoice, translateChoice = _g === void 0 ? true : _g, validate = props.validate, _h = props.variant, variant = _h === void 0 ? 'filled' : _h, rest = __rest(props, [\"allowEmpty\", \"className\", \"classes\", \"clearAlwaysVisible\", \"choices\", \"disabled\", \"emptyText\", \"emptyValue\", \"format\", \"fullWidth\", \"helperText\", \"id\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"margin\", \"matchSuggestion\", \"meta\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"inputText\", \"optionValue\", \"parse\", \"resettable\", \"resource\", \"setFilter\", \"shouldRenderSuggestions\", \"source\", \"suggestionLimit\", \"translateChoice\", \"validate\", \"variant\"]);\n    if (isValidElement(optionText) && !inputText) {\n        throw new Error(\"If the optionText prop is a React element, you must also specify the inputText prop:\\n        <AutocompleteInput\\n            inputText={(record) => record.title}\\n        />\");\n    }\n    warning(isValidElement(optionText) && !matchSuggestion, \"If the optionText prop is a React element, you must also specify the matchSuggestion prop:\\n<AutocompleteInput\\n    matchSuggestion={(filterValue, suggestion) => true}\\n/>\\n        \");\n    warning(source === undefined, \"If you're not wrapping the AutocompleteInput inside a ReferenceInput, you must provide the source prop\");\n    warning(choices === undefined, \"If you're not wrapping the AutocompleteInput inside a ReferenceInput, you must provide the choices prop\");\n    var classes = useStyles(props);\n    var inputEl = useRef();\n    var anchorEl = useRef();\n    var translate = useTranslate();\n    var _j = useInput(__assign({ format: format, id: idOverride, input: inputOverride, meta: metaOverride, onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _j.id, input = _j.input, isRequired = _j.isRequired, _k = _j.meta, touched = _k.touched, error = _k.error;\n    var _l = useState(''), filterValue = _l[0], setFilterValue = _l[1];\n    var getSuggestionFromValue = useCallback(function (value) { return choices.find(function (choice) { return get(choice, optionValue) === value; }); }, [choices, optionValue]);\n    var selectedItem = useMemo(function () { return getSuggestionFromValue(input.value) || null; }, [input.value, getSuggestionFromValue]);\n    var _m = useSuggestions({\n        allowEmpty: allowEmpty,\n        choices: choices,\n        emptyText: emptyText,\n        emptyValue: emptyValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n        translateChoice: translateChoice,\n    }), getChoiceText = _m.getChoiceText, getChoiceValue = _m.getChoiceValue, getSuggestions = _m.getSuggestions;\n    var handleFilterChange = useCallback(function (eventOrValue) {\n        var event = eventOrValue;\n        var value = event.target\n            ? event.target.value\n            : eventOrValue;\n        if (setFilter) {\n            setFilter(value);\n        }\n    }, [setFilter]);\n    // We must reset the filter every time the value changes to ensure we\n    // display at least some choices even if the input has a value.\n    // Otherwise, it would only display the currently selected one and the user\n    // would have to first clear the input before seeing any other choices\n    useEffect(function () {\n        handleFilterChange('');\n        // If we have a value, set the filter to its text so that\n        // Downshift displays it correctly\n        setFilterValue(typeof input.value === 'undefined' ||\n            input.value === null ||\n            selectedItem === null\n            ? ''\n            : inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem));\n    }, [\n        input.value,\n        handleFilterChange,\n        selectedItem,\n        getChoiceText,\n        inputText,\n    ]);\n    var handleChange = useCallback(function (item) {\n        if (getChoiceValue(item) == null && filterValue) {\n            setFilterValue('');\n        }\n        input.onChange(getChoiceValue(item));\n    }, [filterValue, getChoiceValue, input]);\n    // This function ensures that the suggestion list stay aligned to the\n    // input element even if it moves (because user scrolled for example)\n    var updateAnchorEl = function () {\n        if (!inputEl.current) {\n            return;\n        }\n        var inputPosition = inputEl.current.getBoundingClientRect();\n        // It works by implementing a mock element providing the only method used\n        // by the PopOver component, getBoundingClientRect, which will return a\n        // position based on the input position\n        if (!anchorEl.current) {\n            anchorEl.current = { getBoundingClientRect: function () { return inputPosition; } };\n        }\n        else {\n            var anchorPosition = anchorEl.current.getBoundingClientRect();\n            if (anchorPosition.x !== inputPosition.x ||\n                anchorPosition.y !== inputPosition.y) {\n                anchorEl.current = {\n                    getBoundingClientRect: function () { return inputPosition; },\n                };\n            }\n        }\n    };\n    var storeInputRef = function (input) {\n        inputEl.current = input;\n        updateAnchorEl();\n    };\n    var handleBlur = useCallback(function (event) {\n        handleFilterChange('');\n        // If we had a value before, set the filter back to its text so that\n        // Downshift displays it correctly\n        setFilterValue(input.value\n            ? inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem)\n            : '');\n        input.onBlur(event);\n    }, [getChoiceText, handleFilterChange, input, inputText, selectedItem]);\n    var handleFocus = useCallback(function (openMenu) { return function (event) {\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var shouldRenderSuggestions = function (val) {\n        if (shouldRenderSuggestionsOverride !== undefined &&\n            typeof shouldRenderSuggestionsOverride === 'function') {\n            return shouldRenderSuggestionsOverride(val);\n        }\n        return true;\n    };\n    var _o = InputProps || {}, endAdornment = _o.endAdornment, InputPropsWithoutEndAdornment = __rest(_o, [\"endAdornment\"]);\n    var handleClickClearButton = useCallback(function (openMenu) { return function (event) {\n        event.stopPropagation();\n        setFilterValue('');\n        input.onChange('');\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var getEndAdornment = function (openMenu) {\n        var _a;\n        if (!resettable) {\n            return endAdornment;\n        }\n        else if (!filterValue) {\n            var label_1 = translate('ra.action.clear_input_value');\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\" },\n                    React.createElement(IconButton, { className: classes.clearButton, \"aria-label\": label_1, title: label_1, disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(classes.clearIcon, classes.visibleClearIcon) }))));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(\"span\", { className: classes.clearButton }, \"\\u00A0\")));\n                }\n            }\n        }\n        else {\n            // show clear\n            var label_2 = translate('ra.action.clear_input_value');\n            return (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(IconButton, { className: classes.clearButton, \"aria-label\": label_2, title: label_2, disableRipple: true, onClick: handleClickClearButton(openMenu), onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(classes.clearIcon, (_a = {},\n                            _a[classes.visibleClearIcon] = clearAlwaysVisible || filterValue,\n                            _a)) }))));\n        }\n    };\n    return (React.createElement(Downshift, __assign({ inputValue: filterValue, onChange: handleChange, selectedItem: selectedItem, itemToString: function (item) { return getChoiceValue(item); } }, rest), function (_a) {\n        var getInputProps = _a.getInputProps, getItemProps = _a.getItemProps, getLabelProps = _a.getLabelProps, getMenuProps = _a.getMenuProps, isOpen = _a.isOpen, highlightedIndex = _a.highlightedIndex, openMenu = _a.openMenu;\n        var isMenuOpen = isOpen && shouldRenderSuggestions(filterValue);\n        var _b = getInputProps(__assign({ onBlur: handleBlur, onFocus: handleFocus(openMenu) }, InputProps)), downshiftId = _b.id, // We want to ignore this to correctly link our label and the input\n        value = _b.value, onBlur = _b.onBlur, onChange = _b.onChange, onFocus = _b.onFocus, ref = _b.ref, size = _b.size, color = _b.color, inputProps = __rest(_b, [\"id\", \"value\", \"onBlur\", \"onChange\", \"onFocus\", \"ref\", \"size\", \"color\"]);\n        var suggestions = getSuggestions(filterValue);\n        return (React.createElement(\"div\", { className: classes.container },\n            React.createElement(TextField, __assign({ id: id, name: input.name, InputProps: __assign({ inputRef: storeInputRef, endAdornment: getEndAdornment(openMenu), onBlur: onBlur, onChange: function (event) {\n                        handleFilterChange(event);\n                        setFilterValue(event.target.value);\n                        onChange(event);\n                    }, onFocus: onFocus }, InputPropsWithoutEndAdornment), error: !!(touched && error), label: React.createElement(FieldTitle, __assign({ label: label }, labelProps, { source: source, resource: resource, isRequired: typeof isRequiredOverride !==\n                        'undefined'\n                        ? isRequiredOverride\n                        : isRequired })), InputLabelProps: getLabelProps({\n                    htmlFor: id,\n                }), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), disabled: disabled, variant: variant, margin: margin, fullWidth: fullWidth, value: filterValue, className: className, size: size, color: color }, inputProps, options)),\n            React.createElement(AutocompleteSuggestionList, { isOpen: isMenuOpen, menuProps: getMenuProps({}, \n                // https://github.com/downshift-js/downshift/issues/235\n                { suppressRefError: true }), inputEl: inputEl.current, suggestionsContainerProps: suggestionsContainerProps, className: classes.suggestionsContainer }, suggestions.map(function (suggestion, index) { return (React.createElement(AutocompleteSuggestionItem, __assign({ key: getChoiceValue(suggestion), suggestion: suggestion, index: index, highlightedIndex: highlightedIndex, isSelected: input.value ===\n                    getChoiceValue(suggestion), filterValue: filterValue, getSuggestionText: getChoiceText }, getItemProps({\n                item: suggestion,\n            })))); }))));\n    }));\n};\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nvar useStyles = makeStyles({\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n    suggestionsContainer: {},\n}, { name: 'RaAutocompleteInput' });\nexport default AutocompleteInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Field using a render function\n *\n * @example\n * <FunctionField\n *     source=\"last_name\" // used for sorting\n *     label=\"Name\"\n *     render={record => record && `${record.first_name} ${record.last_name}`}\n * />\n */\nvar FunctionField = function (_a) {\n    var className = _a.className, record = _a.record, _b = _a.source, source = _b === void 0 ? '' : _b, render = _a.render, rest = __rest(_a, [\"className\", \"record\", \"source\", \"render\"]);\n    return useMemo(function () {\n        return record ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), render(record, source))) : null;\n    }, [className, record, source, render, rest]);\n};\nFunctionField.defaultProps = {\n    addLabel: true,\n};\nFunctionField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nexport default FunctionField;\n","import * as React from 'react';\nimport { FunctionField, FieldProps } from 'react-admin';\nimport { Order } from '../types';\n\nconst render = (record?: Order) => record && record.basket.length;\n\nconst NbItemsField = ({ record }: FieldProps<Order>) => (\n    <FunctionField<Order> record={record} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'resources.commands.fields.nb_items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField: FC<\n    Omit<ReferenceFieldProps, 'reference' | 'children' | 'source'> & {\n        source?: string;\n    }\n> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city}, {record.stateAbbr} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst OrderFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice: Customer) =>\n                    choice.id // the empty choice is { id: '' }\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalOrdered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ordered' }\n    );\n    const { total: totalDelivered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'delivered' }\n    );\n    const { total: totalCancelled } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'cancelled' }\n    );\n\n    return {\n        ordered: totalOrdered,\n        delivered: totalDelivered,\n        cancelled: totalCancelled,\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([] as Identifier[]);\n    const [delivered, setDelivered] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [cancelled, setCancelled] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: ordered }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: delivered }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: cancelled }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import PropTypes from 'prop-types';\n/**\n * Common PropTypes for all react-admin inputs\n */\nvar InputPropTypes = {\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nexport default InputPropTypes;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Switch from '@material-ui/core/Switch';\nimport { FieldTitle, useInput } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nimport InputPropTypes from './InputPropTypes';\nvar BooleanInput = function (_a) {\n    var format = _a.format, label = _a.label, fullWidth = _a.fullWidth, helperText = _a.helperText, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, options = _a.options, disabled = _a.disabled, parse = _a.parse, resource = _a.resource, source = _a.source, validate = _a.validate, rest = __rest(_a, [\"format\", \"label\", \"fullWidth\", \"helperText\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"disabled\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _b = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'checkbox', validate: validate }, rest)), id = _b.id, _c = _b.input, finalFormOnChange = _c.onChange, type = _c.type, value = _c.value, inputProps = __rest(_c, [\"onChange\", \"type\", \"value\"]), isRequired = _b.isRequired, _d = _b.meta, error = _d.error, touched = _d.touched;\n    var handleChange = useCallback(function (event, value) {\n        finalFormOnChange(value);\n    }, [finalFormOnChange]);\n    return (React.createElement(FormGroup, __assign({}, sanitizeInputRestProps(rest)),\n        React.createElement(FormControlLabel, { control: React.createElement(Switch, __assign({ id: id, color: \"primary\", onChange: handleChange }, inputProps, options, { disabled: disabled })), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }) }),\n        React.createElement(FormHelperText, { error: !!error },\n            React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }))));\n};\nBooleanInput.propTypes = __assign(__assign({}, InputPropTypes), { \n    // @ts-ignore\n    options: PropTypes.shape(Switch.propTypes), disabled: PropTypes.bool });\nBooleanInput.defaultProps = {\n    options: {},\n};\nexport default BooleanInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, FieldProps, useTranslate, useQueryWithStore } from 'react-admin';\n\nimport { AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    rightAlignedCell: { textAlign: 'right' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore<AppState>(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        state => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Table>\n            <TableHead>\n                <TableRow>\n                    <TableCell>\n                        {translate(\n                            'resources.commands.fields.basket.reference'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate(\n                            'resources.commands.fields.basket.unit_price'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.quantity')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {record.basket.map(\n                    (item: any) =>\n                        products[item.product_id] && (\n                            <TableRow key={item.product_id}>\n                                <TableCell>\n                                    <Link to={`/products/${item.product_id}`}>\n                                        {products[item.product_id].reference}\n                                    </Link>\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {products[\n                                        item.product_id\n                                    ].price.toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {item.quantity}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {(\n                                        products[item.product_id].price *\n                                        item.quantity\n                                    ).toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                            </TableRow>\n                        )\n                )}\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport classnames from 'classnames';\nimport { Table, TableBody, TableCell, TableRow } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Totals: FC<FieldProps<Order>> = ({ record }: { record?: Order }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <Table className={classes.container}>\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.sum')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.total_ex_taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.delivery')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.delivery_fees.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.taxes')} (\n                        {record?.tax_rate.toLocaleString(undefined, {\n                            style: 'percent',\n                        })}\n                        )\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell className={classes.boldCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                    <TableCell\n                        className={classnames(\n                            classes.boldCell,\n                            classes.rightAlignedCell\n                        )}\n                    >\n                        {record?.total.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Totals;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Edit,\n    EditProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useTranslate,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Order, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\ninterface OrderTitleProps {\n    record?: Order;\n}\n\nconst OrderTitle: FC<OrderTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\nconst CustomerDetails = ({ record }: { record?: Customer }) => (\n    <Box display=\"flex\" flexDirection=\"column\">\n        <Typography\n            component={RouterLink}\n            color=\"primary\"\n            to={`/customers/${record?.id}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography\n            component={Link}\n            color=\"primary\"\n            href={`mailto:${record?.email}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.email}\n        </Typography>\n    </Box>\n);\n\nconst CustomerAddress = ({ record }: { record?: Customer }) => (\n    <Box>\n        <Typography>\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography>{record?.address}</Typography>\n        <Typography>\n            {record?.city}, {record?.stateAbbr} {record?.zipcode}\n        </Typography>\n    </Box>\n);\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\nconst OrderForm = (props: any) => {\n    const translate = useTranslate();\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps: any) => (\n                <Box maxWidth=\"50em\">\n                    <Card>\n                        <CardContent>\n                            <Grid container spacing={1}>\n                                <Grid item xs={12} sm={12} md={8}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.order'\n                                        )}\n                                    </Typography>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"date\"\n                                                resource=\"commands\"\n                                            >\n                                                <DateField\n                                                    source=\"date\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"reference\"\n                                                resource=\"commands\"\n                                            >\n                                                <TextField\n                                                    source=\"reference\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <SelectInput\n                                                resource=\"commands\"\n                                                source=\"status\"\n                                                choices={[\n                                                    {\n                                                        id: 'delivered',\n                                                        name: 'delivered',\n                                                    },\n                                                    {\n                                                        id: 'ordered',\n                                                        name: 'ordered',\n                                                    },\n                                                    {\n                                                        id: 'cancelled',\n                                                        name: 'cancelled',\n                                                    },\n                                                    {\n                                                        id: 'unknown',\n                                                        name: 'unknown',\n                                                        disabled: true,\n                                                    },\n                                                ]}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Box mt={2}>\n                                                <BooleanInput\n                                                    row={true}\n                                                    resource=\"commands\"\n                                                    source=\"returned\"\n                                                />\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.customer'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerDetails />\n                                    </ReferenceField>\n                                    <Spacer />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.shipping_address'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerAddress />\n                                    </ReferenceField>\n                                </Grid>\n                            </Grid>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.items')}\n                            </Typography>\n                            <Box>\n                                <Basket record={formProps.record} />\n                            </Box>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.total')}\n                            </Typography>\n                            <Box>\n                                <Totals record={formProps.record} />\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"commands\"\n                        />\n                    </Card>\n                </Box>\n            )}\n        />\n    );\n};\nconst OrderEdit: FC<EditProps> = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            classes={classes}\n            {...props}\n            component=\"div\"\n        >\n            <OrderForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import { UPDATE_MANY } from '../../core';\nexport var crudUpdateMany = function (resource, ids, data, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE_MANY,\n        payload: { ids: ids, data: data },\n        meta: {\n            resource: resource,\n            fetch: UPDATE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE_MANY = 'RA/CRUD_UPDATE_MANY';\nexport var CRUD_UPDATE_MANY_LOADING = 'RA/CRUD_UPDATE_MANY_LOADING';\nexport var CRUD_UPDATE_MANY_FAILURE = 'RA/CRUD_UPDATE_MANY_FAILURE';\nexport var CRUD_UPDATE_MANY_SUCCESS = 'RA/CRUD_UPDATE_MANY_SUCCESS';\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkAcceptButton: FC<BulkActionProps> = ({\n    selectedIds = noSelection,\n}) => {\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkRejectButton: FC<BulkActionProps> = ({\n    selectedIds = noSelection,\n}) => {\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { Review, Customer } from './../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewListMobile = () => {\n    const classes = useStyles();\n    const { basePath, data, ids, loaded, total } = useListContext<Review>();\n\n    return loaded || Number(total) > 0 ? (\n        <List className={classes.root}>\n            {(ids as Exclude<typeof ids, undefined>).map(id => {\n                const item = (data as Exclude<typeof data, undefined>)[id];\n                if (!item) return null;\n\n                return (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={item}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    link={false}\n                                >\n                                    <AvatarField size=\"40\" />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <FunctionField\n                                                render={(record?: Record) =>\n                                                    record\n                                                        ? `${\n                                                              (record as Customer)\n                                                                  .first_name\n                                                          } ${\n                                                              (record as Customer)\n                                                                  .last_name\n                                                          }`\n                                                        : ''\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={item.comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                );\n            })}\n        </List>\n    ) : null;\n};\n\nReviewListMobile.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.any,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    onToggleItem: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nReviewListMobile.defaultProps = {\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\ninterface Props {\n    source?: string;\n}\n\nconst ProductReferenceField: FC<\n    Props & Omit<Omit<ReferenceFieldProps, 'source'>, 'reference' | 'children'>\n> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n        display: 'flex',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span className={classes.root}>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Identifier } from 'react-admin';\n\nimport { Review } from './../types';\n\nconst rowStyle = (selectedRow?: Identifier) => (record: Review) => {\n    const theme = useTheme();\n    let style = {};\n    if (!record) {\n        return style;\n    }\n    if (selectedRow && selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Identifier,\n    Datagrid,\n    DateField,\n    TextField,\n    DatagridProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'transparent',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nexport interface ReviewListDesktopProps extends DatagridProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewListDesktop: FC<ReviewListDesktopProps> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            // @ts-ignore\n            rowStyle={rowStyle(selectedRow)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    FilterProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Customer } from '../types';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter: FC<Omit<FilterProps, 'children'>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice?: Customer) =>\n                        choice?.id // the empty choice is { id: '' }\n                            ? `${choice.first_name} ${choice.last_name}`\n                            : ''\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from './../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default AcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default RejectButton;\n","import * as React from 'react';\nimport { Fragment, FC } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps<Review>> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    useEditController,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\ninterface Props extends EditProps {\n    onCancel: () => void;\n}\n\nconst ReviewEdit: FC<Props> = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController<Review>(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <EditContextProvider value={controllerProps}>\n                <SimpleForm\n                    className={classes.form}\n                    basePath={controllerProps.basePath}\n                    record={controllerProps.record}\n                    save={controllerProps.save}\n                    version={controllerProps.version}\n                    redirect=\"list\"\n                    resource=\"reviews\"\n                    toolbar={<ReviewEditToolbar />}\n                >\n                    <CustomerReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <ProductReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <DateField\n                        source=\"date\"\n                        formClassName={classes.inlineField}\n                    />\n                    <StarRatingField formClassName={classes.inlineField} />\n                    <TextInput\n                        source=\"comment\"\n                        rowsMax={15}\n                        multiline\n                        fullWidth\n                    />\n                </SimpleForm>\n            </EditContextProvider>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import * as React from 'react';\nimport { Fragment, useCallback, FC } from 'react';\nimport classnames from 'classnames';\nimport {\n    BulkDeleteButton,\n    List,\n    ListProps,\n    BulkActionProps,\n} from 'react-admin';\nimport { Route, RouteChildrenProps, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = (props: BulkActionProps) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListProps> = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }: RouteChildrenProps<{ id: string }>) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch\n                                                ? parseInt(\n                                                      (match as any).params.id,\n                                                      10\n                                                  )\n                                                : undefined\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={(match as any).params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    Record,\n    RecordMap,\n    Identifier,\n    ReferenceField,\n    useLocale,\n} from 'react-admin';\nimport {\n    Typography,\n    Card,\n    CardContent,\n    Box,\n    Link,\n    Stepper,\n    Step,\n    StepLabel,\n    StepContent,\n} from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport order from '../orders';\nimport review from '../reviews';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order as OrderRecord, Review as ReviewRecord } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\ninterface AsideProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst Aside: FC<AsideProps> = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\ninterface EventListProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst useEventStyles = makeStyles({\n    stepper: {\n        background: 'none',\n        border: 'none',\n        marginLeft: '0.3em',\n    },\n});\n\nconst EventList: FC<EventListProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    const locale = useLocale();\n    const { data: orders, ids: orderIds } = useGetList<OrderRecord>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<ReviewRecord>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds && orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds && reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n            <Stepper orientation=\"vertical\" classes={{ root: classes.stepper }}>\n                {events.map(event => (\n                    <Step\n                        key={`${event.type}-${event.data.id}`}\n                        expanded\n                        active\n                        completed\n                    >\n                        <StepLabel\n                            StepIconComponent={() => {\n                                const Component =\n                                    event.type === 'order'\n                                        ? order.icon\n                                        : review.icon;\n                                return (\n                                    <Component\n                                        fontSize=\"small\"\n                                        color=\"disabled\"\n                                        style={{ paddingLeft: 3 }}\n                                    />\n                                );\n                            }}\n                        >\n                            {new Date(event.date).toLocaleString(locale, {\n                                weekday: 'long',\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric',\n                                hour: 'numeric',\n                                minute: 'numeric',\n                            })}\n                        </StepLabel>\n                        <StepContent>\n                            {event.type === 'order' ? (\n                                <Order\n                                    record={event.data as OrderRecord}\n                                    key={`event_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            ) : (\n                                <Review\n                                    record={event.data as ReviewRecord}\n                                    key={`review_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            )}\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </>\n    );\n};\n\ninterface AsideEvent {\n    type: string;\n    date: Date;\n    data: OrderRecord | ReviewRecord;\n}\n\nconst mixOrdersAndReviews = (\n    orders?: RecordMap<OrderRecord>,\n    orderIds?: Identifier[],\n    reviews?: RecordMap<ReviewRecord>,\n    reviewIds?: Identifier[]\n): AsideEvent[] => {\n    const eventsFromOrders =\n        orderIds && orders\n            ? orderIds.map<AsideEvent>(id => ({\n                  type: 'order',\n                  date: orders[id].date,\n                  data: orders[id],\n              }))\n            : [];\n    const eventsFromReviews =\n        reviewIds && reviews\n            ? reviewIds.map<AsideEvent>(id => ({\n                  type: 'review',\n                  date: reviews[id].date,\n                  data: reviews[id],\n              }))\n            : [];\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort(\n        (e1, e2) => new Date(e2.date).getTime() - new Date(e1.date).getTime()\n    );\n    return events;\n};\n\ninterface OrderProps {\n    record?: OrderRecord;\n    basePath?: string;\n}\n\nconst Order: FC<OrderProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/commands/${record.id}`} component={RouterLink}>\n                    {translate('resources.commands.name', {\n                        smart_count: 1,\n                    })}{' '}\n                    #{record.reference}\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n                {translate('resources.commands.nb_items', {\n                    smart_count: record.basket.length,\n                    _: '1 item |||| %{smart_count} items',\n                })}\n                &nbsp;-&nbsp;\n                <NumberField\n                    source=\"total\"\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    record={record}\n                    basePath={basePath}\n                />\n                &nbsp;-&nbsp;\n                <TextField\n                    source=\"status\"\n                    record={record}\n                    basePath={basePath}\n                />\n            </Typography>\n        </>\n    ) : null;\n};\n\ninterface ReviewProps {\n    record?: ReviewRecord;\n    basePath?: string;\n}\n\nconst useReviewStyles = makeStyles({\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Review: FC<ReviewProps> = ({ record, basePath }) => {\n    const classes = useReviewStyles();\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/reviews/${record.id}`} component={RouterLink}>\n                    {translate('resources.reviews.relative_to_poster')} \"\n                    <ReferenceField\n                        source=\"product_id\"\n                        reference=\"products\"\n                        resource=\"reviews\"\n                        record={record}\n                        basePath={basePath}\n                        link={false}\n                    >\n                        <TextField source=\"reference\" component=\"span\" />\n                    </ReferenceField>\n                    \"\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                <StarRatingField record={record} />\n            </Typography>\n            <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                className={classes.clamp}\n            >\n                {record.comment}\n            </Typography>\n        </>\n    ) : null;\n};\n\nexport default Aside;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useRef, useState, useEffect, } from 'react';\nimport PropTypes from 'prop-types';\nimport { Select, MenuItem, InputLabel, FormHelperText, FormControl, Chip, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { FieldTitle, useInput, useChoices, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, alwaysOn = _a.alwaysOn, basePath = _a.basePath, choices = _a.choices, classNamInputWithOptionsPropse = _a.classNamInputWithOptionsPropse, componenInputWithOptionsPropst = _a.componenInputWithOptionsPropst, crudGetMInputWithOptionsPropsatching = _a.crudGetMInputWithOptionsPropsatching, crudGetOInputWithOptionsPropsne = _a.crudGetOInputWithOptionsPropsne, defaultValue = _a.defaultValue, filter = _a.filter, filterToQuery = _a.filterToQuery, formClassName = _a.formClassName, initializeForm = _a.initializeForm, input = _a.input, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, loaded = _a.loaded, locale = _a.locale, meta = _a.meta, onChange = _a.onChange, options = _a.options, optionValue = _a.optionValue, optionText = _a.optionText, perPage = _a.perPage, record = _a.record, reference = _a.reference, resource = _a.resource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, source = _a.source, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, validation = _a.validation, rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"alwaysOn\", \"basePath\", \"choices\", \"classNamInputWithOptionsPropse\", \"componenInputWithOptionsPropst\", \"crudGetMInputWithOptionsPropsatching\", \"crudGetOInputWithOptionsPropsne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: theme.spacing(1 / 4),\n    },\n}); }, { name: 'RaSelectArrayInput' });\n/**\n * An Input component for a select box allowing multiple selections, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <SelectArrayInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectArrayInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\nvar SelectArrayInput = function (props) {\n    var _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, format = props.format, helperText = props.helperText, label = props.label, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, _c = props.variant, variant = _c === void 0 ? 'filled' : _c, rest = __rest(props, [\"choices\", \"classes\", \"className\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\", \"variant\"]);\n    var classes = useStyles(props);\n    var inputLabel = useRef(null);\n    var _d = useState(0), labelWidth = _d[0], setLabelWidth = _d[1];\n    useEffect(function () {\n        setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n    var _e = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _e.getChoiceText, getChoiceValue = _e.getChoiceValue;\n    var _f = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), input = _f.input, isRequired = _f.isRequired, _g = _f.meta, error = _g.error, touched = _g.touched;\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    var renderMenuItem = useCallback(function (choice) {\n        return choice ? (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice) }, renderMenuItemOption(choice))) : null;\n    }, [getChoiceValue, renderMenuItemOption]);\n    return (React.createElement(FormControl, __assign({ margin: margin, className: classnames(classes.root, className), error: touched && !!error, variant: variant }, sanitizeRestProps(rest)),\n        React.createElement(InputLabel, { ref: inputLabel, id: label + \"-outlined-label\", error: touched && !!error },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(Select, __assign({ autoWidth: true, labelId: label + \"-outlined-label\", multiple: true, error: !!(touched && error), renderValue: function (selected) { return (React.createElement(\"div\", { className: classes.chips }, selected\n                .map(function (item) {\n                return choices.find(function (choice) { return getChoiceValue(choice) === item; });\n            })\n                .map(function (item) { return (React.createElement(Chip, { key: getChoiceValue(item), label: renderMenuItemOption(item), className: classes.chip })); }))); }, \"data-testid\": \"selectArray\" }, input, { value: input.value || [] }, options, { labelWidth: labelWidth }), choices.map(renderMenuItem)),\n        React.createElement(FormHelperText, { error: touched && !!error },\n            React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }))));\n};\nSelectArrayInput.propTypes = {\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    label: PropTypes.string,\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectArrayInput.defaultProps = {\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n};\nexport default SelectArrayInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectArrayInput, InputProps } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            source=\"groups\"\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    required,\n    email,\n    FieldProps,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer } from '../types';\n\nconst VisitorEdit: FC<EditProps> = props => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validate={[email(), required()]}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                        helperText={false}\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={2}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"stateAbbr\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box flex={2}>\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nconst resource = {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n\nexport default resource;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    FieldProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { Customer, Invoice } from '../types';\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController<Invoice>(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import inflection from 'inflection';\nimport useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useGetOne } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../../sideEffect';\nimport { CRUD_GET_ONE } from '../../actions';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\nexport var useShowController = function (props) {\n    useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    var _a = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _a.data, loading = _a.loading, loaded = _a.loaded;\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.show', {\n        name: \"\" + resourceName,\n        id: id,\n        record: record,\n    });\n    return {\n        loading: loading,\n        loaded: loaded,\n        defaultTitle: defaultTitle,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        version: version,\n    };\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    List,\n    ListProps,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    Filter,\n    FilterProps,\n    DateInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst useStyles = makeStyles(theme => ({\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst InvoiceList: FC<ListProps> = props => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            filters={<ListFilters />}\n            perPage={25}\n            sort={{ field: 'date', order: 'desc' }}\n        >\n            <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n                <TextField source=\"id\" />\n                <DateField source=\"date\" />\n                <ReferenceField source=\"customer_id\" reference=\"customers\">\n                    <FullNameField />\n                </ReferenceField>\n                <ReferenceField\n                    source=\"customer_id\"\n                    reference=\"customers\"\n                    link={false}\n                    label=\"resources.invoices.fields.address\"\n                    cellClassName={classes.hiddenOnSmallScreens}\n                    headerClassName={classes.hiddenOnSmallScreens}\n                >\n                    <AddressField />\n                </ReferenceField>\n                <ReferenceField source=\"command_id\" reference=\"commands\">\n                    <TextField source=\"reference\" />\n                </ReferenceField>\n                <NumberField source=\"total_ex_taxes\" />\n                <NumberField source=\"delivery_fees\" />\n                <NumberField source=\"taxes\" />\n                <NumberField source=\"total\" />\n            </Datagrid>\n        </List>\n    );\n};\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nvar convertStringToNumber = function (value) {\n    var float = parseFloat(value);\n    return isNaN(float) ? null : float;\n};\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n */\nvar NumberInput = function (_a) {\n    var format = _a.format, helperText = _a.helperText, label = _a.label, _b = _a.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, _c = _a.parse, parse = _c === void 0 ? convertStringToNumber : _c, resource = _a.resource, source = _a.source, step = _a.step, min = _a.min, max = _a.max, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, overrideInputProps = _a.inputProps, rest = __rest(_a, [\"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"step\", \"min\", \"max\", \"validate\", \"variant\", \"inputProps\"]);\n    var _e = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'number', validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, touched = _f.touched;\n    var inputProps = __assign(__assign({}, overrideInputProps), { step: step, min: min, max: max });\n    return (React.createElement(TextField, __assign({ id: id }, input, { variant: variant, error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), margin: margin, inputProps: inputProps }, options, sanitizeInputRestProps(rest))));\n};\nNumberInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    step: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nNumberInput.defaultProps = {\n    options: {},\n    step: 'any',\n    textAlign: 'right',\n};\nexport default NumberInput;\n","import { useContext } from 'react';\nimport ListSortContext from './ListSortContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListSortContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListSortContext = function (props) {\n    var context = useContext(ListSortContext);\n    if (!context.setSort) {\n        /**\n         * The element isn't inside a <ListSortContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListSortContext;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { Button, Menu, MenuItem, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { shallowEqual } from 'react-redux';\nimport { useListSortContext, useTranslate } from 'ra-core';\n/**\n * A button allowing to change the sort field and order.\n *\n * To be used inside a ListContext (e.g. inside a <List> or <ReferenceManyField>)\n *\n * Expects one 'fields' prop, containing an array of field strings that shall\n * be used and displayed for sorting.\n *\n * When users clicks on the <SortButton>, they see a dropdown list with the\n * proposed sorting fields. Once they click on one of these fields, the related\n * list refreshes, re-sorted.\n *\n * @example\n *\n * import * as React from 'react';\n * import { TopToolbar, SortButton, CreateButton, ExportButton } from 'react-admin';\n *\n * const ListActions: FC = props => (\n *     <TopToolbar>\n *         <SortButton fields={['reference', 'sales', 'stock']} />\n *         <CreateButton basePath={props.basePath} />\n *         <ExportButton />\n *     </TopToolbar>\n * );\n */\nvar SortButton = function (_a) {\n    var fields = _a.fields, _b = _a.label, label = _b === void 0 ? 'ra.sort.sort_by' : _b;\n    var _c = useListSortContext(), resource = _c.resource, currentSort = _c.currentSort, setSort = _c.setSort;\n    var translate = useTranslate();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var _d = React.useState(null), anchorEl = _d[0], setAnchorEl = _d[1];\n    var handleClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    var handleChangeSort = function (event) {\n        var field = event.currentTarget.dataset.sort;\n        setSort(field, field === currentSort.field\n            ? inverseOrder(currentSort.order)\n            : 'ASC');\n        setAnchorEl(null);\n    };\n    var buttonLabel = translate(label, {\n        field: translate(\"resources.\" + resource + \".fields.\" + currentSort.field),\n        order: translate(\"ra.sort.\" + currentSort.order),\n        _: label,\n    });\n    return (React.createElement(React.Fragment, null,\n        isXSmall ? (React.createElement(Tooltip, { title: buttonLabel },\n            React.createElement(IconButton, { \"aria-label\": buttonLabel, color: \"primary\", onClick: handleClick },\n                React.createElement(SortIcon, null)))) : (React.createElement(Button, { \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", color: \"primary\", onClick: handleClick, startIcon: React.createElement(SortIcon, null), endIcon: React.createElement(ArrowDropDownIcon, null), size: \"small\" }, buttonLabel)),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, fields.map(function (field) { return (React.createElement(MenuItem, { onClick: handleChangeSort, \"data-sort\": field, key: field },\n            translate(\"resources.\" + resource + \".fields.\" + field),\n            ' ',\n            translate(\"ra.sort.\" + (currentSort.field === field\n                ? inverseOrder(currentSort.order)\n                : 'ASC')))); }))));\n};\nvar inverseOrder = function (sort) { return (sort === 'ASC' ? 'DESC' : 'ASC'); };\nvar arePropsEqual = function (prevProps, nextProps) {\n    return shallowEqual(prevProps.fields, nextProps.fields);\n};\nexport default memo(SortButton, arePropsEqual);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport useListController from './useListController';\nimport ListContextProvider from './ListContextProvider';\n/**\n * Call useListController and put the value in a ListContext\n *\n * Base class for <List> components, without UI.\n *\n * Accepts any props accepted by useListController:\n * - filter: permanent filter applied to the list\n * - filters: Filter element, to display the filters\n * - filterDefaultValues: object;\n * - perPage: Number of results per page\n * - sort: Default sort\n * - exporter: exported function\n *\n * @example // Custom list layout\n *\n * const PostList = props => (\n *     <ListBase {...props} perPage={10}>\n *         <div>\n *              List metrics...\n *         </div>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleList primaryText={record => record.title} />\n *             </Grid>\n *             <Grid item xs={4}>\n *                 List instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ListBase>\n * );\n */\nvar ListBase = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(ListContextProvider, { value: useListController(props) }, children));\n};\nexport default ListBase;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport {\n    linkToRecord,\n    NumberField,\n    useListContext,\n    DatagridProps,\n    Identifier,\n} from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint) => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 3;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList: FC<GridProps & { nbItems?: number }> = ({\n    width,\n    nbItems = 20,\n}) => {\n    const classes = useStyles();\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {' '}\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\nconst LoadedGridList: FC<GridProps> = ({ width }) => {\n    const { ids, data, basePath } = useListContext();\n    const classes = useStyles();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {ids.map((id: Identifier) => (\n                <GridListTile\n                    // @ts-ignore\n                    component={Link}\n                    key={id}\n                    to={linkToRecord(basePath, data[id].id)}\n                >\n                    <img src={data[id].thumbnail} alt=\"\" />\n                    <GridListTileBar\n                        className={classes.tileBar}\n                        title={data[id].reference}\n                        subtitle={\n                            <span>\n                                {data[id].width}x{data[id].height},{' '}\n                                <NumberField\n                                    className={classes.price}\n                                    source=\"price\"\n                                    record={data[id]}\n                                    color=\"inherit\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                />\n                            </span>\n                        }\n                    />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends DatagridProps, WithWidth {}\n\nconst GridList: FC<WithWidth> = ({ width }) => {\n    const { loaded } = useListContext();\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport inflection from 'inflection';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    useGetList,\n} from 'react-admin';\n\nimport { Category } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside: FC = () => {\n    const { data, ids } = useGetList<Category>(\n        'categories',\n        { page: 1, perPage: 100 },\n        { field: 'name', order: 'ASC' },\n        {}\n    );\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    {ids &&\n                        data &&\n                        ids.map((id: any) => (\n                            <FilterListItem\n                                label={inflection.humanize(data[id].name)}\n                                key={data[id].id}\n                                value={{ category_id: data[id].id }}\n                            />\n                        ))}\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CreateButton,\n    ExportButton,\n    Filter,\n    FilterProps,\n    InputProps,\n    ListBase,\n    ListProps,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    SortButton,\n    Title,\n    TopToolbar,\n    useListContext,\n    useTranslate,\n} from 'react-admin';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter: FC<InputProps> = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ListActions: FC<any> = ({ isSmall }) => (\n    <TopToolbar>\n        {isSmall && <ProductFilter context=\"button\" />}\n        <SortButton fields={['reference', 'sales', 'stock']} />\n        <CreateButton basePath=\"/products\" />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst ProductList: FC<ListProps> = props => {\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <ListBase\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView isSmall={isSmall} />\n        </ListBase>\n    );\n};\n\nconst ProductListView: FC<{ isSmall: boolean }> = ({ isSmall }) => {\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <Title defaultTitle={defaultTitle} />\n            <ListActions isSmall={isSmall} />\n            {isSmall && (\n                <Box m={1}>\n                    <ProductFilter context=\"form\" />\n                </Box>\n            )}\n            <Box display=\"flex\">\n                <Aside />\n                <Box width={isSmall ? 'auto' : 'calc(100% - 16em)'}>\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </>\n    );\n};\nexport default ProductList;\n","/**\n * Escape special characters in path so that react-router Route does not do any special treatment\n *\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\n *\n * @example\n *\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\n */\nexport default (function (url) { return url.replace(/(\\(|\\))/g, '\\\\$1'); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useLocation } from 'react-router-dom';\nvar TabbedFormTabs = function (_a) {\n    var children = _a.children, classes = _a.classes, url = _a.url, tabsWithErrors = _a.tabsWithErrors, rest = __rest(_a, [\"children\", \"classes\", \"url\", \"tabsWithErrors\"]);\n    var location = useLocation();\n    var validTabPaths = Children.map(children, function (tab, index) {\n        if (!isValidElement(tab))\n            return undefined;\n        return getTabFullPath(tab, index, url);\n    });\n    // This ensures we don't get warnings from material-ui Tabs component when\n    // the current location pathname targets a dynamically added Tab\n    // In the case the targeted Tab is not present at first render (when\n    // using permissions for example) we temporarily switch to the first\n    // available tab. The current location will be applied again on the\n    // first render containing the targeted tab. This is almost transparent\n    // for the user who may just see a short tab selection animation\n    var tabValue = validTabPaths.includes(location.pathname)\n        ? location.pathname\n        : validTabPaths[0];\n    return (React.createElement(Tabs, __assign({ value: tabValue, indicatorColor: \"primary\" }, rest), Children.map(children, function (tab, index) {\n        if (!isValidElement(tab))\n            return null;\n        // Builds the full tab which is the concatenation of the last matched route in the\n        // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\n        // and the tab path.\n        // This will be used as the Tab's value\n        var tabPath = getTabFullPath(tab, index, url);\n        return cloneElement(tab, {\n            intent: 'header',\n            value: tabPath,\n            className: tabsWithErrors.includes(tab.props.label) &&\n                location.pathname !== tabPath\n                ? classes.errorTabButton\n                : null,\n        });\n    })));\n};\nTabbedFormTabs.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    url: PropTypes.string,\n    tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n};\nexport var getTabFullPath = function (tab, index, baseUrl) {\n    return \"\" + baseUrl + (tab.props.path ? \"/\" + tab.props.path : index > 0 ? \"/\" + index : '');\n};\nexport default TabbedFormTabs;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport * as React from 'react';\nimport { Children, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { escapePath, FormWithRedirect, } from 'ra-core';\nimport get from 'lodash/get';\nimport Toolbar from './Toolbar';\nimport TabbedFormTabs, { getTabFullPath } from './TabbedFormTabs';\n/**\n * Form layout where inputs are divided by tab, one input per line.\n *\n * Pass FormTab components as children.\n *\n * @example\n *\n * import * as React from \"react\";\n * import {\n *     Edit,\n *     TabbedForm,\n *     FormTab,\n *     Datagrid,\n *     TextField,\n *     DateField,\n *     TextInput,\n *     ReferenceManyField,\n *     NumberInput,\n *     DateInput,\n *     BooleanInput,\n *     EditButton\n * } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <TabbedForm>\n *             <FormTab label=\"summary\">\n *                 <TextInput disabled label=\"Id\" source=\"id\" />\n *                 <TextInput source=\"title\" validate={required()} />\n *                 <TextInput multiline source=\"teaser\" validate={required()} />\n *             </FormTab>\n *             <FormTab label=\"body\">\n *                 <RichTextInput source=\"body\" validate={required()} addLabel={false} />\n *             </FormTab>\n *             <FormTab label=\"Miscellaneous\">\n *                 <TextInput label=\"Password (if protected post)\" source=\"password\" type=\"password\" />\n *                 <DateInput label=\"Publication date\" source=\"published_at\" />\n *                 <NumberInput source=\"average_note\" validate={[ number(), minValue(0) ]} />\n *                 <BooleanInput label=\"Allow comments?\" source=\"commentable\" defaultValue />\n *                 <TextInput disabled label=\"Nb views\" source=\"views\" />\n *             </FormTab>\n *             <FormTab label=\"comments\">\n *                 <ReferenceManyField reference=\"comments\" target=\"post_id\" addLabel={false}>\n *                     <Datagrid>\n *                         <TextField source=\"body\" />\n *                         <DateField source=\"created_at\" />\n *                         <EditButton />\n *                     </Datagrid>\n *                 </ReferenceManyField>\n *             </FormTab>\n *         </TabbedForm>\n *     </Edit>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} FormTab elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n * @prop {boolean} sanitizeEmptyValues Whether or not deleted record attributes should be recreated with a `null` value (default: true)\n *\n * @param {Props} props\n */\nvar TabbedForm = function (props) { return (React.createElement(FormWithRedirect, __assign({}, props, { render: function (formProps) { return React.createElement(TabbedFormView, __assign({}, formProps)); } }))); };\nTabbedForm.propTypes = {\n    children: PropTypes.node,\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    sanitizeEmptyValues: PropTypes.bool,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    errorTabButton: { color: theme.palette.error.main },\n    content: {\n        paddingTop: theme.spacing(1),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n}); }, { name: 'RaTabbedForm' });\nexport var TabbedFormView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, form = props.form, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, defaultRedirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, tabs = props.tabs, toolbar = props.toolbar, undoable = props.undoable, variant = props.variant, margin = props.margin, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"form\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"tabs\", \"toolbar\", \"undoable\", \"variant\", \"margin\"]);\n    var tabsWithErrors = findTabsWithErrors(children, form.getState().errors);\n    var classes = useStyles(props);\n    var match = useRouteMatch();\n    var location = useLocation();\n    var url = match ? match.url : location.pathname;\n    return (React.createElement(\"form\", __assign({ className: classnames('tabbed-form', className) }, sanitizeRestProps(rest)),\n        React.cloneElement(tabs, {\n            classes: classes,\n            url: url,\n            tabsWithErrors: tabsWithErrors,\n        }, children),\n        React.createElement(Divider, null),\n        React.createElement(\"div\", { className: classes.content }, Children.map(children, function (tab, index) {\n            return tab && (React.createElement(Route, { exact: true, path: escapePath(getTabFullPath(tab, index, url)) }, function (routeProps) {\n                return isValidElement(tab)\n                    ? React.cloneElement(tab, {\n                        intent: 'content',\n                        resource: resource,\n                        record: record,\n                        basePath: basePath,\n                        hidden: !routeProps.match,\n                        variant: tab.props.variant || variant,\n                        margin: tab.props.margin || margin,\n                    })\n                    : null;\n            }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                className: 'toolbar',\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                pristine: pristine,\n                record: record,\n                redirect: defaultRedirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                undoable: undoable,\n            })));\n};\nTabbedFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    handleSubmit: PropTypes.func,\n    invalid: PropTypes.bool,\n    location: PropTypes.object,\n    match: PropTypes.object,\n    pristine: PropTypes.bool,\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    tabs: PropTypes.element.isRequired,\n    tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n    toolbar: PropTypes.element,\n    translate: PropTypes.func,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    value: PropTypes.number,\n    version: PropTypes.number,\n};\nTabbedFormView.defaultProps = {\n    submitOnEnter: true,\n    tabs: React.createElement(TabbedFormTabs, null),\n    toolbar: React.createElement(Toolbar, null),\n};\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, error = _a.error, errors = _a.errors, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialValues = _a.initialValues, _b = _a.modified, modified = _b === void 0 ? null : _b, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, _c = _a.save, save = _c === void 0 ? null : _c, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, _d = _a.touched, touched = _d === void 0 ? null : _d, valid = _a.valid, validating = _a.validating, values = _a.values, _e = _a.visited, visited = _e === void 0 ? null : _e, _f = _a.__versions, __versions = _f === void 0 ? null : _f, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"modified\", \"modifiedSinceLastSubmit\", \"save\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\", \"__versions\"]);\n    return props;\n};\nexport var findTabsWithErrors = function (children, errors) {\n    return Children.toArray(children).reduce(function (acc, child) {\n        if (!isValidElement(child)) {\n            return acc;\n        }\n        var inputs = Children.toArray(child.props.children);\n        if (inputs.some(function (input) {\n            return isValidElement(input) && get(errors, input.props.source);\n        })) {\n            return __spreadArrays(acc, [child.props.label]);\n        }\n        return acc;\n    }, []);\n};\nexport default TabbedForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport MuiTab from '@material-ui/core/Tab';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nimport FormInput from './FormInput';\nvar hiddenStyle = { display: 'none' };\nvar FormTab = function (_a) {\n    var basePath = _a.basePath, className = _a.className, contentClassName = _a.contentClassName, children = _a.children, hidden = _a.hidden, icon = _a.icon, intent = _a.intent, label = _a.label, margin = _a.margin, path = _a.path, record = _a.record, resource = _a.resource, variant = _a.variant, value = _a.value, rest = __rest(_a, [\"basePath\", \"className\", \"contentClassName\", \"children\", \"hidden\", \"icon\", \"intent\", \"label\", \"margin\", \"path\", \"record\", \"resource\", \"variant\", \"value\"]);\n    var translate = useTranslate();\n    var location = useLocation();\n    var renderHeader = function () { return (React.createElement(MuiTab, __assign({ key: label, label: translate(label, { _: label }), value: value, icon: icon, className: classnames('form-tab', className), component: Link, to: __assign(__assign({}, location), { pathname: value }) }, rest))); };\n    var renderContent = function () { return (React.createElement(\"span\", { style: hidden ? hiddenStyle : null, className: contentClassName }, React.Children.map(children, function (input) {\n        return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n    }))); };\n    return intent === 'header' ? renderHeader() : renderContent();\n};\nFormTab.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    contentClassName: PropTypes.string,\n    children: PropTypes.node,\n    intent: PropTypes.oneOf(['header', 'content']),\n    hidden: PropTypes.bool,\n    icon: PropTypes.element,\n    label: PropTypes.string.isRequired,\n    margin: PropTypes.oneOf(['none', 'dense', 'normal']),\n    path: PropTypes.string,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    value: PropTypes.string,\n    variant: PropTypes.oneOf(['standard', 'outlined', 'filled']),\n};\nFormTab.displayName = 'FormTab';\nexport default FormTab;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport get from 'lodash/get';\nimport { useCallback, useEffect, useRef } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useSafeSetState, removeEmpty } from '../../util';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nimport usePaginationState from '../usePaginationState';\nimport useSelectionState from '../useSelectionState';\nimport useSortState from '../useSortState';\nimport { useResourceContext } from '../../core';\nvar defaultFilter = {};\n/**\n * Fetch reference records, and return them when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loaded, referenceRecord, resourceLinkPath } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     basePath: '/comments',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} props\n * @param {string} props.resource The current resource name\n * @param {string} props.reference The linked resource name\n * @param {Object} props.record The current resource record\n * @param {string} props.target The target resource key\n * @param {Object} props.filter The filter applied on the recorded records list\n * @param {string} props.source The key of the linked resource identifier\n * @param {string} props.basePath basepath to current resource\n * @param {number} props.page the page number\n * @param {number} props.perPage the number of item per page\n * @param {Object} props.sort the sort to apply to the referenced records\n *\n * @returns {ReferenceManyProps} The reference many props\n */\nvar useReferenceManyFieldController = function (props) {\n    var reference = props.reference, record = props.record, target = props.target, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, source = props.source, basePath = props.basePath, initialPage = props.page, initialPerPage = props.perPage, _b = props.sort, initialSort = _b === void 0 ? { field: 'id', order: 'DESC' } : _b;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    // pagination logic\n    var _c = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _c.page, setPage = _c.setPage, perPage = _c.perPage, setPerPage = _c.setPerPage;\n    // sort logic\n    var _d = useSortState(initialSort), sort = _d.sort, setSortObject = _d.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // selection logic\n    var _e = useSelectionState(), selectedIds = _e.selectedIds, onSelect = _e.onSelect, onToggleItem = _e.onToggleItem, onUnselectItems = _e.onUnselectItems;\n    // filter logic\n    var filterRef = useRef(filter);\n    var _f = useSafeSetState({}), displayedFilters = _f[0], setDisplayedFilters = _f[1];\n    var _g = useSafeSetState(filter), filterValues = _g[0], setFilterValues = _g[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        setFilterValues(removeEmpty(filters));\n        setDisplayedFilters(displayedFilters);\n        setPage(1);\n    }, [setDisplayedFilters, setFilterValues, setPage]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n    var referenceId = get(record, source);\n    var _h = useGetManyReference(reference, target, referenceId, { page: page, perPage: perPage }, sort, filterValues, resource, {\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), data = _h.data, ids = _h.ids, total = _h.total, error = _h.error, loading = _h.loading, loaded = _h.loaded;\n    return {\n        basePath: basePath.replace(resource, reference),\n        currentSort: sort,\n        data: data,\n        defaultTitle: null,\n        displayedFilters: displayedFilters,\n        error: error,\n        filterValues: filterValues,\n        hasCreate: false,\n        hideFilter: hideFilter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        resource: reference,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    };\n};\nexport default useReferenceManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { useReferenceManyFieldController, ListContextProvider, ResourceContextProvider, } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, restricts the displayed values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n */\nexport var ReferenceManyField = function (props) {\n    var basePath = props.basePath, children = props.children, filter = props.filter, _a = props.page, page = _a === void 0 ? 1 : _a, perPage = props.perPage, record = props.record, reference = props.reference, resource = props.resource, sort = props.sort, source = props.source, target = props.target;\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceManyField> only accepts a single child (like <Datagrid>)');\n    }\n    var controllerProps = useReferenceManyFieldController({\n        basePath: basePath,\n        filter: filter,\n        page: page,\n        perPage: perPage,\n        record: record,\n        reference: reference,\n        resource: resource,\n        sort: sort,\n        source: source,\n        target: target,\n    });\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: controllerProps },\n            React.createElement(ReferenceManyFieldView, __assign({}, props, controllerProps)))));\n};\nReferenceManyField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    label: PropTypes.string,\n    perPage: PropTypes.number,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    sortByOrder: fieldPropTypes.sortByOrder,\n    source: PropTypes.string.isRequired,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    target: PropTypes.string.isRequired,\n};\nReferenceManyField.defaultProps = {\n    filter: {},\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n    source: 'id',\n    addLabel: true,\n};\nexport var ReferenceManyFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, pagination = props.pagination, reference = props.reference, rest = __rest(props, [\"basePath\", \"children\", \"pagination\", \"reference\"]);\n    return (React.createElement(React.Fragment, null,\n        cloneElement(Children.only(children), __assign(__assign({}, sanitizeFieldRestProps(rest)), { basePath: basePath, resource: reference })),\n        pagination &&\n            props.total !== undefined &&\n            cloneElement(pagination)));\n};\nReferenceManyFieldView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    ids: PropTypes.array,\n    loaded: PropTypes.bool,\n    pagination: PropTypes.element,\n    reference: PropTypes.string,\n    setSort: PropTypes.func,\n};\nexport default ReferenceManyField;\n","// converted from vendor (node_modules/quill/dist/quill.snow.css) using the jss cli\nexport default {\n    '.ql-container': {\n        boxSizing: 'border-box',\n        fontFamily: 'Helvetica, Arial, sans-serif',\n        fontSize: 13,\n        height: '100%',\n        margin: 0,\n        position: 'relative',\n    },\n    '.ql-container.ql-disabled .ql-tooltip': {\n        visibility: 'hidden',\n    },\n    '.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before': {\n        pointerEvents: 'none',\n    },\n    '.ql-clipboard': {\n        left: -100000,\n        height: 1,\n        overflowY: 'hidden',\n        position: 'absolute',\n        top: '50%',\n    },\n    '.ql-clipboard p': {\n        margin: '0',\n        padding: '0',\n    },\n    '.ql-editor': {\n        boxSizing: 'border-box',\n        lineHeight: '1.42',\n        height: '100%',\n        outline: 'none',\n        overflowY: 'auto',\n        padding: '12px 15px',\n        tabSize: '4',\n        textAlign: 'left',\n        whiteSpace: 'pre-wrap',\n        wordWrap: 'break-word',\n    },\n    '.ql-editor > *': {\n        cursor: 'text',\n    },\n    '.ql-editor p, .ql-editor ol, .ql-editor ul, .ql-editor pre, .ql-editor blockquote, .ql-editor h1, .ql-editor h2, .ql-editor h3, .ql-editor h4, .ql-editor h5, .ql-editor h6': {\n        margin: '0',\n        padding: '0',\n        counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol, .ql-editor ul': {\n        paddingLeft: '1.5em',\n    },\n    '.ql-editor ol > li, .ql-editor ul > li': {\n        listStyleType: 'none',\n    },\n    '.ql-editor ul > li::before': {\n        content: \"'\\\\2022'\",\n    },\n    '.ql-editor ul[data-checked=true], .ql-editor ul[data-checked=false]': {\n        pointerEvents: 'none',\n    },\n    '.ql-editor ul[data-checked=true] > li *, .ql-editor ul[data-checked=false] > li *': {\n        pointerEvents: 'all',\n    },\n    '.ql-editor ul[data-checked=true] > li::before, .ql-editor ul[data-checked=false] > li::before': {\n        color: '#777',\n        cursor: 'pointer',\n        pointerEvents: 'all',\n    },\n    '.ql-editor ul[data-checked=true] > li::before': {\n        content: \"'\\\\2611'\",\n    },\n    '.ql-editor ul[data-checked=false] > li::before': {\n        content: \"'\\\\2610'\",\n    },\n    '.ql-editor li::before': {\n        display: 'inline-block',\n        whiteSpace: 'nowrap',\n        width: '1.2em',\n    },\n    '.ql-editor li:not(.ql-direction-rtl)::before': {\n        marginLeft: '-1.5em',\n        marginRight: '0.3em',\n        textAlign: 'right',\n    },\n    '.ql-editor li.ql-direction-rtl::before': {\n        marginLeft: '0.3em',\n        marginRight: '-1.5em',\n    },\n    '.ql-editor ol li:not(.ql-direction-rtl), .ql-editor ul li:not(.ql-direction-rtl)': {\n        paddingLeft: '1.5em',\n    },\n    '.ql-editor ol li.ql-direction-rtl, .ql-editor ul li.ql-direction-rtl': {\n        paddingRight: '1.5em',\n    },\n    '.ql-editor ol li': {\n        counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n        counterIncrement: 'list-0',\n    },\n    '.ql-editor ol li:before': {\n        content: \"counter(list-0, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-1': {\n        counterIncrement: 'list-1',\n        counterReset: 'list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-1:before': {\n        content: \"counter(list-1, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-2': {\n        counterIncrement: 'list-2',\n        counterReset: 'list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-2:before': {\n        content: \"counter(list-2, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-3': {\n        counterIncrement: 'list-3',\n        counterReset: 'list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-3:before': {\n        content: \"counter(list-3, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-4': {\n        counterIncrement: 'list-4',\n        counterReset: 'list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-4:before': {\n        content: \"counter(list-4, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-5': {\n        counterIncrement: 'list-5',\n        counterReset: 'list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-5:before': {\n        content: \"counter(list-5, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-6': {\n        counterIncrement: 'list-6',\n        counterReset: 'list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-6:before': {\n        content: \"counter(list-6, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-7': {\n        counterIncrement: 'list-7',\n        counterReset: 'list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-7:before': {\n        content: \"counter(list-7, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-8': {\n        counterIncrement: 'list-8',\n        counterReset: 'list-9',\n    },\n    '.ql-editor ol li.ql-indent-8:before': {\n        content: \"counter(list-8, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-9': {\n        counterIncrement: 'list-9',\n    },\n    '.ql-editor ol li.ql-indent-9:before': {\n        content: \"counter(list-9, decimal) '. '\",\n    },\n    '.ql-editor .ql-indent-1:not(.ql-direction-rtl)': {\n        paddingLeft: '3em',\n    },\n    '.ql-editor li.ql-indent-1:not(.ql-direction-rtl)': {\n        paddingLeft: '4.5em',\n    },\n    '.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right': {\n        paddingRight: '3em',\n    },\n    '.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right': {\n        paddingRight: '4.5em',\n    },\n    '.ql-editor .ql-indent-2:not(.ql-direction-rtl)': {\n        paddingLeft: '6em',\n    },\n    '.ql-editor li.ql-indent-2:not(.ql-direction-rtl)': {\n        paddingLeft: '7.5em',\n    },\n    '.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right': {\n        paddingRight: '6em',\n    },\n    '.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right': {\n        paddingRight: '7.5em',\n    },\n    '.ql-editor .ql-indent-3:not(.ql-direction-rtl)': {\n        paddingLeft: '9em',\n    },\n    '.ql-editor li.ql-indent-3:not(.ql-direction-rtl)': {\n        paddingLeft: '10.5em',\n    },\n    '.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right': {\n        paddingRight: '9em',\n    },\n    '.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right': {\n        paddingRight: '10.5em',\n    },\n    '.ql-editor .ql-indent-4:not(.ql-direction-rtl)': {\n        paddingLeft: '12em',\n    },\n    '.ql-editor li.ql-indent-4:not(.ql-direction-rtl)': {\n        paddingLeft: '13.5em',\n    },\n    '.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right': {\n        paddingRight: '12em',\n    },\n    '.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right': {\n        paddingRight: '13.5em',\n    },\n    '.ql-editor .ql-indent-5:not(.ql-direction-rtl)': {\n        paddingLeft: '15em',\n    },\n    '.ql-editor li.ql-indent-5:not(.ql-direction-rtl)': {\n        paddingLeft: '16.5em',\n    },\n    '.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right': {\n        paddingRight: '15em',\n    },\n    '.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right': {\n        paddingRight: '16.5em',\n    },\n    '.ql-editor .ql-indent-6:not(.ql-direction-rtl)': {\n        paddingLeft: '18em',\n    },\n    '.ql-editor li.ql-indent-6:not(.ql-direction-rtl)': {\n        paddingLeft: '19.5em',\n    },\n    '.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right': {\n        paddingRight: '18em',\n    },\n    '.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right': {\n        paddingRight: '19.5em',\n    },\n    '.ql-editor .ql-indent-7:not(.ql-direction-rtl)': {\n        paddingLeft: '21em',\n    },\n    '.ql-editor li.ql-indent-7:not(.ql-direction-rtl)': {\n        paddingLeft: '22.5em',\n    },\n    '.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right': {\n        paddingRight: '21em',\n    },\n    '.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right': {\n        paddingRight: '22.5em',\n    },\n    '.ql-editor .ql-indent-8:not(.ql-direction-rtl)': {\n        paddingLeft: '24em',\n    },\n    '.ql-editor li.ql-indent-8:not(.ql-direction-rtl)': {\n        paddingLeft: '25.5em',\n    },\n    '.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right': {\n        paddingRight: '24em',\n    },\n    '.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right': {\n        paddingRight: '25.5em',\n    },\n    '.ql-editor .ql-indent-9:not(.ql-direction-rtl)': {\n        paddingLeft: '27em',\n    },\n    '.ql-editor li.ql-indent-9:not(.ql-direction-rtl)': {\n        paddingLeft: '28.5em',\n    },\n    '.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right': {\n        paddingRight: '27em',\n    },\n    '.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right': {\n        paddingRight: '28.5em',\n    },\n    '.ql-editor .ql-video': {\n        display: 'block',\n        maxWidth: '100%',\n    },\n    '.ql-editor .ql-video.ql-align-center': {\n        margin: '0 auto',\n    },\n    '.ql-editor .ql-video.ql-align-right': {\n        margin: '0 0 0 auto',\n    },\n    '.ql-editor .ql-bg-black': {\n        backgroundColor: '#000',\n    },\n    '.ql-editor .ql-bg-red': {\n        backgroundColor: '#e60000',\n    },\n    '.ql-editor .ql-bg-orange': {\n        backgroundColor: '#f90',\n    },\n    '.ql-editor .ql-bg-yellow': {\n        backgroundColor: '#ff0',\n    },\n    '.ql-editor .ql-bg-green': {\n        backgroundColor: '#008a00',\n    },\n    '.ql-editor .ql-bg-blue': {\n        backgroundColor: '#06c',\n    },\n    '.ql-editor .ql-bg-purple': {\n        backgroundColor: '#93f',\n    },\n    '.ql-editor .ql-color-white': {\n        color: '#fff',\n    },\n    '.ql-editor .ql-color-red': {\n        color: '#e60000',\n    },\n    '.ql-editor .ql-color-orange': {\n        color: '#f90',\n    },\n    '.ql-editor .ql-color-yellow': {\n        color: '#ff0',\n    },\n    '.ql-editor .ql-color-green': {\n        color: '#008a00',\n    },\n    '.ql-editor .ql-color-blue': {\n        color: '#06c',\n    },\n    '.ql-editor .ql-color-purple': {\n        color: '#93f',\n    },\n    '.ql-editor .ql-font-serif': {\n        fontFamily: 'Georgia, Times New Roman, serif',\n    },\n    '.ql-editor .ql-font-monospace': {\n        fontFamily: 'Monaco, Courier New, monospace',\n    },\n    '.ql-editor .ql-size-small': {\n        fontSize: '0.75em',\n    },\n    '.ql-editor .ql-size-large': {\n        fontSize: '1.5em',\n    },\n    '.ql-editor .ql-size-huge': {\n        fontSize: '2.5em',\n    },\n    '.ql-editor .ql-direction-rtl': {\n        direction: 'rtl',\n        textAlign: 'inherit',\n    },\n    '.ql-editor .ql-align-center': {\n        textAlign: 'center',\n    },\n    '.ql-editor .ql-align-justify': {\n        textAlign: 'justify',\n    },\n    '.ql-editor .ql-align-right': {\n        textAlign: 'right',\n    },\n    '.ql-editor.ql-blank::before': {\n        color: 'rgba(0,0,0,0.6)',\n        content: 'attr(data-placeholder)',\n        fontStyle: 'italic',\n        left: 15,\n        pointerEvents: 'none',\n        position: 'absolute',\n        right: 15,\n    },\n    '.ql-snow.ql-toolbar:after, .ql-snow .ql-toolbar:after': {\n        clear: 'both',\n        content: \"''\",\n        display: 'table',\n    },\n    '.ql-snow.ql-toolbar button, .ql-snow .ql-toolbar button': {\n        background: 'none',\n        border: 'none',\n        cursor: 'pointer',\n        display: 'inline-block',\n        float: 'left',\n        height: 24,\n        padding: '3px 5px',\n        width: 28,\n    },\n    '.ql-snow.ql-toolbar button svg, .ql-snow .ql-toolbar button svg': {\n        float: 'left',\n        height: '100%',\n    },\n    '.ql-snow.ql-toolbar button:active:hover, .ql-snow .ql-toolbar button:active:hover': {\n        outline: 'none',\n    },\n    '.ql-snow.ql-toolbar input.ql-image[type=file], .ql-snow .ql-toolbar input.ql-image[type=file]': {\n        display: 'none',\n    },\n    '.ql-snow.ql-toolbar button:hover, .ql-snow .ql-toolbar button:hover, .ql-snow.ql-toolbar button:focus, .ql-snow .ql-toolbar button:focus, .ql-snow.ql-toolbar button.ql-active, .ql-snow .ql-toolbar button.ql-active, .ql-snow.ql-toolbar .ql-picker-label:hover, .ql-snow .ql-toolbar .ql-picker-label:hover, .ql-snow.ql-toolbar .ql-picker-label.ql-active, .ql-snow .ql-toolbar .ql-picker-label.ql-active, .ql-snow.ql-toolbar .ql-picker-item:hover, .ql-snow .ql-toolbar .ql-picker-item:hover, .ql-snow.ql-toolbar .ql-picker-item.ql-selected, .ql-snow .ql-toolbar .ql-picker-item.ql-selected': {\n        color: '#06c',\n    },\n    '.ql-snow.ql-toolbar button:hover .ql-fill, .ql-snow .ql-toolbar button:hover .ql-fill, .ql-snow.ql-toolbar button:focus .ql-fill, .ql-snow .ql-toolbar button:focus .ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill': {\n        fill: '#06c',\n    },\n    '.ql-snow.ql-toolbar button:hover .ql-stroke, .ql-snow .ql-toolbar button:hover .ql-stroke, .ql-snow.ql-toolbar button:focus .ql-stroke, .ql-snow .ql-toolbar button:focus .ql-stroke, .ql-snow.ql-toolbar button.ql-active .ql-stroke, .ql-snow .ql-toolbar button.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow.ql-toolbar button:hover .ql-stroke-miter, .ql-snow .ql-toolbar button:hover .ql-stroke-miter, .ql-snow.ql-toolbar button:focus .ql-stroke-miter, .ql-snow .ql-toolbar button:focus .ql-stroke-miter, .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter': {\n        stroke: '#06c',\n    },\n    '@media (pointer: coarse)': {\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active), .ql-snow .ql-toolbar button:hover:not(.ql-active)': {\n            color: '#444',\n        },\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill': {\n            fill: '#444',\n        },\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter': {\n            stroke: '#444',\n        },\n    },\n    '.ql-snow': {\n        boxSizing: 'border-box',\n    },\n    '.ql-snow *': {\n        boxSizing: 'border-box',\n    },\n    '.ql-snow .ql-hidden': {\n        display: 'none',\n    },\n    '.ql-snow .ql-out-bottom, .ql-snow .ql-out-top': {\n        visibility: 'hidden',\n    },\n    '.ql-snow .ql-tooltip': {\n        position: 'absolute',\n        transform: 'translateY(10px)',\n        backgroundColor: '#fff',\n        border: '1px solid #ccc',\n        boxShadow: '0px 0px 5px #ddd',\n        color: '#444',\n        padding: '5px 12px',\n        whiteSpace: 'nowrap',\n        zIndex: 1,\n    },\n    '.ql-snow .ql-tooltip a': {\n        cursor: 'pointer',\n        textDecoration: 'none',\n        lineHeight: '26px',\n    },\n    '.ql-snow .ql-tooltip.ql-flip': {\n        transform: 'translateY(-10px)',\n    },\n    '.ql-snow .ql-formats': {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    '.ql-snow .ql-formats:after': {\n        clear: 'both',\n        content: \"''\",\n        display: 'table',\n    },\n    '.ql-snow .ql-stroke': {\n        fill: 'none',\n        stroke: '#444',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeWidth: '2',\n    },\n    '.ql-snow .ql-stroke-miter': {\n        fill: 'none',\n        stroke: '#444',\n        strokeMiterlimit: 10,\n        strokeWidth: '2',\n    },\n    '.ql-snow .ql-fill, .ql-snow .ql-stroke.ql-fill': {\n        fill: '#444',\n    },\n    '.ql-snow .ql-empty': {\n        fill: 'none',\n    },\n    '.ql-snow .ql-even': {\n        fillRule: 'evenodd',\n    },\n    '.ql-snow .ql-thin, .ql-snow .ql-stroke.ql-thin': {\n        strokeWidth: '1',\n    },\n    '.ql-snow .ql-transparent': {\n        opacity: 0.4,\n    },\n    '.ql-snow .ql-direction svg:last-child': {\n        display: 'none',\n    },\n    '.ql-snow .ql-direction.ql-active svg:last-child': {\n        display: 'inline',\n    },\n    '.ql-snow .ql-direction.ql-active svg:first-child': {\n        display: 'none',\n    },\n    '.ql-snow .ql-editor h1': {\n        fontSize: '2em',\n    },\n    '.ql-snow .ql-editor h2': {\n        fontSize: '1.5em',\n    },\n    '.ql-snow .ql-editor h3': {\n        fontSize: '1.17em',\n    },\n    '.ql-snow .ql-editor h4': {\n        fontSize: '1em',\n    },\n    '.ql-snow .ql-editor h5': {\n        fontSize: '0.83em',\n    },\n    '.ql-snow .ql-editor h6': {\n        fontSize: '0.67em',\n    },\n    '.ql-snow .ql-editor a': {\n        textDecoration: 'underline',\n    },\n    '.ql-snow .ql-editor blockquote': {\n        borderLeft: '4px solid #ccc',\n        marginBottom: 5,\n        marginTop: 5,\n        paddingLeft: 16,\n    },\n    '.ql-snow .ql-editor code, .ql-snow .ql-editor pre': {\n        backgroundColor: '#f0f0f0',\n        borderRadius: 3,\n    },\n    '.ql-snow .ql-editor pre': {\n        whiteSpace: 'pre-wrap',\n        marginBottom: 5,\n        marginTop: 5,\n        padding: '5px 10px',\n    },\n    '.ql-snow .ql-editor code': {\n        fontSize: '85%',\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-editor pre.ql-syntax': {\n        backgroundColor: '#23241f',\n        color: '#f8f8f2',\n        overflow: 'visible',\n    },\n    '.ql-snow .ql-editor img': {\n        maxWidth: '100%',\n    },\n    '.ql-snow .ql-picker': {\n        color: '#444',\n        display: 'inline-block',\n        float: 'left',\n        fontSize: 14,\n        fontWeight: 500,\n        height: 24,\n        position: 'relative',\n        verticalAlign: 'middle',\n    },\n    '.ql-snow .ql-picker-label': {\n        cursor: 'pointer',\n        display: 'inline-block',\n        height: '100%',\n        paddingLeft: 8,\n        paddingRight: 2,\n        position: 'relative',\n        width: '100%',\n    },\n    '.ql-snow .ql-picker-label::before': {\n        display: 'inline-block',\n        lineHeight: '22px',\n    },\n    '.ql-snow .ql-picker-options': {\n        backgroundColor: '#fff',\n        display: 'none',\n        minWidth: '100%',\n        padding: '4px 8px',\n        position: 'absolute',\n        whiteSpace: 'nowrap',\n    },\n    '.ql-snow .ql-picker-options .ql-picker-item': {\n        cursor: 'pointer',\n        display: 'block',\n        paddingBottom: 5,\n        paddingTop: 5,\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n        color: '#ccc',\n        zIndex: 2,\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill': {\n        fill: '#ccc',\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke': {\n        stroke: '#ccc',\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n        display: 'block',\n        marginTop: -1,\n        top: '100%',\n        zIndex: 1,\n    },\n    '.ql-snow .ql-color-picker, .ql-snow .ql-icon-picker': {\n        width: 28,\n    },\n    '.ql-snow .ql-color-picker .ql-picker-label, .ql-snow .ql-icon-picker .ql-picker-label': {\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-color-picker .ql-picker-label svg, .ql-snow .ql-icon-picker .ql-picker-label svg': {\n        right: 4,\n    },\n    '.ql-snow .ql-icon-picker .ql-picker-options': {\n        padding: '4px 0px',\n    },\n    '.ql-snow .ql-icon-picker .ql-picker-item': {\n        height: 24,\n        width: 24,\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-color-picker .ql-picker-options': {\n        padding: '3px 5px',\n        width: 152,\n    },\n    '.ql-snow .ql-color-picker .ql-picker-item': {\n        border: '1px solid transparent',\n        float: 'left',\n        height: 16,\n        margin: 2,\n        padding: 0,\n        width: 16,\n    },\n    '.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg': {\n        position: 'absolute',\n        marginTop: -9,\n        right: '0',\n        top: '50%',\n        width: 18,\n    },\n    \".ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before\": {\n        content: 'attr(data-label)',\n    },\n    '.ql-snow .ql-picker.ql-header': {\n        width: 98,\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label::before, .ql-snow .ql-picker.ql-header .ql-picker-item::before': {\n        content: \"'Normal'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n        content: \"'Heading 1'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n        content: \"'Heading 2'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n        content: \"'Heading 3'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n        content: \"'Heading 4'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n        content: \"'Heading 5'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n        content: \"'Heading 6'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n        fontSize: '2em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n        fontSize: '1.5em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n        fontSize: '1.17em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n        fontSize: '1em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n        fontSize: '0.83em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n        fontSize: '0.67em',\n    },\n    '.ql-snow .ql-picker.ql-font': {\n        width: 108,\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label::before, .ql-snow .ql-picker.ql-font .ql-picker-item::before': {\n        content: \"'Sans Serif'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n        content: \"'Serif'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n        content: \"'Monospace'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n        fontFamily: 'Georgia, Times New Roman, serif',\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n        fontFamily: 'Monaco, Courier New, monospace',\n    },\n    '.ql-snow .ql-picker.ql-size': {\n        width: 98,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label::before, .ql-snow .ql-picker.ql-size .ql-picker-item::before': {\n        content: \"'Normal'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n        content: \"'Small'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n        content: \"'Large'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n        content: \"'Huge'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n        fontSize: 10,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n        fontSize: 18,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n        fontSize: 32,\n    },\n    '.ql-snow .ql-color-picker.ql-background .ql-picker-item': {\n        backgroundColor: '#fff',\n    },\n    '.ql-snow .ql-color-picker.ql-color .ql-picker-item': {\n        backgroundColor: '#000',\n    },\n    '.ql-toolbar.ql-snow': {\n        border: '1px solid #ccc',\n        boxSizing: 'border-box',\n        fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n        padding: 8,\n    },\n    '.ql-toolbar.ql-snow .ql-formats': {\n        marginRight: 15,\n    },\n    '.ql-toolbar.ql-snow .ql-picker-label': {\n        border: '1px solid transparent',\n    },\n    '.ql-toolbar.ql-snow .ql-picker-options': {\n        border: '1px solid transparent',\n        boxShadow: 'rgba(0,0,0,0.2) 0 2px 8px',\n    },\n    '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n        borderColor: '#ccc',\n    },\n    '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n        borderColor: '#ccc',\n    },\n    '.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected, .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover': {\n        borderColor: '#000',\n    },\n    '.ql-toolbar.ql-snow + .ql-container.ql-snow': {\n        borderTop: 0,\n    },\n    '.ql-snow .ql-tooltip::before': {\n        content: '\"Visit URL:\"',\n        lineHeight: '26px',\n        marginRight: 8,\n    },\n    '.ql-snow .ql-tooltip input[type=text]': {\n        display: 'none',\n        border: '1px solid #ccc',\n        fontSize: 13,\n        height: 26,\n        margin: 0,\n        padding: '3px 5px',\n        width: 170,\n    },\n    '.ql-snow .ql-tooltip a.ql-preview': {\n        display: 'inline-block',\n        maxWidth: 200,\n        overflowX: 'hidden',\n        textOverflow: 'ellipsis',\n        verticalAlign: 'top',\n    },\n    '.ql-snow .ql-tooltip a.ql-action::after': {\n        borderRight: '1px solid #ccc',\n        content: \"'Edit'\",\n        marginLeft: 16,\n        paddingRight: 8,\n    },\n    '.ql-snow .ql-tooltip a.ql-remove::before': {\n        content: \"'Remove'\",\n        marginLeft: 8,\n    },\n    '.ql-snow .ql-tooltip.ql-editing a.ql-preview, .ql-snow .ql-tooltip.ql-editing a.ql-remove': {\n        display: 'none',\n    },\n    '.ql-snow .ql-tooltip.ql-editing input[type=text]': {\n        display: 'inline-block',\n    },\n    '.ql-snow .ql-tooltip.ql-editing a.ql-action::after': {\n        borderRight: 0,\n        content: \"'Save'\",\n        paddingRight: 0,\n    },\n    '.ql-snow .ql-tooltip[data-mode=link]::before': {\n        content: '\"Enter link:\"',\n    },\n    '.ql-snow .ql-tooltip[data-mode=formula]::before': {\n        content: '\"Enter formula:\"',\n    },\n    '.ql-snow .ql-tooltip[data-mode=video]::before': {\n        content: '\"Enter video:\"',\n    },\n    '.ql-snow a': {\n        color: '#06c',\n    },\n    '.ql-container.ql-snow': {\n        border: '1px solid #ccc',\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport QuillSnowStylesheet from './QuillSnowStylesheet';\nexport default (function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    '@global': __assign(__assign({}, QuillSnowStylesheet), { '.ra-rich-text-input': {\n            '& .ql-editor': {\n                fontSize: '1rem',\n                fontFamily: 'Roboto, sans-serif',\n                padding: '6px 12px',\n                backgroundColor: theme.palette.type === 'dark'\n                    ? 'rgba(255, 255, 255, 0.04)'\n                    : 'rgba(0, 0, 0, 0.04)',\n                '&:hover::before': {\n                    backgroundColor: theme.palette.type === 'dark'\n                        ? 'rgba(255, 255, 255, 1)'\n                        : 'rgba(0, 0, 0, 1)',\n                    height: 2,\n                },\n                '&::before': {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    height: 1,\n                    content: '\"\"',\n                    position: 'absolute',\n                    transition: 'background-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n                    backgroundColor: theme.palette.type === 'dark'\n                        ? 'rgba(255, 255, 255, 0.7)'\n                        : 'rgba(0, 0, 0, 0.5)',\n                },\n                '&::after': {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    height: 2,\n                    content: '\"\"',\n                    position: 'absolute',\n                    transform: 'scaleX(0)',\n                    transition: 'transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms',\n                    backgroundColor: theme.palette.primary.main,\n                },\n                '& p:not(:last-child)': {\n                    marginBottom: '1rem',\n                },\n                '& strong': {\n                    fontWeight: 700,\n                },\n                '& h1': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& h2': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& h3': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& a': {\n                    color: theme.palette.primary.main,\n                },\n                '& ul': {\n                    marginBottom: '1rem',\n                },\n                '& li:not(.ql-direction-rtl)::before': {\n                    fontSize: '0.5rem',\n                    position: 'relative',\n                    top: '-0.2rem',\n                    marginRight: '0.5rem',\n                },\n                '&:focus::after': {\n                    transform: 'scaleX(1)',\n                },\n            },\n            '& .standard .ql-editor': {\n                backgroundColor: theme.palette.background.paper,\n            },\n            '& .outlined .ql-editor': {\n                backgroundColor: theme.palette.background.paper,\n            },\n            '& .ql-toolbar.ql-snow': {\n                margin: '0.5rem 0',\n                border: 0,\n                padding: 0,\n                '& .ql-picker-item': {\n                    color: theme.palette.text.primary,\n                },\n                '& .ql-stroke': {\n                    stroke: theme.palette.text.primary,\n                },\n                '& .ql-fill': {\n                    fill: theme.palette.text.primary,\n                },\n                '& .ql-picker-item.ql-active': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-item:hover': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-item.ql-selected': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label.ql-active': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label.ql-selected': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label:hover': {\n                    color: theme.palette.primary.main,\n                },\n                '& button:hover .ql-fill': {\n                    fill: theme.palette.primary.main,\n                },\n                '& button.ql-active .ql-fill': {\n                    fill: theme.palette.primary.main,\n                },\n                '& button:hover .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& button.ql-active .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& .ql-picker-label:hover .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& .ql-picker.ql-expanded .ql-picker-options': {\n                    backgroundColor: theme.palette.background.paper,\n                    borderColor: theme.palette.background.paper,\n                },\n                '& .ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n                    background: '#fff',\n                    zIndex: 10,\n                },\n                '& .ql-picker-label': {\n                    paddingLeft: 0,\n                    color: theme.palette.text.primary,\n                },\n                '& + .ql-container.ql-snow': {\n                    border: 0,\n                },\n            },\n        } }),\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport debounce from 'lodash/debounce';\nimport React, { useRef, useEffect, useCallback, } from 'react';\nimport Quill from 'quill';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { InputHelperText } from 'ra-ui-materialui';\nimport { FormHelperText, FormControl, InputLabel, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport styles from './styles';\nvar useStyles = makeStyles(styles, { name: 'RaRichTextInput' });\nvar RichTextInput = function (props) {\n    var _a = props.options, options = _a === void 0 ? {} : _a, // Quill editor options\n    _b = props.toolbar, // Quill editor options\n    toolbar = _b === void 0 ? true : _b, _c = props.fullWidth, fullWidth = _c === void 0 ? true : _c, classesOverride = props.classes, configureQuill = props.configureQuill, helperText = props.helperText, label = props.label, source = props.source, resource = props.resource, variant = props.variant, _d = props.margin, margin = _d === void 0 ? 'dense' : _d, rest = __rest(props, [\"options\", \"toolbar\", \"fullWidth\", \"classes\", \"configureQuill\", \"helperText\", \"label\", \"source\", \"resource\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var quillInstance = useRef();\n    var divRef = useRef();\n    var editor = useRef();\n    var _e = useInput(__assign({ source: source }, rest)), id = _e.id, isRequired = _e.isRequired, _f = _e.input, value = _f.value, onChange = _f.onChange, _g = _e.meta, touched = _g.touched, error = _g.error;\n    var lastValueChange = useRef(value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var onTextChange = useCallback(debounce(function () {\n        var value = editor.current.innerHTML === '<p><br></p>'\n            ? ''\n            : editor.current.innerHTML;\n        if (lastValueChange.current !== value) {\n            lastValueChange.current = value;\n            onChange(value);\n        }\n    }, 500), [onChange]);\n    useEffect(function () {\n        quillInstance.current = new Quill(divRef.current, __assign({ modules: { toolbar: toolbar, clipboard: { matchVisual: false } }, theme: 'snow' }, options));\n        if (configureQuill) {\n            configureQuill(quillInstance.current);\n        }\n        quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n        editor.current = divRef.current.querySelector('.ql-editor');\n        quillInstance.current.on('text-change', onTextChange);\n        return function () {\n            quillInstance.current.off('text-change', onTextChange);\n            onTextChange.cancel();\n            quillInstance.current = null;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(function () {\n        if (lastValueChange.current !== value) {\n            var selection = quillInstance.current.getSelection();\n            quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n            if (selection && quillInstance.current.hasFocus()) {\n                quillInstance.current.setSelection(selection);\n            }\n        }\n    }, [value]);\n    return (React.createElement(FormControl, { error: !!(touched && error), fullWidth: fullWidth, className: \"ra-rich-text-input\", margin: margin },\n        label !== '' && label !== false && (React.createElement(InputLabel, { shrink: true, htmlFor: id, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }))),\n        React.createElement(\"div\", { \"data-testid\": \"quill\", ref: divRef, className: variant }),\n        React.createElement(FormHelperText, { error: !!error, className: !!error ? 'ra-rich-text-input-error' : '' },\n            React.createElement(InputHelperText, { error: error, helperText: helperText, touched: touched }))));\n};\nRichTextInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    source: PropTypes.string,\n    fullWidth: PropTypes.bool,\n    configureQuill: PropTypes.func,\n};\nexport default RichTextInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate: FC<CreateProps> = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    EditProps,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    required,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport { Product } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    tab: {\n        maxWidth: '40em',\n        display: 'block',\n    },\n});\n\nconst ProductEdit: FC<EditProps> = props => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab\n                    label=\"resources.products.tabs.image\"\n                    contentClassName={classes.tab}\n                >\n                    <Poster />\n                    <TextInput\n                        source=\"image\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.details\"\n                    path=\"details\"\n                    contentClassName={classes.tab}\n                >\n                    <TextInput source=\"reference\" validate={requiredValidate} />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        validate={requiredValidate}\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"sales\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                    contentClassName={classes.tab}\n                >\n                    <RichTextInput\n                        source=\"description\"\n                        label=\"\"\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { EditButton, List, ListProps, useListContext } from 'react-admin';\nimport inflection from 'inflection';\nimport {\n    Grid,\n    Card,\n    CardMedia,\n    CardContent,\n    CardActions,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: '1em',\n    },\n    media: {\n        height: 140,\n    },\n    title: {\n        paddingBottom: '0.5em',\n    },\n    actionSpacer: {\n        display: 'flex',\n        justifyContent: 'space-around',\n    },\n});\n\nconst CategoryGrid: FC = props => {\n    const classes = useStyles(props);\n    const { data, ids } = useListContext<Category>();\n    return ids ? (\n        <Grid container spacing={2} className={classes.root}>\n            {ids.map(id => (\n                <Grid key={id} xs={12} sm={6} md={4} lg={3} xl={2} item>\n                    <Card>\n                        <CardMedia\n                            image={`https://marmelab.com/posters/${data[id].name}-1.jpeg`}\n                            className={classes.media}\n                        />\n                        <CardContent className={classes.title}>\n                            <Typography\n                                variant=\"h5\"\n                                component=\"h2\"\n                                align=\"center\"\n                            >\n                                {inflection.humanize(data[id].name)}\n                            </Typography>\n                        </CardContent>\n                        <CardActions\n                            classes={{ spacing: classes.actionSpacer }}\n                        >\n                            <LinkToRelatedProducts record={data[id]} />\n                            <EditButton\n                                basePath=\"/categories\"\n                                record={data[id]}\n                            />\n                        </CardActions>\n                    </Card>\n                </Grid>\n            ))}\n        </Grid>\n    ) : null;\n};\n\nconst CategoryList: FC<ListProps> = props => (\n    <List\n        {...props}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={20}\n        pagination={false}\n        component=\"div\"\n        actions={false}\n    >\n        <CategoryGrid />\n    </List>\n);\n\nexport default CategoryList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst ProductRefField: FC<FieldProps<Product>> = ({ record }) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditProps,\n    EditButton,\n    FieldProps,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { Category } from '../types';\n\nconst CategoryTitle: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit: FC<EditProps> = props => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={20}\n                fullWidth\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <NumberField source=\"sales\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import * as React from 'react';\nimport { FC, Fragment, ReactElement } from 'react';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        '& a': {\n            paddingLeft: theme.spacing(4),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n    sidebarIsClosed: {\n        '& a': {\n            paddingLeft: theme.spacing(2),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n    sidebarIsOpen: boolean;\n}\n\nconst SubMenu: FC<Props> = ({\n    handleToggle,\n    sidebarIsOpen,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import * as React from 'react';\nimport { FC, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { useMediaQuery, Theme, Box } from '@material-ui/core';\nimport {\n    useTranslate,\n    DashboardMenuItem,\n    MenuItemLink,\n    MenuProps,\n} from 'react-admin';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\nconst Menu: FC<MenuProps> = ({ onMenuClick, logout, dense = false }) => {\n    const [state, setState] = useState({\n        menuCatalog: true,\n        menuSales: true,\n        menuCustomers: true,\n    });\n    const translate = useTranslate();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const open = useSelector((state: AppState) => state.admin.ui.sidebarOpen);\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n    const handleToggle = (menu: MenuName) => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <Box mt={1}>\n            {' '}\n            <DashboardMenuItem onClick={onMenuClick} sidebarIsOpen={open} />\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                sidebarIsOpen={open}\n                name=\"pos.menu.sales\"\n                icon={<orders.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/commands`}\n                    primaryText={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<orders.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/invoices`}\n                    primaryText={translate(`resources.invoices.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<invoices.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                sidebarIsOpen={open}\n                name=\"pos.menu.catalog\"\n                icon={<products.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/products`}\n                    primaryText={translate(`resources.products.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<products.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/categories`}\n                    primaryText={translate(`resources.categories.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<categories.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCustomers')}\n                isOpen={state.menuCustomers}\n                sidebarIsOpen={open}\n                name=\"pos.menu.customers\"\n                icon={<visitors.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/customers`}\n                    primaryText={translate(`resources.customers.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<visitors.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/segments`}\n                    primaryText={translate(`resources.segments.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<LabelIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to={`/reviews`}\n                primaryText={translate(`resources.reviews.name`, {\n                    smart_count: 2,\n                })}\n                leftIcon={<reviews.icon />}\n                onClick={onMenuClick}\n                sidebarIsOpen={open}\n                dense={dense}\n            />\n            {isXSmall && (\n                <MenuItemLink\n                    to=\"/configuration\"\n                    primaryText={translate('pos.configuration')}\n                    leftIcon={<SettingsIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            )}\n            {isXSmall && logout}\n        </Box>\n    );\n};\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        secondary: {\n            main: '#FBBA72',\n        },\n        type: 'dark' as 'dark', // Switching the dark mode on is a single property value change.\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#ffffffb3',\n                backgroundColor: '#616161e6',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n        type: 'light' as 'light',\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #4f3cc9',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, LayoutProps, Sidebar } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nconst CustomSidebar = (props: any) => <Sidebar {...props} size={200} />;\n\nexport default (props: LayoutProps) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            sidebar={CustomSidebar}\n            menu={Menu}\n            theme={theme}\n        />\n    );\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport {\n    Avatar,\n    Button,\n    Card,\n    CardActions,\n    CircularProgress,\n    TextField,\n} from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\n\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning',\n                    {\n                        _:\n                            typeof error === 'string'\n                                ? error\n                                : error && error.message\n                                ? error.message\n                                : undefined,\n                    }\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","export default __webpack_public_path__ + \"static/media/welcome_illustration.cd84d2be.svg\";","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"40em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/react-admin\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.ra_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\"\n                            startIcon={<CodeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        display: 'flex',\n        flexDirection: 'column',\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: (props: Props) => ({\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    }),\n    title: {},\n}));\n\nconst CardWithIcon: FC<Props> = props => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ''}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/reviews\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_reviews')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\nimport { subDays } from 'date-fns';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const aMonthAgo = subDays(new Date(), 30);\n    aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n    aMonthAgo.setHours(0);\n    aMonthAgo.setMinutes(0);\n    aMonthAgo.setSeconds(0);\n    aMonthAgo.setMilliseconds(0);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/customers\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_customers')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\nimport { format, subDays, addDays } from 'date-fns';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: string]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = format(curr.date, 'YYYY-MM-DD');\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date: date.getTime(),\n        total: daysWithRevenue[format(date, 'YYYY-MM-DD')] || 0,\n    }));\n};\n\nconst OrderChart: FC<{ orders?: Order[] }> = ({ orders }) => {\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <div style={{ width: '100%', height: 300 }}>\n                    <ResponsiveContainer>\n                        <AreaChart data={getRevenuePerDay(orders)}>\n                            <defs>\n                                <linearGradient\n                                    id=\"colorUv\"\n                                    x1=\"0\"\n                                    y1=\"0\"\n                                    x2=\"0\"\n                                    y2=\"1\"\n                                >\n                                    <stop\n                                        offset=\"5%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0.8}\n                                    />\n                                    <stop\n                                        offset=\"95%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0}\n                                    />\n                                </linearGradient>\n                            </defs>\n                            <XAxis\n                                dataKey=\"date\"\n                                name=\"Date\"\n                                type=\"number\"\n                                scale=\"time\"\n                                domain={[\n                                    addDays(aMonthAgo, 1).getTime(),\n                                    new Date().getTime(),\n                                ]}\n                                tickFormatter={dateFormatter}\n                            />\n                            <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"\" />\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <Tooltip\n                                cursor={{ strokeDasharray: '3 3' }}\n                                formatter={value =>\n                                    new Intl.NumberFormat(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }).format(value as any)\n                                }\n                                labelFormatter={(label: any) =>\n                                    dateFormatter(label)\n                                }\n                            />\n                            <Area\n                                type=\"monotone\"\n                                dataKey=\"total\"\n                                stroke=\"#8884d8\"\n                                strokeWidth={2}\n                                fill=\"url(#colorUv)\"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    FC,\n    CSSProperties,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { subDays } from 'date-fns';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: string;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = () => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\nconst Dashboard: FC = () => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = subDays(new Date(), 30);\n        const { data: recentOrders } = await dataProvider.getList<Order>(\n            'commands',\n            {\n                filter: { date_gte: aMonthAgo.toISOString() },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 50 },\n            }\n        );\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: aggregations.pendingOrders.map(\n                    (order: Order) => order.customer_id\n                ),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList<Review>(\n            'reviews',\n            {\n                filter: { status: 'pending' },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 100 },\n            }\n        );\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: pendingReviews.map(review => review.customer_id),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={nbPendingReviews}\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\nimport { useUpdateLoading } from '../loading';\nimport { useNotify } from '../sideEffect';\n/**\n * Set the current locale using the TranslationContext\n *\n * This hook re-renders when the locale changes.\n *\n * @example\n *\n * import { useSetLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n */\nvar useSetLocale = function () {\n    var _a = useContext(TranslationContext), setLocale = _a.setLocale, i18nProvider = _a.i18nProvider;\n    var _b = useUpdateLoading(), startLoading = _b.startLoading, stopLoading = _b.stopLoading;\n    var notify = useNotify();\n    return useCallback(function (newLocale) {\n        return new Promise(function (resolve) {\n            startLoading();\n            // so we systematically return a Promise for the messages\n            // i18nProvider may return a Promise for language changes,\n            resolve(i18nProvider.changeLocale(newLocale));\n        })\n            .then(function () {\n            stopLoading();\n            setLocale(newLocale);\n        })\n            .catch(function (error) {\n            stopLoading();\n            notify('ra.notification.i18n_error', 'warning');\n            console.error(error);\n        });\n    }, [i18nProvider, notify, setLocale, startLoading, stopLoading]);\n};\nexport default useSetLocale;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchStart, fetchEnd } from '../actions/fetchActions';\n/**\n * Update the loading count, which starts or stops the loading indicator.\n *\n * To be used to show the loading indicator when you don't use the dataProvider.\n *\n * @return {Object} startLoading and stopLoading callbacks\n *\n * @example\n * import { useUpdateLoading } from 'react-admin'\n *\n * const MyComponent = () => {\n *      const { startLoading, stopLoading } = useUpdateLoading();\n *      useEffect(() => {\n *          startLoading();\n *          fetch('http://my.domain.api/foo')\n *              .finally(() => stopLoading());\n *      }, []);\n *      return <span>Foo</span>;\n * }\n */\nexport default (function () {\n    var dispatch = useDispatch();\n    var startLoading = useCallback(function () {\n        dispatch(fetchStart());\n    }, [dispatch]);\n    var stopLoading = useCallback(function () {\n        dispatch(fetchEnd());\n    }, [dispatch]);\n    return { startLoading: startLoading, stopLoading: stopLoading };\n});\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: string }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title\n                title={translate('resources.segments.name', { smart_count: 2 })}\n            />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import { TranslationMessages } from 'react-admin';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            month_history: '30 Day Revenue History',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            all_reviews: 'See all reviews',\n            new_customers: 'New Customers',\n            all_customers: 'See all customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to the react-admin e-commerce demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                ra_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n                stateAbbr: 'State',\n            },\n            filters: {\n                last_visited: 'Last visited',\n                today: 'Today',\n                this_week: 'This week',\n                last_week: 'Last week',\n                this_month: 'This month',\n                last_month: 'Last month',\n                earlier: 'Earlier',\n                has_ordered: 'Has ordered',\n                has_newsletter: 'Has newsletter',\n                group: 'Segment',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    taxes: 'Tax',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                address: 'Address',\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                nb_items: 'Nb Items',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n            section: {\n                order: 'Order',\n                customer: 'Customer',\n                shipping_address: 'Shipping Address',\n                items: 'Items',\n                total: 'Totals',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                sales: 'Sales',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n            filters: {\n                categories: 'Categories',\n                stock: 'Stock',\n                no_stock: 'Out of stock',\n                low_stock: '1 - 9 items',\n                average_stock: '10 - 49 items',\n                enough_stock: '50 items & more',\n                sales: 'Sales',\n                best_sellers: 'Best sellers',\n                average_sellers: 'Average',\n                low_sellers: 'Low',\n                never_sold: 'Never sold',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segment |||| Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n\nexport default customEnglishMessages;\n","export default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(provider => provider.default);\n    }\n};\n","export default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Admin, Resource, DataProvider } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\n\nimport dataProviderFactory from './dataProvider';\nimport fakeServerFactory from './fakeServer';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    const [dataProvider, setDataProvider] = useState<DataProvider>();\n\n    useEffect(() => {\n        let restoreFetch;\n\n        const fetchDataProvider = async () => {\n            restoreFetch = await fakeServerFactory(\n                process.env.REACT_APP_DATA_PROVIDER || ''\n            );\n            const dataProviderInstance = await dataProviderFactory(\n                process.env.REACT_APP_DATA_PROVIDER || ''\n            );\n            setDataProvider(\n                // GOTCHA: dataProviderInstance can be a function\n                () => dataProviderInstance\n            );\n        };\n\n        fetchDataProvider();\n\n        return restoreFetch;\n    }, []);\n\n    if (!dataProvider) {\n        return (\n            <div className=\"loader-container\">\n                <div className=\"loader\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            disableTelemetry\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Refresh Side Effect\n *\n * @example\n *\n * const refresh = useRefresh();\n * refresh();\n */\nvar useRefresh = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (doRefresh) {\n        if (doRefresh === void 0) { doRefresh = true; }\n        return doRefresh && dispatch(refreshView());\n    }, [dispatch]);\n};\nexport default useRefresh;\n","import { useEffect } from 'react';\nimport { useRefresh } from '../sideEffect';\nimport useIsAutomaticRefreshEnabled from './useIsAutomaticRefreshEnabled';\n/**\n * Trigger a refresh of the page when the page comes back from background after a certain delay\n *\n * @param {number} delay Delay in milliseconds since the time the page was hidden. Defaults to 5 minutes.\n */\nvar useRefreshWhenVisible = function (delay) {\n    if (delay === void 0) { delay = 1000 * 60 * 5; }\n    var refresh = useRefresh();\n    var automaticRefreshEnabled = useIsAutomaticRefreshEnabled();\n    useEffect(function () {\n        var lastHiddenTime;\n        var handleVisibilityChange = function () {\n            if (!automaticRefreshEnabled) {\n                return;\n            }\n            if (document.hidden) {\n                // tab goes hidden\n                lastHiddenTime = Date.now();\n            }\n            else {\n                // tab goes visible\n                if (Date.now() - lastHiddenTime > delay) {\n                    refresh();\n                }\n                lastHiddenTime = null;\n            }\n        };\n        document.addEventListener('visibilitychange', handleVisibilityChange, {\n            capture: true,\n        });\n        return function () {\n            return document.removeEventListener('visibilitychange', handleVisibilityChange, { capture: true });\n        };\n    }, [automaticRefreshEnabled, delay, refresh]);\n};\nexport default useRefreshWhenVisible;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.deleteMany() method, the result\n * of the call (the list of deleted record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n */\nvar useDeleteMany = function (resource, ids, options) {\n    return useMutation({ type: 'deleteMany', resource: resource, payload: { ids: ids } }, options);\n};\nexport default useDeleteMany;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param data The data to initialize the new record with, e.g. { title: 'hello, world' }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [create, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate('likes', like);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={create}>Like</button>;\n * };\n */\nvar useCreate = function (resource, data, options) {\n    if (data === void 0) { data = {}; }\n    return useMutation({ type: 'create', resource: resource, payload: { data: data } }, options);\n};\nexport default useCreate;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</div>;\n * };\n */\nvar useDelete = function (resource, id, previousData, options) {\n    if (previousData === void 0) { previousData = {}; }\n    return useMutation({ type: 'delete', resource: resource, payload: { id: id, previousData: previousData } }, options);\n};\nexport default useDelete;\n","import get from 'lodash/get';\nimport useQueryWithStore from './useQueryWithStore';\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useGetOne('users', record.id);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nvar useGetOne = function (resource, id, options) {\n    return useQueryWithStore({ type: 'getOne', resource: resource, payload: { id: id } }, options, function (state) {\n        if (\n        // resources are registered\n        Object.keys(state.admin.resources).length > 0 &&\n            // no registered resource matching the query\n            !state.admin.resources[resource]) {\n            throw new Error(\"No <Resource> defined for \\\"\" + resource + \"\\\". useGetOne() relies on the Redux store, so it cannot work if you don't include a <Resource>.\");\n        }\n        return get(state, ['admin', 'resources', resource, 'data', id]);\n    });\n};\nexport default useGetOne;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param data The updates to merge into the record, e.g. { views: 10 }\n * @param previousData The record before the update is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate('likes', record.id, diff, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={update}>Like</div>;\n * };\n */\nvar useUpdate = function (resource, id, data, previousData, options) {\n    return useMutation({ type: 'update', resource: resource, payload: { id: id, data: data, previousData: previousData } }, options);\n};\nexport default useUpdate;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result\n * of the call (the list of updated record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param data The updates to merge into all records, e.g. { views: 10 }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { loading, error }] = useUpdateMany('posts', selectedIds, { views: 0 });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={updateMany}>Reset views</button>;\n * };\n */\nvar useUpdateMany = function (resource, ids, data, options) {\n    return useMutation({ type: 'updateMany', resource: resource, payload: { ids: ids, data: data } }, options);\n};\nexport default useUpdateMany;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { CRUD_GET_MANY_REFERENCE } from '../actions/dataActions/crudGetManyReference';\nimport useQueryWithStore from './useQueryWithStore';\nimport { getReferences, getIds, getTotal, nameRelatedTo, } from '../reducer/admin/references/oneToMany';\nimport { useMemo } from 'react';\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The referenced resource name, e.g. 'comments'\n * @param {string} target The target resource key, e.g. 'post_id'\n * @param {Object} id The identifier of the record to look for in 'target'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { body: 'hello, world' }\n * @param {string} referencingResource The resource name, e.g. 'posts'. Used to generate a cache key\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ post_id }) => {\n *     const { data, ids, loading, error } = useGetManyReference(\n *         'comments',\n *         'post_id',\n *         post_id,\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *         {},\n *         'posts',\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].body}</li>\n *     )}</ul>;\n * };\n */\nvar useGetManyReference = function (resource, target, id, pagination, sort, filter, referencingResource, options) {\n    var relatedTo = useMemo(function () { return nameRelatedTo(resource, id, referencingResource, target, filter); }, [filter, resource, id, referencingResource, target]);\n    var _a = useQueryWithStore({\n        type: 'getManyReference',\n        resource: resource,\n        payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter },\n    }, __assign(__assign({}, options), { relatedTo: relatedTo, action: CRUD_GET_MANY_REFERENCE }), selectIds(relatedTo), selectTotal(relatedTo)), ids = _a.data, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded;\n    var data = useSelector(selectData(resource, relatedTo), shallowEqual);\n    return { data: data, ids: ids, total: total, error: error, loading: loading, loaded: loaded };\n};\nexport default useGetManyReference;\nvar selectData = function (reference, relatedTo) { return function (state) { return getReferences(state, reference, relatedTo); }; };\nvar selectIds = function (relatedTo) { return function (state) {\n    return getIds(state, relatedTo);\n}; };\nvar selectTotal = function (relatedTo) { return function (state) {\n    return getTotal(state, relatedTo);\n}; };\n","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../core';\nvar defaultDataProvider = function () { return Promise.resolve(); };\ndefaultDataProvider.create = function () { return Promise.resolve(null); };\ndefaultDataProvider.delete = function () { return Promise.resolve(null); };\ndefaultDataProvider.deleteMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getList = function () { return Promise.resolve(null); };\ndefaultDataProvider.getMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getManyReference = function () { return Promise.resolve(null); };\ndefaultDataProvider.getOne = function () { return Promise.resolve(null); };\ndefaultDataProvider.update = function () { return Promise.resolve(null); };\ndefaultDataProvider.updateMany = function () { return Promise.resolve(null); };\nvar fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n    var proxy = new Proxy(defaultDataProvider, {\n        get: function (_, name) {\n            return function (resource, params) {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    var fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply: function (_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n    return proxy;\n};\nexport default convertLegacyDataProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash/debounce';\nimport union from 'lodash/union';\nimport isEqual from 'lodash/isEqual';\nimport get from 'lodash/get';\nimport { CRUD_GET_MANY } from '../actions/dataActions/crudGetMany';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport { useEffect } from 'react';\nvar queriesToCall = {};\nvar dataProvider;\nvar DataProviderOptions = { action: CRUD_GET_MANY };\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetMany('tags', [1, 2, 3]);\n * useGetMany('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider(GET_MANY, 'tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456, 789]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, loading, error } = useGetMany('tags', record.tagIds);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nvar useGetMany = function (resource, ids, options) {\n    if (options === void 0) { options = {}; }\n    // we can't use useQueryWithStore here because we're aggregating queries first\n    // therefore part of the useQueryWithStore logic will have to be repeated below\n    var selectMany = useMemo(makeGetManySelector, []);\n    var data = useSelector(function (state) {\n        return selectMany(state, resource, ids);\n    });\n    var _a = useSafeSetState({\n        data: data,\n        error: null,\n        loading: ids.length !== 0,\n        loaded: ids.length === 0 ||\n            (data.length !== 0 && !data.includes(undefined)),\n    }), state = _a[0], setState = _a[1];\n    if (!isEqual(state.data, data)) {\n        setState(__assign(__assign({}, state), { data: data, loaded: true }));\n    }\n    dataProvider = useDataProvider(); // not the best way to pass the dataProvider to a function outside the hook, but I couldn't find a better one\n    useEffect(function () {\n        if (!queriesToCall[resource]) {\n            queriesToCall[resource] = [];\n        }\n        /**\n         * queriesToCall stores the queries to call under the following shape:\n         *\n         * {\n         *   'posts': [\n         *     { ids: [1, 2], setState }\n         *     { ids: [2, 3], setState, onSuccess }\n         *     { ids: [4, 5], setState }\n         *   ],\n         *   'comments': [\n         *     { ids: [345], setState, onFailure }\n         *   ]\n         * }\n         */\n        queriesToCall[resource] = queriesToCall[resource].concat({\n            ids: ids,\n            setState: setState,\n            onSuccess: options && options.onSuccess,\n            onFailure: options && options.onFailure,\n        });\n        callQueries(); // debounced by lodash\n    }, [JSON.stringify({ resource: resource, ids: ids, options: options }), dataProvider]); // eslint-disable-line react-hooks/exhaustive-deps\n    return state;\n};\n/**\n * Memoized selector for getting an array of resources based on an array of ids\n *\n * @see https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n */\nvar makeGetManySelector = function () {\n    return createSelector([\n        function (state, resource) {\n            return get(state, ['admin', 'resources', resource, 'data']);\n        },\n        function (_, __, ids) { return ids; },\n    ], function (resourceData, ids) {\n        return resourceData\n            ? ids.map(function (id) { return resourceData[id]; })\n            : ids.map(function (id) { return undefined; });\n    });\n};\n/**\n * Call the dataProvider once per resource\n */\nvar callQueries = debounce(function () {\n    var resources = Object.keys(queriesToCall);\n    resources.forEach(function (resource) {\n        var queries = __spreadArrays(queriesToCall[resource]); // cloning to avoid side effects\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        var accumulatedIds = queries\n            .reduce(function (acc, _a) {\n            var ids = _a.ids;\n            return union(acc, ids);\n        }, []) // concat + unique\n            .filter(function (v) { return v != null && v !== ''; }); // remove null values\n        if (accumulatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            queries.forEach(function (_a) {\n                var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                setState({\n                    data: emptyArray,\n                    loading: false,\n                    loaded: true,\n                });\n                if (onSuccess) {\n                    onSuccess({ data: emptyArray });\n                }\n            });\n            return;\n        }\n        dataProvider\n            .getMany(resource, { ids: accumulatedIds }, DataProviderOptions)\n            .then(function (response) {\n            // Forces batching, see https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                    setState(function (prevState) { return (__assign(__assign({}, prevState), { error: null, loading: false, loaded: true })); });\n                    if (onSuccess) {\n                        var subData = ids.map(function (id) {\n                            return response.data.find(function (datum) { return datum.id == id; });\n                        } // eslint-disable-line eqeqeq\n                        );\n                        onSuccess({ data: subData });\n                    }\n                });\n            });\n        })\n            .catch(function (error) {\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var setState = _a.setState, onFailure = _a.onFailure;\n                    setState({ error: error, loading: false, loaded: false });\n                    onFailure && onFailure(error);\n                });\n            });\n        });\n        delete queriesToCall[resource];\n    });\n});\nvar emptyArray = [];\nexport default useGetMany;\n","import { GET_MANY } from '../../core';\nexport var crudGetMany = function (resource, ids) { return ({\n    type: CRUD_GET_MANY,\n    payload: { ids: ids },\n    meta: {\n        resource: resource,\n        fetch: GET_MANY,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY = 'RA/CRUD_GET_MANY';\nexport var CRUD_GET_MANY_LOADING = 'RA/CRUD_GET_MANY_LOADING';\nexport var CRUD_GET_MANY_FAILURE = 'RA/CRUD_GET_MANY_FAILURE';\nexport var CRUD_GET_MANY_SUCCESS = 'RA/CRUD_GET_MANY_SUCCESS';\n","export var CLEAR_STATE = 'RA/CLEAR_STATE';\n// The CLEAR_STATE action will completely reset the react-admin redux state to its initial value.\n// This should only be called once the user has been redirected to a page which do not use the\n// state such as the login page.\nexport var clearState = function () { return ({\n    type: CLEAR_STATE,\n}); };\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setListSelectedIds } from '../actions';\nimport { warning } from '../util';\n/**\n * Hook for Unselect All Side Effect\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\nvar useUnselectAll = function (resource1) {\n    var dispatch = useDispatch();\n    return useCallback(function (resource2) {\n        warning(!resource2 && !resource1, \"You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))\");\n        dispatch(setListSelectedIds(resource2 || resource1, []));\n    }, [dispatch, resource1]);\n};\nexport default useUnselectAll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', '/posts');\n * // redirect to edit view\n * redirect('edit', '/posts', 123);\n * // do not redirect (resets the record form)\n * redirect(false);\n * // redirect to the result of a function\n * redirect((redirectTo, basePath, is, data) => ...)\n */\nvar useRedirect = function () {\n    var dispatch = useDispatch();\n    var history = useHistory(); // Note: history is mutable. This prevents render loops in useCallback.\n    return useCallback(function (redirectTo, basePath, id, data) {\n        if (basePath === void 0) { basePath = ''; }\n        if (!redirectTo) {\n            if (history.location.state || history.location.search) {\n                history.replace(__assign(__assign({}, history.location), { state: {}, search: undefined }));\n            }\n            else {\n                dispatch(refreshView());\n            }\n            return;\n        }\n        history.push(resolveRedirectTo(redirectTo, basePath, id, data));\n    }, [dispatch, history]);\n};\nexport default useRedirect;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../sideEffect';\nvar authCheckPromise;\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfAccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\nvar useLogoutIfAccessDenied = function () {\n    var authProvider = useAuthProvider();\n    var logout = useLogout();\n    var notify = useNotify();\n    var logoutIfAccessDenied = useCallback(function (error, disableNotification) {\n        // Sometimes, a component might trigger multiple simultaneous\n        // dataProvider calls which all fail and call this function.\n        // To avoid having multiple notifications, we first verify if\n        // a checkError promise is already ongoing\n        if (!authCheckPromise) {\n            authCheckPromise = authProvider\n                .checkError(error)\n                .then(function () { return false; })\n                .catch(function (e) { return __awaiter(void 0, void 0, void 0, function () {\n                var redirectTo, shouldSkipNotify;\n                return __generator(this, function (_a) {\n                    redirectTo = e && e.redirectTo\n                        ? e.redirectTo\n                        : error && error.redirectTo\n                            ? error.redirectTo\n                            : undefined;\n                    logout({}, redirectTo);\n                    shouldSkipNotify = disableNotification ||\n                        (e && e.message === false) ||\n                        (error && error.message === false);\n                    !shouldSkipNotify &&\n                        notify('ra.notification.logged_out', 'warning');\n                    return [2 /*return*/, true];\n                });\n            }); })\n                .finally(function () {\n                authCheckPromise = undefined;\n            });\n        }\n        return authCheckPromise;\n    }, [authProvider, logout, notify]);\n    return authProvider\n        ? logoutIfAccessDenied\n        : logoutIfAccessDeniedWithoutProvider;\n};\nvar logoutIfAccessDeniedWithoutProvider = function () { return Promise.resolve(false); };\nexport default useLogoutIfAccessDenied;\n","export default {\n    create: function () { return Promise.resolve({ data: null }); },\n    delete: function () { return Promise.resolve({ data: null }); },\n    deleteMany: function () { return Promise.resolve({ data: [] }); },\n    getList: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getMany: function () { return Promise.resolve({ data: [] }); },\n    getManyReference: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getOne: function () { return Promise.resolve({ data: null }); },\n    update: function () { return Promise.resolve({ data: null }); },\n    updateMany: function () { return Promise.resolve({ data: [] }); },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useContext, useMemo } from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\nimport DataProviderContext from './DataProviderContext';\nimport validateResponseFormat from './validateResponseFormat';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport getFetchType from './getFetchType';\nimport defaultDataProvider from './defaultDataProvider';\nimport { canReplyWithCache, getResultFromCache } from './replyWithCache';\nimport { startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START } from '../actions/fetchActions';\nimport { showNotification } from '../actions/notificationActions';\nimport { refreshView } from '../actions/uiActions';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\nimport { getDataProviderCallArguments } from './getDataProviderCallArguments';\n// List of dataProvider calls emitted while in optimistic mode.\n// These calls get replayed once the dataProvider exits optimistic mode\nvar optimisticCalls = [];\nvar undoableOptimisticCalls = [];\nvar nbRemainingOptimisticCalls = 0;\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object, which\n * dispatches Redux actions along the process. The benefit is that react-admin\n * tracks the loading state when using this hook, and stores results in the\n * Redux store for future use.\n *\n * In addition to the 2 usual parameters of the dataProvider methods (resource,\n * payload), the Proxy supports a third parameter for every call. It's an\n * object literal which may contain side effects, or make the action optimistic\n * (with undoable: true).\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import * as React from 'react';\nimport { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     );\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n *\n * @example Action customization\n *\n * dataProvider.getOne('users', { id: 123 });\n * // will dispatch the following actions:\n * // - CUSTOM_FETCH\n * // - CUSTOM_FETCH_LOADING\n * // - FETCH_START\n * // - CUSTOM_FETCH_SUCCESS\n * // - FETCH_END\n *\n * dataProvider.getOne('users', { id: 123 }, { action: CRUD_GET_ONE });\n * // will dispatch the following actions:\n * // - CRUD_GET_ONE\n * // - CRUD_GET_ONE_LOADING\n * // - FETCH_START\n * // - CRUD_GET_ONE_SUCCESS\n * // - FETCH_END\n */\nvar useDataProvider = function () {\n    var dispatch = useDispatch();\n    var dataProvider = useContext(DataProviderContext) || defaultDataProvider;\n    var isOptimistic = useSelector(function (state) { return state.admin.ui.optimistic; });\n    var store = useStore();\n    var logoutIfAccessDenied = useLogoutIfAccessDenied();\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol') {\n                    return;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var _a = getDataProviderCallArguments(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;\n                    var type = name.toString();\n                    var _b = options || {}, _c = _b.action, action = _c === void 0 ? 'CUSTOM_FETCH' : _c, _d = _b.undoable, undoable = _d === void 0 ? false : _d, _e = _b.onSuccess, onSuccess = _e === void 0 ? undefined : _e, _f = _b.onFailure, onFailure = _f === void 0 ? undefined : _f, rest = __rest(_b, [\"action\", \"undoable\", \"onSuccess\", \"onFailure\"]);\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\"Unknown dataProvider function: \" + type);\n                    }\n                    if (onSuccess && typeof onSuccess !== 'function') {\n                        throw new Error('The onSuccess option must be a function');\n                    }\n                    if (onFailure && typeof onFailure !== 'function') {\n                        throw new Error('The onFailure option must be a function');\n                    }\n                    if (undoable && !onSuccess) {\n                        throw new Error('You must pass an onSuccess callback calling notify() to use the undoable mode');\n                    }\n                    var params = {\n                        action: action,\n                        dataProvider: dataProvider,\n                        dispatch: dispatch,\n                        logoutIfAccessDenied: logoutIfAccessDenied,\n                        onFailure: onFailure,\n                        onSuccess: onSuccess,\n                        payload: payload,\n                        resource: resource,\n                        rest: rest,\n                        store: store,\n                        type: type,\n                        allArguments: allArguments,\n                        undoable: undoable,\n                    };\n                    if (isOptimistic) {\n                        // in optimistic mode, all fetch calls are stacked, to be\n                        // executed once the dataProvider leaves optimistic mode.\n                        // In the meantime, the admin uses data from the store.\n                        if (undoable) {\n                            undoableOptimisticCalls.push(params);\n                        }\n                        else {\n                            optimisticCalls.push(params);\n                        }\n                        nbRemainingOptimisticCalls++;\n                        // Return a Promise that only resolves when the optimistic call was made\n                        // otherwise hooks like useQueryWithStore will return loaded = true\n                        // before the content actually reaches the Redux store.\n                        // But as we can't determine when this particular query was finished,\n                        // the Promise resolves only when *all* optimistic queries are done.\n                        return waitFor(function () { return nbRemainingOptimisticCalls === 0; });\n                    }\n                    return doQuery(params);\n                };\n            },\n        });\n    }, [dataProvider, dispatch, isOptimistic, logoutIfAccessDenied, store]);\n    return dataProviderProxy;\n};\n// get a Promise that resolves after a delay in milliseconds\nvar later = function (delay) {\n    if (delay === void 0) { delay = 100; }\n    return new Promise(function (resolve) {\n        setTimeout(resolve, delay);\n    });\n};\n// get a Promise that resolves once a condition is satisfied\nvar waitFor = function (condition) {\n    return new Promise(function (resolve) {\n        return condition() ? resolve() : later().then(function () { return waitFor(condition); });\n    });\n};\nvar doQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, store = _a.store, undoable = _a.undoable, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    var resourceState = store.getState().admin.resources[resource];\n    if (canReplyWithCache(type, payload, resourceState)) {\n        return answerWithCache({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            resourceState: resourceState,\n            dispatch: dispatch,\n        });\n    }\n    return undoable\n        ? performUndoableQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        })\n        : performQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n};\n/**\n * In undoable mode, the hook dispatches an optimistic action and executes\n * the success side effects right away. Then it waits for a few seconds to\n * actually call the dataProvider - unless the user dispatches an Undo action.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\nvar performUndoableQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch(startOptimisticMode());\n    if (window) {\n        window.addEventListener('beforeunload', warnBeforeClosingWindow, {\n            capture: true,\n        });\n    }\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_OPTIMISTIC\",\n        payload: payload,\n        meta: {\n            resource: resource,\n            fetch: getFetchType(type),\n            optimistic: true,\n        },\n    });\n    onSuccess && onSuccess({});\n    undoableEventEmitter.once('end', function (_a) {\n        var isUndo = _a.isUndo;\n        dispatch(stopOptimisticMode());\n        if (isUndo) {\n            dispatch(showNotification('ra.notification.canceled'));\n            dispatch(refreshView());\n            if (window) {\n                window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                    capture: true,\n                });\n            }\n            return;\n        }\n        dispatch({\n            type: action + \"_LOADING\",\n            payload: payload,\n            meta: __assign({ resource: resource }, rest),\n        });\n        dispatch({ type: FETCH_START });\n        try {\n            dataProvider[type]\n                .apply(dataProvider, typeof resource !== 'undefined'\n                ? [resource, payload]\n                : allArguments)\n                .then(function (response) {\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, type);\n                }\n                dispatch({\n                    type: action + \"_SUCCESS\",\n                    payload: response,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n                });\n                dispatch({ type: FETCH_END });\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                        capture: true,\n                    });\n                }\n                replayOptimisticCalls();\n            })\n                .catch(function (error) {\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                        capture: true,\n                    });\n                }\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                return logoutIfAccessDenied(error).then(function (loggedOut) {\n                    if (loggedOut)\n                        return;\n                    dispatch({\n                        type: action + \"_FAILURE\",\n                        error: error.message ? error.message : error,\n                        payload: error.body ? error.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                    });\n                    dispatch({ type: FETCH_ERROR, error: error });\n                    onFailure && onFailure(error);\n                });\n            });\n        }\n        catch (e) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(e);\n            }\n            throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n        }\n    });\n    return Promise.resolve({});\n};\n// event listener added as window.onbeforeunload when starting optimistic mode, and removed when it ends\nvar warnBeforeClosingWindow = function (event) {\n    event.preventDefault(); // standard\n    event.returnValue = ''; // Chrome\n    return 'Your latest modifications are not yet sent to the server. Are you sure?'; // Old IE\n};\n// Replay calls recorded while in optimistic mode\nvar replayOptimisticCalls = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var clone;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!(undoableOptimisticCalls.length > 0)) return [3 /*break*/, 2];\n                clone = __spreadArrays(undoableOptimisticCalls);\n                // remove these calls from the list *before* doing them\n                // because side effects in the calls can add more calls\n                // so we don't want to erase these.\n                undoableOptimisticCalls.splice(0, undoableOptimisticCalls.length);\n                return [4 /*yield*/, Promise.all(clone.map(function (params) { return Promise.resolve(doQuery.call(null, params)); }))];\n            case 1:\n                _a.sent();\n                // once the calls are finished, decrease the number of remaining calls\n                nbRemainingOptimisticCalls -= clone.length;\n                return [3 /*break*/, 4];\n            case 2:\n                clone = __spreadArrays(optimisticCalls);\n                // remove these calls from the list *before* doing them\n                // because side effects in the calls can add more calls\n                // so we don't want to erase these.\n                optimisticCalls.splice(0, optimisticCalls.length);\n                return [4 /*yield*/, Promise.all(clone.map(function (params) { return Promise.resolve(doQuery.call(null, params)); }))];\n            case 3:\n                _a.sent();\n                // once the calls are finished, decrease the number of remaining calls\n                nbRemainingOptimisticCalls -= clone.length;\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * In normal mode, the hook calls the dataProvider. When a successful response\n * arrives, the hook dispatches a SUCCESS action, executes success side effects\n * and returns the response. If the response is an error, the hook dispatches\n * a FAILURE action, executes failure side effects, and throws an error.\n */\nvar performQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_LOADING\",\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({ type: FETCH_START });\n    try {\n        return dataProvider[type]\n            .apply(dataProvider, typeof resource !== 'undefined'\n            ? [resource, payload]\n            : allArguments)\n            .then(function (response) {\n            if (process.env.NODE_ENV !== 'production') {\n                validateResponseFormat(response, type);\n            }\n            dispatch({\n                type: action + \"_SUCCESS\",\n                payload: response,\n                requestPayload: payload,\n                meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n            });\n            dispatch({ type: FETCH_END });\n            onSuccess && onSuccess(response);\n            return response;\n        })\n            .catch(function (error) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(error);\n            }\n            return logoutIfAccessDenied(error).then(function (loggedOut) {\n                if (loggedOut)\n                    return;\n                dispatch({\n                    type: action + \"_FAILURE\",\n                    error: error.message ? error.message : error,\n                    payload: error.body ? error.body : null,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                });\n                dispatch({ type: FETCH_ERROR, error: error });\n                onFailure && onFailure(error);\n                throw error;\n            });\n        });\n    }\n    catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n            console.error(e);\n        }\n        throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n    }\n};\nvar answerWithCache = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, resourceState = _a.resourceState, dispatch = _a.dispatch;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    var response = getResultFromCache(type, payload, resourceState);\n    dispatch({\n        type: action + \"_SUCCESS\",\n        payload: response,\n        requestPayload: payload,\n        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END, fromCache: true }),\n    });\n    onSuccess && onSuccess(response);\n    return Promise.resolve(response);\n};\nexport default useDataProvider;\n","import get from 'lodash/get';\nexport var canReplyWithCache = function (type, payload, resourceState) {\n    var now = new Date();\n    switch (type) {\n        case 'getList':\n            return (get(resourceState, [\n                'list',\n                'cachedRequests',\n                JSON.stringify(payload),\n                'validity',\n            ]) > now);\n        case 'getOne':\n            return (resourceState &&\n                resourceState.validity &&\n                resourceState.validity[payload.id] > now);\n        case 'getMany':\n            return (resourceState &&\n                resourceState.validity &&\n                payload.ids.every(function (id) { return resourceState.validity[id] > now; }));\n        default:\n            return false;\n    }\n};\nexport var getResultFromCache = function (type, payload, resourceState) {\n    switch (type) {\n        case 'getList': {\n            var data_1 = resourceState.data;\n            var requestSignature = JSON.stringify(payload);\n            var cachedRequest = resourceState.list.cachedRequests[requestSignature];\n            return {\n                data: cachedRequest.ids.map(function (id) { return data_1[id]; }),\n                total: cachedRequest.total,\n            };\n        }\n        case 'getOne':\n            return { data: resourceState.data[payload.id] };\n        case 'getMany':\n            return {\n                data: payload.ids.map(function (id) { return resourceState.data[id]; }),\n            };\n        default:\n            throw new Error('cannot reply with cache for this method');\n    }\n};\n","import { useSelector } from 'react-redux';\n/**\n * Get the UI version from the store\n *\n * The UI version is an integer incremented by the refresh button;\n * it serves to force running fetch hooks again.\n */\nvar useVersion = function () {\n    return useSelector(function (reduxState) { return reduxState.admin.ui.viewVersion; });\n};\nexport default useVersion;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MANY_REFERENCE_SUCCESS, } from '../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../core';\nvar initialState = {};\nvar oneToManyReducer = function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.optimistic) {\n        var relatedTo = getRelatedReferences(previousState, action.meta.resource);\n        if (action.meta.fetch === DELETE) {\n            return relatedTo.reduce(removeDeletedReferences([action.payload.id]), previousState);\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return relatedTo.reduce(removeDeletedReferences(action.payload.ids), previousState);\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_MANY_REFERENCE_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = {\n                ids: action.payload.data.map(function (record) { return record.id; }),\n                total: action.payload.total,\n            }, _a));\n        default:\n            return previousState;\n    }\n};\nexport var getIds = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].ids;\n};\nexport var getTotal = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].total;\n};\nexport var getReferences = function (state, reference, relatedTo) {\n    var ids = getIds(state, relatedTo);\n    if (typeof ids === 'undefined') {\n        return undefined;\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField and ReferenceManyField.\", { ids: ids });\n    }\n    return ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n};\nexport var getReferencesByIds = function (state, reference, ids) {\n    if (ids.length === 0) {\n        return {};\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField.\", { ids: ids });\n    }\n    var references = ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n    return Object.keys(references).length > 0 ? references : null;\n};\nvar getRelatedReferences = function (previousState, resource) { return Object.keys(previousState).filter(function (key) { return key.includes(resource); }); };\nvar removeDeletedReferences = function (removedIds) { return function (previousState, key) {\n    var _a;\n    var idsToKeep = previousState[key].ids.filter(function (id) { return !removedIds.includes(id); });\n    if (idsToKeep.length === previousState[key].ids.length) {\n        return previousState;\n    }\n    return __assign(__assign({}, previousState), (_a = {}, _a[key] = {\n        ids: idsToKeep,\n        total: idsToKeep.length,\n    }, _a));\n}; };\nexport var nameRelatedTo = function (reference, id, resource, target, filter) {\n    if (filter === void 0) { filter = {}; }\n    var keys = Object.keys(filter);\n    if (!keys.length) {\n        return resource + \"_\" + reference + \"@\" + target + \"_\" + id;\n    }\n    return resource + \"_\" + reference + \"@\" + target + \"_\" + id + \"?\" + keys\n        .map(function (key) { return key + \"=\" + JSON.stringify(filter[key]); })\n        .join('&');\n};\nexport default oneToManyReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport useDataProvider from './useDataProvider';\nimport useVersion from '../controller/useVersion';\nimport getFetchType from './getFetchType';\nimport { useSafeSetState } from '../util/hooks';\nvar queriesThisTick = {};\n/**\n * Default cache selector. Allows to cache responses by default.\n *\n * By default, custom queries are dispatched as a CUSTOM_QUERY Redux action.\n * The useDataProvider hook dispatches a CUSTOM_QUERY_SUCCESS when the response\n * comes, and the customQueries reducer stores the result in the store.\n * This selector reads the customQueries store and acts as a response cache.\n */\nvar defaultDataSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].data\n        : undefined;\n}; };\nvar defaultTotalSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].total\n        : null;\n}; };\nvar defaultIsDataLoaded = function (data) { return data !== undefined; };\n/**\n * Fetch the data provider through Redux, return the value from the store.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {Object} query\n * @param {string} query.type The verb passed to th data provider, e.g. 'getList', 'getOne'\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {Function} options.onSuccess Side effect function to be executed upon success or failure, e.g. { onSuccess: response => refresh() }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n * @param {Function} dataSelector Redux selector to get the result. Required.\n * @param {Function} totalSelector Redux selector to get the total (optional, only for LIST queries)\n * @param {Function} isDataLoaded\n *\n * @returns The current request state. Destructure as { data, total, error, loading, loaded }.\n *\n * @example\n *\n * import { useQueryWithStore } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useQueryWithStore(\n *         {\n *             type: 'getOne',\n *             resource: 'users',\n *             payload: { id: record.id }\n *         },\n *         {},\n *         state => state.admin.resources.users.data[record.id]\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nvar useQueryWithStore = function (query, options, dataSelector, totalSelector, isDataLoaded) {\n    if (options === void 0) { options = { action: 'CUSTOM_QUERY' }; }\n    if (dataSelector === void 0) { dataSelector = defaultDataSelector(query); }\n    if (totalSelector === void 0) { totalSelector = defaultTotalSelector(query); }\n    if (isDataLoaded === void 0) { isDataLoaded = defaultIsDataLoaded; }\n    var type = query.type, resource = query.resource, payload = query.payload;\n    var version = useVersion(); // used to allow force reload\n    var requestSignature = JSON.stringify({ query: query, options: options, version: version });\n    var requestSignatureRef = useRef(requestSignature);\n    var data = useSelector(dataSelector);\n    var total = useSelector(totalSelector);\n    var _a = useSafeSetState({\n        data: data,\n        total: total,\n        error: null,\n        loading: true,\n        loaded: isDataLoaded(data),\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        if (requestSignatureRef.current !== requestSignature) {\n            // request has changed, reset the loading state\n            requestSignatureRef.current = requestSignature;\n            setState({\n                data: data,\n                total: total,\n                error: null,\n                loading: true,\n                loaded: isDataLoaded(data),\n            });\n        }\n        else if (!isEqual(state.data, data) || state.total !== total) {\n            // the dataProvider response arrived in the Redux store\n            if (typeof total !== 'undefined' && isNaN(total)) {\n                console.error('Total from response is not a number. Please check your dataProvider or the API.');\n            }\n            else {\n                setState(function (prevState) { return (__assign(__assign({}, prevState), { data: data,\n                    total: total, loaded: true, loading: false })); });\n            }\n        }\n    }, [\n        data,\n        requestSignature,\n        setState,\n        state.data,\n        state.total,\n        total,\n        isDataLoaded,\n    ]);\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        // When several identical queries are issued during the same tick,\n        // we only pass one query to the dataProvider.\n        // To achieve that, the closure keeps a list of dataProvider promises\n        // issued this tick. Before calling the dataProvider, this effect\n        // checks if another effect has already issued a similar dataProvider\n        // call.\n        if (!queriesThisTick.hasOwnProperty(requestSignature)) {\n            queriesThisTick[requestSignature] = new Promise(function (resolve) {\n                dataProvider[type](resource, payload, options)\n                    .then(function () {\n                    // We don't care about the dataProvider response here, because\n                    // it was already passed to SUCCESS reducers by the dataProvider\n                    // hook, and the result is available from the Redux store\n                    // through the data and total selectors.\n                    // In addition, if the query is optimistic, the response\n                    // will be empty, so it should not be used at all.\n                    if (requestSignature !== requestSignatureRef.current) {\n                        resolve();\n                    }\n                    resolve({\n                        error: null,\n                        loading: false,\n                        loaded: true,\n                    });\n                })\n                    .catch(function (error) {\n                    if (requestSignature !== requestSignatureRef.current) {\n                        resolve();\n                    }\n                    resolve({\n                        error: error,\n                        loading: false,\n                        loaded: false,\n                    });\n                });\n            });\n            // cleanup the list on next tick\n            setTimeout(function () {\n                delete queriesThisTick[requestSignature];\n            }, 0);\n        }\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\n            var newState;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, queriesThisTick[requestSignature]];\n                    case 1:\n                        newState = _a.sent();\n                        if (newState)\n                            setState(function (state) { return (__assign(__assign({}, state), newState)); });\n                        return [2 /*return*/];\n                }\n            });\n        }); })();\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    }, [requestSignature]); // eslint-disable-line\n    return state;\n};\nexport default useQueryWithStore;\n","import { useMemo } from 'react';\nimport get from 'lodash/get';\nimport useQueryWithStore from './useQueryWithStore';\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\nvar useGetList = function (resource, pagination, sort, filter, options) {\n    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });\n    var _a = useQueryWithStore({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, \n    // ids and data selector\n    function (state) { return ({\n        ids: get(state.admin.resources, [resource, 'list', 'cachedRequests', requestSignature, 'ids'], null),\n        allRecords: get(state.admin.resources, [resource, 'data'], defaultData),\n    }); }, \n    // total selector (may return undefined)\n    function (state) {\n        return get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'total',\n        ]);\n    }, isDataLoaded), _b = _a.data, ids = _b.ids, allRecords = _b.allRecords, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded;\n    var data = useMemo(function () {\n        return ids === null\n            ? defaultData\n            : ids\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [ids, allRecords]);\n    return {\n        data: data,\n        ids: ids === null ? defaultIds : ids,\n        total: total,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n    };\n};\nvar isDataLoaded = function (data) { return data.ids !== null; };\nexport default useGetList;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', 'warning')\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', 'info', { smart_count: 23 })\n * // show the action as undoable in the notification\n * notify('Post renamed', 'info', {}, true)\n */\nvar useNotify = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (message, type, messageArgs, undoable, autoHideDuration) {\n        if (type === void 0) { type = 'info'; }\n        if (messageArgs === void 0) { messageArgs = {}; }\n        if (undoable === void 0) { undoable = false; }\n        dispatch(showNotification(message, type, {\n            messageArgs: messageArgs,\n            undoable: undoable,\n            autoHideDuration: autoHideDuration,\n        }));\n    }, [dispatch]);\n};\nexport default useNotify;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { clearState } from '../actions/clearActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the Redux state.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nvar useLogout = function () {\n    var authProvider = useAuthProvider();\n    var dispatch = useDispatch();\n    /**\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used useLocation to get it, the logout function\n     * would be rebuilt each time the user changes location. Consequently, that\n     * would force a rerender of all components using this hook upon navigation\n     * (CoreAdminRouter for example).\n     *\n     * To avoid that, we read the location directly from history which is mutable.\n     * See: https://reacttraining.com/react-router/web/api/history/history-is-mutable\n     */\n    var history = useHistory();\n    var logout = useCallback(function (params, redirectTo, redirectToCurrentLocationAfterLogin) {\n        if (params === void 0) { params = {}; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        if (redirectToCurrentLocationAfterLogin === void 0) { redirectToCurrentLocationAfterLogin = true; }\n        return authProvider.logout(params).then(function (redirectToFromProvider) {\n            dispatch(clearState());\n            if (redirectToFromProvider === false) {\n                // do not redirect\n                return;\n            }\n            // redirectTo can contain a query string, e.g. '/login?foo=bar'\n            // we must split the redirectTo to pass a structured location to history.push()\n            var redirectToParts = (redirectToFromProvider || redirectTo).split('?');\n            var newLocation = {\n                pathname: redirectToParts[0],\n            };\n            if (redirectToCurrentLocationAfterLogin &&\n                history.location &&\n                history.location.pathname) {\n                newLocation.state = {\n                    nextPathname: history.location.pathname,\n                };\n            }\n            if (redirectToParts[1]) {\n                newLocation.search = redirectToParts[1];\n            }\n            history.push(newLocation);\n            return redirectToFromProvider;\n        });\n    }, [authProvider, history, dispatch]);\n    var logoutWithoutProvider = useCallback(function (_) {\n        history.push({\n            pathname: defaultAuthParams.loginUrl,\n            state: {\n                nextPathname: history.location && history.location.pathname,\n            },\n        });\n        dispatch(clearState());\n        return Promise.resolve();\n    }, [dispatch, history]);\n    return authProvider ? logout : logoutWithoutProvider;\n};\nexport default useLogout;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n// List of properties we expect in the options\nvar OptionsProperties = [\n    'action',\n    'fetch',\n    'meta',\n    'onFailure',\n    'onSuccess',\n    'undoable',\n];\nvar isDataProviderOptions = function (value) {\n    if (typeof value === 'undefined')\n        return [];\n    var options = value;\n    return Object.keys(options).some(function (key) { return OptionsProperties.includes(key); });\n};\n// As all dataProvider methods do not have the same signature, we must differentiate\n// standard methods which have the (resource, params, options) signature\n// from the custom ones\nexport var getDataProviderCallArguments = function (args) {\n    var lastArg = args[args.length - 1];\n    var allArguments = __spreadArrays(args);\n    var resource;\n    var payload;\n    var options;\n    if (isDataProviderOptions(lastArg)) {\n        options = lastArg;\n        allArguments = allArguments.slice(0, args.length - 1);\n    }\n    if (typeof allArguments[0] === 'string') {\n        resource = allArguments[0];\n        payload = allArguments[1];\n    }\n    return {\n        resource: resource,\n        payload: payload,\n        allArguments: allArguments,\n        options: options,\n    };\n};\n","import linkToRecord from './linkToRecord';\nexport default (function (redirectTo, basePath, id, data) {\n    if (typeof redirectTo === 'function') {\n        return redirectTo(basePath, id, data);\n    }\n    switch (redirectTo) {\n        case 'list':\n            return basePath;\n        case 'create':\n            return basePath + \"/create\";\n        case 'edit':\n            return linkToRecord(basePath, id);\n        case 'show':\n            return linkToRecord(basePath, id) + \"/show\";\n        default:\n            return redirectTo;\n    }\n});\n","export default (function (condition, message) {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message); // eslint-disable-line\n    }\n});\n","export default (function (basePath, id, linkType) {\n    if (linkType === void 0) { linkType = 'edit'; }\n    var link = basePath + \"/\" + encodeURIComponent(id);\n    if (linkType === 'show') {\n        return link + \"/show\";\n    }\n    return link;\n});\n","import { GET_MANY_REFERENCE } from '../../core';\nexport var crudGetManyReference = function (reference, target, id, relatedTo, pagination, sort, filter, source) { return ({\n    type: CRUD_GET_MANY_REFERENCE,\n    payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter, source: source },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_MANY_REFERENCE,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY_REFERENCE = 'RA/CRUD_GET_MANY_REFERENCE';\nexport var CRUD_GET_MANY_REFERENCE_LOADING = 'RA/CRUD_GET_MANY_REFERENCE_LOADING';\nexport var CRUD_GET_MANY_REFERENCE_FAILURE = 'RA/CRUD_GET_MANY_REFERENCE_FAILURE';\nexport var CRUD_GET_MANY_REFERENCE_SUCCESS = 'RA/CRUD_GET_MANY_REFERENCE_SUCCESS';\n","import { useSelector } from 'react-redux';\nvar useIsAutomaticRefreshEnabled = function () {\n    var automaticRefreshEnabled = useSelector(function (state) { return state.admin.ui.automaticRefreshEnabled; });\n    return automaticRefreshEnabled;\n};\nexport default useIsAutomaticRefreshEnabled;\n","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;\n","import EventEmitter from 'eventemitter3';\nexport default new EventEmitter();\n","export var FETCH_START = 'RA/FETCH_START';\nexport var fetchStart = function () { return ({ type: FETCH_START }); };\nexport var FETCH_END = 'RA/FETCH_END';\nexport var fetchEnd = function () { return ({ type: FETCH_END }); };\nexport var FETCH_ERROR = 'RA/FETCH_ERROR';\nexport var fetchError = function () { return ({ type: FETCH_ERROR }); };\nexport var FETCH_CANCEL = 'RA/FETCH_CANCEL';\nexport var fetchCancel = function () { return ({ type: FETCH_CANCEL }); };\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    'getList',\n    'getMany',\n    'getManyReference',\n];\nexport var fetchActionsWithArrayOfRecordsResponse = __spreadArrays(fetchActionsWithArrayOfIdentifiedRecordsResponse, [\n    'updateMany',\n    'deleteMany',\n]);\nexport var fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\nexport var sanitizeFetchType = function (fetchType) {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n","import { createContext } from 'react';\nvar defaultIdentity = { id: '' };\nvar defaultProvider = {\n    login: function () { return Promise.resolve(); },\n    logout: function () { return Promise.resolve(); },\n    checkAuth: function () { return Promise.resolve(); },\n    checkError: function () { return Promise.resolve(); },\n    getPermissions: function () { return Promise.resolve(); },\n    getIdentity: function () { return Promise.resolve(defaultIdentity); },\n};\nvar AuthContext = createContext(defaultProvider);\nAuthContext.displayName = 'AuthContext';\nexport default AuthContext;\n","import { useContext } from 'react';\nimport AuthContext from './AuthContext';\nexport var defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n/**\n * Get the authProvider stored in the context\n */\nvar useAuthProvider = function () { return useContext(AuthContext); };\nexport default useAuthProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var SHOW_NOTIFICATION = 'RA/SHOW_NOTIFICATION';\n/**\n * Shows a snackbar/toast notification on the screen\n *\n * @see {@link https://material-ui.com/api/snackbar/|Material ui snackbar component}\n * @see {@link https://material.io/guidelines/components/snackbars-toasts.html|Material ui reference document on snackbar}\n */\nexport var showNotification = function (\n// A translatable label or text to display on notification\nmessage, \n// The type of the notification\ntype, \n// Specify additional parameters of notification\nnotificationOptions) {\n    if (type === void 0) { type = 'info'; }\n    return ({\n        type: SHOW_NOTIFICATION,\n        payload: __assign(__assign({}, notificationOptions), { type: type,\n            message: message }),\n    });\n};\nexport var HIDE_NOTIFICATION = 'RA/HIDE_NOTIFICATION';\nexport var hideNotification = function () { return ({\n    type: HIDE_NOTIFICATION,\n}); };\n","export var TOGGLE_SIDEBAR = 'RA/TOGGLE_SIDEBAR';\nexport var toggleSidebar = function () { return ({\n    type: TOGGLE_SIDEBAR,\n}); };\nexport var SET_SIDEBAR_VISIBILITY = 'RA/SET_SIDEBAR_VISIBILITY';\nexport var setSidebarVisibility = function (isOpen) { return ({\n    type: SET_SIDEBAR_VISIBILITY,\n    payload: isOpen,\n}); };\nexport var REFRESH_VIEW = 'RA/REFRESH_VIEW';\nexport var refreshView = function () { return ({\n    type: REFRESH_VIEW,\n}); };\nexport var SET_AUTOMATIC_REFRESH = 'RA/SET_AUTOMATIC_REFRESH';\nexport var setAutomaticRefresh = function (enabled) { return ({\n    type: SET_AUTOMATIC_REFRESH,\n    payload: enabled,\n}); };\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual';\n// thanks Kent C Dodds for the following helpers\nexport function useSafeSetState(initialState) {\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var mountedRef = useRef(false);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () { return (mountedRef.current = false); };\n    }, []);\n    var safeSetState = useCallback(function (args) {\n        if (mountedRef.current) {\n            return setState(args);\n        }\n    }, [mountedRef, setState]);\n    return [state, safeSetState];\n}\nexport function usePrevious(value) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n    var cleanupRef = useRef();\n    useEffect(function () {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    var previousInputs = usePrevious(inputs);\n}\nexport function useTimeout(ms) {\n    if (ms === void 0) { ms = 0; }\n    var _a = useState(false), ready = _a[0], setReady = _a[1];\n    useEffect(function () {\n        var timer = setTimeout(function () {\n            setReady(true);\n        }, ms);\n        return function () {\n            clearTimeout(timer);\n        };\n    }, [ms]);\n    return ready;\n}\n","export var CRUD_CHANGE_LIST_PARAMS = 'RA/CRUD_CHANGE_LIST_PARAMS';\nexport var changeListParams = function (resource, params) { return ({\n    type: CRUD_CHANGE_LIST_PARAMS,\n    payload: params,\n    meta: { resource: resource },\n}); };\nexport var SET_LIST_SELECTED_IDS = 'RA/SET_LIST_SELECTED_IDS';\nexport var setListSelectedIds = function (resource, ids) { return ({\n    type: SET_LIST_SELECTED_IDS,\n    payload: ids,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM = 'RA/TOGGLE_LIST_ITEM';\nexport var toggleListItem = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM,\n    payload: id,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM_EXPAND = 'RA/TOGGLE_LIST_ITEM_EXPAND';\n/**\n * Action creator to toggle the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @example\n *\n * const onToggleItem = () => dispatch(toggleListItemExpand('posts', 123));\n */\nexport var toggleListItemExpand = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM_EXPAND,\n    payload: id,\n    meta: { resource: resource },\n}); };\n"],"sourceRoot":""}